(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71588921"],{"17f3":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a={CREATE:"create",RUNNING:"running",REDRAW:"redraw",RELOAD:"reload",DESTROY:"destroy"}},"206f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"timeaxis-comp",style:t.style},[n("ul",{staticClass:"time-group"},t._l(t.axisData,(function(e,a){return n("li",{key:a,style:t.itemStyle(a),on:{click:function(e){return e.stopPropagation(),t._axisClick(a)}}},[n("span",[t._v(t._s(e.showValue))])])})),0)])},i=[],r=(n("4de4"),n("4160"),n("caad"),n("a15b"),n("d81d"),n("0d03"),n("d3b7"),n("acd8"),n("ac1f"),n("25f0"),n("2532"),n("1276"),n("159b"),n("7031")),o=n("5a0c"),s=n.n(o),u=n("f906");s.a.extend(u);var c={name:"timeline",mixins:[r["a"]],data:function(){return{axisData:[],selectIndex:[]}},computed:{style:function(){return{width:this.compConf.box.width+"px",height:this.compConf.box.height+"px",background:this.styleConf.bgColor}},compStyle:function(){return this.compConf.style}},methods:{itemStyle:function(t){var e=this.selectIndex.includes(t)?"active":"default";return{lineHeight:this.compStyle.base.height+"px",padding:_.cloneDeep(this.compStyle.base.padding).split(",").map((function(t){return parseFloat(t)+"px"})).join(" "),margin:_.cloneDeep(this.compStyle.base.margin).split(",").map((function(t){return parseFloat(t)+"px"})).join(" "),fontWeight:this.compStyle.base.fontWeight,fontSize:this.compStyle[e].fontSize+"px",color:this.compStyle[e].fontColor,backgroundColor:this.compStyle[e].backgroundColor}},styleConfChanged:function(){this.updateChartData()},updateChartData:function(){this.axisData=_.cloneDeep(this.convertChartData(this.compData))},convertChartData:function(t){return"static"===this.compConf.data.datasource.type?this._covertAxisData(t):this._covertAxisData(t[0])},_covertAxisData:function(t){var e=this,n=[];return t&&t.length&&t.forEach((function(t){var a=t[e.compStyle.data["in"].key];a&&("number"===typeof a&&(a=a.toString()),n.push({sourceValue:a,showValue:s()(a,e.compStyle.data["in"].format).format(e.compStyle.data.show.format),oriValue:t}))})),n},_axisClick:function(t){var e=this.compStyle.data.out.type;switch(e){case"dot":if(this.selectIndex.includes(t))return;this.selectIndex=[t];break;case"dotArr":this.selectIndex.includes(t)?this.selectIndex=this.selectIndex.filter((function(e){return e!==t})):this.selectIndex.push(t);break;case"range":if(this.selectIndex.includes(t))this.selectIndex=this.selectIndex.filter((function(e){return e!==t}));else{if(this.selectIndex.length>=2)return;this.selectIndex.push(t)}break;default:break}this.loadLinkage()},_outPutOriginData:function(t){t=_.cloneDeep(t);var e=t.oriValue;return delete t.oriValue,Object.assign(e,t)},_formatOutData:function(){var t=this,e=this.selectIndex[0],n=this.axisData[e],a=this.compStyle.data.out.format;if(!a||!a.length)return this._outPutOriginData(n);var i={};return a.forEach((function(e){if(e.key){var a=n.sourceValue;"number"===typeof a&&(a=a.toString());var r=e.format?s()(a,t.compStyle.data["in"].format).format(e.format):a,o=e.showFormat||e.format?s()(a,t.compStyle.data["in"].format).format(e.showFormat?e.showFormat:e.format):a,u=Object.assign(n.oriValue,{sourceValue:r,showValue:o});i[e.key]=u}})),_.isEmpty(i)?this._outPutOriginData(n):i},loadLinkage:function(t){if(this.compConf.linkage&&this.compConf.linkage.linkEvents)for(var e=this.compConf.linkage.linkEvents,n=0;n<e.length;n++){var a=e[n];if("click"===a.evtType&&a.explosive){var i=this._formatOutData(t),r={data:i};this.$evtBus.emit(a.evtName,r)}}},linkageConfChanged:function(t){if(this.compConf.linkage&&this.compConf.linkage.linkEvents)for(var e=this.compConf.linkage.linkEvents,n=0;n<e.length;n++){var a=e[n];"click"===a.evtType&&a.explosive&&a.def.defTrigger&&"index"===a.def.defType&&this.$store.getters.getPreviewState&&this._axisClick(a.def.defVal)}}}},f=c,h=(n("269b"),n("2877")),l=Object(h["a"])(f,a,i,!1,null,"26a8f10a",null);e["default"]=l.exports},2532:function(t,e,n){"use strict";var a=n("23e7"),i=n("5a34"),r=n("1d80"),o=n("ab13");a({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(r(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"269b":function(t,e,n){"use strict";var a=n("33dc"),i=n.n(a);i.a},"33dc":function(t,e,n){},"5a0c":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t="millisecond",e="second",n="minute",a="hour",i="day",r="week",o="month",s="quarter",u="year",c="date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,h=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},d=function(t,e,n){var a=String(t);return!a||a.length>=e?t:""+Array(e+1-a.length).join(n)+t},m={s:d,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),a=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+d(a,2,"0")+":"+d(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var a=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(a,o),r=n-i<0,s=e.clone().add(a+(r?-1:1),o);return+(-(a+(n-i)/(r?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(f){return{M:o,y:u,w:r,d:i,D:c,h:a,m:n,s:e,ms:t,Q:s}[f]||String(f||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p="en",g={};g[p]=l;var v=function(t){return t instanceof $},y=function(t,e,n){var a;if(!t)return p;if("string"==typeof t)g[t]&&(a=t),e&&(g[t]=e,a=t);else{var i=t.name;g[i]=t,a=i}return!n&&a&&(p=a),a||!n&&p},D=function(t,e){if(v(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new $(n)},C=m;C.l=y,C.i=v,C.w=function(t,e){return D(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var $=function(){function l(t){this.$L=y(t.locale,null,!0),this.parse(t)}var d=l.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(C.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var a=e.match(f);if(a){var i=a[2]-1||0,r=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],i,a[3]||1,a[4]||0,a[5]||0,a[6]||0,r)):new Date(a[1],i,a[3]||1,a[4]||0,a[5]||0,a[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return C},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(t,e){var n=D(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return D(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<D(t)},d.$g=function(t,e,n){return C.u(t)?this[e]:this.set(n,t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,s){var f=this,h=!!C.u(s)||s,l=C.p(t),d=function(t,e){var n=C.w(f.$u?Date.UTC(f.$y,e,t):new Date(f.$y,e,t),f);return h?n:n.endOf(i)},m=function(t,e){return C.w(f.toDate()[t].apply(f.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(e)),f)},p=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case u:return h?d(1,0):d(31,11);case o:return h?d(1,g):d(0,g+1);case r:var D=this.$locale().weekStart||0,$=(p<D?p+7:p)-D;return d(h?v-$:v+(6-$),g);case i:case c:return m(y+"Hours",0);case a:return m(y+"Minutes",1);case n:return m(y+"Seconds",2);case e:return m(y+"Milliseconds",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(r,s){var f,h=C.p(r),l="set"+(this.$u?"UTC":""),d=(f={},f[i]=l+"Date",f[c]=l+"Date",f[o]=l+"Month",f[u]=l+"FullYear",f[a]=l+"Hours",f[n]=l+"Minutes",f[e]=l+"Seconds",f[t]=l+"Milliseconds",f)[h],m=h===i?this.$D+(s-this.$W):s;if(h===o||h===u){var p=this.clone().set(c,1);p.$d[d](m),p.init(),this.$d=p.set(c,Math.min(this.$D,p.daysInMonth())).$d}else d&&this.$d[d](m);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[C.p(t)]()},d.add=function(t,s){var c,f=this;t=Number(t);var h=C.p(s),l=function(e){var n=D(f);return C.w(n.date(n.date()+Math.round(e*t)),f)};if(h===o)return this.set(o,this.$M+t);if(h===u)return this.set(u,this.$y+t);if(h===i)return l(1);if(h===r)return l(7);var d=(c={},c[n]=6e4,c[a]=36e5,c[e]=1e3,c)[h]||1,m=this.$d.getTime()+t*d;return C.w(m,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",a=C.z(this),i=this.$locale(),r=this.$H,o=this.$m,s=this.$M,u=i.weekdays,c=i.months,f=function(t,a,i,r){return t&&(t[a]||t(e,n))||i[a].substr(0,r)},l=function(t){return C.s(r%12||12,t,"0")},d=i.meridiem||function(t,e,n){var a=t<12?"AM":"PM";return n?a.toLowerCase():a},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:C.s(s+1,2,"0"),MMM:f(i.monthsShort,s,c,3),MMMM:f(c,s),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:f(i.weekdaysMin,this.$W,u,2),ddd:f(i.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(r),HH:C.s(r,2,"0"),h:l(1),hh:l(2),a:d(r,o,!0),A:d(r,o,!1),m:String(o),mm:C.s(o,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:a};return n.replace(h,(function(t,e){return e||m[t]||a.replace(":","")}))},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,c,f){var h,l=C.p(c),d=D(t),m=6e4*(d.utcOffset()-this.utcOffset()),p=this-d,g=C.m(this,d);return g=(h={},h[u]=g/12,h[o]=g,h[s]=g/3,h[r]=(p-m)/6048e5,h[i]=(p-m)/864e5,h[a]=p/36e5,h[n]=p/6e4,h[e]=p/1e3,h)[l]||p,f?g:C.a(g)},d.daysInMonth=function(){return this.endOf(o).$D},d.$locale=function(){return g[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),a=y(t,e,!0);return a&&(n.$L=a),n},d.clone=function(){return C.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},l}(),S=$.prototype;return D.prototype=S,[["$ms",t],["$s",e],["$m",n],["$H",a],["$W",i],["$M",o],["$y",u],["$D",c]].forEach((function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),D.extend=function(t,e){return t(e,$,D),D},D.locale=y,D.isDayjs=v,D.unix=function(t){return D(1e3*t)},D.en=g[p],D.Ls=g,D.p={},D}))},"5a34":function(t,e,n){var a=n("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},7031:function(t,e,n){"use strict";var a=n("17f3"),i=n("a553");e["a"]={name:"AbstractComp",mixins:[i["a"]],data:function(){return{chartData:null,nextIndex:0,compDataStatus:"loading",defaultColors:["#04d6ef","#ef58ea","#ff9e87","#0cc2ff","#fad860","#9bca63","#fe8463","#975fe5","#dc81d2","#8d98b3"]}},watch:{compDataStatus:{handler:function(t){"loading"===t&&this.chartLoading()}}},methods:{draw:function(){},chartLoading:function(){this.myChart&&this.myChart.showLoading({text:"",color:"#666",textColor:"#fff",maskColor:"rgba(115, 170, 229, 0)",zlevel:0,fontSize:30,showSpinner:!0,spinnerRadius:10,lineWidth:5})},_toggleCompShow:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;t&&(document.getElementById("".concat(n)).style.transition=e?"all .3s ease-out":"",document.getElementById("".concat(n)).style.transform=e?"scale(1)":"scale(0)")}},created:function(){this.updateState(a["a"].CREATE)},mounted:function(){var t=this;this.updateChartData(this.compData),this.draw(),this.updateState(a["a"].RUNNING),this.$nextTick((function(){t.linkageConfChanged()}))},destroyed:function(){this.updateState(a["a"].DESTROY)},render:function(t){var e=this.compConf.compId;return t("div",{attrs:{id:e},style:{left:"0px",top:"0px",width:"100%",height:"100%",position:"absolute"}})}}},a553:function(t,e,n){"use strict";n("4160"),n("caad"),n("c975"),n("277d"),n("d81d"),n("4e82"),n("b0c0"),n("07ac"),n("ac1f"),n("2532"),n("5319"),n("159b");var a=n("5530"),i=n("17f3"),r=n("2f62"),o=n("0e0b");e["a"]={name:"ComInterface",props:["compConf"],data:function(){return{chartData:null,compDataStatus:"loading"}},computed:Object(a["a"])({compId:function(){return this.compConf.compId},box:function(){return this.compConf.box},styleConf:function(){return this.compConf.style},dataConf:function(){if(this.compConf.data)return this.compConf.data.conf},dataSourceConf:function(){if(this.compConf.data)return this.compConf.data.datasource},compData:function(){return this.$store.state.compData.compData[this.compId]},linkageConf:function(){return this.compConf.linkage},state:function(){return this.compConf.state}},Object(r["c"])({activeCompData:"getCompData"})),watch:{styleConf:{handler:function(t,e){this.updateState(i["a"].REDRAW),this.styleConfChanged(t,e),this.updateState(i["a"].RUNNING)},deep:!0},state:{handler:function(t,e){},deep:!0},compData:{handler:function(t,e){t&&this.updateCompData(!0)},deep:!0},linkageConf:{handler:function(t,e){this.linkageConfChanged(t,e)},deep:!0},"dataSourceConf.type":{handler:function(t,e){this.$evtBus.destroy(this.compId)}}},methods:{convertExpression:function(t){if(-1!==JSON.stringify(t).indexOf("${")){var e=JSON.stringify(t);t=this._getExpressionValue(e),t=JSON.parse(t)}return t},styleConfChanged:function(){},compDataChanged:function(){},resize:function(){},convertChartData:function(t){},linkageConfChanged:function(t,e){},updateState:function(t){this.$emit("compState",t)},updateChartData:function(t){this.chartData=this.convertChartData(t)||t},_linkageDataKeys:function(t){var e=[];for(var n in t)t[n].data.forEach((function(t){e.push({bindMapperColumn:t.bindMapperColumn,value:t.value,operationType:t.operationType})}));return e},_getColumnCondition:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(1===t.useType)return{bindMapperColumn:t.columnName,dsId:e,operationType:t.operationType,value:t.value};if(2===t.useType){if(!n.length)return{};var a=this._getGlobalParamsValue(t.columnName,n);return a?{bindMapperColumn:t.columnName,dsId:e,operationType:t.operationType,value:a}:{}}t.value;var i=this._getExpressionValue(t.value);return i&&-1===i.indexOf("${")&&-1===i.indexOf("}")?{bindMapperColumn:t.columnName,dsId:e,operationType:t.operationType,value:i}:{}},_mergeElementConfig:function(t,e,n){var a=this,i=e.data.conf[t],r=_.cloneDeep(i.searchElementConfigs)||[];if(r.length){var o=n.state.window.globalParams;r.sort((function(t,e){return t.useType-e.useType}));var s={};r.forEach((function(e){var n=a._getColumnCondition(e,t,o);_.isEmpty(n)||(s[e.columnName]=n)})),_.isEmpty(s)||(r=Object.values(s))}var u=n.getters.getLinkagesByCompId(e["compId"]);if(_.isEmpty(u))return r;var c=r.map((function(t){return t.bindMapperColumn}))||[],f=this._linkageDataKeys(u);return f.forEach((function(e,n){var a=c.indexOf(e.bindMapperColumn);-1!==a?(r[n]["value"]=e.value,r[n].operationType=e.operationType):r.push({dsId:t,bindMapperColumn:e.bindMapperColumn,value:e.value,operationType:e.operationType})})),r},_checkRequireFields:function(){var t=this.compConf;if("dataset"===t.data.datasource.type){var e=t.data.conf.datasetSelectedIds;if(e&&Array.isArray(e)&&e.length){var n=t.data.conf.datasetSelectedIds[0],a=t.data.conf[n]["requireFields"];if(!a||!a.length)return!0;var i=this._mergeElementConfig(n,t,this.$store);if(!i.length)return!1;var r=i.map((function(t){return t.bindMapperColumn})),o=0;return a.forEach((function(t){-1!==r.indexOf(t)&&o++})),o===a.length}}return!0},updateCompData:function(t){if(t)this.compDataStatus="loaded",this.updateState(i["a"].RELOAD),this.compData&&(this.updateChartData(this.compData),this.compDataChanged(),this.updateState(i["a"].RUNNING));else if(["dataset"].includes(this.compConf.data.datasource.type)){var e=this._checkRequireFields();if(!e)return;var n=this.$dm._getFormatRequestParams(this.compConf),a=this.$store.getters.getConditionsByCompId(this.compConf.compId);(a.length<1||JSON.stringify(a[0].groupByConfig)!==JSON.stringify(n[0].groupByConfig)||JSON.stringify(a[0].orderByConfigDTO)!==JSON.stringify(n[0].orderByConfigDTO)||JSON.stringify(a[0].searchElementConfigs)!==JSON.stringify(n[0].searchElementConfigs))&&(this.compDataStatus="loading",this.$dm.initCompData(this.compConf))}else this.$dm.initCompData(this.compConf)},_mergeArr:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],a=t.length>e.length?t.length:e.length,i=0;i<a;i++){var r=t[i]?t[i]:e[i];n.push(r)}return n},_showNoDataBox:function(t){var e=document.getElementById("".concat(t)).querySelector("".concat(t,"_no_data_box"));if(!e){var n=document.createElement("div");n.id="".concat(t,"_no_data_box"),n.innerHTML="无数据",document.getElementById("".concat(t)).appendChild(n)}},_handleStaticData:function(){},_handleConditionExpression:function(){},_getCompLinkageParamsValue:function(t,e){var n=this.$store.getters.getLinkagesByCompId(e);if(!n)return null;if(n=n[t[0]],!n)return null;if(n=n["sourceData"],!n)return null;for(var a=1;a<t.length;a++){if(!n[t[a]])return null;n=n[t[a]]}return n},_getGlobalParamsValue:function(t){var e=this.$store.state.window.globalParams;if(!e||!e.length)return null;for(var n=0;n<e.length;n++)if(e[n].name===t)return e[n].value?e[n].value:null;return null},_getExpressionValue:function(t){var e=this,n=o["a"].getCustomExpressionParams(t),a=[];return n&&n.length&&n.forEach((function(t){var n=o["a"].getCustomExpressionCloumn(t);if(n.length>=2)if("global"===n[0]){var i=e._getGlobalParamsValue(n[1]);i?a.push(i):a.push(t)}else{var r=e._getCompLinkageParamsValue(n,e.compConf["compId"]);r?a.push(r):a.push(t)}else a.push(t)})),a.length&&n.forEach((function(e,n){t=t.replace(e,a[n])})),t},_convertEventOutData:function(t,e){if(!e||!e.datasource||"static"===e.datasource.type)return t;var n=e.conf[e.conf.datasetSelectedIds[0]]["datasetMeta"],a=_.cloneDeep(t);if(_.isObject(t)){var i=function(e){n.forEach((function(n){[n.columnDesc,n.columnName].includes(e)&&n.columnDesc&&(a[n.columnDesc]=t[e],a[n.columnName]=t[e])}))};for(var r in t)i(r);return a}return _.isArray(t)?(t.forEach((function(e,i){var r=function(r){n.forEach((function(n){[n.columnDesc,n.columnName].includes(r)&&n.columnDesc&&(a[i][n.columnDesc]=t[e][r],a[i][n.columnName]=t[e][r])}))};for(var o in t[e])r(o)})),a):a}}}},ab13:function(t,e,n){var a=n("b622"),i=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(a){}}return!1}},f906:function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t,e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,a,i){var r=i&&i.toUpperCase();return a||n[i]||e[i]||n[r].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))},a=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,r=/\d\d?/,o=/\d*[^\s\d-:/()]+/,s=function(t){return function(e){this[t]=+e}},u=[/[+-]\d\d:?\d\d/,function(t){var e,n;(this.zone||(this.zone={})).offset=(e=t.match(/([+-]|\d\d)/g),0===(n=60*e[1]+ +e[2])?0:"+"===e[0]?-n:n)}],c=function(e){var n=t[e];return n&&(n.indexOf?n:n.s.concat(n.f))},f=function(e,n){var a,i=t.meridiem;if(i){for(var r=1;r<=24;r+=1)if(e.indexOf(i(r,0,n))>-1){a=r>12;break}}else a=e===(n?"pm":"PM");return a},h={A:[o,function(t){this.afternoon=f(t,!1)}],a:[o,function(t){this.afternoon=f(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[i,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[r,s("seconds")],ss:[r,s("seconds")],m:[r,s("minutes")],mm:[r,s("minutes")],H:[r,s("hours")],h:[r,s("hours")],HH:[r,s("hours")],hh:[r,s("hours")],D:[r,s("day")],DD:[i,s("day")],Do:[o,function(e){var n=t.ordinal,a=e.match(/\d+/);if(this.day=a[0],n)for(var i=1;i<=31;i+=1)n(i).replace(/\[|\]/g,"")===e&&(this.day=i)}],M:[r,s("month")],MM:[i,s("month")],MMM:[o,function(t){var e=c("months"),n=(c("monthsShort")||e.map((function(t){return t.substr(0,3)}))).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(t){var e=c("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,s("year")],YY:[i,function(t){t=+t,this.year=t+(t>68?1900:2e3)}],YYYY:[/\d{4}/,s("year")],Z:u,ZZ:u},l=function(e,i,r){try{var o=function(e){for(var i=(e=n(e,t&&t.formats)).match(a),r=i.length,o=0;o<r;o+=1){var s=i[o],u=h[s],c=u&&u[0],f=u&&u[1];i[o]=f?{regex:c,parser:f}:s.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,a=0;n<r;n+=1){var o=i[n];if("string"==typeof o)a+=o.length;else{var s=o.regex,u=o.parser,c=t.substr(a),f=s.exec(c)[0];u.call(e,f),t=t.replace(f,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}(i)(e),s=o.year,u=o.month,c=o.day,f=o.hours,l=o.minutes,d=o.seconds,m=o.milliseconds,p=o.zone,g=new Date,v=c||(s||u?1:g.getDate()),y=s||g.getFullYear(),D=0;s&&!u||(D=u>0?u-1:g.getMonth());var C=f||0,$=l||0,S=d||0,M=m||0;return p?new Date(Date.UTC(y,D,v,C,$,S,M+60*p.offset*1e3)):r?new Date(Date.UTC(y,D,v,C,$,S,M)):new Date(y,D,v,C,$,S,M)}catch(t){return new Date("")}};return function(e,n,a){a.p.customParseFormat=!0;var i=n.prototype,r=i.parse;i.parse=function(e){var n=e.date,i=e.utc,o=e.args;this.$u=i;var s=o[1];if("string"==typeof s){var u=!0===o[2],c=!0===o[3],f=u||c,h=o[2];c&&(h=o[2]),u||(t=h?a.Ls[h]:this.$locale()),this.$d=l(n,s,i),this.init(),h&&!0!==h&&(this.$L=this.locale(h).$L),f&&n!==this.format(s)&&(this.$d=new Date("")),t=void 0}else if(s instanceof Array)for(var d=s.length,m=1;m<=d;m+=1){o[1]=s[m-1];var p=a.apply(this,o);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}m===d&&(this.$d=new Date(""))}else r.call(this,e)}}}))}}]);