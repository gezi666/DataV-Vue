(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ea6a7fa"],{c2d4:function(t,e,a){"use strict";a("b0c0"),a("ee5d");var i=a("7031"),n=a("313e"),o=a.n(n);e["a"]={name:"AbstractEchartComp",mixins:[i["a"]],data:function(){return{myChart:null}},methods:{draw:function(){this.myChart=o.a.init(document.getElementById(this.compConf.compId)),this.myChart.hideLoading(),this.myChart.setOption(this.option()),this.myChart.on("click",this._click),this.myChart.on("globalout",this._globalout)},resize:function(){this.myChart.resize()},_click:function(t){},_globalout:function(t){},_getDataTypeValue:function(t,e){if(e)return"classify"==e?t.name:"legend"==e?t.seriesName:"value"==e?t.value:void 0},styleConfChanged:function(){this.updateMyChart()},compDataChanged:function(){this.updateMyChart()},updateMyChart:function(){this.myChart&&this.myChart.hideLoading(),this.myChart&&this.myChart.clear(),this.myChart&&this.myChart.setOption(this.option())},option:function(){return{}}}}},e322:function(t,e,a){"use strict";a.r(e);a("4160"),a("caad"),a("4e82"),a("b0c0"),a("ac1f"),a("2532"),a("1276"),a("159b");var i,n,o=a("ade3"),s=a("c2d4"),r=a("313e"),l=a.n(r),h={name:"basedashboard",mixins:[s["a"]],computed:{dataVal:function(){return null==this.chartData?0:this.chartData.value}},mounted:function(){},methods:{convertChartData:function(){if(this.compData){var t;if("static"===this.dataSourceConf.type)t=this.compData[0];else{var e=this.dataConf[this.dataConf.datasetSelectedIds[0]]["xAxisIds"],a=this.dataConf[this.dataConf.datasetSelectedIds[0]]["datasetMeta"];t=this.compData[0];for(var i=e[0],n=0,o=0;o<a.length;o++)if(e.includes(a[o]["columnName"])&&1==a[o].columnDefDire){i=a[o]["columnName"];break}t.forEach((function(t){console.log(t),n+=t[i]||0})),t={name:i,value:n}}return t}},_getAxisColors:function(){var t=[],e=_.cloneDeep(this.styleConf.axisTickColors);return e.sort((function(t,e){return t.offset<e.offset?-1:1})),e.forEach((function(e){t.push([e.offset,e.color])})),t},_getDashboardAlphaColor:function(t){var e=this.styleConf,a=e.maxVal;if(a<t)return[[1,"rgba(0,0,0,0)"]];var i=t/a,n=[];return n.push([i,"rgba(0,0,0,0)"]),n.push([1,e.overValueColor]),n},option:function(){var t=this.styleConf,e=this.chartData,a={series:[{name:"刻度",animation:!0,type:"gauge",radius:"78%",min:t.minVal,max:t.maxVal,splitNumber:t.splitNumber,startAngle:t.startAngle,endAngle:t.endAngle,axisLine:{show:!0,lineStyle:{width:0,color:this._getAxisColors()}},axisLabel:{show:!0,distance:-t.axisLabelDistance,formatter:function(t){return t}},axisTick:{show:!0,lineStyle:{color:"auto",width:1},length:11},splitLine:{show:!0,length:-8,lineStyle:{color:"auto"}},detail:{show:!1},pointer:{show:!1}},{type:"gauge",animation:!0,radius:"70%",center:["50%","50%"],splitNumber:t.splitNumber,startAngle:t.startAngle,endAngle:t.endAngle,min:t.minVal,max:t.maxVal,axisLine:{show:!0,lineStyle:{width:t.axisLineWidth,color:[[1,new l.a.graphic.LinearGradient(0,0,1,0,t.axisLineColors)]]}},splitLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},pointer:{show:t.showPointer},title:{show:!0,offsetCenter:[0,"-25%"],textStyle:{color:"#fff",fontSize:32}},detail:{show:!0,offsetCenter:[0,"10%"],color:"#fff",formatter:function(t){return t},textStyle:{fontSize:50}},data:[{name:e.name,value:e.value}]},{name:"",type:"gauge",radius:"70%",animation:!0,splitNumber:t.splitNumber,startAngle:t.startAngle,endAngle:t.endAngle,center:["50%","50%"],min:t.minVal,max:t.maxVal,axisLine:{show:!0,lineStyle:{width:t.axisLineWidth,color:this._getDashboardAlphaColor(e.value)}},splitLine:{show:!1},detail:{show:!1},pointer:{show:!1},axisLabel:{show:!1},axisTick:{show:!0,length:t.axisLineWidth,lineStyle:{width:t.splitWidth,color:t.splitColor}}}]};return a},_clickByLinkAge:function(t){var e=this;this.$evtBus.on(t,(function(t){if("update"===t.refType){for(var a=0;a<t.refData.length;a++){var i=t.refData[a].from.split("$")[1],n=t.refData[a].to.split("$")[1];Object.assign(e.chartData,Object(o["a"])({},n,t.data[i]))}e.updateMyChart()}}))},linkageConfChanged:function(){if(this.compConf.linkage&&this.compConf.linkage.linkRevEvents)for(var t=this.compConf.linkage.linkRevEvents,e=0;e<t.length;e++){var a=t[e],i=a.evtName.split(":")[1];"click"===i&&this._clickByLinkAge(a)}}}},c=h,u=a("2877"),f=Object(u["a"])(c,i,n,!1,null,null,null);e["default"]=f.exports}}]);