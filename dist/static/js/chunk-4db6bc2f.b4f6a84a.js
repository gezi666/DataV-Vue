(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4db6bc2f"],{"0074":function(e,t,n){e.exports=u;var r=n("2ef0"),i=n("9eab"),s=n("faa1").EventEmitter,o=n("7d33"),a=n("4d67"),l=n("de57");function u(e,t){if(t=t||{},s.call(this),this.log=t.log||new o,this.pingTimeout=t.pingTimeout||3e3,!e)throw new TypeError("Missing host");if(!(e instanceof a))throw new TypeError("Invalid host");this.host=e,i.makeBoundMethods(this)}i.inherits(u,s),u.prototype.request=function(){throw new Error("Connection#request must be overwritten by the Connector")},u.prototype.ping=function(e,t){"function"===typeof e?(t=e,e=null):t="function"===typeof t?t:null;var n,i,s,o=this.pingTimeout;e&&e.hasOwnProperty("requestTimeout")&&(o=e.requestTimeout),s=this.request(r.defaults(e||{},{path:"/",method:"HEAD"}),(function(e){i||(clearTimeout(n),t&&t(e))})),o&&(n=setTimeout((function(){s&&s(),i=!0,t&&t(new l.RequestTimeout("Ping Timeout after "+o+"ms"))}),o))},u.prototype.setStatus=function(e){var t=this.status;this.status=e,this.emit("status set",e,t,this),"closed"===e&&this.removeAllListeners()}},"00fd":function(e,t,n){var r=n("9e69"),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=r?r.toStringTag:void 0;function l(e){var t=s.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(l){}var i=o.call(e);return r&&(t?e[a]=n:delete e[a]),i}e.exports=l},"020f":function(e,t,n){var r=n("242e"),i=n("1304");function s(e,t){return e&&r(e,i(t))}e.exports=s},"02b3":function(e,t,n){(function(e,r){r(t,n("e11e"))})(0,(function(e,t){"use strict";var n="2.5.1",r=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,i=""===document.documentElement.style.pointerEvents,s={cors:r,pointerEvents:i},o={attributionWidthOffset:55},a=0;function l(e){var t="";for(var n in e.f=e.f||"json",e)if(e.hasOwnProperty(n)){var r,i=e[n],s=Object.prototype.toString.call(i);t.length&&(t+="&"),r="[object Array]"===s?"[object Object]"===Object.prototype.toString.call(i[0])?JSON.stringify(i):i.join(","):"[object Object]"===s?JSON.stringify(i):"[object Date]"===s?i.valueOf():i,t+=encodeURIComponent(n)+"="+encodeURIComponent(r)}return t}function u(e,n){var r=new window.XMLHttpRequest;return r.onerror=function(i){r.onreadystatechange=t.Util.falseFn,e.call(n,{error:{code:500,message:"XMLHttpRequest error"}},null)},r.onreadystatechange=function(){var i,s;if(4===r.readyState){try{i=JSON.parse(r.responseText)}catch(o){i=null,s={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!s&&i.error&&(s=i.error,i=null),r.onerror=t.Util.falseFn,e.call(n,s,i)}},r.ontimeout=function(){this.onerror()},r}function c(e,t,n,r){var i=u(n,r);return i.open("POST",e),"undefined"!==typeof r&&null!==r&&"undefined"!==typeof r.options&&(i.timeout=r.options.timeout),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.send(l(t)),i}function h(e,t,n,r){var i=u(n,r);return i.open("GET",e+"?"+l(t),!0),"undefined"!==typeof r&&null!==r&&"undefined"!==typeof r.options&&(i.timeout=r.options.timeout,r.options.withCredentials&&(i.withCredentials=!0)),i.send(null),i}function p(e,t,n,r){var i=l(t),o=u(n,r),a=(e+"?"+i).length;if(a<=2e3&&s.cors?o.open("GET",e+"?"+i):a>2e3&&s.cors&&(o.open("POST",e),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),"undefined"!==typeof r&&null!==r&&"undefined"!==typeof r.options&&(o.timeout=r.options.timeout,r.options.withCredentials&&(o.withCredentials=!0)),a<=2e3&&s.cors)o.send(null);else{if(!(a>2e3&&s.cors))return a<=2e3&&!s.cors?d(e,t,n,r):void m("a request to "+e+" was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy http://esri.github.io/esri-leaflet/api-reference/request.html");o.send(i)}return o}function d(e,n,r,i){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};var s="c"+a;n.callback="window._EsriLeafletCallbacks."+s,window._EsriLeafletCallbacks[s]=function(e){if(!0!==window._EsriLeafletCallbacks[s]){var t,n=Object.prototype.toString.call(e);"[object Object]"!==n&&"[object Array]"!==n&&(t={error:{code:500,message:"Expected array or object as JSONP response"}},e=null),!t&&e.error&&(t=e,e=null),r.call(i,t,e),window._EsriLeafletCallbacks[s]=!0}};var o=t.DomUtil.create("script",null,document.body);return o.type="text/javascript",o.src=e+"?"+l(n),o.id=s,o.onerror=function(e){if(e&&!0!==window._EsriLeafletCallbacks[s]){var t={error:{code:500,message:"An unknown error occurred"}};r.call(i,t),window._EsriLeafletCallbacks[s]=!0}},t.DomUtil.addClass(o,"esri-leaflet-jsonp"),a++,{id:s,url:o.src,abort:function(){window._EsriLeafletCallbacks._callback[s]({code:0,message:"Request aborted."})}}}var f=s.cors?h:d;function m(){console&&console.warn&&console.warn.apply(console,arguments)}f.CORS=h,f.JSONP=d;var y={request:p,get:f,post:c},g=function(e,t,n,r){var i=(r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]),s=(t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]),o=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(0!==o){var a=i/o,l=s/o;if(a>=0&&a<=1&&l>=0&&l<=1)return!0}return!1},_=function(e,t){for(var n=!1,r=-1,i=e.length,s=i-1;++r<i;s=r)(e[r][1]<=t[1]&&t[1]<e[s][1]||e[s][1]<=t[1]&&t[1]<e[r][1])&&t[0]<(e[s][0]-e[r][0])*(t[1]-e[r][1])/(e[s][1]-e[r][1])+e[r][0]&&(n=!n);return n},v=function(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},b=function(e,t){for(var n=0;n<e.length-1;n++)for(var r=0;r<t.length-1;r++)if(g(e[n],e[n+1],t[r],t[r+1]))return!0;return!1},x=function(e){return v(e[0],e[e.length-1])||e.push(e[0]),e},w=function(e){var t,n=0,r=0,i=e.length,s=e[r];for(r;r<i-1;r++)t=e[r+1],n+=(t[0]-s[0])*(t[1]+s[1]),s=t;return n>=0},S=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},C=function(e,t){var n=b(e,t),r=_(e,t[0]);return!(n||!r)},E=function(e){for(var t,n,r,i=[],s=[],o=0;o<e.length;o++){var a=x(e[o].slice(0));if(!(a.length<4))if(w(a)){var l=[a.slice().reverse()];i.push(l)}else s.push(a.slice().reverse())}var u=[];while(s.length){r=s.pop();var c=!1;for(t=i.length-1;t>=0;t--)if(n=i[t][0],C(n,r)){i[t].push(r),c=!0;break}c||u.push(r)}while(u.length){r=u.pop();var h=!1;for(t=i.length-1;t>=0;t--)if(n=i[t][0],b(n,r)){i[t].push(r),h=!0;break}h||i.push([r.reverse()])}return 1===i.length?{type:"Polygon",coordinates:i[0]}:{type:"MultiPolygon",coordinates:i}},T=function(e,t){for(var n=t?[t,"OBJECTID","FID"]:["OBJECTID","FID"],r=0;r<n.length;r++){var i=n[r];if(i in e&&("string"===typeof e[i]||"number"===typeof e[i]))return e[i]}throw Error("No valid id attribute found")},A=function e(t,n){var r={};if(t.features){r.type="FeatureCollection",r.features=[];for(var i=0;i<t.features.length;i++)r.features.push(e(t.features[i],n))}if("number"===typeof t.x&&"number"===typeof t.y&&(r.type="Point",r.coordinates=[t.x,t.y],"number"===typeof t.z&&r.coordinates.push(t.z)),t.points&&(r.type="MultiPoint",r.coordinates=t.points.slice(0)),t.paths&&(1===t.paths.length?(r.type="LineString",r.coordinates=t.paths[0].slice(0)):(r.type="MultiLineString",r.coordinates=t.paths.slice(0))),t.rings&&(r=E(t.rings.slice(0))),"number"===typeof t.xmin&&"number"===typeof t.ymin&&"number"===typeof t.xmax&&"number"===typeof t.ymax&&(r.type="Polygon",r.coordinates=[[[t.xmax,t.ymax],[t.xmin,t.ymax],[t.xmin,t.ymin],[t.xmax,t.ymin],[t.xmax,t.ymax]]]),(t.geometry||t.attributes)&&(r.type="Feature",r.geometry=t.geometry?e(t.geometry):null,r.properties=t.attributes?S(t.attributes):null,t.attributes))try{r.id=T(t.attributes,n)}catch(s){}return JSON.stringify(r.geometry)===JSON.stringify({})&&(r.geometry=null),t.spatialReference&&t.spatialReference.wkid&&4326!==t.spatialReference.wkid&&console.warn("Object converted in non-standard crs - "+JSON.stringify(t.spatialReference)),r},P=function(e){var t=[],n=e.slice(0),r=x(n.shift().slice(0));if(r.length>=4){w(r)||r.reverse(),t.push(r);for(var i=0;i<n.length;i++){var s=x(n[i].slice(0));s.length>=4&&(w(s)&&s.reverse(),t.push(s))}}return t},I=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=P(e[n]),i=r.length-1;i>=0;i--){var s=r[i].slice(0);t.push(s)}return t},L=function e(t,n){n=n||"OBJECTID";var r,i={wkid:4326},s={};switch(t.type){case"Point":s.x=t.coordinates[0],s.y=t.coordinates[1],s.spatialReference=i;break;case"MultiPoint":s.points=t.coordinates.slice(0),s.spatialReference=i;break;case"LineString":s.paths=[t.coordinates.slice(0)],s.spatialReference=i;break;case"MultiLineString":s.paths=t.coordinates.slice(0),s.spatialReference=i;break;case"Polygon":s.rings=P(t.coordinates.slice(0)),s.spatialReference=i;break;case"MultiPolygon":s.rings=I(t.coordinates.slice(0)),s.spatialReference=i;break;case"Feature":t.geometry&&(s.geometry=e(t.geometry,n)),s.attributes=t.properties?S(t.properties):{},t.id&&(s.attributes[n]=t.id);break;case"FeatureCollection":for(s=[],r=0;r<t.features.length;r++)s.push(e(t.features[r],n));break;case"GeometryCollection":for(s=[],r=0;r<t.geometries.length;r++)s.push(e(t.geometries[r],n));break}return s};
/* @preserve
  * @terraformer/arcgis - v2.0.6 - MIT
  * Copyright (c) 2012-2020 Environmental Systems Research Institute, Inc.
  * Mon May 18 2020 14:30:35 GMT-0700 (Pacific Daylight Time)
  */function M(e,t){return L(e,t)}function O(e,t){return A(e,t)}function k(e){if("NaN"!==e.xmin&&"NaN"!==e.ymin&&"NaN"!==e.xmax&&"NaN"!==e.ymax){var n=t.latLng(e.ymin,e.xmin),r=t.latLng(e.ymax,e.xmax);return t.latLngBounds(n,r)}return null}function N(e){return e=t.latLngBounds(e),{xmin:e.getSouthWest().lng,ymin:e.getSouthWest().lat,xmax:e.getNorthEast().lng,ymax:e.getNorthEast().lat,spatialReference:{wkid:4326}}}var R=/^(OBJECTID|FID|OID|ID)$/i;function D(e){var t;if(e.objectIdFieldName)t=e.objectIdFieldName;else if(e.fields){for(var n=0;n<=e.fields.length-1;n++)if("esriFieldTypeOID"===e.fields[n].type){t=e.fields[n].name;break}if(!t)for(n=0;n<=e.fields.length-1;n++)if(e.fields[n].name.match(R)){t=e.fields[n].name;break}}return t}function F(e){for(var t in e.attributes)if(t.match(R))return t}function B(e,t){var n,r=e.features||e.results,i=r&&r.length;n=t||D(e);var s={type:"FeatureCollection",features:[]};if(i)for(var o=r.length-1;o>=0;o--){var a=O(r[o],n||F(r[o]));s.features.push(a)}return s}function q(e){return e=t.Util.trim(e),"/"!==e[e.length-1]&&(e+="/"),e}function z(e){if(-1!==e.url.indexOf("?")){e.requestParams=e.requestParams||{};var t=e.url.substring(e.url.indexOf("?")+1);e.url=e.url.split("?")[0],e.requestParams=JSON.parse('{"'+decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}return e.url=q(e.url.split("?")[0]),e}function U(e){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(e)}function G(e){var t;switch(e){case"Point":t="esriGeometryPoint";break;case"MultiPoint":t="esriGeometryMultipoint";break;case"LineString":t="esriGeometryPolyline";break;case"MultiLineString":t="esriGeometryPolyline";break;case"Polygon":t="esriGeometryPolygon";break;case"MultiPolygon":t="esriGeometryPolygon";break}return t}function j(e){return e.getSize().x-o.attributionWidthOffset+"px"}function V(e){if(e.attributionControl&&!e.attributionControl._esriAttributionAdded){e.attributionControl.setPrefix('<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> | Powered by <a href="https://www.esri.com">Esri</a>');var n=document.createElement("style");n.type="text/css",n.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(n),t.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution:hover");var r=document.createElement("style");r.type="text/css",r.innerHTML=".esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: "+j(e)+";}",document.getElementsByTagName("head")[0].appendChild(r),t.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution"),e.on("resize",(function(t){e.attributionControl._container.style.maxWidth=j(t.target)})),e.attributionControl._esriAttributionAdded=!0}}function W(e){var n={geometry:null,geometryType:null};return e instanceof t.LatLngBounds?(n.geometry=N(e),n.geometryType="esriGeometryEnvelope",n):(e.getLatLng&&(e=e.getLatLng()),e instanceof t.LatLng&&(e={type:"Point",coordinates:[e.lng,e.lat]}),e instanceof t.GeoJSON&&(e=e.getLayers()[0].feature.geometry,n.geometry=M(e),n.geometryType=G(e.type)),e.toGeoJSON&&(e=e.toGeoJSON()),"Feature"===e.type&&(e=e.geometry),"Point"===e.type||"LineString"===e.type||"Polygon"===e.type||"MultiPolygon"===e.type?(n.geometry=M(e),n.geometryType=G(e.type),n):void m("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object"))}function H(e,n){s.cors&&p(e,{},t.Util.bind((function(e,r){if(!e){n._esriAttributions=[];for(var i=0;i<r.contributors.length;i++)for(var s=r.contributors[i],o=0;o<s.coverageAreas.length;o++){var a=s.coverageAreas[o],l=t.latLng(a.bbox[0],a.bbox[1]),u=t.latLng(a.bbox[2],a.bbox[3]);n._esriAttributions.push({attribution:s.attribution,score:a.score,bounds:t.latLngBounds(l,u),minZoom:a.zoomMin,maxZoom:a.zoomMax})}n._esriAttributions.sort((function(e,t){return t.score-e.score}));var c={target:n};J(c)}}),this))}function J(e){var n=e.target,r=n._esriAttributions;if(n&&n.attributionControl){var i=n.attributionControl._container.querySelector(".esri-dynamic-attribution");if(i&&r){for(var s="",o=n.getBounds(),a=t.latLngBounds(o.getSouthWest().wrap(),o.getNorthEast().wrap()),l=n.getZoom(),u=0;u<r.length;u++){var c=r[u],h=c.attribution;!s.match(h)&&c.bounds.intersects(a)&&l>=c.minZoom&&l<=c.maxZoom&&(s+=", "+h)}s=s.substr(2),i.innerHTML=s,i.style.maxWidth=j(n),n.fire("attributionupdated",{attribution:s})}}}var X={warn:m,cleanUrl:q,getUrlParams:z,isArcgisOnline:U,geojsonTypeToArcGIS:G,responseToFeatureCollection:B,geojsonToArcGIS:M,arcgisToGeoJSON:O,boundsToExtent:N,extentToBounds:k,calcAttributionWidth:j,setEsriAttribution:V,_setGeometry:W,_getAttributionData:H,_updateMapAttribution:J,_findIdAttributeFromFeature:F,_findIdAttributeFromResponse:D},Z=t.Class.extend({options:{proxy:!1,useCors:r},generateSetter:function(e,n){return t.Util.bind((function(t){return this.params[e]=t,this}),n)},initialize:function(e){if(e.request&&e.options?(this._service=e,t.Util.setOptions(this,e.options)):(t.Util.setOptions(this,e),this.options.url=q(e.url)),this.params=t.Util.extend({},this.params||{}),this.setters)for(var n in this.setters){var r=this.setters[n];this[n]=this.generateSetter(r,this)}},token:function(e){return this._service?this._service.authenticate(e):this.params.token=e,this},format:function(e){return this.params.returnUnformattedValues=!e,this},request:function(e,n){return this.options.requestParams&&t.Util.extend(this.params,this.options.requestParams),this._service?this._service.request(this.path,this.params,e,n):this._request("request",this.path,this.params,e,n)},_request:function(e,t,n,r,i){var s=this.options.proxy?this.options.proxy+"?"+this.options.url+t:this.options.url+t;return"get"!==e&&"request"!==e||this.options.useCors?y[e](s,n,r,i):y.get.JSONP(s,n,r,i)}});function Y(e){return e=z(e),new Z(e)}var K=Z.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",returnM:"returnM",transform:"datumTransformation",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSR:4326,outFields:"*"},within:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelContains",this},intersects:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelIntersects",this},contains:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelWithin",this},crosses:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelCrosses",this},touches:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelTouches",this},overlaps:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelOverlaps",this},bboxIntersects:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this},indexIntersects:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelIndexIntersects",this},nearby:function(e,n){return e=t.latLng(e),this.params.geometry=[e.lng,e.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=n,this.params.inSr=4326,this},where:function(e){return this.params.where=e,this},between:function(e,t){return this.params.time=[e.valueOf(),t.valueOf()],this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},orderBy:function(e,t){return t=t||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[e,t].join(" "),this},run:function(e,t){return this._cleanParams(),this.options.isModern||U(this.options.url)&&void 0===this.options.isModern?(this.params.f="geojson",this.request((function(n,r){this._trapSQLerrors(n),e.call(t,n,r,r)}),this)):this.request((function(n,r){this._trapSQLerrors(n),e.call(t,n,r&&B(r),r)}),this)},count:function(e,t){return this._cleanParams(),this.params.returnCountOnly=!0,this.request((function(t,n){e.call(this,t,n&&n.count,n)}),t)},ids:function(e,t){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request((function(t,n){e.call(this,t,n&&n.objectIds,n)}),t)},bounds:function(e,t){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request((function(n,r){r&&r.extent&&k(r.extent)?e.call(t,n,k(r.extent),r):(n={message:"Invalid Bounds"},e.call(t,n,null,r))}),t)},distinct:function(){return this.params.returnGeometry=!1,this.params.returnDistinctValues=!0,this},pixelSize:function(e){var n=t.point(e);return this.params.pixelSize=[n.x,n.y],this},layer:function(e){return this.path=e+"/query",this},_trapSQLerrors:function(e){e&&"400"===e.code&&m("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams:function(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometryParams:function(e){this.params.inSr=4326;var t=W(e);this.params.geometry=t.geometry,this.params.geometryType=t.geometryType}});function Q(e){return new K(e)}var $=Z.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs:function(e,t){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[e,t].join(":"),this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},run:function(e,t){return this.request((function(n,r){e.call(t,n,r&&B(r),r)}),t)}});function ee(e){return new $(e)}var te=Z.extend({path:"identify",between:function(e,t){return this.params.time=[e.valueOf(),t.valueOf()],this}});function ne(e){return new te(e)}var re=te.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on:function(e){var t=N(e.getBounds()),n=e.getSize();return this.params.imageDisplay=[n.x,n.y,96],this.params.mapExtent=[t.xmin,t.ymin,t.xmax,t.ymax],this},at:function(e){return 2===e.length&&(e=t.latLng(e)),this._setGeometryParams(e),this},layerDef:function(e,t){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[e,t].join(":"),this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},run:function(e,t){return this.request((function(n,r){if(n)e.call(t,n,void 0,r);else{var i=B(r);r.results=r.results.reverse();for(var s=0;s<i.features.length;s++){var o=i.features[s];o.layerId=r.results[s].layerId}e.call(t,void 0,i,r)}}))},_setGeometryParams:function(e){var t=W(e);this.params.geometry=t.geometry,this.params.geometryType=t.geometryType}});function ie(e){return new re(e)}var se=te.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at:function(e){return e=t.latLng(e),this.params.geometry=JSON.stringify({x:e.lng,y:e.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule:function(){return this.params.mosaicRule},getRenderingRule:function(){return this.params.renderingRule},getPixelSize:function(){return this.params.pixelSize},run:function(e,t){return this.request((function(n,r){e.call(t,n,r&&this._responseToGeoJSON(r),r)}),this)},_responseToGeoJSON:function(e){var t=e.location,n=e.catalogItems,r=e.catalogItemVisibilities,i={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[t.x,t.y]},crs:{type:"EPSG",properties:{code:t.spatialReference.wkid}},properties:{OBJECTID:e.objectId,name:e.name,value:e.value},id:e.objectId}};if(e.properties&&e.properties.Values&&(i.pixel.properties.values=e.properties.Values),n&&n.features&&(i.catalogItems=B(n),r&&r.length===i.catalogItems.features.length))for(var s=r.length-1;s>=0;s--)i.catalogItems.features[s].properties.catalogItemVisibility=r[s];return i}});function oe(e){return new se(e)}var ae=t.Evented.extend({options:{proxy:!1,useCors:r,timeout:0},initialize:function(e){e=e||{},this._requestQueue=[],this._authenticating=!1,t.Util.setOptions(this,e),this.options.url=q(this.options.url)},get:function(e,t,n,r){return this._request("get",e,t,n,r)},post:function(e,t,n,r){return this._request("post",e,t,n,r)},request:function(e,t,n,r){return this._request("request",e,t,n,r)},metadata:function(e,t){return this._request("get","",{},e,t)},authenticate:function(e){return this._authenticating=!1,this.options.token=e,this._runQueue(),this},getTimeout:function(){return this.options.timeout},setTimeout:function(e){this.options.timeout=e},_request:function(e,n,r,i,s){this.fire("requeststart",{url:this.options.url+n,params:r,method:e},!0);var o=this._createServiceCallback(e,n,r,i,s);if(this.options.token&&(r.token=this.options.token),this.options.requestParams&&t.Util.extend(r,this.options.requestParams),!this._authenticating){var a=this.options.proxy?this.options.proxy+"?"+this.options.url+n:this.options.url+n;return"get"!==e&&"request"!==e||this.options.useCors?y[e](a,r,o,s):y.get.JSONP(a,r,o,s)}this._requestQueue.push([e,n,r,i,s])},_createServiceCallback:function(e,n,r,i,s){return t.Util.bind((function(o,a){!o||499!==o.code&&498!==o.code||(this._authenticating=!0,this._requestQueue.push([e,n,r,i,s]),this.fire("authenticationrequired",{authenticate:t.Util.bind(this.authenticate,this)},!0),o.authenticate=t.Util.bind(this.authenticate,this)),i.call(s,o,a),o?this.fire("requesterror",{url:this.options.url+n,params:r,message:o.message,code:o.code,method:e},!0):this.fire("requestsuccess",{url:this.options.url+n,params:r,response:a,method:e},!0),this.fire("requestend",{url:this.options.url+n,params:r,method:e},!0)}),this)},_runQueue:function(){for(var e=this._requestQueue.length-1;e>=0;e--){var t=this._requestQueue[e],n=t.shift();this[n].apply(this,t)}this._requestQueue=[]}});function le(e){return e=z(e),new ae(e)}var ue=ae.extend({identify:function(){return ie(this)},find:function(){return ee(this)},query:function(){return Q(this)}});function ce(e){return new ue(e)}var he=ae.extend({query:function(){return Q(this)},identify:function(){return oe(this)}});function pe(e){return new he(e)}var de=ae.extend({options:{idAttribute:"OBJECTID"},query:function(){return Q(this)},addFeature:function(e,t,n){this.addFeatures(e,t,n)},addFeatures:function(e,t,n){for(var r=e.features?e.features:[e],i=r.length-1;i>=0;i--)delete r[i].id;return e=M(e),e=r.length>1?e:[e],this.post("addFeatures",{features:e},(function(e,r){var i=r&&r.addResults?r.addResults.length>1?r.addResults:r.addResults[0]:void 0;t&&t.call(n,e||r.addResults[0].error,i)}),n)},updateFeature:function(e,t,n){this.updateFeatures(e,t,n)},updateFeatures:function(e,t,n){var r=e.features?e.features:[e];return e=M(e,this.options.idAttribute),e=r.length>1?e:[e],this.post("updateFeatures",{features:e},(function(e,r){var i=r&&r.updateResults?r.updateResults.length>1?r.updateResults:r.updateResults[0]:void 0;t&&t.call(n,e||r.updateResults[0].error,i)}),n)},deleteFeature:function(e,t,n){this.deleteFeatures(e,t,n)},deleteFeatures:function(e,t,n){return this.post("deleteFeatures",{objectIds:e},(function(e,r){var i=r&&r.deleteResults?r.deleteResults.length>1?r.deleteResults:r.deleteResults[0]:void 0;t&&t.call(n,e||r.deleteResults[0].error,i)}),n)}});function fe(e){return new de(e)}var me="https:"!==window.location.protocol?"http:":"https:",ye=t.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:me+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:me+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},NationalGeographic:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}},ImageryLabels:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},ShadedRelief:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:me+"//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}},ImageryClarity:{urlTemplate:me+"//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"}},Physical:{urlTemplate:me+"//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:8,subdomains:["server","services"],attribution:"U.S. National Park Service"}},ImageryFirefly:{urlTemplate:me+"//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}}}},initialize:function(e,n){var r;if("object"===typeof e&&e.urlTemplate&&e.options)r=e;else{if("string"!==typeof e||!ye.TILES[e])throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');r=ye.TILES[e]}var i=t.Util.extend(r.options,n);t.Util.setOptions(this,i),this.options.token&&-1===r.urlTemplate.indexOf("token=")&&(r.urlTemplate+="?token="+this.options.token),this.options.proxy&&(r.urlTemplate=this.options.proxy+"?"+r.urlTemplate),t.TileLayer.prototype.initialize.call(this,r.urlTemplate,i)},onAdd:function(e){V(e),"esri-labels"===this.options.pane&&this._initPane(),this.options.attributionUrl&&H((this.options.proxy?this.options.proxy+"?":"")+this.options.attributionUrl,e),e.on("moveend",J),t.TileLayer.prototype.onAdd.call(this,e)},onRemove:function(e){e.off("moveend",J),t.TileLayer.prototype.onRemove.call(this,e)},_initPane:function(){if(!this._map.getPane(this.options.pane)){var e=this._map.createPane(this.options.pane);e.style.pointerEvents="none",e.style.zIndex=500}},getAttribution:function(){if(this.options.attribution)var e='<span class="esri-dynamic-attribution">'+this.options.attribution+"</span>";return e}});function ge(e,t){return new ye(e,t)}var _e=t.TileLayer.extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize:function(e){e=t.Util.setOptions(this,e),e=z(e),this.tileUrl=(e.proxy?e.proxy+"?":"")+e.url+"tile/{z}/{y}/{x}"+(e.requestParams&&Object.keys(e.requestParams).length>0?t.Util.getParamString(e.requestParams):""),-1!==e.url.indexOf("{s}")&&e.subdomains&&(e.url=e.url.replace("{s}",e.subdomains[0])),this.service=ce(e),this.service.addEventParent(this);var n=new RegExp(/tiles.arcgis(online)?\.com/g);n.test(e.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),e.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+="?token="+this.options.token),t.TileLayer.prototype.initialize.call(this,this.tileUrl,e)},getTileUrl:function(e){var n=this._getZoomForUrl();return t.Util.template(this.tileUrl,t.Util.extend({s:this._getSubdomain(e),x:e.x,y:e.y,z:this._lodMap&&this._lodMap[n]?this._lodMap[n]:n},this.options))},createTile:function(e,n){var r=document.createElement("img");return t.DomEvent.on(r,"load",t.Util.bind(this._tileOnLoad,this,n,r)),t.DomEvent.on(r,"error",t.Util.bind(this._tileOnError,this,n,r)),this.options.crossOrigin&&(r.crossOrigin=""),r.alt="",!this._lodMap||this._lodMap&&this._lodMap[this._getZoomForUrl()]?r.src=this.getTileUrl(e):this.once("lodmap",(function(){r.src=this.getTileUrl(e)}),this),r},onAdd:function(e){V(e),this._lodMap||this.metadata((function(n,r){if(!n&&r.spatialReference){var i=r.spatialReference.latestWkid||r.spatialReference.wkid;if(!this.options.attribution&&e.attributionControl&&r.copyrightText&&(this.options.attribution=r.copyrightText,e.attributionControl.addAttribution(this.getAttribution())),e.options.crs!==t.CRS.EPSG3857||102100!==i&&3857!==i)e.options.crs&&e.options.crs.code&&e.options.crs.code.indexOf(i)>-1||m("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet http://esri.github.io/esri-leaflet/examples/non-mercator-projection.html");else{this._lodMap={};for(var s=r.tileInfo.lods,o=_e.MercatorZoomLevels,a=0;a<s.length;a++){var l=s[a];for(var u in o){var c=o[u];if(this._withinPercentage(l.resolution,c,this.options.zoomOffsetAllowance)){this._lodMap[u]=l.level;break}}}this.fire("lodmap")}}}),this),t.TileLayer.prototype.onAdd.call(this,e)},metadata:function(e,t){return this.service.metadata(e,t),this},identify:function(){return this.service.identify()},find:function(){return this.service.find()},query:function(){return this.service.query()},authenticate:function(e){var t="?token="+e;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,t):this.tileUrl+t,this.options.token=e,this.service.authenticate(e),this},_withinPercentage:function(e,t,n){var r=Math.abs(e/t-1);return r<n}});function ve(e,t){return new _e(e,t)}var be=t.ImageOverlay.extend({onAdd:function(e){this._topLeft=e.getPixelBounds().min,t.ImageOverlay.prototype.onAdd.call(this,e)},_reset:function(){this._map.options.crs===t.CRS.EPSG3857?t.ImageOverlay.prototype._reset.call(this):t.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),xe=t.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:r,attribution:null,interactive:!1,alt:""},onAdd:function(e){V(e),this.options.zIndex&&(this.options.position=null),this._update=t.Util.throttle(this._update,this.options.updateInterval,this),e.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?e.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata((function(t,n){!t&&!this.options.attribution&&e.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,e.attributionControl.addAttribution(this.getAttribution()))}),this)},onRemove:function(e){this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup:function(e,n){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=t.popup(n),this._popupFunction=e,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup:function(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront:function(){return this.options.position="front",this._currentImage&&(this._currentImage.bringToFront(),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this.options.position="back",this._currentImage&&(this._currentImage.bringToBack(),this._setAutoZIndex(Math.min)),this},setZIndex:function(e){return this.options.zIndex=e,this._currentImage&&this._currentImage.setZIndex(e),this},_setAutoZIndex:function(e){if(this._currentImage){for(var t,n=this._currentImage.getPane().children,r=-e(-1/0,1/0),i=0,s=n.length;i<s;i++)t=n[i].style.zIndex,n[i]!==this._currentImage._image&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this.setZIndex(this.options.zIndex))}},getAttribution:function(){return this.options.attribution},getOpacity:function(){return this.options.opacity},setOpacity:function(e){return this.options.opacity=e,this._currentImage&&this._currentImage.setOpacity(e),this},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(e,t){return this.options.from=e,this.options.to=t,this._update(),this},metadata:function(e,t){return this.service.metadata(e,t),this},authenticate:function(e){return this.service.authenticate(e),this},redraw:function(){this._update()},_renderImage:function(e,t,n){if(this._map){if(n&&(e="data:"+n+";base64,"+e),!e)return;var r=new be(e,t,{opacity:0,crossOrigin:this.options.withCredentials?"use-credentials":this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),i=function(){this._map.removeLayer(r),this.fire("error"),r.off("load",s,this)},s=function(e){if(r.off("error",s,this),this._map){var n=e.target,i=this._currentImage;n._bounds.equals(t)&&n._bounds.equals(this._map.getBounds())?(this._currentImage=n,"front"===this.options.position?this.bringToFront():"back"===this.options.position&&this.bringToBack(),this.options.zIndex&&this.setZIndex(this.options.zIndex),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),i&&this._map&&this._map.removeLayer(i),i&&i._map&&i._map.removeLayer(i)):this._map.removeLayer(n)}this.fire("load",{bounds:t})};r.once("error",i,this),r.once("load",s,this)}},_update:function(){if(this._map){var e=this._map.getZoom(),n=this._map.getBounds();if(!this._animatingZoom&&(!this._map._panTransition||!this._map._panTransition._inProgress))if(e>this.options.maxZoom||e<this.options.minZoom)this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);else{var r=this._buildExportParams();t.Util.extend(r,this.options.requestParams),r?(this._requestExport(r,n),this.fire("loading",{bounds:n})):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}}},_renderPopup:function(e,n,r,i){if(e=t.latLng(e),this._shouldRenderPopup&&this._lastClick.equals(e)){var s=this._popupFunction(n,r,i);s&&this._popup.setLatLng(e).setContent(s).openOn(this._map)}},_resetPopupState:function(e){this._shouldRenderPopup=!1,this._lastClick=e.latlng},_calculateBbox:function(){var e=this._map.getPixelBounds(),n=this._map.unproject(e.getBottomLeft()),r=this._map.unproject(e.getTopRight()),i=this._map.options.crs.project(r),s=this._map.options.crs.project(n),o=t.bounds(i,s);return[o.getBottomLeft().x,o.getBottomLeft().y,o.getTopRight().x,o.getTopRight().y].join(",")},_calculateImageSize:function(){var e=this._map.getPixelBounds(),t=this._map.getSize(),n=this._map.unproject(e.getBottomLeft()),r=this._map.unproject(e.getTopRight()),i=this._map.latLngToLayerPoint(r).y,s=this._map.latLngToLayerPoint(n).y;return(i>0||s<t.y)&&(t.y=s-i),t.x+","+t.y}}),we=xe.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"image"},query:function(){return this.service.query()},identify:function(){return this.service.identify()},initialize:function(e){e=z(e),this.service=pe(e),this.service.addEventParent(this),t.Util.setOptions(this,e)},setPixelType:function(e){return this.options.pixelType=e,this._update(),this},getPixelType:function(){return this.options.pixelType},setBandIds:function(e){return t.Util.isArray(e)?this.options.bandIds=e.join(","):this.options.bandIds=e.toString(),this._update(),this},getBandIds:function(){return this.options.bandIds},setNoData:function(e,n){return t.Util.isArray(e)?this.options.noData=e.join(","):this.options.noData=e.toString(),n&&(this.options.noDataInterpretation=n),this._update(),this},getNoData:function(){return this.options.noData},getNoDataInterpretation:function(){return this.options.noDataInterpretation},setRenderingRule:function(e){this.options.renderingRule=e,this._update()},getRenderingRule:function(){return this.options.renderingRule},setMosaicRule:function(e){this.options.mosaicRule=e,this._update()},getMosaicRule:function(){return this.options.mosaicRule},_getPopupData:function(e){var n=t.Util.bind((function(n,r,i){n||setTimeout(t.Util.bind((function(){this._renderPopup(e.latlng,n,r,i)}),this),300)}),this),r=this.identify().at(e.latlng);this.options.mosaicRule&&r.setMosaicRule(this.options.mosaicRule),r.run(n),this._shouldRenderPopup=!0,this._lastClick=e.latlng},_buildExportParams:function(){var e=parseInt(this._map.options.crs.code.split(":")[1],10),t={bbox:this._calculateBbox(),size:this._calculateImageSize(),format:this.options.format,transparent:this.options.transparent,bboxSR:e,imageSR:e};return this.options.from&&this.options.to&&(t.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.options.pixelType&&(t.pixelType=this.options.pixelType),this.options.interpolation&&(t.interpolation=this.options.interpolation),this.options.compressionQuality&&(t.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(t.bandIds=this.options.bandIds),(0===this.options.noData||this.options.noData)&&(t.noData=this.options.noData),this.options.noDataInterpretation&&(t.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(t.token=this.service.options.token),this.options.renderingRule&&(t.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(t.mosaicRule=JSON.stringify(this.options.mosaicRule)),t},_requestExport:function(e,n){if("json"===this.options.f)this.service.request("exportImage",e,(function(e,t){e||(this.options.token&&(t.href+="?token="+this.options.token),this.options.proxy&&(t.href=this.options.proxy+"?"+t.href),this._renderImage(t.href,n))}),this);else{e.f="image";var r=this.options.url+"exportImage"+t.Util.getParamString(e);this.options.proxy&&(r=this.options.proxy+"?"+r),this._renderImage(r,n)}}});function Se(e,t){return new we(e,t)}var Ce=xe.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png32",transparent:!0,f:"json"},initialize:function(e){e=z(e),this.service=ce(e),this.service.addEventParent(this),t.Util.setOptions(this,e)},getDynamicLayers:function(){return this.options.dynamicLayers},setDynamicLayers:function(e){return this.options.dynamicLayers=e,this._update(),this},getLayers:function(){return this.options.layers},setLayers:function(e){return this.options.layers=e,this._update(),this},getLayerDefs:function(){return this.options.layerDefs},setLayerDefs:function(e){return this.options.layerDefs=e,this._update(),this},getTimeOptions:function(){return this.options.timeOptions},setTimeOptions:function(e){return this.options.timeOptions=e,this._update(),this},query:function(){return this.service.query()},identify:function(){return this.service.identify()},find:function(){return this.service.find()},_getPopupData:function(e){var n,r=t.Util.bind((function(n,r,i){n||setTimeout(t.Util.bind((function(){this._renderPopup(e.latlng,n,r,i)}),this),300)}),this);if(n=this.options.popup?this.options.popup.on(this._map).at(e.latlng):this.identify().on(this._map).at(e.latlng),n.params.maxAllowableOffset||n.simplify(this._map,.5),this.options.popup&&this.options.popup.params&&this.options.popup.params.layers||(this.options.layers?n.layers("visible:"+this.options.layers.join(",")):n.layers("visible")),this.options.layerDefs&&"string"!==typeof this.options.layerDefs&&!n.params.layerDefs)for(var i in this.options.layerDefs)this.options.layerDefs.hasOwnProperty(i)&&n.layerDef(i,this.options.layerDefs[i]);n.run(r),this._shouldRenderPopup=!0,this._lastClick=e.latlng},_buildExportParams:function(){var e=parseInt(this._map.options.crs.code.split(":")[1],10),t={bbox:this._calculateBbox(),size:this._calculateImageSize(),dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:e,imageSR:e};if(this.options.dynamicLayers&&(t.dynamicLayers=this.options.dynamicLayers),this.options.layers){if(0===this.options.layers.length)return;t.layers="show:"+this.options.layers.join(",")}return this.options.layerDefs&&(t.layerDefs="string"===typeof this.options.layerDefs?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(t.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(t.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.service.options.token&&(t.token=this.service.options.token),this.options.proxy&&(t.proxy=this.options.proxy),this.options.disableCache&&(t._ts=Date.now()),t},_requestExport:function(e,n){if("json"===this.options.f)this.service.request("export",e,(function(e,t){e||(this.options.token&&t.href&&(t.href+="?token="+this.options.token),this.options.proxy&&t.href&&(t.href=this.options.proxy+"?"+t.href),t.href?this._renderImage(t.href,n):this._renderImage(t.imageData,n,t.contentType))}),this);else{e.f="image";var r=this.options.url+"export"+t.Util.getParamString(e);this.options.proxy&&(r=this.options.proxy+"?"+r),this._renderImage(r,n)}}});function Ee(e,t){return new Ce(e,t)}var Te=t.Layer.extend({options:{cellSize:512,updateWhenIdle:t.Browser.mobile,updateInterval:150,noWrap:!1,keepBuffer:1.5},initialize:function(e){t.Util.setOptions(this,e)},onAdd:function(e){this._cells={},this._activeCells={},this._resetView(),this._update()},onRemove:function(e){this._removeAllCells(),this._cellZoom=void 0},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllCells(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=t.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),e},createCell:function(){return document.createElement("div")},removeCell:function(){},reuseCell:function(){},cellLeave:function(){},cellEnter:function(){},getCellSize:function(){var e=this.options.cellSize;return e instanceof t.Point?e:new t.Point(e,e)},_pruneCells:function(){if(this._map){var e,t;for(e in this._cells)t=this._cells[e],t.retain=t.current;for(e in this._cells)if(t=this._cells[e],t.current&&!t.active){var n=t.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(e in this._cells)this._cells[e].retain||this._removeCell(e)}},_removeAllCells:function(){for(var e in this._cells)this._removeCell(e)},_invalidateAll:function(){this._removeAllCells(),this._cellZoom=void 0},_retainParent:function(e,n,r,i){var s=Math.floor(e/2),o=Math.floor(n/2),a=r-1,l=new t.Point(+s,+o);l.z=+a;var u=this._cellCoordsToKey(l),c=this._cells[u];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>i&&this._retainParent(s,o,a,i))},_retainChildren:function(e,n,r,i){for(var s=2*e;s<2*e+2;s++)for(var o=2*n;o<2*n+2;o++){var a=new t.Point(s,o);a.z=r+1;var l=this._cellCoordsToKey(a),u=this._cells[l];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),r+1<i&&this._retainChildren(s,o,r+1,i))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);t||this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_setView:function(e,t,n,r){var i=Math.round(t);r||(this._cellZoom=i,this._abortLoading&&this._abortLoading(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneCells(),this._noPrune=!!n)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._cellSize=this.getCellSize(),r=this._cellZoom,i=this._map.getPixelWorldBounds(this._cellZoom);i&&(this._globalCellRange=this._pxBoundsToCellRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(e){var t=e&&(e.pinch||e.flyTo);t||!this._map||this._map._animatingZoom||this._update()},_getCelldPixelBounds:function(e){var n=this._map,r=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),i=n.getZoomScale(r,this._cellZoom),s=n.project(e,this._cellZoom).floor(),o=n.getSize().divideBy(2*i);return new t.Bounds(s.subtract(o),s.add(o))},_update:function(e){var n=this._map;if(n){var r=Math.round(n.getZoom());void 0===e&&(e=n.getCenter());var i=this._getCelldPixelBounds(e),s=this._pxBoundsToCellRange(i),o=s.getCenter(),a=[],l=this.options.keepBuffer,u=new t.Bounds(s.getBottomLeft().subtract([l,-l]),s.getTopRight().add([l,-l]));if(!(isFinite(s.min.x)&&isFinite(s.min.y)&&isFinite(s.max.x)&&isFinite(s.max.y)))throw new Error("Attempted to load an infinite number of cells");for(var c in this._cells){var h=this._cells[c].coords;h.z===this._cellZoom&&u.contains(new t.Point(h.x,h.y))||(this._cells[c].current=!1)}if(Math.abs(r-this._cellZoom)>1)this._setView(e,r);else{for(var p=s.min.y;p<=s.max.y;p++)for(var d=s.min.x;d<=s.max.x;d++){var f=new t.Point(d,p);if(f.z=this._cellZoom,this._isValidCell(f)){var m=this._cells[this._cellCoordsToKey(f)];m?m.current=!0:a.push(f)}}if(a.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==a.length)for(this._loading||(this._loading=!0),d=0;d<a.length;d++){var y=this._cellCoordsToKey(a[d]),g=this._keyToCellCoords(y);this._activeCells[g]?this._reuseCell(a[d]):this._createCell(a[d])}}}},_isValidCell:function(e){var n=this._map.options.crs;if(!n.infinite){var r=this._globalCellRange;if(!n.wrapLng&&(e.x<r.min.x||e.x>r.max.x)||!n.wrapLat&&(e.y<r.min.y||e.y>r.max.y))return!1}if(!this.options.bounds)return!0;var i=this._cellCoordsToBounds(e);return t.toLatLngBounds(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._cellCoordsToBounds(this._keyToCellCoords(e))},_cellCoordsToNwSe:function(e){var t=this._map,n=this.getCellSize(),r=e.scaleBy(n),i=r.add(n),s=t.unproject(r,e.z),o=t.unproject(i,e.z);return[s,o]},_cellCoordsToBounds:function(e){var n=this._cellCoordsToNwSe(e),r=new t.LatLngBounds(n[0],n[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_cellCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToCellCoords:function(e){var n=e.split(":"),r=new t.Point(+n[0],+n[1]);return r.z=+n[2],r},_removeCell:function(e){var t=this._cells[e];if(t){var n=this._keyToCellCoords(e),r=this._wrapCoords(n),i=this._cellCoordsToBounds(this._wrapCoords(n));t.current=!1,delete this._cells[e],this._activeCells[e]=t,this.cellLeave(i,r,e),this.fire("cellleave",{key:e,coords:r,bounds:i})}},_reuseCell:function(e){var t=this._cellCoordsToKey(e);this._cells[t]=this._activeCells[t],this._cells[t].current=!0;var n=this._wrapCoords(e),r=this._cellCoordsToBounds(this._wrapCoords(e));this.cellEnter(r,n,t),this.fire("cellenter",{key:t,coords:n,bounds:r})},_createCell:function(e){var n=this._cellCoordsToKey(e),r=this._wrapCoords(e),i=this._cellCoordsToBounds(this._wrapCoords(e));this.createCell(i,r,n),this.fire("cellcreate",{key:n,coords:r,bounds:i}),this._cells[n]={coords:e,current:!0},t.Util.requestAnimFrame(this._pruneCells,this)},_cellReady:function(e,t,n){var r=this._cellCoordsToKey(e);n=this._cells[r],n&&(n.loaded=+new Date,n.active=!0)},_getCellPos:function(e){return e.scaleBy(this.getCellSize())},_wrapCoords:function(e){var n=new t.Point(this._wrapX?t.Util.wrapNum(e.x,this._wrapX):e.x,this._wrapY?t.Util.wrapNum(e.y,this._wrapY):e.y);return n.z=e.z,n},_pxBoundsToCellRange:function(e){var n=this.getCellSize();return new t.Bounds(e.min.unscaleBy(n).floor(),e.max.unscaleBy(n).ceil().subtract([1,1]))}});function Ae(e){this.values=[].concat(e||[])}Ae.prototype.query=function(e){var t=this.getIndex(e);return this.values[t]},Ae.prototype.getIndex=function(e){this.dirty&&this.sort();var t,n,r=0,i=this.values.length-1;while(r<=i)if(t=(r+i)/2|0,n=this.values[Math.round(t)],+n.value<+e)r=t+1;else{if(!(+n.value>+e))return t;i=t-1}return Math.abs(~i)},Ae.prototype.between=function(e,t){var n=this.getIndex(e),r=this.getIndex(t);if(0===n&&0===r)return[];while(this.values[n-1]&&this.values[n-1].value===e)n--;while(this.values[r+1]&&this.values[r+1].value===t)r++;return this.values[r]&&this.values[r].value===t&&this.values[r+1]&&r++,this.values.slice(n,r)},Ae.prototype.insert=function(e){return this.values.splice(this.getIndex(e.value),0,e),this},Ae.prototype.bulkAdd=function(e,t){return this.values=this.values.concat([].concat(e||[])),t?this.sort():this.dirty=!0,this},Ae.prototype.sort=function(){return this.values.sort((function(e,t){return+t.value-+e.value})).reverse(),this.dirty=!1,this};var Pe=Te.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6,fetchAllFeatures:!1},initialize:function(e){if(Te.prototype.initialize.call(this,e),e=z(e),e=t.Util.setOptions(this,e),this.service=fe(e),this.service.addEventParent(this),"*"!==this.options.fields[0]){for(var n=!1,r=0;r<this.options.fields.length;r++)this.options.fields[r].match(/^(OBJECTID|FID|OID|ID)$/i)&&(n=!0);!1===n&&m("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new Ae,this._endTimeIndex=new Ae):this.options.timeField&&(this._timeIndex=new Ae),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd:function(e){return V(e),this.service.metadata((function(t,n){if(!t){var r=n.supportedQueryFormats,i=!1;(!1===this.service.options.isModern||this.options.fetchAllFeatures)&&(i=!0),!i&&r&&-1!==r.indexOf("geoJSON")&&(this.service.options.isModern=!0),n.objectIdField&&(this.service.options.idAttribute=n.objectIdField),!this.options.attribution&&e.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,e.attributionControl.addAttribution(this.getAttribution()))}}),this),e.on("zoomend",this._handleZoomChange,this),Te.prototype.onAdd.call(this,e)},onRemove:function(e){return e.off("zoomend",this._handleZoomChange,this),Te.prototype.onRemove.call(this,e)},getAttribution:function(){return this.options.attribution},createCell:function(e,t){this._visibleZoom()&&this._requestFeatures(e,t)},_requestFeatures:function(e,n,r,i){this._activeRequests++,i=i||0;var s=this.options.where;return 1===this._activeRequests&&this.fire("loading",{bounds:e},!0),this._buildQuery(e,i).run((function(o,a,l){l&&l.exceededTransferLimit&&this.fire("drawlimitexceeded"),this.options.where===s&&(!o&&a&&a.features.length&&t.Util.requestAnimFrame(t.Util.bind((function(){this._addFeatures(a.features,n),this._postProcessFeatures(e)}),this)),o||!a||a.features.length||this._postProcessFeatures(e),o&&this._postProcessFeatures(e),r&&r.call(this,o,a),l&&(l.exceededTransferLimit||l.properties&&l.properties.exceededTransferLimit)&&this.options.fetchAllFeatures&&this._requestFeatures(e,n,r,i+a.features.length))}),this)},_postProcessFeatures:function(e){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:e})},_cacheKey:function(e){return e.z+":"+e.x+":"+e.y},_addFeatures:function(e,t){if(t){var n=this._cacheKey(t);this._cache[n]=this._cache[n]||[]}for(var r=e.length-1;r>=0;r--){var i=e[r].id;-1===this._currentSnapshot.indexOf(i)&&this._currentSnapshot.push(i),"undefined"!==typeof n&&-1===this._cache[n].indexOf(i)&&this._cache[n].push(i)}this.options.timeField&&this._buildTimeIndexes(e),this.createLayers(e)},_buildQuery:function(e,n){var r=this.service.query().intersects(e).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.fetchAllFeatures&&!isNaN(parseInt(n))&&(r=r.offset(n)),r.params["resultType"]="tile",this.options.requestParams&&t.Util.extend(r.params,this.options.requestParams),this.options.simplifyFactor&&r.simplify(this._map,this.options.simplifyFactor),"server"===this.options.timeFilterMode&&this.options.from&&this.options.to&&r.between(this.options.from,this.options.to),r},setWhere:function(e,n,r){this.options.where=e&&e.length?e:"1=1";for(var i=[],s=[],o=0,a=null,l=t.Util.bind((function(l,u){if(l&&(a=l),u)for(var c=u.features.length-1;c>=0;c--)s.push(u.features[c].id);o--,o<=0&&this._visibleZoom()&&e===this.options.where&&(this._currentSnapshot=s,t.Util.requestAnimFrame(t.Util.bind((function(){this.removeLayers(i),this.addLayers(s),n&&n.call(r,a)}),this)))}),this),u=this._currentSnapshot.length-1;u>=0;u--)i.push(this._currentSnapshot[u]);for(var c in this._cache={},this._cells){o++;var h=this._keyToCellCoords(c),p=this._cellCoordsToBounds(h);this._requestFeatures(p,h,l)}return this},getWhere:function(){return this.options.where},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(e,n,r,i){var s=this.options.from,o=this.options.to,a=0,l=null,u=t.Util.bind((function(t){t&&(l=t),this._filterExistingFeatures(s,o,e,n),a--,r&&a<=0&&r.call(i,l)}),this);if(this.options.from=e,this.options.to=n,this._filterExistingFeatures(s,o,e,n),"server"===this.options.timeFilterMode)for(var c in this._cells){a++;var h=this._keyToCellCoords(c),p=this._cellCoordsToBounds(h);this._requestFeatures(p,h,u)}return this},refresh:function(){this.setWhere(this.options.where)},_filterExistingFeatures:function(e,n,r,i){var s=e&&n?this._getFeaturesInTimeRange(e,n):this._currentSnapshot,o=this._getFeaturesInTimeRange(r,i);if(o.indexOf)for(var a=0;a<o.length;a++){var l=s.indexOf(o[a]);l>=0&&s.splice(l,1)}t.Util.requestAnimFrame(t.Util.bind((function(){this.removeLayers(s),this.addLayers(o)}),this))},_getFeaturesInTimeRange:function(e,t){var n,r=[];if(this.options.timeField.start&&this.options.timeField.end){var i=this._startTimeIndex.between(e,t),s=this._endTimeIndex.between(e,t);n=i.concat(s)}else{if(!this._timeIndex)return m("You must set timeField in the layer constructor in order to manipulate the start and end time filter."),[];n=this._timeIndex.between(e,t)}for(var o=n.length-1;o>=0;o--)r.push(n[o].id);return r},_buildTimeIndexes:function(e){var t,n;if(this.options.timeField.start&&this.options.timeField.end){var r=[],i=[];for(t=e.length-1;t>=0;t--)n=e[t],r.push({id:n.id,value:new Date(n.properties[this.options.timeField.start])}),i.push({id:n.id,value:new Date(n.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(r),this._endTimeIndex.bulkAdd(i)}else{var s=[];for(t=e.length-1;t>=0;t--)n=e[t],s.push({id:n.id,value:new Date(n.properties[this.options.timeField])});this._timeIndex.bulkAdd(s)}},_featureWithinTimeRange:function(e){if(!this.options.from||!this.options.to)return!0;var t=+this.options.from.valueOf(),n=+this.options.to.valueOf();if("string"===typeof this.options.timeField){var r=+e.properties[this.options.timeField];return r>=t&&r<=n}if(this.options.timeField.start&&this.options.timeField.end){var i=+e.properties[this.options.timeField.start],s=+e.properties[this.options.timeField.end];return i>=t&&i<=n||s>=t&&s<=n||i<=t&&s>=n}},_visibleZoom:function(){if(!this._map)return!1;var e=this._map.getZoom();return!(e>this.options.maxZoom||e<this.options.minZoom)},_handleZoomChange:function(){if(this._visibleZoom())for(var e in this._cells){var t=this._cells[e].coords,n=this._cacheKey(t);this._cache[n]&&this.addLayers(this._cache[n])}else this.removeLayers(this._currentSnapshot)},authenticate:function(e){return this.service.authenticate(e),this},metadata:function(e,t){return this.service.metadata(e,t),this},query:function(){return this.service.query()},_getMetadata:function(e){var n;this._metadata?e(n,this._metadata):this.metadata(t.Util.bind((function(t,n){this._metadata=n,e(t,this._metadata)}),this))},addFeature:function(e,t,n){this.addFeatures(e,t,n)},addFeatures:function(e,n,r){this._getMetadata(t.Util.bind((function(i,s){if(i)n&&n.call(this,i,null);else{var o=e.features?e.features:[e];this.service.addFeatures(e,t.Util.bind((function(e,t){if(!e){for(var i=o.length-1;i>=0;i--)o[i].properties[s.objectIdField]=o.length>1?t[i].objectId:t.objectId,o[i].id=o.length>1?t[i].objectId:t.objectId;this._addFeatures(o)}n&&n.call(r,e,t)}),this))}}),this))},updateFeature:function(e,t,n){this.updateFeatures(e,t,n)},updateFeatures:function(e,t,n){var r=e.features?e.features:[e];this.service.updateFeatures(e,(function(e,i){if(!e){for(var s=r.length-1;s>=0;s--)this.removeLayers([r[s].id],!0);this._addFeatures(r)}t&&t.call(n,e,i)}),this)},deleteFeature:function(e,t,n){this.deleteFeatures(e,t,n)},deleteFeatures:function(e,t,n){return this.service.deleteFeatures(e,(function(e,r){var i=r.length?r:[r];if(!e&&i.length>0)for(var s=i.length-1;s>=0;s--)this.removeLayers([i[s].objectId],!0);t&&t.call(n,e,r)}),this)}}),Ie=Pe.extend({options:{cacheLayers:!0},initialize:function(e){Pe.prototype.initialize.call(this,e),this._originalStyle=this.options.style,this._layers={}},onRemove:function(e){for(var t in this._layers)e.removeLayer(this._layers[t]),this.fire("removefeature",{feature:this._layers[t].feature,permanent:!1},!0);return Pe.prototype.onRemove.call(this,e)},createNewLayer:function(e){var n=t.GeoJSON.geometryToLayer(e,this.options);return n&&(n.defaultOptions=n.options),n},_updateLayer:function(e,n){var r=[],i=this.options.coordsToLatLng||t.GeoJSON.coordsToLatLng;switch(n.properties&&(e.feature.properties=n.properties),n.geometry.type){case"Point":r=t.GeoJSON.coordsToLatLng(n.geometry.coordinates),e.setLatLng(r);break;case"LineString":r=t.GeoJSON.coordsToLatLngs(n.geometry.coordinates,0,i),e.setLatLngs(r);break;case"MultiLineString":r=t.GeoJSON.coordsToLatLngs(n.geometry.coordinates,1,i),e.setLatLngs(r);break;case"Polygon":r=t.GeoJSON.coordsToLatLngs(n.geometry.coordinates,1,i),e.setLatLngs(r);break;case"MultiPolygon":r=t.GeoJSON.coordsToLatLngs(n.geometry.coordinates,2,i),e.setLatLngs(r);break}},createLayers:function(e){for(var t=e.length-1;t>=0;t--){var n,r=e[t],i=this._layers[r.id];!this._visibleZoom()||!i||this._map.hasLayer(i)||this.options.timeField&&!this._featureWithinTimeRange(r)||(this._map.addLayer(i),this.fire("addfeature",{feature:i.feature},!0)),i&&this.options.simplifyFactor>0&&(i.setLatLngs||i.setLatLng)&&this._updateLayer(i,r),i||(n=this.createNewLayer(r),n?(n.feature=r,n.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(n.feature,n),this._layers[n.feature.id]=n,this.setFeatureStyle(n.feature.id,this.options.style),this.fire("createfeature",{feature:n.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(r))&&this._map.addLayer(n)):m("invalid GeoJSON encountered"))}},addLayers:function(e){for(var t=e.length-1;t>=0;t--){var n=this._layers[e[t]];!n||this.options.timeField&&!this._featureWithinTimeRange(n.feature)||this._map.addLayer(n)}},removeLayers:function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n],i=this._layers[r];i&&(this.fire("removefeature",{feature:i.feature,permanent:t},!0),this._map.removeLayer(i)),i&&t&&delete this._layers[r]}},cellEnter:function(e,n){this._visibleZoom()&&!this._zooming&&this._map&&t.Util.requestAnimFrame(t.Util.bind((function(){var e=this._cacheKey(n),t=this._cellCoordsToKey(n),r=this._cache[e];this._activeCells[t]&&r&&this.addLayers(r)}),this))},cellLeave:function(e,n){this._zooming||t.Util.requestAnimFrame(t.Util.bind((function(){if(this._map){var e=this._cacheKey(n),t=this._cellCoordsToKey(n),r=this._cache[e],i=this._map.getBounds();if(!this._activeCells[t]&&r){for(var s=!0,o=0;o<r.length;o++){var a=this._layers[r[o]];a&&a.getBounds&&i.intersects(a.getBounds())&&(s=!1)}s&&this.removeLayers(r,!this.options.cacheLayers),!this.options.cacheLayers&&s&&(delete this._cache[e],delete this._cells[t],delete this._activeCells[t])}}}),this))},resetStyle:function(){return this.options.style=this._originalStyle,this.eachFeature((function(e){this.resetFeatureStyle(e.feature.id)}),this),this},setStyle:function(e){return this.options.style=e,this.eachFeature((function(t){this.setFeatureStyle(t.feature.id,e)}),this),this},resetFeatureStyle:function(e){var n=this._layers[e],r=this._originalStyle||t.Path.prototype.options;return n&&(t.Util.extend(n.options,n.defaultOptions),this.setFeatureStyle(e,r)),this},setFeatureStyle:function(e,t){var n=this._layers[e];return"function"===typeof t&&(t=t(n.feature)),n.setStyle&&n.setStyle(t),this},eachActiveFeature:function(e,t){if(this._map){var n=this._map.getBounds();for(var r in this._layers)-1!==this._currentSnapshot.indexOf(this._layers[r].feature.id)&&("function"===typeof this._layers[r].getLatLng&&n.contains(this._layers[r].getLatLng())||"function"===typeof this._layers[r].getBounds&&n.intersects(this._layers[r].getBounds()))&&e.call(t,this._layers[r])}return this},eachFeature:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getFeature:function(e){return this._layers[e]},bringToBack:function(){this.eachFeature((function(e){e.bringToBack&&e.bringToBack()}))},bringToFront:function(){this.eachFeature((function(e){e.bringToFront&&e.bringToFront()}))},redraw:function(e){return e&&this._redraw(e),this},_redraw:function(e){var n=this._layers[e],r=n.feature;if(n&&n.setIcon&&this.options.pointToLayer&&this.options.pointToLayer){var i=this.options.pointToLayer(r,t.latLng(r.geometry.coordinates[1],r.geometry.coordinates[0])),s=i.options.icon;n.setIcon(s)}if(n&&n.setStyle&&this.options.pointToLayer){var o=this.options.pointToLayer(r,t.latLng(r.geometry.coordinates[1],r.geometry.coordinates[0])),a=o.options;this.setFeatureStyle(r.id,a)}n&&n.setStyle&&this.options.style&&this.resetStyle(r.id)}});function Le(e){return new Ie(e)}e.BasemapLayer=ye,e.DynamicMapLayer=Ce,e.FeatureLayer=Ie,e.FeatureLayerService=de,e.FeatureManager=Pe,e.Find=$,e.Identify=te,e.IdentifyFeatures=re,e.IdentifyImage=se,e.ImageMapLayer=we,e.ImageService=he,e.MapService=ue,e.Query=K,e.RasterLayer=xe,e.Service=ae,e.Support=s,e.Task=Z,e.TiledMapLayer=_e,e.Util=X,e.VERSION=n,e.basemapLayer=ge,e.dynamicMapLayer=Ee,e.featureLayer=Le,e.featureLayerService=fe,e.find=ee,e.get=f,e.identify=ne,e.identifyFeatures=ie,e.identifyImage=oe,e.imageMapLayer=Se,e.imageService=pe,e.mapService=ce,e.options=o,e.post=c,e.query=Q,e.request=p,e.service=le,e.task=Y,e.tiledMapLayer=ve,Object.defineProperty(e,"__esModule",{value:!0})}))},"03dd":function(e,t,n){var r=n("eac5"),i=n("57a5"),s=Object.prototype,o=s.hasOwnProperty;function a(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}e.exports=a},"0621":function(e,t,n){var r=n("9e69"),i=n("d370"),s=n("6747"),o=r?r.isConcatSpreadable:void 0;function a(e){return s(e)||i(e)||!!(o&&e&&e[o])}e.exports=a},"07c7":function(e,t){function n(){return!1}e.exports=n},"07dd":function(e,t,n){"use strict";var r=n("0e21");function i(e,t){this.layers=e.readFields(s,{},t)}function s(e,t,n){if(3===e){var i=new r(n,n.readVarint()+n.pos);i.length&&(t[i.name]=i)}}e.exports=i},"087d":function(e,t){function n(e,t){var n=-1,r=t.length,i=e.length;while(++n<r)e[i+n]=t[n];return e}e.exports=n},"08cc":function(e,t,n){var r=n("1a8c");function i(e){return e===e&&!r(e)}e.exports=i},"0b07":function(e,t,n){var r=n("34ac"),i=n("3698");function s(e,t){var n=i(e,t);return r(n)?n:void 0}e.exports=s},"0b16":function(e,t,n){"use strict";var r=n("1985"),i=n("35e8");function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=x,t.resolve=S,t.resolveObject=C,t.format=w,t.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r","\n","\t"],c=["{","}","|","\\","^","`"].concat(u),h=["'"].concat(c),p=["%","/","?",";","#"].concat(h),d=["/","?","#"],f=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n("b383");function x(e,t,n){if(e&&i.isObject(e)&&e instanceof s)return e;var r=new s;return r.parse(e,t,n),r}function w(e){return i.isString(e)&&(e=x(e)),e instanceof s?e.format():s.prototype.format.call(e)}function S(e,t){return x(e,!1,!0).resolve(t)}function C(e,t){return e?x(e,!1,!0).resolveObject(t):t}s.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),a=-1!==s&&s<e.indexOf("#")?"?":"#",u=e.split(a),c=/\\/g;u[0]=u[0].replace(c,"/"),e=u.join(a);var x=e;if(x=x.trim(),!n&&1===e.split("#").length){var w=l.exec(x);if(w)return this.path=x,this.href=x,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=o.exec(x);if(S){S=S[0];var C=S.toLowerCase();this.protocol=C,x=x.substr(S.length)}if(n||S||x.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===x.substr(0,2);!E||S&&_[S]||(x=x.substr(2),this.slashes=!0)}if(!_[S]&&(E||S&&!v[S])){for(var T,A,P=-1,I=0;I<d.length;I++){var L=x.indexOf(d[I]);-1!==L&&(-1===P||L<P)&&(P=L)}A=-1===P?x.lastIndexOf("@"):x.lastIndexOf("@",P),-1!==A&&(T=x.slice(0,A),x=x.slice(A+1),this.auth=decodeURIComponent(T)),P=-1;for(I=0;I<p.length;I++){L=x.indexOf(p[I]);-1!==L&&(-1===P||L<P)&&(P=L)}-1===P&&(P=x.length),this.host=x.slice(0,P),x=x.slice(P),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var O=this.hostname.split(/\./),k=(I=0,O.length);I<k;I++){var N=O[I];if(N&&!N.match(m)){for(var R="",D=0,F=N.length;D<F;D++)N.charCodeAt(D)>127?R+="x":R+=N[D];if(!R.match(m)){var B=O.slice(0,I),q=O.slice(I+1),z=N.match(y);z&&(B.push(z[1]),q.unshift(z[2])),q.length&&(x="/"+q.join(".")+x),this.hostname=B.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+U,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==x[0]&&(x="/"+x))}if(!g[C])for(I=0,k=h.length;I<k;I++){var j=h[I];if(-1!==x.indexOf(j)){var V=encodeURIComponent(j);V===j&&(V=escape(j)),x=x.split(j).join(V)}}var W=x.indexOf("#");-1!==W&&(this.hash=x.substr(W),x=x.slice(0,W));var H=x.indexOf("?");if(-1!==H?(this.search=x.substr(H),this.query=x.substr(H+1),t&&(this.query=b.parse(this.query)),x=x.slice(0,H)):t&&(this.search="",this.query={}),x&&(this.pathname=x),v[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var J=this.search||"";this.path=U+J}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=b.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==s?(s="//"+(s||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):s||(s=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})),a=a.replace("#","%23"),t+s+n+a+r},s.prototype.resolve=function(e){return this.resolveObject(x(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(i.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var n=new s,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];"protocol"!==c&&(n[c]=e[c])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var h=Object.keys(e),p=0;p<h.length;p++){var d=h[p];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||_[e.protocol])n.pathname=e.pathname;else{var f=(e.pathname||"").split("/");while(f.length&&!(e.host=f.shift()));e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=b||g||n.host&&e.pathname,w=x,S=n.pathname&&n.pathname.split("/")||[],C=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(C&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),x=x&&(""===f[0]||""===S[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=f;else if(f.length)S||(S=[]),S.pop(),S=S.concat(f),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(C){n.hostname=n.host=S.shift();var E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())}return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=S.slice(-1)[0],A=(n.host||e.host||S.length>1)&&("."===T||".."===T)||""===T,P=0,I=S.length;I>=0;I--)T=S[I],"."===T?S.splice(I,1):".."===T?(S.splice(I,1),P++):P&&(S.splice(I,1),P--);if(!x&&!w)for(;P--;P)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),A&&"/"!==S.join("/").substr(-1)&&S.push("");var L=""===S[0]||S[0]&&"/"===S[0].charAt(0);if(C){n.hostname=n.host=L?"":S.length?S.shift():"";E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())}return x=x||n.host&&S.length,x&&!L&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},s.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},"0b49":function(e,t,n){e.exports=n("f542")},"0d24":function(e,t,n){(function(e){var r=n("2b3e"),i=n("07c7"),s=t&&!t.nodeType&&t,o=s&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===s,l=a?r.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||i;e.exports=c}).call(this,n("62e4")(e))},"0e21":function(e,t,n){"use strict";var r=n("1dfc");function i(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(s,this,t),this.length=this._features.length}function s(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(o(n))}function o(e){var t=null,n=e.readVarint()+e.pos;while(e.pos<n){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}e.exports=i,i.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,t,this.extent,this._keys,this._values)}},"0f0f":function(e,t,n){var r=n("8eeb"),i=n("9934");function s(e,t){return e&&r(t,i(t),e)}e.exports=s},"0f5c":function(e,t,n){var r=n("159a");function i(e,t,n){return null==e?e:r(e,t,n)}e.exports=i},1:function(e,t){},"100e":function(e,t,n){var r=n("cd9d"),i=n("2286"),s=n("c1c9");function o(e,t){return s(i(e,t,r),e+"")}e.exports=o},1041:function(e,t,n){var r=n("8eeb"),i=n("a029");function s(e,t){return r(e,i(e),t)}e.exports=s},1146:function(e,t,n){(function(r,i,s){function o(t){t.version="0.16.7";var o=1200,a=1252;"undefined"===typeof cptable&&("undefined"!==typeof r?r.cptable=n("2244"):"undefined"!==typeof window&&(window.cptable=n("2244")));for(var l=[874,932,936,949,950],u=0;u<=8;++u)l.push(1250+u);var c={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},h=function(e){-1!=l.indexOf(e)&&(a=c[0]=e)};function p(){h(1252)}var d=function(e){o=e,h(e)};function f(){d(1200),p()}function m(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function y(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function g(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var _=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return 255==t&&254==n?y(e.slice(2)):254==t&&255==n?g(e.slice(2)):65279==t?e.slice(1):e},v=function(e){return String.fromCharCode(e)},b=function(e){return String.fromCharCode(e)};"undefined"!==typeof cptable&&(d=function(e){o=e,h(e)},_=function(e){return 255===e.charCodeAt(0)&&254===e.charCodeAt(1)?cptable.utils.decode(1200,m(e.slice(2))):e},v=function(e){return 1200===o?String.fromCharCode(e):cptable.utils.decode(o,[255&e,e>>8])[0]},b=function(e){return cptable.utils.decode(a,[e])[0]});var x=null,w=!0,S=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(t){for(var n="",r=0,i=0,s=0,o=0,a=0,l=0,u=0,c=0;c<t.length;)r=t.charCodeAt(c++),o=r>>2,i=t.charCodeAt(c++),a=(3&r)<<4|i>>4,s=t.charCodeAt(c++),l=(15&i)<<2|s>>6,u=63&s,isNaN(i)?l=u=64:isNaN(s)&&(u=64),n+=e.charAt(o)+e.charAt(a)+e.charAt(l)+e.charAt(u);return n},decode:function(t){var n="",r=0,i=0,s=0,o=0,a=0,l=0,u=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),r=o<<2|a>>4,n+=String.fromCharCode(r),l=e.indexOf(t.charAt(c++)),i=(15&a)<<4|l>>2,64!==l&&(n+=String.fromCharCode(i)),u=e.indexOf(t.charAt(c++)),s=(3&l)<<6|u,64!==u&&(n+=String.fromCharCode(s));return n}}}(),C="undefined"!==typeof i&&"undefined"!==typeof s&&"undefined"!==typeof s.versions&&!!s.versions.node,E=function(){};if("undefined"!==typeof i){var T=!i.from;if(!T)try{i.from("foo","utf8")}catch(cg){T=!0}E=T?function(e,t){return t?new i(e,t):new i(e)}:i.from.bind(i),i.alloc||(i.alloc=function(e){return new i(e)}),i.allocUnsafe||(i.allocUnsafe=function(e){return new i(e)})}function A(e){return C?i.alloc(e):new Array(e)}function P(e){return C?i.allocUnsafe(e):new Array(e)}var I=function(e){return C?E(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function L(e){if("undefined"===typeof ArrayBuffer)return I(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function M(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function O(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}function k(e){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(e instanceof ArrayBuffer)return k(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var N=function(e){return[].concat.apply([],e)},R=/\u0000/g,D=/[\u0001-\u0006]/g,F={},B=function(e){function t(e){var t="",n=e.length-1;while(n>=0)t+=e.charAt(n--);return t}function n(e,t){var n="";while(n.length<t)n+=e;return n}function r(e,t){var r=""+e;return r.length>=t?r:n("0",t-r.length)+r}function i(e,t){var r=""+e;return r.length>=t?r:n(" ",t-r.length)+r}function s(e,t){var r=""+e;return r.length>=t?r:r+n(" ",t-r.length)}function o(e,t){var r=""+Math.round(e);return r.length>=t?r:n("0",t-r.length)+r}function a(e,t){var r=""+e;return r.length>=t?r:n("0",t-r.length)+r}e.version="0.11.2";var l=Math.pow(2,32);function u(e,t){if(e>l||e<-l)return o(e,t);var n=Math.round(e);return a(n,t)}function c(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var h=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],p=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function d(e){e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "'}var f={};d(f);var m=[],y=0;for(y=5;y<=8;++y)m[y]=32+y;for(y=23;y<=26;++y)m[y]=0;for(y=27;y<=31;++y)m[y]=14;for(y=50;y<=58;++y)m[y]=14;for(y=59;y<=62;++y)m[y]=y-58;for(y=67;y<=68;++y)m[y]=y-58;for(y=72;y<=75;++y)m[y]=y-58;for(y=67;y<=68;++y)m[y]=y-57;for(y=76;y<=78;++y)m[y]=y-56;for(y=79;y<=81;++y)m[y]=y-34;var g=[];function _(e,t,n){var r=e<0?-1:1,i=e*r,s=0,o=1,a=0,l=1,u=0,c=0,h=Math.floor(i);while(u<t){if(h=Math.floor(i),a=h*o+s,c=h*u+l,i-h<5e-8)break;i=1/(i-h),s=o,o=a,l=u,u=c}if(c>t&&(u>t?(c=l,a=s):(c=u,a=o)),!n)return[0,r*a,c];var p=Math.floor(r*a/c);return[p,r*a-p*c,c]}function v(e,t,n){if(e>2958465||e<0)return null;var r=0|e,i=Math.floor(86400*(e-r)),s=0,o=[],a={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(r+=1462),a.u>.9999&&(a.u=0,86400==++i&&(a.T=i=0,++r,++a.D)),60===r)o=n?[1317,10,29]:[1900,2,29],s=3;else if(0===r)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=A(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}g[5]=g[63]='"$"#,##0_);\\("$"#,##0\\)',g[6]=g[64]='"$"#,##0_);[Red]\\("$"#,##0\\)',g[7]=g[65]='"$"#,##0.00_);\\("$"#,##0.00\\)',g[8]=g[66]='"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',g[41]='_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',g[42]='_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',g[43]='_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',g[44]='_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)',e.parse_date_code=v;var b=new Date(1899,11,31,0,0,0),x=b.getTime(),w=new Date(1900,2,1,0,0,0);function S(e,t){var n=e.getTime();return t?n-=1262304e5:e>=w&&(n+=864e5),(n-(x+6e4*(e.getTimezoneOffset()-b.getTimezoneOffset())))/864e5}function C(e){return e.toString(10)}e._general_int=C;var E=function(){var e=/(?:\.0*|(\.\d*[1-9])0+)$/;function t(t){return-1==t.indexOf(".")?t:t.replace(e,"$1")}var n=/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,r=/(E[+-])(\d)$/;function i(e){return-1==e.indexOf("E")?e:e.replace(n,"$1E").replace(r,"$10$2")}function s(e){var n=e<0?12:11,r=t(e.toFixed(12));return r.length<=n?r:(r=e.toPrecision(10),r.length<=n?r:e.toExponential(5))}function o(e){var n=t(e.toFixed(11));return n.length>(e<0?12:11)||"0"===n||"-0"===n?e.toPrecision(6):n}function a(e){var n,r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return n=r>=-4&&r<=-1?e.toPrecision(10+r):Math.abs(r)<=9?s(e):10===r?e.toFixed(10).substr(0,12):o(e),t(i(n.toUpperCase()))}return a}();function T(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):E(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return q(14,S(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function A(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function P(e,t,n,i){var s,o="",a=0,l=0,u=n.y,c=0;switch(e){case 98:u=n.y+543;case 121:switch(t.length){case 1:case 2:s=u%100,c=2;break;default:s=u%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:s=n.m,c=t.length;break;case 3:return p[n.m-1][1];case 5:return p[n.m-1][0];default:return p[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:s=n.d,c=t.length;break;case 3:return h[n.q][0];default:return h[n.q][1]}break;case 104:switch(t.length){case 1:case 2:s=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:s=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:s=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(l=i>=2?3===i?1e3:100:1===i?10:1,a=Math.round(l*(n.S+n.u)),a>=60*l&&(a=0),"s"===t?0===a?"0":""+a/l:(o=r(a,2+i),"ss"===t?o.substr(0,2):"."+o.substr(2,t.length-1))):r(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":s=24*n.D+n.H;break;case"[m]":case"[mm]":s=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":s=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:s=u,c=1;break}var d=c>0?r(s,c):"";return d}function I(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}e._general_num=E,e._general=T;var L=function(){var e=/%/g;function o(t,r,i){var s=r.replace(e,""),o=r.length-s.length;return L(t,s,i*Math.pow(10,2*o))+n("%",o)}function a(e,t,n){var r=t.length-1;while(44===t.charCodeAt(r-1))--r;return L(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function l(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+l(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),-1===n.indexOf("e")){var o=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);while("0."===n.substr(0,2))n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+s)%i)+"."+r.substr(s)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var c=/# (\?+)( ?)\/( ?)(\d+)/;function h(e,t,s){var o=parseInt(e[4],10),a=Math.round(t*o),l=Math.floor(a/o),u=a-l*o,c=o;return s+(0===l?"":""+l)+" "+(0===u?n(" ",e[1].length+1+e[4].length):i(u,e[1].length)+e[2]+"/"+e[3]+r(c,e[4].length))}function p(e,t,r){return r+(0===t?"":""+t)+n(" ",e[1].length+2+e[4].length)}var d=/^#*0*\.([0#]+)/,f=/\).*[0#]/,m=/\(###\) ###\\?-####/;function y(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function g(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function v(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function b(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function x(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}function w(e,p,S){if(40===e.charCodeAt(0)&&!p.match(f)){var C=p.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return S>=0?w("n",C,S):"("+w("n",C,-S)+")"}if(44===p.charCodeAt(p.length-1))return a(e,p,S);if(-1!==p.indexOf("%"))return o(e,p,S);if(-1!==p.indexOf("E"))return l(p,S);if(36===p.charCodeAt(0))return"$"+w(e,p.substr(" "==p.charAt(1)?2:1),S);var E,T,A,P,M=Math.abs(S),O=S<0?"-":"";if(p.match(/^00+$/))return O+u(M,p.length);if(p.match(/^[#?]+$/))return E=u(S,0),"0"===E&&(E=""),E.length>p.length?E:y(p.substr(0,p.length-E.length))+E;if(T=p.match(c))return h(T,M,O);if(p.match(/^#+0+$/))return O+u(M,p.length-p.indexOf("0"));if(T=p.match(d))return E=g(S,T[1].length).replace(/^([^\.]+)$/,"$1."+y(T[1])).replace(/\.$/,"."+y(T[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+n("0",y(T[1]).length-t.length)})),-1!==p.indexOf("0.")?E:E.replace(/^0\./,".");if(p=p.replace(/^#+([0.])/,"$1"),T=p.match(/^(0*)\.(#*)$/))return O+g(M,T[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,T[1].length?"0.":".");if(T=p.match(/^#{1,3},##0(\.?)$/))return O+I(u(M,0));if(T=p.match(/^#,##0\.([#0]*0)$/))return S<0?"-"+w(e,p,-S):I(""+(Math.floor(S)+b(S,T[1].length)))+"."+r(v(S,T[1].length),T[1].length);if(T=p.match(/^#,#*,#0/))return w(e,p.replace(/^#,#*,/,""),S);if(T=p.match(/^([0#]+)(\\?-([0#]+))+$/))return E=t(w(e,p.replace(/[\\-]/g,""),S)),A=0,t(t(p.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return A<E.length?E.charAt(A++):"0"===e?"0":""})));if(p.match(m))return E=w(e,"##########",S),"("+E.substr(0,3)+") "+E.substr(3,3)+"-"+E.substr(6);var k="";if(T=p.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return A=Math.min(T[4].length,7),P=_(M,Math.pow(10,A)-1,!1),E=""+O,k=L("n",T[1],P[1])," "==k.charAt(k.length-1)&&(k=k.substr(0,k.length-1)+"0"),E+=k+T[2]+"/"+T[3],k=s(P[2],A),k.length<T[4].length&&(k=y(T[4].substr(T[4].length-k.length))+k),E+=k,E;if(T=p.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return A=Math.min(Math.max(T[1].length,T[4].length),7),P=_(M,Math.pow(10,A)-1,!0),O+(P[0]||(P[1]?"":"0"))+" "+(P[1]?i(P[1],A)+T[2]+"/"+T[3]+s(P[2],A):n(" ",2*A+1+T[2].length+T[3].length));if(T=p.match(/^[#0?]+$/))return E=u(S,0),p.length<=E.length?E:y(p.substr(0,p.length-E.length))+E;if(T=p.match(/^([#0?]+)\.([#0]+)$/)){E=""+S.toFixed(Math.min(T[2].length,10)).replace(/([^0])0+$/,"$1"),A=E.indexOf(".");var N=p.indexOf(".")-A,R=p.length-E.length-N;return y(p.substr(0,N)+E+p.substr(p.length-R))}if(T=p.match(/^00,000\.([#0]*0)$/))return A=v(S,T[1].length),S<0?"-"+w(e,p,-S):I(x(S)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?r(0,3-e.length):"")+e}))+"."+r(A,T[1].length);switch(p){case"###,##0.00":return w(e,"#,##0.00",S);case"###,###":case"##,###":case"#,###":var D=I(u(M,0));return"0"!==D?O+D:"";case"###,###.00":return w(e,"###,##0.00",S).replace(/^0\./,".");case"#,###.00":return w(e,"#,##0.00",S).replace(/^0\./,".");default:}throw new Error("unsupported format |"+p+"|")}function S(e,t,n){var r=t.length-1;while(44===t.charCodeAt(r-1))--r;return L(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function C(t,r,i){var s=r.replace(e,""),o=r.length-s.length;return L(t,s,i*Math.pow(10,2*o))+n("%",o)}function E(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+E(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+s)%i)+"."+r.substr(s)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function T(e,o,a){if(40===e.charCodeAt(0)&&!o.match(f)){var l=o.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?T("n",l,a):"("+T("n",l,-a)+")"}if(44===o.charCodeAt(o.length-1))return S(e,o,a);if(-1!==o.indexOf("%"))return C(e,o,a);if(-1!==o.indexOf("E"))return E(o,a);if(36===o.charCodeAt(0))return"$"+T(e,o.substr(" "==o.charAt(1)?2:1),a);var u,h,g,v,b=Math.abs(a),x=a<0?"-":"";if(o.match(/^00+$/))return x+r(b,o.length);if(o.match(/^[#?]+$/))return u=""+a,0===a&&(u=""),u.length>o.length?u:y(o.substr(0,o.length-u.length))+u;if(h=o.match(c))return p(h,b,x);if(o.match(/^#+0+$/))return x+r(b,o.length-o.indexOf("0"));if(h=o.match(d))return u=(""+a).replace(/^([^\.]+)$/,"$1."+y(h[1])).replace(/\.$/,"."+y(h[1])),u=u.replace(/\.(\d*)$/,(function(e,t){return"."+t+n("0",y(h[1]).length-t.length)})),-1!==o.indexOf("0.")?u:u.replace(/^0\./,".");if(o=o.replace(/^#+([0.])/,"$1"),h=o.match(/^(0*)\.(#*)$/))return x+(""+b).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,h[1].length?"0.":".");if(h=o.match(/^#{1,3},##0(\.?)$/))return x+I(""+b);if(h=o.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+T(e,o,-a):I(""+a)+"."+n("0",h[1].length);if(h=o.match(/^#,#*,#0/))return T(e,o.replace(/^#,#*,/,""),a);if(h=o.match(/^([0#]+)(\\?-([0#]+))+$/))return u=t(T(e,o.replace(/[\\-]/g,""),a)),g=0,t(t(o.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return g<u.length?u.charAt(g++):"0"===e?"0":""})));if(o.match(m))return u=T(e,"##########",a),"("+u.substr(0,3)+") "+u.substr(3,3)+"-"+u.substr(6);var w="";if(h=o.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return g=Math.min(h[4].length,7),v=_(b,Math.pow(10,g)-1,!1),u=""+x,w=L("n",h[1],v[1])," "==w.charAt(w.length-1)&&(w=w.substr(0,w.length-1)+"0"),u+=w+h[2]+"/"+h[3],w=s(v[2],g),w.length<h[4].length&&(w=y(h[4].substr(h[4].length-w.length))+w),u+=w,u;if(h=o.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return g=Math.min(Math.max(h[1].length,h[4].length),7),v=_(b,Math.pow(10,g)-1,!0),x+(v[0]||(v[1]?"":"0"))+" "+(v[1]?i(v[1],g)+h[2]+"/"+h[3]+s(v[2],g):n(" ",2*g+1+h[2].length+h[3].length));if(h=o.match(/^[#0?]+$/))return u=""+a,o.length<=u.length?u:y(o.substr(0,o.length-u.length))+u;if(h=o.match(/^([#0]+)\.([#0]+)$/)){u=""+a.toFixed(Math.min(h[2].length,10)).replace(/([^0])0+$/,"$1"),g=u.indexOf(".");var A=o.indexOf(".")-g,P=o.length-u.length-A;return y(o.substr(0,A)+u+o.substr(o.length-P))}if(h=o.match(/^00,000\.([#0]*0)$/))return a<0?"-"+T(e,o,-a):I(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?r(0,3-e.length):"")+e}))+"."+r(0,h[1].length);switch(o){case"###,###":case"##,###":case"#,###":var M=I(""+b);return"0"!==M?x+M:"";default:if(o.match(/\.[0#?]*$/))return T(e,o.slice(0,o.lastIndexOf(".")),a)+y(o.slice(o.lastIndexOf(".")))}throw new Error("unsupported format |"+o+"|")}return function(e,t,n){return(0|n)===n?T(e,t,n):w(e,t,n)}}();function M(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}e._split=M;var O=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function k(e){var t=0,n="",r="";while(t<e.length)switch(n=e.charAt(t)){case"G":c(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("/"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":r=n;while("]"!==e.charAt(t++)&&t<e.length)r+=e.charAt(t);if(r.match(O))return!0;break;case".":case"0":case"#":while(t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1));break;case"?":while(e.charAt(++t)===n);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":while(t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1);break;case" ":++t;break;default:++t;break}return!1}function N(e,t,n,r){var i,s,o,a=[],l="",u=0,h="",p="t",d="H";while(u<e.length)switch(h=e.charAt(u)){case"G":if(!c(e,u))throw new Error("unrecognized character "+h+" in "+e);a[a.length]={t:"G",v:"General"},u+=7;break;case'"':for(l="";34!==(o=e.charCodeAt(++u))&&u<e.length;)l+=String.fromCharCode(o);a[a.length]={t:"t",v:l},++u;break;case"\\":var f=e.charAt(++u),m="("===f||")"===f?f:"t";a[a.length]={t:m,v:f},++u;break;case"_":a[a.length]={t:"t",v:" "},u+=2;break;case"@":a[a.length]={t:"T",v:t},++u;break;case"B":case"b":if("1"===e.charAt(u+1)||"2"===e.charAt(u+1)){if(null==i&&(i=v(t,n,"2"===e.charAt(u+1)),null==i))return"";a[a.length]={t:"X",v:e.substr(u,2)},p=h,u+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":h=h.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&(i=v(t,n),null==i))return"";l=h;while(++u<e.length&&e.charAt(u).toLowerCase()===h)l+=h;"m"===h&&"h"===p.toLowerCase()&&(h="M"),"h"===h&&(h=d),a[a.length]={t:h,v:l},p=h;break;case"A":case"a":case"":var y={t:h,v:h};if(null==i&&(i=v(t,n)),"A/P"===e.substr(u,3).toUpperCase()?(null!=i&&(y.v=i.H>=12?"P":"A"),y.t="T",d="h",u+=3):"AM/PM"===e.substr(u,5).toUpperCase()?(null!=i&&(y.v=i.H>=12?"PM":"AM"),y.t="T",u+=5,d="h"):"/"===e.substr(u,5).toUpperCase()?(null!=i&&(y.v=i.H>=12?"":""),y.t="T",u+=5,d="h"):(y.t="t",++u),null==i&&"T"===y.t)return"";a[a.length]=y,p=h;break;case"[":l=h;while("]"!==e.charAt(u++)&&u<e.length)l+=e.charAt(u);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(O)){if(null==i&&(i=v(t,n),null==i))return"";a[a.length]={t:"Z",v:l.toLowerCase()},p=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",k(e)||(a[a.length]={t:"t",v:l}));break;case".":if(null!=i){l=h;while(++u<e.length&&"0"===(h=e.charAt(u)))l+=h;a[a.length]={t:"s",v:l};break}case"0":case"#":l=h;while(++u<e.length&&"0#?.,E+-%".indexOf(h=e.charAt(u))>-1)l+=h;a[a.length]={t:"n",v:l};break;case"?":l=h;while(e.charAt(++u)===h)l+=h;a[a.length]={t:h,v:l},p=h;break;case"*":++u," "!=e.charAt(u)&&"*"!=e.charAt(u)||++u;break;case"(":case")":a[a.length]={t:1===r?"t":h,v:h},++u;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":l=h;while(u<e.length&&"0123456789".indexOf(e.charAt(++u))>-1)l+=e.charAt(u);a[a.length]={t:"D",v:l};break;case" ":a[a.length]={t:h,v:h},++u;break;case"$":a[a.length]={t:"t",v:"$"},++u;break;default:if(-1===",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(h))throw new Error("unrecognized character "+h+" in "+e);a[a.length]={t:"t",v:h},++u;break}var g,_=0,b=0;for(u=a.length-1,p="t";u>=0;--u)switch(a[u].t){case"h":case"H":a[u].t=d,p="h",_<1&&(_=1);break;case"s":(g=a[u].v.match(/\.0+$/))&&(b=Math.max(b,g[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":p=a[u].t;break;case"m":"s"===p&&(a[u].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&a[u].v.match(/[Hh]/)&&(_=1),_<2&&a[u].v.match(/[Mm]/)&&(_=2),_<3&&a[u].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M);break}var x,w="";for(u=0;u<a.length;++u)switch(a[u].t){case"t":case"T":case" ":case"D":break;case"X":a[u].v="",a[u].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[u].v=P(a[u].t.charCodeAt(0),a[u].v,i,b),a[u].t="t";break;case"n":case"?":x=u+1;while(null!=a[x]&&("?"===(h=a[x].t)||"D"===h||(" "===h||"t"===h)&&null!=a[x+1]&&("?"===a[x+1].t||"t"===a[x+1].t&&"/"===a[x+1].v)||"("===a[u].t&&(" "===h||"n"===h||")"===h)||"t"===h&&("/"===a[x].v||" "===a[x].v&&null!=a[x+1]&&"?"==a[x+1].t)))a[u].v+=a[x].v,a[x]={v:"",t:";"},++x;w+=a[u].v,u=x-1;break;case"G":a[u].t="t",a[u].v=T(t,n);break}var S,C,E="";if(w.length>0){40==w.charCodeAt(0)?(S=t<0&&45===w.charCodeAt(0)?-t:t,C=L("n",w,S)):(S=t<0&&r>1?-t:t,C=L("n",w,S),S<0&&a[0]&&"t"==a[0].t&&(C=C.substr(1),a[0].v="-"+a[0].v)),x=C.length-1;var A=a.length;for(u=0;u<a.length;++u)if(null!=a[u]&&"t"!=a[u].t&&a[u].v.indexOf(".")>-1){A=u;break}var I=a.length;if(A===a.length&&-1===C.indexOf("E")){for(u=a.length-1;u>=0;--u)null!=a[u]&&-1!=="n?".indexOf(a[u].t)&&(x>=a[u].v.length-1?(x-=a[u].v.length,a[u].v=C.substr(x+1,a[u].v.length)):x<0?a[u].v="":(a[u].v=C.substr(0,x+1),x=-1),a[u].t="t",I=u);x>=0&&I<a.length&&(a[I].v=C.substr(0,x+1)+a[I].v)}else if(A!==a.length&&-1===C.indexOf("E")){for(x=C.indexOf(".")-1,u=A;u>=0;--u)if(null!=a[u]&&-1!=="n?".indexOf(a[u].t)){for(s=a[u].v.indexOf(".")>-1&&u===A?a[u].v.indexOf(".")-1:a[u].v.length-1,E=a[u].v.substr(s+1);s>=0;--s)x>=0&&("0"===a[u].v.charAt(s)||"#"===a[u].v.charAt(s))&&(E=C.charAt(x--)+E);a[u].v=E,a[u].t="t",I=u}for(x>=0&&I<a.length&&(a[I].v=C.substr(0,x+1)+a[I].v),x=C.indexOf(".")+1,u=A;u<a.length;++u)if(null!=a[u]&&(-1!=="n?(".indexOf(a[u].t)||u===A)){for(s=a[u].v.indexOf(".")>-1&&u===A?a[u].v.indexOf(".")+1:0,E=a[u].v.substr(0,s);s<a[u].v.length;++s)x<C.length&&(E+=C.charAt(x++));a[u].v=E,a[u].t="t",I=u}}}for(u=0;u<a.length;++u)null!=a[u]&&"n?".indexOf(a[u].t)>-1&&(S=r>1&&t<0&&u>0&&"-"===a[u-1].v?-t:t,a[u].v=L(a[u].t,a[u].v,S),a[u].t="t");var M="";for(u=0;u!==a.length;++u)null!=a[u]&&(M+=a[u].v);return M}e.is_date=k,e._eval=N;var R=/\[[=<>]/,D=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function F(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function B(e,t){var n=M(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!==typeof t)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break;case 4:break}var s=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,s];if(null!=n[0].match(R)||null!=n[1].match(R)){var o=n[0].match(D),a=n[1].match(D);return F(t,o)?[r,n[0]]:F(t,a)?[r,n[1]]:[r,n[null!=o&&null!=a?2:1]]}return[r,s]}function q(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:f)[e],null==r&&(r=n.table&&n.table[m[e]]||f[m[e]]),null==r&&(r=g[e]||"General");break}if(c(r,0))return T(t,n);t instanceof Date&&(t=S(t,n.date1904));var i=B(r,t);if(c(i[1]))return T(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return N(i[1],t,n,i[0])}function z(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(void 0!=f[n]){if(f[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return f[t]=e,t}e.load=z,e._table=f,e.get_table=function(){return f},e.load_table=function(e){for(var t=0;392!=t;++t)void 0!==e[t]&&z(e[t],t)},e.init_table=d,e.format=q};B(F);var q={"General Number":"General","General Date":F._table[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":F._table[15],"Short Date":F._table[14],"Long Time":F._table[19],"Medium Time":F._table[18],"Short Time":F._table[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:F._table[2],Standard:F._table[4],Percent:F._table[10],Scientific:F._table[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'},z={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},U=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function G(e){var t="number"==typeof e?F._table[e]:e;return t=t.replace(U,"(\\d+)"),new RegExp("^"+t+"$")}function j(e,t,n){var r=-1,i=-1,s=-1,o=-1,a=-1,l=-1;(t.match(U)||[]).forEach((function(e,t){var u=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=u;break;case"d":s=u;break;case"h":o=u;break;case"s":l=u;break;case"m":o>=0?a=u:i=u;break}})),l>=0&&-1==a&&i>=0&&(a=i,i=-1);var u=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==u.length&&(u="0"+u),8==u.length&&(u="20"+u);var c=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==o&&-1==a&&-1==l?u:-1==r&&-1==i&&-1==s?c:u+"T"+c}var V,W=!0;(function(e){e(V={})})((function(e){function t(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=n,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,e=1&e?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}e.version="1.2.0";var n=t();function r(e,t){for(var r=-1^t,i=e.length-1,s=0;s<i;)r=r>>>8^n[255&(r^e.charCodeAt(s++))],r=r>>>8^n[255&(r^e.charCodeAt(s++))];return s===i&&(r=r>>>8^n[255&(r^e.charCodeAt(s))]),-1^r}function i(e,t){if(e.length>1e4)return s(e,t);for(var r=-1^t,i=e.length-3,o=0;o<i;)r=r>>>8^n[255&(r^e[o++])],r=r>>>8^n[255&(r^e[o++])],r=r>>>8^n[255&(r^e[o++])],r=r>>>8^n[255&(r^e[o++])];while(o<i+3)r=r>>>8^n[255&(r^e[o++])];return-1^r}function s(e,t){for(var r=-1^t,i=e.length-7,s=0;s<i;)r=r>>>8^n[255&(r^e[s++])],r=r>>>8^n[255&(r^e[s++])],r=r>>>8^n[255&(r^e[s++])],r=r>>>8^n[255&(r^e[s++])],r=r>>>8^n[255&(r^e[s++])],r=r>>>8^n[255&(r^e[s++])],r=r>>>8^n[255&(r^e[s++])],r=r>>>8^n[255&(r^e[s++])];while(s<i+7)r=r>>>8^n[255&(r^e[s++])];return-1^r}function o(e,t){for(var r,i,s=-1^t,o=0,a=e.length;o<a;)r=e.charCodeAt(o++),r<128?s=s>>>8^n[255&(s^r)]:r<2048?(s=s>>>8^n[255&(s^(192|r>>6&31))],s=s>>>8^n[255&(s^(128|63&r))]):r>=55296&&r<57344?(r=64+(1023&r),i=1023&e.charCodeAt(o++),s=s>>>8^n[255&(s^(240|r>>8&7))],s=s>>>8^n[255&(s^(128|r>>2&63))],s=s>>>8^n[255&(s^(128|i>>6&15|(3&r)<<4))],s=s>>>8^n[255&(s^(128|63&i))]):(s=s>>>8^n[255&(s^(224|r>>12&15))],s=s>>>8^n[255&(s^(128|r>>6&63))],s=s>>>8^n[255&(s^(128|63&r))]);return-1^s}e.table=n,e.bstr=r,e.buf=i,e.str=o}));var H,J=function(){var e,t={};function r(e,t){for(var n=e.split("/"),r=t.split("/"),i=0,s=0,o=Math.min(n.length,r.length);i<o;++i){if(s=n[i].length-r[i].length)return s;if(n[i]!=r[i])return n[i]<r[i]?-1:1}return n.length-r.length}function i(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:i(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function s(e){if("/"==e.charAt(e.length-1))return s(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function o(e,t){"string"===typeof t&&(t=new Date(t));var n=t.getHours();n=n<<6|t.getMinutes(),n=n<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=r<<4|t.getMonth()+1,r=r<<5|t.getDate(),e.write_shift(2,r)}function a(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,i=31&n;n>>>=5;var s=15&n;n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(s-1),r.setDate(i);var o=31&t;t>>>=5;var a=63&t;return t>>>=6,r.setHours(t),r.setMinutes(a),r.setSeconds(o<<1),r}function l(e){$t(e,0);var t={},n=0;while(e.l<=e.length-4){var r=e.read_shift(2),i=e.read_shift(2),s=e.l+i,o={};switch(r){case 21589:n=e.read_shift(1),1&n&&(o.mtime=e.read_shift(4)),i>5&&(2&n&&(o.atime=e.read_shift(4)),4&n&&(o.ctime=e.read_shift(4))),o.mtime&&(o.mt=new Date(1e3*o.mtime));break}e.l=s,t[r]=o}return t}function u(){return e||(e=n(1))}function c(e,t){if(80==e[0]&&75==e[1])return Ae(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n=3,r=512,i=0,s=0,o=0,a=0,l=0,u=[],c=e.slice(0,512);$t(c,0);var m=h(c);switch(n=m[0],n){case 3:r=512;break;case 4:r=4096;break;case 0:if(0==m[1])return Ae(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==r&&(c=e.slice(0,r),$t(c,28));var g=e.slice(0,r);p(c,n);var b=c.read_shift(4,"i");if(3===n&&0!==b)throw new Error("# Directory Sectors: Expected 0 saw "+b);c.l+=4,o=c.read_shift(4,"i"),c.l+=4,c.chk("00100000","Mini Stream Cutoff Size: "),a=c.read_shift(4,"i"),i=c.read_shift(4,"i"),l=c.read_shift(4,"i"),s=c.read_shift(4,"i");for(var x=-1,w=0;w<109;++w){if(x=c.read_shift(4,"i"),x<0)break;u[w]=x}var S=d(e,r);y(l,s,S,r,u);var C=_(S,o,u,r);C[o].name="!Directory",i>0&&a!==B&&(C[a].name="!MiniFAT"),C[u[0]].name="!FAT",C.fat_addrs=u,C.ssz=r;var E={},T=[],A=[],P=[];v(o,C,S,T,i,E,A,a),f(A,P,T),T.shift();var I={FileIndex:A,FullPaths:P};return t&&t.raw&&(I.raw={header:g,sectors:S}),I}function h(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(q,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}function p(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}function d(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],i=1;i<n;++i)r[i-1]=e.slice(i*t,(i+1)*t);return r[n-1]=e.slice(n*t),r}function f(e,t,n){for(var r=0,i=0,s=0,o=0,a=0,l=n.length,u=[],c=[];r<l;++r)u[r]=c[r]=r,t[r]=n[r];for(;a<c.length;++a)r=c[a],i=e[r].L,s=e[r].R,o=e[r].C,u[r]===r&&(-1!==i&&u[i]!==i&&(u[r]=u[i]),-1!==s&&u[s]!==s&&(u[r]=u[s])),-1!==o&&(u[o]=r),-1!==i&&r!=u[r]&&(u[i]=u[r],c.lastIndexOf(i)<a&&c.push(i)),-1!==s&&r!=u[r]&&(u[s]=u[r],c.lastIndexOf(s)<a&&c.push(s));for(r=1;r<l;++r)u[r]===r&&(-1!==s&&u[s]!==s?u[r]=u[s]:-1!==i&&u[i]!==i&&(u[r]=u[i]));for(r=1;r<l;++r)if(0!==e[r].type){if(a=r,a!=u[a])do{a=u[a],t[r]=t[a]+"/"+t[r]}while(0!==a&&-1!==u[a]&&a!=u[a]);u[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}function m(e,t,n){var r=e.start,i=e.size,s=[],o=r;while(n&&i>0&&o>=0)s.push(t.slice(o*F,o*F+F)),i-=F,o=Wt(n,4*o);return 0===s.length?tn(0):N(s).slice(0,e.size)}function y(e,t,n,r,i){var s=B;if(e===B){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var o=n[e],a=(r>>>2)-1;if(!o)return;for(var l=0;l<a;++l){if((s=Wt(o,4*l))===B)break;i.push(s)}y(Wt(o,r-4),t-1,n,r,i)}}function g(e,t,n,r,i){var s=[],o=[];i||(i=[]);var a=r-1,l=0,u=0;for(l=t;l>=0;){i[l]=!0,s[s.length]=l,o.push(e[l]);var c=n[Math.floor(4*l/r)];if(u=4*l&a,r<4+u)throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[c])break;l=Wt(e[c],u)}return{nodes:s,data:wt([o])}}function _(e,t,n,r){var i=e.length,s=[],o=[],a=[],l=[],u=r-1,c=0,h=0,p=0,d=0;for(c=0;c<i;++c)if(a=[],p=c+t,p>=i&&(p-=i),!o[p]){l=[];var f=[];for(h=p;h>=0;){f[h]=!0,o[h]=!0,a[a.length]=h,l.push(e[h]);var m=n[Math.floor(4*h/r)];if(d=4*h&u,r<4+d)throw new Error("FAT boundary crossed: "+h+" 4 "+r);if(!e[m])break;if(h=Wt(e[m],d),f[h])break}s[p]={nodes:a,data:wt([l])}}return s}function v(e,t,n,r,i,s,o,a){for(var l,u=0,c=r.length?2:0,h=t[e].data,p=0,d=0;p<h.length;p+=128){var f=h.slice(p,p+128);$t(f,64),d=f.read_shift(2),l=Ct(f,0,d-c),r.push(l);var y={name:l,type:f.read_shift(1),color:f.read_shift(1),L:f.read_shift(4,"i"),R:f.read_shift(4,"i"),C:f.read_shift(4,"i"),clsid:f.read_shift(16),state:f.read_shift(4,"i"),start:0,size:0},_=f.read_shift(2)+f.read_shift(2)+f.read_shift(2)+f.read_shift(2);0!==_&&(y.ct=b(f,f.l-8));var v=f.read_shift(2)+f.read_shift(2)+f.read_shift(2)+f.read_shift(2);0!==v&&(y.mt=b(f,f.l-8)),y.start=f.read_shift(4,"i"),y.size=f.read_shift(4,"i"),y.size<0&&y.start<0&&(y.size=y.type=0,y.start=B,y.name=""),5===y.type?(u=y.start,i>0&&u!==B&&(t[u].name="!StreamData")):y.size>=4096?(y.storage="fat",void 0===t[y.start]&&(t[y.start]=g(n,y.start,t.fat_addrs,t.ssz)),t[y.start].name=y.name,y.content=t[y.start].data.slice(0,y.size)):(y.storage="minifat",y.size<0?y.size=0:u!==B&&y.start!==B&&t[u]&&(y.content=m(y,t[u].data,(t[a]||{}).data))),y.content&&$t(y.content,0),s[l]=y,o.push(y)}}function b(e,t){return new Date(1e3*(Vt(e,t+4)/1e7*Math.pow(2,32)+Vt(e,t)/1e7-11644473600))}function x(t,n){return u(),c(e.readFileSync(t),n)}function w(e,t){switch(t&&t.type||"base64"){case"file":return x(e,t);case"base64":return c(I(S.decode(e)),t);case"binary":return c(I(e),t)}return c(e,t)}function E(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),T(e)}function T(e){var t="Sh33tJ5";if(!J.find(e,"/"+t)){var n=tn(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),L(e)}}function L(e,t){E(e);for(var n=!1,o=!1,a=e.FullPaths.length-1;a>=0;--a){var l=e.FileIndex[a];switch(l.type){case 0:o?n=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:o=!0,isNaN(l.R*l.L*l.C)&&(n=!0),l.R>-1&&l.L>-1&&l.R==l.L&&(n=!0);break;default:n=!0;break}}if(n||t){var u=new Date(1987,1,19),c=0,h=[];for(a=0;a<e.FullPaths.length;++a)0!==e.FileIndex[a].type&&h.push([e.FullPaths[a],e.FileIndex[a]]);for(a=0;a<h.length;++a){var p=i(h[a][0]);for(o=!1,c=0;c<h.length;++c)h[c][0]===p&&(o=!0);o||h.push([p,{name:s(p).replace("/",""),type:1,clsid:U,ct:u,mt:u,content:null}])}for(h.sort((function(e,t){return r(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],a=0;a<h.length;++a)e.FullPaths[a]=h[a][0],e.FileIndex[a]=h[a][1];for(a=0;a<h.length;++a){var d=e.FileIndex[a],f=e.FullPaths[a];if(d.name=s(f).replace("/",""),d.L=d.R=d.C=-(d.color=1),d.size=d.content?d.content.length:0,d.start=0,d.clsid=d.clsid||U,0===a)d.C=h.length>1?1:-1,d.size=0,d.type=5;else if("/"==f.slice(-1)){for(c=a+1;c<h.length;++c)if(i(e.FullPaths[c])==f)break;for(d.C=c>=h.length?-1:c,c=a+1;c<h.length;++c)if(i(e.FullPaths[c])==i(f))break;d.R=c>=h.length?-1:c,d.type=1}else i(e.FullPaths[a+1]||"")==i(f)&&(d.R=a+1),d.type=2}}}function M(e,t){var n=t||{};if(L(e),"zip"==n.fileType)return Ie(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var i=e.FileIndex[r];if(i.content){var s=i.content.length;s>0&&(s<4096?t+=s+63>>6:n+=s+511>>9)}}var o=e.FullPaths.length+3>>2,a=t+7>>3,l=t+127>>7,u=a+n+o+l,c=u+127>>7,h=c<=109?0:Math.ceil((c-109)/127);while(u+c+h+127>>7>c)h=++c<=109?0:Math.ceil((c-109)/127);var p=[1,h,c,l,o,n,t,0];return e.FileIndex[0].size=t<<6,p[7]=(e.FileIndex[0].start=p[0]+p[1]+p[2]+p[3]+p[4]+p[5])+(p[6]+7>>3),p}(e),i=tn(r[7]<<9),s=0,o=0;for(s=0;s<8;++s)i.write_shift(1,z[s]);for(s=0;s<8;++s)i.write_shift(2,0);for(i.write_shift(2,62),i.write_shift(2,3),i.write_shift(2,65534),i.write_shift(2,9),i.write_shift(2,6),s=0;s<3;++s)i.write_shift(2,0);for(i.write_shift(4,0),i.write_shift(4,r[2]),i.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),i.write_shift(4,0),i.write_shift(4,4096),i.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:B),i.write_shift(4,r[3]),i.write_shift(-4,r[1]?r[0]-1:B),i.write_shift(4,r[1]),s=0;s<109;++s)i.write_shift(-4,s<r[2]?r[1]+s:-1);if(r[1])for(o=0;o<r[1];++o){for(;s<236+127*o;++s)i.write_shift(-4,s<r[2]?r[1]+s:-1);i.write_shift(-4,o===r[1]-1?B:o+1)}var a=function(e){for(o+=e;s<o-1;++s)i.write_shift(-4,s+1);e&&(++s,i.write_shift(-4,B))};for(o=s=0,o+=r[1];s<o;++s)i.write_shift(-4,G.DIFSECT);for(o+=r[2];s<o;++s)i.write_shift(-4,G.FATSECT);a(r[3]),a(r[4]);for(var l=0,u=0,c=e.FileIndex[0];l<e.FileIndex.length;++l)c=e.FileIndex[l],c.content&&(u=c.content.length,u<4096||(c.start=o,a(u+511>>9)));a(r[6]+7>>3);while(511&i.l)i.write_shift(-4,G.ENDOFCHAIN);for(o=s=0,l=0;l<e.FileIndex.length;++l)c=e.FileIndex[l],c.content&&(u=c.content.length,!u||u>=4096||(c.start=o,a(u+63>>6)));while(511&i.l)i.write_shift(-4,G.ENDOFCHAIN);for(s=0;s<r[4]<<2;++s){var h=e.FullPaths[s];if(h&&0!==h.length){c=e.FileIndex[s],0===s&&(c.start=c.size?c.start-1:B);var p=0===s&&n.root||c.name;if(u=2*(p.length+1),i.write_shift(64,p,"utf16le"),i.write_shift(2,u),i.write_shift(1,c.type),i.write_shift(1,c.color),i.write_shift(-4,c.L),i.write_shift(-4,c.R),i.write_shift(-4,c.C),c.clsid)i.write_shift(16,c.clsid,"hex");else for(l=0;l<4;++l)i.write_shift(4,0);i.write_shift(4,c.state||0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,0),i.write_shift(4,c.start),i.write_shift(4,c.size),i.write_shift(4,0)}else{for(l=0;l<17;++l)i.write_shift(4,0);for(l=0;l<3;++l)i.write_shift(4,-1);for(l=0;l<12;++l)i.write_shift(4,0)}}for(s=1;s<e.FileIndex.length;++s)if(c=e.FileIndex[s],c.size>=4096){for(i.l=c.start+1<<9,l=0;l<c.size;++l)i.write_shift(1,c.content[l]);for(;511&l;++l)i.write_shift(1,0)}for(s=1;s<e.FileIndex.length;++s)if(c=e.FileIndex[s],c.size>0&&c.size<4096){for(l=0;l<c.size;++l)i.write_shift(1,c.content[l]);for(;63&l;++l)i.write_shift(1,0)}while(i.l<i.length)i.write_shift(1,0);return i}function O(e,t){var n=e.FullPaths.map((function(e){return e.toUpperCase()})),r=n.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),i=!1;47===t.charCodeAt(0)?(i=!0,t=n[0].slice(0,-1)+t):i=-1!==t.indexOf("/");var s=t.toUpperCase(),o=!0===i?n.indexOf(s):r.indexOf(s);if(-1!==o)return e.FileIndex[o];var a=!s.match(D);for(s=s.replace(R,""),a&&(s=s.replace(D,"!")),o=0;o<n.length;++o){if((a?n[o].replace(D,"!"):n[o]).replace(R,"")==s)return e.FileIndex[o];if((a?r[o].replace(D,"!"):r[o]).replace(R,"")==s)return e.FileIndex[o]}return null}t.version="1.1.4";var k,F=64,B=-2,q="d0cf11e0a1b11ae1",z=[208,207,17,224,161,177,26,225],U="00000000000000000000000000000000",G={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:U,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function j(t,n,r){u();var i=M(t,r);e.writeFileSync(n,i)}function W(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function H(t,n){var r=M(t,n);switch(n&&n.type){case"file":return u(),e.writeFileSync(n.filename,r),r;case"binary":return W(r);case"base64":return S.encode(W(r))}return r}function X(e){try{var t=e.InflateRaw,n=new t;if(n._processChunk(new Uint8Array([3,0]),n._finishFlushFlag),!n.bytesRead)throw new Error("zlib does not expose bytesRead");k=e}catch(cg){console.error("cannot use native zlib: "+(cg.message||cg))}}function Z(e,t){if(!k)return Ee(e,t);var n=k.InflateRaw,r=new n,i=r._processChunk(e.slice(e.l),r._finishFlushFlag);return e.l+=r.bytesRead,i}function Y(e){return k?k.deflateRawSync(e):de(e)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],$=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ee(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var te="undefined"!==typeof Uint8Array,ne=te?new Uint8Array(256):[],re=0;re<256;++re)ne[re]=ee(re);function ie(e,t){var n=ne[255&e];return t<=8?n>>>8-t:(n=n<<8|ne[e>>8&255],t<=16?n>>>16-t:(n=n<<8|ne[e>>16&255],n>>>24-t))}function se(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function oe(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function ae(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}function le(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function ue(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function ce(e,t,n){var r=7&t,i=t>>>3,s=(1<<n)-1,o=e[i]>>>r;return n<8-r?o&s:(o|=e[i+1]<<8-r,n<16-r?o&s:(o|=e[i+2]<<16-r,n<24-r||(o|=e[i+3]<<24-r),o&s))}function he(e,t){var n=e.length,r=2*n>t?2*n:t+5,i=0;if(n>=t)return e;if(C){var s=P(r);if(e.copy)e.copy(s);else for(;i<e.length;++i)s[i]=e[i];return s}if(te){var o=new Uint8Array(r);if(o.set)o.set(e);else for(;i<e.length;++i)o[i]=e[i];return o}return e.length=r,e}function pe(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}var de=function(){var e=function(){return function(e,t){var n=0;while(n<e.length){var r=Math.min(65535,e.length-n),i=n+r==e.length;t.write_shift(1,+i),t.write_shift(2,r),t.write_shift(2,65535&~r);while(r-- >0)t[t.l++]=e[n++]}return t.l}}();return function(t){var n=tn(50+Math.floor(1.1*t.length)),r=e(t,n);return n.slice(0,r)}}();function fe(e,t,n){var r=1,i=0,s=0,o=0,a=0,l=e.length,u=te?new Uint16Array(32):pe(32);for(s=0;s<32;++s)u[s]=0;for(s=l;s<n;++s)e[s]=0;l=e.length;var c=te?new Uint16Array(l):pe(l);for(s=0;s<l;++s)u[i=e[s]]++,r<i&&(r=i),c[s]=0;for(u[0]=0,s=1;s<=r;++s)u[s+16]=a=a+u[s-1]<<1;for(s=0;s<l;++s)a=e[s],0!=a&&(c[s]=u[a+16]++);var h=0;for(s=0;s<l;++s)if(h=e[s],0!=h)for(a=ie(c[s],r)>>r-h,o=(1<<r+4-h)-1;o>=0;--o)t[a|o<<h]=15&h|s<<4;return r}var me=te?new Uint16Array(512):pe(512),ye=te?new Uint16Array(32):pe(32);if(!te){for(var ge=0;ge<512;++ge)me[ge]=0;for(ge=0;ge<32;++ge)ye[ge]=0}(function(){for(var e=[],t=0;t<32;t++)e.push(5);fe(e,ye,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);fe(n,me,288)})();var _e=te?new Uint16Array(32768):pe(32768),ve=te?new Uint16Array(32768):pe(32768),be=te?new Uint16Array(128):pe(128),xe=1,we=1;function Se(e,t){var n=le(e,t)+257;t+=5;var r=le(e,t)+1;t+=5;var i=ae(e,t)+4;t+=4;for(var s=0,o=te?new Uint8Array(19):pe(19),a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,u=te?new Uint8Array(8):pe(8),c=te?new Uint8Array(8):pe(8),h=o.length,p=0;p<i;++p)o[K[p]]=s=oe(e,t),l<s&&(l=s),u[s]++,t+=3;var d=0;for(u[0]=0,p=1;p<=l;++p)c[p]=d=d+u[p-1]<<1;for(p=0;p<h;++p)0!=(d=o[p])&&(a[p]=c[d]++);var f=0;for(p=0;p<h;++p)if(f=o[p],0!=f){d=ne[a[p]]>>8-f;for(var m=(1<<7-f)-1;m>=0;--m)be[d|m<<f]=7&f|p<<3}var y=[];for(l=1;y.length<n+r;)switch(d=be[ue(e,t)],t+=7&d,d>>>=3){case 16:s=3+se(e,t),t+=2,d=y[y.length-1];while(s-- >0)y.push(d);break;case 17:s=3+oe(e,t),t+=3;while(s-- >0)y.push(0);break;case 18:s=11+ue(e,t),t+=7;while(s-- >0)y.push(0);break;default:y.push(d),l<d&&(l=d);break}var g=y.slice(0,n),_=y.slice(n);for(p=n;p<286;++p)g[p]=0;for(p=r;p<30;++p)_[p]=0;return xe=fe(g,_e,286),we=fe(_,ve,30),t}function Ce(e,t){if(3==e[0]&&!(3&e[1]))return[A(t),2];var n=0,r=0,i=P(t||1<<18),s=0,o=i.length>>>0,a=0,l=0;while(0==(1&r))if(r=oe(e,n),n+=3,r>>>1!=0)for(r>>>1==1?(a=9,l=5):(n=Se(e,n),a=xe,l=we),!t&&o<s+32767&&(i=he(i,s+32767),o=i.length);;){var u=ce(e,n,a),c=r>>>1==1?me[u]:_e[u];if(n+=15&c,c>>>=4,0===(c>>>8&255))i[s++]=c;else{if(256==c)break;c-=257;var h=c<8?0:c-4>>2;h>5&&(h=0);var p=s+Q[c];h>0&&(p+=ce(e,n,h),n+=h),u=ce(e,n,l),c=r>>>1==1?ye[u]:ve[u],n+=15&c,c>>>=4;var d=c<4?0:c-2>>1,f=$[c];d>0&&(f+=ce(e,n,d),n+=d),!t&&o<p&&(i=he(i,p),o=i.length);while(s<p)i[s]=i[s-f],++s}}else{7&n&&(n+=8-(7&n));var m=e[n>>>3]|e[1+(n>>>3)]<<8;if(n+=32,!t&&o<s+m&&(i=he(i,s+m),o=i.length),"function"===typeof e.copy)e.copy(i,s,n>>>3,(n>>>3)+m),s+=m,n+=8*m;else while(m-- >0)i[s++]=e[n>>>3],n+=8}return[t?i:i.slice(0,s),n+7>>>3]}function Ee(e,t){var n=e.slice(e.l||0),r=Ce(n,t);return e.l+=r[1],r[0]}function Te(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function Ae(e,t){var n=e;$t(n,0);var r=[],i=[],s={FileIndex:r,FullPaths:i};E(s,{root:t.root});var o=n.length-4;while((80!=n[o]||75!=n[o+1]||5!=n[o+2]||6!=n[o+3])&&o>=0)--o;n.l=o+4,n.l+=4;var a=n.read_shift(2);n.l+=6;var u=n.read_shift(4);for(n.l=u,o=0;o<a;++o){n.l+=20;var c=n.read_shift(4),h=n.read_shift(4),p=n.read_shift(2),d=n.read_shift(2),f=n.read_shift(2);n.l+=8;var m=n.read_shift(4),y=l(n.slice(n.l+p,n.l+p+d));n.l+=p+d+f;var g=n.l;n.l=m+4,Pe(n,c,h,s,y),n.l=g}return s}function Pe(e,t,n,r,i){e.l+=2;var s=e.read_shift(2),o=e.read_shift(2),u=a(e);if(8257&s)throw new Error("Unsupported ZIP encryption");for(var c=e.read_shift(4),h=e.read_shift(4),p=e.read_shift(4),d=e.read_shift(2),f=e.read_shift(2),m="",y=0;y<d;++y)m+=String.fromCharCode(e[e.l++]);if(f){var g=l(e.slice(e.l,e.l+f));(g[21589]||{}).mt&&(u=g[21589].mt),((i||{})[21589]||{}).mt&&(u=i[21589].mt)}e.l+=f;var _=e.slice(e.l,e.l+h);switch(o){case 8:_=Z(e,p);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var v=!1;8&s&&(c=e.read_shift(4),134695760==c&&(c=e.read_shift(4),v=!0),h=e.read_shift(4),p=e.read_shift(4)),h!=t&&Te(v,"Bad compressed size: "+t+" != "+h),p!=n&&Te(v,"Bad uncompressed size: "+n+" != "+p);var b=V.buf(_,0);c>>0!=b>>0&&Te(v,"Bad CRC32 checksum: "+c+" != "+b),Me(r,m,_,{unsafe:!0,mt:u})}function Ie(e,t){var n=t||{},r=[],i=[],s=tn(1),a=n.compression?8:0,l=0,u=!1;u&&(l|=8);var c=0,h=0,p=0,d=0,f=e.FullPaths[0],m=f,y=e.FileIndex[0],g=[],_=0;for(c=1;c<e.FullPaths.length;++c)if(m=e.FullPaths[c].slice(f.length),y=e.FileIndex[c],y.size&&y.content&&"Sh33tJ5"!=m){var v=p,b=tn(m.length);for(h=0;h<m.length;++h)b.write_shift(1,127&m.charCodeAt(h));b=b.slice(0,b.l),g[d]=V.buf(y.content,0);var x=y.content;8==a&&(x=Y(x)),s=tn(30),s.write_shift(4,67324752),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,a),y.mt?o(s,y.mt):s.write_shift(4,0),s.write_shift(-4,8&l?0:g[d]),s.write_shift(4,8&l?0:x.length),s.write_shift(4,8&l?0:y.content.length),s.write_shift(2,b.length),s.write_shift(2,0),p+=s.length,r.push(s),p+=b.length,r.push(b),p+=x.length,r.push(x),8&l&&(s=tn(12),s.write_shift(-4,g[d]),s.write_shift(4,x.length),s.write_shift(4,y.content.length),p+=s.l,r.push(s)),s=tn(46),s.write_shift(4,33639248),s.write_shift(2,0),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,a),s.write_shift(4,0),s.write_shift(-4,g[d]),s.write_shift(4,x.length),s.write_shift(4,y.content.length),s.write_shift(2,b.length),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s.write_shift(4,v),_+=s.l,i.push(s),_+=b.length,i.push(b),++d}return s=tn(22),s.write_shift(4,101010256),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,d),s.write_shift(2,d),s.write_shift(4,_),s.write_shift(4,p),s.write_shift(2,0),N([N(r),N(i),s])}function Le(e){var t={};return E(t,e),t}function Me(e,t,n,r){var i=r&&r.unsafe;i||E(e);var o=!i&&J.find(e,t);if(!o){var a=e.FullPaths[0];t.slice(0,a.length)==a?a=t:("/"!=a.slice(-1)&&(a+="/"),a=(a+t).replace("//","/")),o={name:s(t),type:2},e.FileIndex.push(o),e.FullPaths.push(a),i||J.utils.cfb_gc(e)}return o.content=n,o.size=n?n.length:0,r&&(r.CLSID&&(o.clsid=r.CLSID),r.mt&&(o.mt=r.mt),r.ct&&(o.ct=r.ct)),o}function Oe(e,t){E(e);var n=J.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1}function ke(e,t,n){E(e);var r=J.find(e,t);if(r)for(var i=0;i<e.FileIndex.length;++i)if(e.FileIndex[i]==r)return e.FileIndex[i].name=s(n),e.FullPaths[i]=n,!0;return!1}function Ne(e){L(e,!0)}return t.find=O,t.read=w,t.parse=c,t.write=H,t.writeFile=j,t.utils={cfb_new:Le,cfb_add:Me,cfb_del:Oe,cfb_mov:ke,cfb_gc:Ne,ReadShift:Jt,CheckField:Qt,prep_blob:$t,bconcat:N,use_zlib:X,_deflateRaw:de,_inflateRaw:Ee,consts:G},t}();"undefined"===typeof W&&(e.exports=J);try{H=n(1)}catch(cg){}function X(e){return"string"===typeof e?L(e):Array.isArray(e)?O(e):e}function Z(e,t,n){if("undefined"!==typeof H&&H.writeFileSync)return n?H.writeFileSync(e,t,n):H.writeFileSync(e,t);var r="utf8"==n?et(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!==typeof Blob){var i=new Blob([X(r)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if("undefined"!==typeof saveAs)return saveAs(i,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(s)}),6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(null!=o.download)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(s)}),6e4),s}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=M(t)),a.write(t),a.close(),t}catch(cg){if(!cg.message||!cg.message.match(/onstruct/))throw cg}throw new Error("cannot save file "+e)}function Y(e){if("undefined"!==typeof H)return H.readFileSync(e);if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(cg){if(!cg.message||!cg.message.match(/onstruct/))throw cg}throw new Error("Cannot access file "+e)}function K(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function Q(e,t){for(var n=[],r=K(e),i=0;i!==r.length;++i)null==n[e[r[i]][t]]&&(n[e[r[i]][t]]=r[i]);return n}function ee(e){for(var t=[],n=K(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function te(e){for(var t=[],n=K(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function ne(e){for(var t=[],n=K(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var re=new Date(1899,11,30,0,0,0);function ie(e,t){var n=e.getTime();t&&(n-=1263168e5);var r=re.getTime()+6e4*(e.getTimezoneOffset()-re.getTimezoneOffset());return(n-r)/864e5}var se=new Date,oe=re.getTime()+6e4*(se.getTimezoneOffset()-re.getTimezoneOffset()),ae=se.getTimezoneOffset();function le(e){var t=new Date;return t.setTime(24*e*60*60*1e3+oe),t.getTimezoneOffset()!==ae&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-ae)),t}function ue(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(!r)throw new Error("Unsupported ISO Duration Field: M");n*=60;case"S":break}t+=n*parseInt(i[s],10)}return t}var ce=new Date("2017-02-19T19:06:09.000Z");isNaN(ce.getFullYear())&&(ce=new Date("2/19/17"));var he=2017==ce.getFullYear();function pe(e,t){var n=new Date(e);if(he)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==ce.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function de(e){for(var t="",n=0;n!=e.length;++n)t+=String.fromCharCode(e[n]);return t}function fe(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=fe(e[n]));return t}function me(e,t){var n="";while(n.length<t)n+=e;return n}function ye(e){var t=Number(e);if(!isNaN(t))return t;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return n*=100,""}));return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,(function(e,t){return n=-n,t})),isNaN(t=Number(r))?t:t/n):t/n}function ge(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();return isNaN(s)||r<0||r>8099?n:(i>0||s>1)&&101!=r||e.toLowerCase().match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)?t:e.match(/[^-0-9:,\/\\]/)?n:t}var _e,ve=5=="abacaba".split(/(:?b)/i).length;function be(e,t,n){if(ve||"string"==typeof t)return e.split(t);for(var r=e.split(t),i=[r[0]],s=1;s<r.length;++s)i.push(n),i.push(r[s]);return i}function xe(e){return e?e.data?_(e.data):e.asNodeBuffer&&C?_(e.asNodeBuffer().toString("binary")):e.asBinary?_(e.asBinary()):e._data&&e._data.getContent?_(de(Array.prototype.slice.call(e._data.getContent(),0))):e.content&&e.type?_(de(e.content)):null:null}function we(e){if(!e)return null;if(e.data)return m(e.data);if(e.asNodeBuffer&&C)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?m(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Se(e){return e&&".bin"===e.name.slice(-4)?we(e):xe(e)}function Ce(e,t){for(var n=e.FullPaths||K(e.files),r=t.toLowerCase(),i=r.replace(/\//g,"\\"),s=0;s<n.length;++s){var o=n[s].toLowerCase();if(r==o||i==o)return e.files[n[s]]}return null}function Ee(e,t){var n=Ce(e,t);if(null==n)throw new Error("Cannot find file "+t+" in zip");return n}function Te(e,t,n){if(!n)return Se(Ee(e,t));if(!t)return null;try{return Te(e,t)}catch(cg){return null}}function Ae(e,t,n){if(!n)return xe(Ee(e,t));if(!t)return null;try{return Ae(e,t)}catch(cg){return null}}function Pe(e){for(var t=e.FullPaths||K(e.files),n=[],r=0;r<t.length;++r)"/"!=t[r].slice(-1)&&n.push(t[r]);return n.sort()}function Ie(e,t,n){e.FullPaths?J.utils.cfb_add(e,t,n):e.file(t,n)}function Le(){return _e?new _e:J.utils.cfb_new()}function Me(e,t){var n;if(_e)switch(t.type){case"base64":n=new _e(e,{base64:!0});break;case"binary":case"array":n=new _e(e,{base64:!1});break;case"buffer":n=new _e(e);break;default:throw new Error("Unrecognized type "+t.type)}else switch(t.type){case"base64":n=J.read(e,{type:"base64"});break;case"binary":n=J.read(e,{type:"binary"});break;case"buffer":case"array":n=J.read(e,{type:"buffer"});break;default:throw new Error("Unrecognized type "+t.type)}return n}function Oe(e,t){if("/"==e.charAt(0))return e.slice(1);var n=t.split("/");"/"!=t.slice(-1)&&n.pop();var r=e.split("/");while(0!==r.length){var i=r.shift();".."===i?n.pop():"."!==i&&n.push(i)}return n.join("/")}"undefined"!==typeof JSZipSync&&(_e=JSZipSync),e.exports&&"undefined"===typeof _e&&(_e=n("15a4"));var ke='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',Ne=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Re=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s?[\/\?]?>/gm;ke.match(Re)||(Re=/<[^>]*>/g);var De=/<\w*:/,Fe=/<(\/?)\w+:/;function Be(e,t,n){for(var r={},i=0,s=0;i!==e.length;++i)if(32===(s=e.charCodeAt(i))||10===s||13===s)break;if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var o=e.match(Ne),a=0,l="",u=0,c="",h="",p=1;if(o)for(u=0;u!=o.length;++u){for(h=o[u],s=0;s!=h.length;++s)if(61===h.charCodeAt(s))break;c=h.slice(0,s).trim();while(32==h.charCodeAt(s+1))++s;for(p=34==(i=h.charCodeAt(s+1))||39==i?1:0,l=h.slice(s+1+p,h.length-p),a=0;a!=c.length;++a)if(58===c.charCodeAt(a))break;if(a===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),r[c]=l,n||(r[c.toLowerCase()]=l);else{var d=(5===a&&"xmlns"===c.slice(0,5)?"xmlns":"")+c.slice(a+1);if(r[d]&&"ext"==c.slice(a-3,a))continue;r[d]=l,n||(r[d.toLowerCase()]=l)}}return r}function qe(e){return e.replace(Fe,"<$1")}var ze={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Ue=ee(ze),Ge=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(-1==s)return i.replace(e,(function(e,t){return ze[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e})).replace(t,(function(e,t){return String.fromCharCode(parseInt(t,16))}));var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}}(),je=/[&<>'"]/g,Ve=/[\u0000-\u0008\u000b-\u001f]/g;function We(e){var t=e+"";return t.replace(je,(function(e){return Ue[e]})).replace(Ve,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function He(e){return We(e).replace(/ /g,"_x0020_")}var Je=/[\u0000-\u001f]/g;function Xe(e){var t=e+"";return t.replace(je,(function(e){return Ue[e]})).replace(/\n/g,"<br/>").replace(Je,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"}))}function Ze(e){var t=e+"";return t.replace(je,(function(e){return Ue[e]})).replace(Je,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var Ye=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(n){return n.replace(e,t)}}(),Ke=function(){return function(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}}();function Qe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}var $e=function(e){var t="",n=0,r=0,i=0,s=0,o=0,a=0;while(n<e.length)r=e.charCodeAt(n++),r<128?t+=String.fromCharCode(r):(i=e.charCodeAt(n++),r>191&&r<224?(o=(31&r)<<6,o|=63&i,t+=String.fromCharCode(o)):(s=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&s):(o=e.charCodeAt(n++),a=((7&r)<<18|(63&i)<<12|(63&s)<<6|63&o)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(1023&a)))));return t},et=function(e){var t=[],n=0,r=0,i=0;while(n<e.length)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")};if(C){var tt=function(e){var t,n,r,s=i.alloc(2*e.length),o=1,a=0,l=0;for(n=0;n<e.length;n+=o)o=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),o=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),o=3):(o=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),t-=65536,l=55296+(t>>>10&1023),t=56320+(1023&t)),0!==l&&(s[a++]=255&l,s[a++]=l>>>8,l=0),s[a++]=t%256,s[a++]=t>>>8;return s.slice(0,a).toString("ucs2")},nt="foo bar baz";$e(nt)==tt(nt)&&($e=tt);var rt=function(e){return E(e,"binary").toString("utf8")};$e(nt)==rt(nt)&&($e=rt),et=function(e){return E(e,"utf8").toString("binary")}}var it=function(){var e={};return function(t,n){var r=t+"|"+(n||"");return e[r]?e[r]:e[r]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",n||"")}}(),st=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}(),ot=function(){var e={};return function(t){return void 0!==e[t]?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),at=/<\/?(?:vt:)?variant>/g,lt=/<(?:vt:)([^>]*)>([\s\S]*)</;function ut(e,t){var n=Be(e),r=e.match(ot(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach((function(e){var t=e.replace(at,"").match(lt);t&&i.push({v:$e(t[2]),t:t[1]})})),i}var ct=/(^\s|\s$|\n)/;function ht(e,t){return"<"+e+(t.match(ct)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function pt(e){return K(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function dt(e,t,n){return"<"+e+(null!=n?pt(n):"")+(null!=t?(t.match(ct)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function ft(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(cg){if(t)throw cg}return""}function mt(e,t){switch(typeof e){case"string":var n=dt("vt:lpwstr",We(e));return t&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return dt((0|e)==e?"vt:i4":"vt:r8",We(String(e)));case"boolean":return dt("vt:bool",e?"true":"false")}if(e instanceof Date)return dt("vt:filetime",ft(e));throw new Error("Unable to serialize "+e)}var yt={dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema",main:["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"]},gt={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function _t(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],s=5;s>=0;--s)i=256*i+e[t+s];return 2047==r?0==i?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function vt(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,o=r?-t:t;isFinite(o)?0==o?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var a=0;a<=5;++a,s/=256)e[n+a]=255&s;e[n+6]=(15&i)<<4|15&s,e[n+7]=i>>4|r}var bt,xt,wt=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,s=e[0][r].length;i<s;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},St=wt,Ct=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(Gt(e,i)));return r.join("").replace(R,"")},Et=Ct,Tt=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},At=Tt,Pt=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(Ut(e,i)));return r.join("")},It=Pt,Lt=function(e,t){var n=Vt(e,t);return n>0?Pt(e,t+4,t+4+n-1):""},Mt=Lt,Ot=function(e,t){var n=Vt(e,t);return n>0?Pt(e,t+4,t+4+n-1):""},kt=Ot,Nt=function(e,t){var n=2*Vt(e,t);return n>0?Pt(e,t+4,t+4+n-1):""},Rt=Nt;bt=xt=function(e,t){var n=Vt(e,t);return n>0?Ct(e,t+4,t+4+n):""};var Dt,Ft,Bt=function(e,t){var n=Vt(e,t);return n>0?Pt(e,t+4,t+4+n):""},qt=Bt;Dt=Ft=function(e,t){return _t(e,t)};var zt=function(e){return Array.isArray(e)};C&&(Ct=function(e,t,n){return i.isBuffer(e)?e.toString("utf16le",t,n).replace(R,""):Et(e,t,n)},Tt=function(e,t,n){return i.isBuffer(e)?e.toString("hex",t,t+n):At(e,t,n)},Lt=function(e,t){if(!i.isBuffer(e))return Mt(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},Ot=function(e,t){if(!i.isBuffer(e))return kt(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},Nt=function(e,t){if(!i.isBuffer(e))return Rt(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},bt=function(e,t){if(!i.isBuffer(e))return xt(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},Bt=function(e,t){if(!i.isBuffer(e))return qt(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},Pt=function(e,t,n){return i.isBuffer(e)?e.toString("utf8",t,n):It(e,t,n)},wt=function(e){return e[0].length>0&&i.isBuffer(e[0][0])?i.concat(e[0]):St(e)},N=function(e){return i.isBuffer(e[0])?i.concat(e):[].concat.apply([],e)},Dt=function(e,t){return i.isBuffer(e)?e.readDoubleLE(t):Ft(e,t)},zt=function(e){return i.isBuffer(e)||Array.isArray(e)}),"undefined"!==typeof cptable&&(Ct=function(e,t,n){return cptable.utils.decode(1200,e.slice(t,n)).replace(R,"")},Pt=function(e,t,n){return cptable.utils.decode(65001,e.slice(t,n))},Lt=function(e,t){var n=Vt(e,t);return n>0?cptable.utils.decode(a,e.slice(t+4,t+4+n-1)):""},Ot=function(e,t){var n=Vt(e,t);return n>0?cptable.utils.decode(o,e.slice(t+4,t+4+n-1)):""},Nt=function(e,t){var n=2*Vt(e,t);return n>0?cptable.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},bt=function(e,t){var n=Vt(e,t);return n>0?cptable.utils.decode(1200,e.slice(t+4,t+4+n)):""},Bt=function(e,t){var n=Vt(e,t);return n>0?cptable.utils.decode(65001,e.slice(t+4,t+4+n)):""});var Ut=function(e,t){return e[t]},Gt=function(e,t){return 256*e[t+1]+e[t]},jt=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},Vt=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Wt=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Ht=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Jt(e,t){var n,r,s,a,l,u,c="",h=[];switch(t){case"dbcs":if(u=this.l,C&&i.isBuffer(this))c=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)c+=String.fromCharCode(Gt(this,u)),u+=2;e*=2;break;case"utf8":c=Pt(this,this.l,this.l+e);break;case"utf16le":e*=2,c=Ct(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof cptable)return Jt.call(this,e,"dbcs");c=cptable.utils.decode(o,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":c=Lt(this,this.l),e=4+Vt(this,this.l);break;case"lpstr-cp":c=Ot(this,this.l),e=4+Vt(this,this.l);break;case"lpwstr":c=Nt(this,this.l),e=4+2*Vt(this,this.l);break;case"lpp4":e=4+Vt(this,this.l),c=bt(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+Vt(this,this.l),c=Bt(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":e=0,c="";while(0!==(s=Ut(this,this.l+e++)))h.push(v(s));c=h.join("");break;case"_wstr":e=0,c="";while(0!==(s=Gt(this,this.l+e)))h.push(v(s)),e+=2;e+=2,c=h.join("");break;case"dbcs-cont":for(c="",u=this.l,l=0;l<e;++l){if(this.lens&&-1!==this.lens.indexOf(u))return s=Ut(this,u),this.l=u+1,a=Jt.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),h.join("")+a;h.push(v(Gt(this,u))),u+=2}c=h.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof cptable){c=cptable.utils.decode(o,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(c="",u=this.l,l=0;l!=e;++l){if(this.lens&&-1!==this.lens.indexOf(u))return s=Ut(this,u),this.l=u+1,a=Jt.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),h.join("")+a;h.push(v(Ut(this,u))),u+=1}c=h.join("");break;default:switch(e){case 1:return n=Ut(this,this.l),this.l++,n;case 2:return n=("i"===t?jt:Gt)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(n=(e>0?Wt:Ht)(this,this.l),this.l+=4,n):(r=Vt(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==e?Dt(this,this.l):Dt([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:c=Tt(this,this.l,e);break}}return this.l+=e,c}var Xt=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},Zt=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},Yt=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function Kt(e,t,n){var r=0,i=0;if("dbcs"===n){for(i=0;i!=t.length;++i)Yt(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if("sbcs"===n){if("undefined"!==typeof cptable&&874==a)for(i=0;i!=t.length;++i){var s=cptable.utils.encode(a,t.charAt(i));this[this.l+i]=s[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);r=t.length}else{if("hex"===n){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===n){var o=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var l=t.charCodeAt(i);this[this.l++]=255&l,this[this.l++]=l>>8}while(this.l<o)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,Xt(this,t,this.l);break;case 8:if(r=8,"f"===n){vt(this,t,this.l);break}case 16:break;case-4:r=4,Zt(this,t,this.l);break}}return this.l+=r,this}function Qt(e,t){var n=Tt(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function $t(e,t){e.l=t,e.read_shift=Jt,e.chk=Qt,e.write_shift=Kt}function en(e,t){e.l+=t}function tn(e){var t=A(e);return $t(t,0),t}function nn(e,t,n){if(e){var r,i,s;$t(e,e.l||0);var o=e.length,a=0,l=0;while(e.l<o){a=e.read_shift(1),128&a&&(a=(127&a)+((127&e.read_shift(1))<<7));var u=km[a]||km[65535];for(r=e.read_shift(1),s=127&r,i=1;i<4&&128&r;++i)s+=(127&(r=e.read_shift(1)))<<7*i;l=e.l+s;var c=(u.f||en)(e,s,n);if(e.l=l,t(c,u.n,a))return}}}function rn(){var e=[],t=C?256:2048,n=function(e){var t=tn(e);return $t(t,0),t},r=n(t),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},s=function(e){return r&&e<r.length-r.l?r:(i(),r=n(Math.max(e+1,t)))},o=function(){return i(),wt([e])},a=function(e){i(),r=e,null==r.l&&(r.l=r.length),s(t)};return{next:s,push:a,end:o,_bufs:e}}function sn(e,t,n,r){var i,s=+Nm[t];if(!isNaN(s)){r||(r=km[s].p||(n||[]).length||0),i=1+(s>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var o=e.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,128+(127&s)),o.write_shift(1,s>>7));for(var a=0;4!=a;++a){if(!(r>=128)){o.write_shift(1,r);break}o.write_shift(1,128+(127&r)),r>>=7}r>0&&zt(n)&&e.push(n)}}function on(e,t,n){var r=fe(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){while(r.c>=256)r.c-=256;while(r.r>=65536)r.r-=65536}return r}function an(e,t,n){var r=fe(e);return r.s=on(r.s,t.s,n),r.e=on(r.e,t.s,n),r}function ln(e,t){if(e.cRel&&e.c<0){e=fe(e);while(e.c<0)e.c+=t>8?16384:256}if(e.rRel&&e.r<0){e=fe(e);while(e.r<0)e.r+=t>8?1048576:t>5?65536:16384}var n=wn(e);return e.cRel||null==e.cRel||(n=_n(n)),e.rRel||null==e.rRel||(n=fn(n)),n}function un(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?ln(e.s,t.biff)+":"+ln(e.e,t.biff):(e.s.rRel?"":"$")+dn(e.s.r)+":"+(e.e.rRel?"":"$")+dn(e.e.r):(e.s.cRel?"":"$")+gn(e.s.c)+":"+(e.e.cRel?"":"$")+gn(e.e.c)}var cn={},hn=function(e,t){var r;if("undefined"!==typeof t)r=t;else{try{r=n(2)}catch(cg){r=null}}e.rc4=function(e,t){var n=new Array(256),r=0,i=0,s=0,o=0;for(i=0;256!=i;++i)n[i]=i;for(i=0;256!=i;++i)s=s+n[i]+e[i%e.length].charCodeAt(0)&255,o=n[i],n[i]=n[s],n[s]=o;i=s=0;var a=A(t.length);for(r=0;r!=t.length;++r)i=i+1&255,s=(s+n[i])%256,o=n[i],n[i]=n[s],n[s]=o,a[r]=t[r]^n[n[i]+n[s]&255];return a},e.md5=function(e){if(!r)throw new Error("Unsupported crypto");return r.createHash("md5").update(e).digest("hex")}};function pn(e){return parseInt(mn(e),10)-1}function dn(e){return""+(e+1)}function fn(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function mn(e){return e.replace(/\$(\d+)$/,"$1")}function yn(e){for(var t=vn(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function gn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function _n(e){return e.replace(/^([A-Z])/,"$$$1")}function vn(e){return e.replace(/^\$([A-Z])/,"$1")}function bn(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xn(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function wn(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Sn(e){var t=e.indexOf(":");return-1==t?{s:xn(e),e:xn(e)}:{s:xn(e.slice(0,t)),e:xn(e.slice(t+1))}}function Cn(e,t){return"undefined"===typeof t||"number"===typeof t?Cn(e.s,e.e):("string"!==typeof e&&(e=wn(e)),"string"!==typeof t&&(t=wn(t)),e==t?e:e+":"+t)}function En(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s;++r){if((i=e.charCodeAt(r)-64)<1||i>26)break;n=26*n+i}for(t.s.c=--n,n=0;r<s;++r){if((i=e.charCodeAt(r)-48)<0||i>9)break;n=10*n+i}if(t.s.r=--n,r===s||58===e.charCodeAt(++r))return t.e.c=t.s.c,t.e.r=t.s.r,t;for(n=0;r!=s;++r){if((i=e.charCodeAt(r)-64)<1||i>26)break;n=26*n+i}for(t.e.c=--n,n=0;r!=s;++r){if((i=e.charCodeAt(r)-48)<0||i>9)break;n=10*n+i}return t.e.r=--n,t}function Tn(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=F.format(e.z,n?ie(t):t)}catch(cg){}try{return e.w=F.format((e.XF||{}).numFmtId||(n?14:0),n?ie(t):t)}catch(cg){return""+t}}function An(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),Tn(e,void 0==t?e.v:t))}function Pn(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function In(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense;null!=x&&null==i&&(i=x);var s=e||(i?[]:{}),o=0,a=0;if(s&&null!=r.origin){if("number"==typeof r.origin)o=r.origin;else{var l="string"==typeof r.origin?xn(r.origin):r.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var c=En(s["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),-1==o&&(u.e.r=o=c.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[h].length;++p)if("undefined"!==typeof t[h][p]){var d={v:t[h][p]},f=o+h,m=a+p;if(u.s.r>f&&(u.s.r=f),u.s.c>m&&(u.s.c=m),u.e.r<f&&(u.e.r=f),u.e.c<m&&(u.e.c=m),!t[h][p]||"object"!==typeof t[h][p]||Array.isArray(t[h][p])||t[h][p]instanceof Date)if(Array.isArray(d.v)&&(d.f=t[h][p][1],d.v=d.v[0]),null===d.v)if(d.f)d.t="n";else{if(!r.sheetStubs)continue;d.t="z"}else"number"===typeof d.v?d.t="n":"boolean"===typeof d.v?d.t="b":d.v instanceof Date?(d.z=r.dateNF||F._table[14],r.cellDates?(d.t="d",d.w=F.format(d.z,ie(d.v))):(d.t="n",d.v=ie(d.v),d.w=F.format(d.z,d.v))):d.t="s";else d=t[h][p];if(i)s[f]||(s[f]=[]),s[f][m]&&s[f][m].z&&(d.z=s[f][m].z),s[f][m]=d;else{var y=wn({c:m,r:f});s[y]&&s[y].z&&(d.z=s[y].z),s[y]=d}}}return u.s.c<1e7&&(s["!ref"]=Cn(u)),s}function Ln(e,t){return In(null,e,t)}function Mn(e,t){return t||(t=tn(4)),t.write_shift(4,e),t}function On(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function kn(e,t){var n=!1;return null==t&&(n=!0,t=tn(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function Nn(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Rn(e,t){return t||(t=tn(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0),t}function Dn(e,t){var n=e.l,r=e.read_shift(1),i=On(e),s=[],o={t:i,h:i};if(0!==(1&r)){for(var a=e.read_shift(4),l=0;l!=a;++l)s.push(Nn(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function Fn(e,t){var n=!1;return null==t&&(n=!0,t=tn(15+4*e.t.length)),t.write_shift(1,0),kn(e.t,t),n?t.slice(0,t.l):t}hn(cn,"undefined"!==typeof crypto?crypto:void 0);var Bn=Dn;function qn(e,t){var n=!1;return null==t&&(n=!0,t=tn(23+4*e.t.length)),t.write_shift(1,1),kn(e.t,t),t.write_shift(4,1),Rn({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function zn(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function Un(e,t){return null==t&&(t=tn(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Gn=On,jn=kn;function Vn(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function Wn(e,t){var n=!1;return null==t&&(n=!0,t=tn(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var Hn=On,Jn=Vn,Xn=Wn;function Zn(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4,t[0]&=252;var i=0===r?Dt([0,0,0,0,t[0],t[1],t[2],t[3]],0):Wt(t,0)>>2;return n?i/100:i}function Yn(e,t){null==t&&(t=tn(4));var n=0,r=0,i=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?i:e)<<2)+(n+2))}function Kn(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Qn(e,t){return t||(t=tn(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var $n=Kn,er=Qn;function tr(e){return e.read_shift(8,"f")}function nr(e,t){return(t||tn(8)).write_shift(8,e,"f")}function rr(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var u=Or[i];u&&(t.rgb=pl(u));break;case 2:t.rgb=pl([o,a,l]);break;case 3:t.theme=i;break}return 0!=s&&(t.tint=s>0?s/32767:s/32768),t}function ir(e,t){if(t||(t=tn(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}function sr(e){var t=e.read_shift(1);e.l++;var n={fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t};return n}function or(e,t){t||(t=tn(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}function ar(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}function lr(e){return ar(e,1)}function ur(e){return ar(e,2)}var cr=2,hr=3,pr=11,dr=12,fr=19,mr=30,yr=64,gr=65,_r=71,vr=4096,br=80,xr=81,wr=[br,xr],Sr={1:{n:"CodePage",t:cr},2:{n:"Category",t:br},3:{n:"PresentationFormat",t:br},4:{n:"ByteCount",t:hr},5:{n:"LineCount",t:hr},6:{n:"ParagraphCount",t:hr},7:{n:"SlideCount",t:hr},8:{n:"NoteCount",t:hr},9:{n:"HiddenCount",t:hr},10:{n:"MultimediaClipCount",t:hr},11:{n:"ScaleCrop",t:pr},12:{n:"HeadingPairs",t:vr|dr},13:{n:"TitlesOfParts",t:vr|mr},14:{n:"Manager",t:br},15:{n:"Company",t:br},16:{n:"LinksUpToDate",t:pr},17:{n:"CharacterCount",t:hr},19:{n:"SharedDoc",t:pr},22:{n:"HyperlinksChanged",t:pr},23:{n:"AppVersion",t:hr,p:"version"},24:{n:"DigSig",t:gr},26:{n:"ContentType",t:br},27:{n:"ContentStatus",t:br},28:{n:"Language",t:br},29:{n:"Version",t:br},255:{}},Cr={1:{n:"CodePage",t:cr},2:{n:"Title",t:br},3:{n:"Subject",t:br},4:{n:"Author",t:br},5:{n:"Keywords",t:br},6:{n:"Comments",t:br},7:{n:"Template",t:br},8:{n:"LastAuthor",t:br},9:{n:"RevNumber",t:br},10:{n:"EditTime",t:yr},11:{n:"LastPrinted",t:yr},12:{n:"CreatedDate",t:yr},13:{n:"ModifiedDate",t:yr},14:{n:"PageCount",t:hr},15:{n:"WordCount",t:hr},16:{n:"CharCount",t:hr},17:{n:"Thumbnail",t:_r},18:{n:"Application",t:br},19:{n:"DocSecurity",t:hr},255:{}},Er={2147483648:{n:"Locale",t:fr},2147483651:{n:"Behavior",t:fr},1919054434:{}};(function(){for(var e in Er)Object.prototype.hasOwnProperty.call(Er,e)&&(Sr[e]=Cr[e]=Er[e])})();var Tr=Q(Sr,"n"),Ar=Q(Cr,"n"),Pr={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Ir=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Lr(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var Mr=Lr([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Or=fe(Mr),kr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Nr=te(kr),Rr={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.sheetMetadata":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"TODO","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"vba","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Dr=function(){var e={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};return K(e).forEach((function(t){["xlsm","xlam"].forEach((function(n){e[t][n]||(e[t][n]=e[t].xlsx)}))})),K(e).forEach((function(t){K(e[t]).forEach((function(n){Rr[e[t][n]]=t}))})),e}(),Fr=ne(Rr);function Br(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],TODO:[],xmlns:""}}function qr(e){var t=Br();if(!e||!e.match)return t;var n={};if((e.match(Re)||[]).forEach((function(e){var r=Be(e);switch(r[0].replace(De,"<")){case"<?xml":break;case"<Types":t.xmlns=r["xmlns"+(r[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[r.Extension]=r.ContentType;break;case"<Override":void 0!==t[Rr[r.ContentType]]&&t[Rr[r.ContentType]].push(r.PartName);break}})),t.xmlns!==yt.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}yt.CT="http://schemas.openxmlformats.org/package/2006/content-types";var zr=dt("Types",null,{xmlns:yt.CT,"xmlns:xsd":yt.xsd,"xmlns:xsi":yt.xsi}),Ur=[["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels",Fr.rels[0]]].map((function(e){return dt("Default",null,{Extension:e[0],ContentType:e[1]})}));function Gr(e,t){var n,r=[];r[r.length]=ke,r[r.length]=zr,r=r.concat(Ur);var i=function(i){e[i]&&e[i].length>0&&(n=e[i][0],r[r.length]=dt("Override",null,{PartName:("/"==n[0]?"":"/")+n,ContentType:Dr[i][t.bookType||"xlsx"]}))},s=function(n){(e[n]||[]).forEach((function(e){r[r.length]=dt("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:Dr[n][t.bookType||"xlsx"]})}))},o=function(t){(e[t]||[]).forEach((function(e){r[r.length]=dt("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:Fr[t][0]})}))};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("drawings"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var jr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Vr(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Wr(e,t){var n={"!id":{}};if(!e)return n;"/"!==t.charAt(0)&&(t="/"+t);var r={};return(e.match(Re)||[]).forEach((function(e){var i=Be(e);if("<Relationship"===i[0]){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,s.TargetMode=i.TargetMode;var o="External"===i.TargetMode?i.Target:Oe(i.Target,t);n[o]=s,r[i.Id]=s}})),n["!id"]=r,n}yt.RELS="http://schemas.openxmlformats.org/package/2006/relationships";var Hr=dt("Relationships",null,{xmlns:yt.RELS});function Jr(e){var t=[ke,Hr];return K(e["!id"]).forEach((function(n){t[t.length]=dt("Relationship",null,e["!id"][n])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}var Xr=[jr.HLINK,jr.XPATH,jr.XMISS];function Zr(e,t,n,r,i,s){if(i||(i={}),e["!id"]||(e["!id"]={}),t<0)for(t=1;e["!id"]["rId"+t];++t);if(i.Id="rId"+t,i.Type=r,i.Target=n,s?i.TargetMode=s:Xr.indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}var Yr="application/vnd.oasis.opendocument.spreadsheet";function Kr(e,t){var n,r,i=om(e);while(n=am.exec(i))switch(n[3]){case"manifest":break;case"file-entry":if(r=Be(n[0],!1),"/"==r.path&&r.type!==Yr)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function Qr(e){var t=[ke];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}function $r(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function ei(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function ti(e){var t=[ke];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var n=0;n!=e.length;++n)t.push($r(e[n][0],e[n][1])),t.push(ei("",e[n][0]));return t.push($r("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}var ni=function(){var e='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+t.version+"</meta:generator></office:meta></office:document-meta>";return function(){return e}}(),ri=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];yt.CORE_PROPS="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",jr.CORE_PROPS="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties";var ii=function(){for(var e=new Array(ri.length),t=0;t<ri.length;++t){var n=ri[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function si(e){var t={};e=$e(e);for(var n=0;n<ri.length;++n){var r=ri[n],i=e.match(ii[n]);null!=i&&i.length>0&&(t[r[1]]=Ge(i[1])),"date"===r[2]&&t[r[1]]&&(t[r[1]]=pe(t[r[1]]))}return t}var oi=dt("cp:coreProperties",null,{"xmlns:cp":yt.CORE_PROPS,"xmlns:dc":yt.dc,"xmlns:dcterms":yt.dcterms,"xmlns:dcmitype":yt.dcmitype,"xmlns:xsi":yt.xsi});function ai(e,t,n,r,i){null==i[e]&&null!=t&&""!==t&&(i[e]=t,t=We(t),r[r.length]=n?dt(e,t,n):ht(e,t))}function li(e,t){var n=t||{},r=[ke,oi],i={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&ai("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:ft(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),null!=e.ModifiedDate&&ai("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:ft(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=ri.length;++s){var o=ri[s],a=n.Props&&null!=n.Props[o[1]]?n.Props[o[1]]:e?e[o[1]]:null;!0===a?a="1":!1===a?a="0":"number"==typeof a&&(a=String(a)),null!=a&&ai(o[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var ui=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];yt.EXT_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",jr.EXT_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties";var ci=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function hi(e,t,n,r){var i=[];if("string"==typeof e)i=ut(e,r);else for(var s=0;s<e.length;++s)i=i.concat(e[s].map((function(e){return{v:e}})));var o="string"==typeof t?ut(t,r).map((function(e){return e.v})):t,a=0,l=0;if(o.length>0)for(var u=0;u!==i.length;u+=2){switch(l=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=o.slice(a,a+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=o.slice(a,a+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=o.slice(a,a+l);break}a+=l}}function pi(e,t,n){var r={};return t||(t={}),e=$e(e),ui.forEach((function(n){var i=(e.match(it(n[0]))||[])[1];switch(n[2]){case"string":i&&(t[n[1]]=Ge(i));break;case"bool":t[n[1]]="true"===i;break;case"raw":var s=e.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));s&&s.length>0&&(r[n[1]]=s[1]);break}})),r.HeadingPairs&&r.TitlesOfParts&&hi(r.HeadingPairs,r.TitlesOfParts,t,n),t}var di=dt("Properties",null,{xmlns:yt.EXT_PROPS,"xmlns:vt":yt.vt});function fi(e){var t=[],n=dt;return e||(e={}),e.Application="SheetJS",t[t.length]=ke,t[t.length]=di,ui.forEach((function(r){if(void 0!==e[r[1]]){var i;switch(r[2]){case"string":i=We(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false";break}void 0!==i&&(t[t.length]=n(r[0],i))}})),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+We(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}yt.CUST_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",jr.CUST_PROPS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties";var mi=/<[^>]+>[^<]*/g;function yi(e,t){var n={},r="",i=e.match(mi);if(i)for(var s=0;s!=i.length;++s){var o=i[s],a=Be(o);switch(a[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Ge(a.name);break;case"</property>":r=null;break;default:if(0===o.indexOf("<vt:")){var l=o.split(">"),u=l[0].slice(4),c=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":n[r]=Ge(c);break;case"bool":n[r]=Qe(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(c,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(c);break;case"filetime":case"date":n[r]=pe(c);break;case"cy":case"error":n[r]=Ge(c);break;default:if("/"==u.slice(-1))break;t.WTF&&"undefined"!==typeof console&&console.warn("Unexpected",o,u,l)}}else if("</"===o.slice(0,2));else if(t.WTF)throw new Error(o)}}return n}var gi=dt("Properties",null,{xmlns:yt.CUST_PROPS,"xmlns:vt":yt.vt});function _i(e){var t=[ke,gi];if(!e)return t.join("");var n=1;return K(e).forEach((function(r){++n,t[t.length]=dt("property",mt(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:We(r)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var vi={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},bi=ee(vi);function xi(e,t,n){t=bi[t]||t,e[t]=n}function wi(e,t){var n=[];return K(vi).map((function(e){for(var t=0;t<ri.length;++t)if(ri[t][1]==e)return ri[t];for(t=0;t<ui.length;++t)if(ui[t][1]==e)return ui[t];throw e})).forEach((function(r){if(null!=e[r[1]]){var i=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(ht(vi[r[1]]||r[1],i))}})),dt("DocumentProperties",n.join(""),{xmlns:gt.o})}function Si(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&K(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<ri.length;++r)if(t==ri[r][1])return;for(r=0;r<ui.length;++r)if(t==ui[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var s=e[t],o="string";"number"==typeof s?(o="float",s=String(s)):!0===s||!1===s?(o="boolean",s=s?"1":"0"):s=String(s),i.push(dt(He(t),s,{"dt:dt":o}))}})),t&&K(t).forEach((function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&(!e||!Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],s="string";"number"==typeof r?(s="float",r=String(r)):!0===r||!1===r?(s="boolean",r=r?"1":"0"):r instanceof Date?(s="dateTime.tz",r=r.toISOString()):r=String(r),i.push(dt(He(n),r,{"dt:dt":s}))}})),"<"+r+' xmlns="'+gt.o+'">'+i.join("")+"</"+r+">"}function Ci(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date(1e3*(n/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function Ei(e){var t="string"==typeof e?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r%=Math.pow(2,32),i+=s);var o=tn(8);return o.write_shift(4,r),o.write_shift(4,i),o}function Ti(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)while(e.l-r&3)++e.l;return i}function Ai(e,t,n){var r=e.read_shift(0,"lpwstr");return n&&(e.l+=4-(r.length+1&3)&3),r}function Pi(e,t,n){return 31===t?Ai(e):Ti(e,t,n)}function Ii(e,t,n){return Pi(e,t,!1===n?0:4)}function Li(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Pi(e,t,0)}function Mi(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(R,"");return n}function Oi(e){return Mi(e)}function ki(e){var t=qi(e,xr),n=qi(e,hr);return[t,n]}function Ni(e){for(var t=e.read_shift(4),n=[],r=0;r!=t/2;++r)n.push(ki(e));return n}function Ri(e){return Ni(e)}function Di(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var s=e.read_shift(4),o=e.read_shift(4);r[s]=e.read_shift(o,1200===t?"utf16le":"utf8").replace(R,"").replace(D,"!"),1200===t&&o%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),r}function Fi(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),n}function Bi(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function qi(e,t,n){var r,i=e.read_shift(2),s=n||{};if(e.l+=2,t!==dr&&i!==t&&-1===wr.indexOf(t))throw new Error("Expected type "+t+" saw "+i);switch(t===dr?i:t){case 2:return r=e.read_shift(2,"i"),s.raw||(e.l+=2),r;case 3:return r=e.read_shift(4,"i"),r;case 11:return 0!==e.read_shift(4);case 19:return r=e.read_shift(4),r;case 30:return Ti(e,i,4).replace(R,"");case 31:return Ai(e);case 64:return Ci(e);case 65:return Fi(e);case 71:return Bi(e);case 80:return Ii(e,i,!s.raw).replace(R,"");case 81:return Li(e,i).replace(R,"");case 4108:return Ri(e);case 4126:return Oi(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+i)}}function zi(e,t){var n=tn(4),r=tn(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=tn(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=Ei(t);break;case 31:case 80:r=tn(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");while(r.l!=r.length)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return N([n,r])}function Ui(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0,a=0,l=-1,u={};for(o=0;o!=i;++o){var c=e.read_shift(4),h=e.read_shift(4);s[o]=[c,h+n]}s.sort((function(e,t){return e[1]-t[1]}));var p={};for(o=0;o!=i;++o){if(e.l!==s[o][1]){var f=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,f=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],f=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],f=!1);break}if((!t||0==o)&&e.l<=s[o][1]&&(f=!1,e.l=s[o][1]),f)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var m=t[s[o][0]];if(p[m.n]=qi(e,m.t,{raw:!0}),"version"===m.p&&(p[m.n]=String(p[m.n]>>16)+"."+("0000"+String(65535&p[m.n])).slice(-4)),"CodePage"==m.n)switch(p[m.n]){case 0:p[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:d(a=p[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[m.n])}}else if(1===s[o][0]){if(a=p.CodePage=qi(e,cr),d(a),-1!==l){var y=e.l;e.l=s[l][1],u=Di(e,a),e.l=y}}else if(0===s[o][0]){if(0===a){l=o,e.l=s[o+1][1];continue}u=Di(e,a)}else{var g,_=u[s[o][0]];switch(e[e.l]){case 65:e.l+=4,g=Fi(e);break;case 30:e.l+=4,g=Ii(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,g=Ii(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,g=e.read_shift(4,"i");break;case 19:e.l+=4,g=e.read_shift(4);break;case 5:e.l+=4,g=e.read_shift(8,"f");break;case 11:e.l+=4,g=Yi(e,4);break;case 64:e.l+=4,g=pe(Ci(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[_]=g}}return e.l=n+r,p}var Gi=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"].concat(ci);function ji(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function Vi(e,t,n){var r=tn(8),i=[],s=[],o=8,a=0,l=tn(8),u=tn(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),o+=8+l.length,!t){u=tn(8),u.write_shift(4,0),i.unshift(u);var c=[tn(4)];for(c[0].write_shift(4,e.length),a=0;a<e.length;++a){var h=e[a][0];l=tn(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");while(l.l!=l.length)l.write_shift(1,0);c.push(l)}l=N(c),s.unshift(l),o+=8+l.length}for(a=0;a<e.length;++a)if((!t||t[e[a][0]])&&!(Gi.indexOf(e[a][0])>-1)&&null!=e[a][1]){var p=e[a][1],d=0;if(t){d=+t[e[a][0]];var f=n[d];if("version"==f.p&&"string"==typeof p){var m=p.split(".");p=(+m[0]<<16)+(+m[1]||0)}l=zi(f.t,p)}else{var y=ji(p);-1==y&&(y=31,p=String(p)),l=zi(y,p)}s.push(l),u=tn(8),u.write_shift(4,t?d:2+a),i.push(u),o+=8+l.length}var g=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,g),g+=s[a].length;return r.write_shift(4,o),r.write_shift(4,s.length),N([r].concat(i).concat(s))}function Wi(e,t,n){var r=e.content;if(!r)return{};$t(r,0);var i,s,o,a,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var u=r.read_shift(4),c=r.read_shift(16);if(c!==J.utils.consts.HEADER_CLSID&&c!==n)throw new Error("Bad PropertySet CLSID "+c);if(i=r.read_shift(4),1!==i&&2!==i)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),a=r.read_shift(4),1===i&&a!==r.l)throw new Error("Length mismatch: "+a+" !== "+r.l);2===i&&(o=r.read_shift(16),l=r.read_shift(4));var h,p=Ui(r,t),d={SystemIdentifier:u};for(var f in p)d[f]=p[f];if(d.FMTID=s,1===i)return d;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);try{h=Ui(r,null)}catch(cg){}for(f in h)d[f]=h[f];return d.FMTID=[s,o],d}function Hi(e,t,n,r,i,s){var o=tn(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,J.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,i?68:48);var l=Vi(e,n,r);if(a.push(l),i){var u=Vi(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),a.push(u)}return N(a)}function Ji(e,t){return e.read_shift(t),null}function Xi(e,t){t||(t=tn(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function Zi(e,t,n){var r=[],i=e.l+t;while(e.l<i)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function Yi(e,t){return 1===e.read_shift(t)}function Ki(e,t){return t||(t=tn(2)),t.write_shift(2,+!!e),t}function Qi(e){return e.read_shift(2,"u")}function $i(e,t){return t||(t=tn(2)),t.write_shift(2,e),t}function es(e,t){return Zi(e,t,Qi)}function ts(e){var t=e.read_shift(1),n=e.read_shift(1);return 1===n?t:1===t}function ns(e,t,n){return n||(n=tn(2)),n.write_shift(1,+e),n.write_shift(1,"e"==t?1:0),n}function rs(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont",s=o;if(n&&n.biff>=8&&(o=1200),n&&8!=n.biff)12==n.biff&&(i="wstr");else{var a=e.read_shift(1);a&&(i="dbcs-cont")}n.biff>=2&&n.biff<=5&&(i="cpstr");var l=r?e.read_shift(r,i):"";return o=s,l}function is(e){var t=o;o=1200;var n,r=e.read_shift(2),i=e.read_shift(1),s=4&i,a=8&i,l=1+(1&i),u=0,c={};a&&(u=e.read_shift(2)),s&&(n=e.read_shift(4));var h=2==l?"dbcs-cont":"sbcs-cont",p=0===r?"":e.read_shift(r,h);return a&&(e.l+=4*u),s&&(e.l+=n),c.t=p,a||(c.raw="<t>"+c.t+"</t>",c.r=c.t),o=t,c}function ss(e){var t=e.t||"",n=1,r=tn(3+(n>1?2:0));r.write_shift(2,t.length),r.write_shift(1,1|(n>1?8:0)),n>1&&r.write_shift(2,n);var i=tn(2*t.length);i.write_shift(2*t.length,t,"utf16le");var s=[r,i];return N(s)}function os(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return r=0===i?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont"),r}function as(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):os(e,r,n)}function ls(e,t,n){if(n.biff>5)return as(e,t,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function us(e,t,n){return n||(n=tn(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function cs(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function hs(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(R,"");return r&&(e.l+=24),i}function ps(e){e.l+=2;var t=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");var n=e.read_shift(4);if(0===n)return t.replace(/\\/g,"/");var r=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");var i=e.read_shift(r>>1,"utf16le").replace(R,"");return i}function ds(e,t){var n=e.read_shift(16);switch(t-=16,n){case"e0c9ea79f9bace118c8200aa004ba90b":return hs(e,t);case"0303000000000000c000000000000046":return ps(e,t);default:throw new Error("Unsupported Moniker "+n)}}function fs(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(R,""):"";return n}function ms(e,t){var n=e.l+t,r=e.read_shift(4);if(2!==r)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var s,o,a,l,u,c,h="";16&i&&(s=fs(e,n-e.l)),128&i&&(o=fs(e,n-e.l)),257===(257&i)&&(a=fs(e,n-e.l)),1===(257&i)&&(l=ds(e,n-e.l)),8&i&&(h=fs(e,n-e.l)),32&i&&(u=e.read_shift(16)),64&i&&(c=Ci(e)),e.l=n;var p=o||a||l||"";p&&h&&(p+="#"+h),p||(p="#"+h);var d={Target:p};return u&&(d.guid=u),c&&(d.time=c),s&&(d.Tooltip=s),d}function ys(e){var t=tn(512),n=0,r=e.Target,i=r.indexOf("#")>-1?31:23;switch(r.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(n=0;n<s.length;++n)t.write_shift(4,s[n]);if(28==i){for(r=r.slice(1),t.write_shift(4,r.length+1),n=0;n<r.length;++n)t.write_shift(2,r.charCodeAt(n));t.write_shift(2,0)}else if(2&i){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<s.length;++n)t.write_shift(1,parseInt(s[n],16));for(t.write_shift(4,2*(r.length+1)),n=0;n<r.length;++n)t.write_shift(2,r.charCodeAt(n));t.write_shift(2,0)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<s.length;++n)t.write_shift(1,parseInt(s[n],16));var o=0;while("../"==r.slice(3*o,3*o+3)||"..\\"==r.slice(3*o,3*o+3))++o;for(t.write_shift(2,o),t.write_shift(4,r.length+1),n=0;n<r.length;++n)t.write_shift(1,255&r.charCodeAt(n));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function gs(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,n,r,i]}function _s(e,t){var n=gs(e,t);return n[3]=0,n}function vs(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function bs(e,t,n,r){return r||(r=tn(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function xs(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function ws(e,t,n){return 0===t?"":ls(e,t,n)}function Ss(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),s=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[i,s,o]}function Cs(e){var t=e.read_shift(2),n=Zn(e);return[t,n]}function Es(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=rs(e,t,n),s=e.read_shift(2);if(r-=e.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,i}function Ts(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function As(e,t){return t||(t=tn(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Ps(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var Is=Ps;function Ls(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function Ms(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Os(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ks(e){e.l+=2,e.l+=e.read_shift(2)}var Ns={0:ks,4:ks,5:ks,6:ks,7:Os,8:ks,9:ks,10:ks,11:ks,12:ks,13:Ms,14:ks,15:ks,16:ks,17:ks,18:ks,19:ks,20:ks,21:Ls};function Rs(e,t){var n=e.l+t,r=[];while(e.l<n){var i=e.read_shift(2);e.l-=2;try{r.push(Ns[i](e,n-e.l))}catch(cg){return e.l=n,r}}return e.l!=n&&(e.l=n),r}function Ds(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function Fs(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=tn(i);return s.write_shift(2,r),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Bs(e,t){return 0===t||e.read_shift(2),1200}function qs(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=ls(e,0,n);return e.read_shift(t+r-e.l),i}function zs(e,t){var n=!t||8==t.biff,r=tn(n?112:54);r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));while(r.l<r.length)r.write_shift(1,n?0:32);return r}function Us(e,t,n){var r=n&&8==n.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&r}}function Gs(e,t,n){var r=e.read_shift(4),i=3&e.read_shift(1),s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=rs(e,0,n);return 0===o.length&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function js(e,t){var n=!t||t.biff>=8?2:1,r=tn(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function Vs(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0;o!=i&&e.l<n;++o)s.push(is(e));return s.Count=r,s.Unique=i,s}function Ws(e,t){var n=tn(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],i=0;i<e.length;++i)r[i]=ss(e[i],t);var s=N([n].concat(r));return s.parts=[n.length].concat(r.map((function(e){return e.length}))),s}function Hs(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function Js(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,7&r&&(t.level=7&r),32&r&&(t.hidden=!0),64&r&&(t.hpt=n/20),t}function Xs(e){var t=xs(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return 0!==n}function Zs(e){return e.read_shift(2),e.read_shift(4)}function Ys(e,t,n){var r=0;n&&2==n.biff||(r=e.read_shift(2));var i=e.read_shift(2);n&&2==n.biff&&(r=1-(i>>15),i&=32767);var s={Unsynced:1&r,DyZero:(2&r)>>1,ExAsc:(4&r)>>2,ExDsc:(8&r)>>3};return[s,i]}function Ks(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:a,Selected:l,TabRatio:u}}function Qs(){var e=tn(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function $s(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:64&r}}function eo(e){var t=tn(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function to(){}function no(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=rs(e,0,n),r}function ro(e,t){var n=e.name||"Arial",r=t&&5==t.biff,i=r?15+n.length:16+2*n.length,s=tn(i);return s.write_shift(2,20*(e.sz||12)),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function io(e){var t=vs(e);return t.isst=e.read_shift(4),t}function so(e,t,n,r){var i=tn(10);return bs(e,t,r,i),i.write_shift(4,n),i}function oo(e,t,n){var r=e.l+t,i=vs(e,6);2==n.biff&&e.l++;var s=as(e,r-e.l,n);return i.val=s,i}function ao(e,t,n,r,i){var s=!i||8==i.biff,o=tn(+s+8+(1+s)*n.length);return bs(e,t,r,o),o.write_shift(2,n.length),s&&o.write_shift(1,1),o.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),o}function lo(e,t,n){var r=e.read_shift(2),i=ls(e,0,n);return[r,i]}function uo(e,t,n,r){var i=n&&5==n.biff;r||(r=tn(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return null==s.l&&(s.l=s.length),s}var co=ls;function ho(e,t,n){var r=e.l+t,i=8!=n.biff&&n.biff?2:4,s=e.read_shift(i),o=e.read_shift(i),a=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:s,c:a},e:{r:o,c:l}}}function po(e,t){var n=8!=t.biff&&t.biff?2:4,r=tn(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function fo(e){var t=e.read_shift(2),n=e.read_shift(2),r=Cs(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function mo(e,t){var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];while(e.l<n)s.push(Cs(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r:r,c:i,C:o,rkrec:s}}function yo(e,t){var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];while(e.l<n)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r:r,c:i,C:o,ixfe:s}}function go(e,t,n,r){var i={},s=e.read_shift(4),o=e.read_shift(4),a=e.read_shift(4),l=e.read_shift(2);return i.patternType=Ir[a>>26],r.cellStyles?(i.alc=7&s,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=15&o,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=127&a,i.icvBottom=a>>7&127,i.icvDiag=a>>14&127,i.dgDiag=a>>21&15,i.icvFore=127&l,i.icvBack=l>>7&127,i.fsxButton=l>>14&1,i):i}function _o(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=go(e,t,r.fStyle,n),r}function vo(e,t,n,r){var i=n&&5==n.biff;return r||(r=tn(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4)),r.write_shift(4,0),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function bo(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function xo(e){var t=tn(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}function wo(e,t,n){var r=vs(e,6);2==n.biff&&++e.l;var i=ts(e,2);return r.val=i,r.t=!0===i||!1===i?"b":"e",r}function So(e,t,n,r,i,s){var o=tn(8);return bs(e,t,r,o),ns(n,s,o),o}function Co(e){var t=vs(e,6),n=tr(e,8);return t.val=n,t}function Eo(e,t,n,r){var i=tn(14);return bs(e,t,r,i),nr(n,i),i}var To=ws;function Ao(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,1025==s||14849==s)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);var o=os(e,s),a=[];while(r>e.l)a.push(as(e));return[s,i,o,a]}function Po(e,t,n){var r,i=e.read_shift(2),s={fBuiltIn:1&i,fWantAdvise:i>>>1&1,fWantPict:i>>>2&1,fOle:i>>>3&1,fOleLink:i>>>4&1,cf:i>>>5&1023,fIcon:i>>>15&1};return 14849===n.sbcch&&(r=Es(e,t-2,n)),s.body=r||e.read_shift(t-2),"string"===typeof r&&(s.Name=r),s}var Io=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Lo(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),a=e.read_shift(n&&2==n.biff?1:2),l=0;(!n||n.biff>=5)&&(5!=n.biff&&(e.l+=2),l=e.read_shift(2),5==n.biff&&(e.l+=2),e.l+=4);var u=os(e,o,n);32&i&&(u=Io[u.charCodeAt(0)]);var c=r-e.l;n&&2==n.biff&&--c;var h=r==e.l||0===a?[]:Hh(e,c,n,a);return{chKey:s,Name:u,itab:l,rgce:h}}function Mo(e,t,n){if(n.biff<8)return Oo(e,t,n);var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);while(0!==s--)r.push(Ss(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function Oo(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=rs(e,t,n);return 3==r.charCodeAt(0)?r.slice(1):r}function ko(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),s=os(e,r,n),o=os(e,i,n);return[s,o]}e.l+=t}function No(e,t,n){var r=Ps(e,6);e.l++;var i=e.read_shift(1);return t-=8,[Jh(e,t,n),i,r]}function Ro(e,t,n){var r=Is(e,6);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,Vh(e,t,n,r)]}function Do(e){var t=0!==e.read_shift(4),n=0!==e.read_shift(4),r=e.read_shift(4);return[t,n,r]}function Fo(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),a=ls(e,0,n);return n.biff<8&&e.read_shift(1),[{r:r,c:i},a,o,s]}}function Bo(e,t,n){return Fo(e,t,n)}function qo(e,t){var n=[],r=e.read_shift(2);while(r--)n.push(Ts(e,t));return n}function zo(e){var t=tn(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)As(e[n],t);return t}function Uo(e,t,n){if(n&&n.biff<8)return jo(e,t,n);var r=Ls(e,22),i=Rs(e,t-22,r[1]);return{cmo:r,ft:i}}var Go=[];function jo(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((Go[r]||en)(e,t,n)),{cmo:[i,r,s],ft:o}}function Vo(e,t,n){var r=e.l,i="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(s)?e.l+=6:cs(e,6,n);var o=e.read_shift(2);e.read_shift(2),Qi(e,2);var a=e.read_shift(2);e.l+=a;for(var l=1;l<e.lens.length-1;++l){if(e.l-r!=e.lens[l])throw new Error("TxO: bad continue record");var u=e[e.l],c=os(e,e.lens[l+1]-e.lens[l]-1);if(i+=c,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==2*o)throw new Error("cchText: "+o+" != "+i.length);return e.l=r+t,{t:i}}catch(cg){return e.l=r+t,{t:i}}}function Wo(e,t){var n=Ts(e,8);e.l+=16;var r=ms(e,t-24);return[n,r]}function Ho(e){var t=tn(24),n=xn(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return N([t,ys(e[1])])}function Jo(e,t){e.read_shift(2);var n=Ts(e,8),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(R,""),[n,r]}function Xo(e){var t=e[1].Tooltip,n=tn(10+2*(t.length+1));n.write_shift(2,2048);var r=xn(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}function Zo(e){var t,n=[0,0];return t=e.read_shift(2),n[0]=Pr[t]||t,t=e.read_shift(2),n[1]=Pr[t]||t,n}function Yo(e){return e||(e=tn(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Ko(e){var t=e.read_shift(2),n=[];while(t-- >0)n.push(_s(e,8));return n}function Qo(e){var t=e.read_shift(2),n=[];while(t-- >0)n.push(_s(e,8));return n}function $o(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function ea(e,t,n){if(!n.cellStyles)return en(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),a=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var u={s:i,e:s,w:o,ixfe:a,flags:l};return(n.biff>=5||!n.biff)&&(u.level=l>>8&7),u}function ta(e,t){var n={};return t<32||(e.l+=16,n.header=tr(e,8),n.footer=tr(e,8),e.l+=2),n}function na(e,t,n){var r={area:!1};if(5!=n.biff)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,16&i&&(r.area=!0),r}function ra(e){for(var t=tn(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}Go[8]=function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}};var ia=vs,sa=es,oa=as;function aa(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function la(e,t,n){var r=vs(e,6);++e.l;var i=ls(e,t-7,n);return r.t="str",r.val=i,r}function ua(e){var t=vs(e,6);++e.l;var n=tr(e,8);return t.t="n",t.val=n,t}function ca(e,t,n){var r=tn(15);return qm(r,e,t),r.write_shift(8,n,"f"),r}function ha(e){var t=vs(e,6);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function pa(e,t,n){var r=tn(9);return qm(r,e,t),r.write_shift(2,n),r}function da(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}function fa(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function ma(e,t,n){var r=e.l+t,i=vs(e,6),s=e.read_shift(2),o=os(e,s,n);return e.l=r,i.t="str",i.val=o,i}var ya=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,255:16969},t=ee({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127}),n=[2,3,48,49,131,139,140,245];function r(t,n){var r=[],i=A(1);switch(n.type){case"base64":i=I(S.decode(t));break;case"binary":i=I(t);break;case"buffer":case"array":i=t;break}$t(i,0);var s=i.read_shift(1),o=!1,a=!1,l=!1;switch(s){case 2:case 3:break;case 48:a=!0,o=!0;break;case 49:a=!0;break;case 131:o=!0;break;case 139:o=!0;break;case 140:o=!0,l=!0;break;case 245:o=!0;break;default:throw new Error("DBF Unsupported Version: "+s.toString(16))}var u=0,c=0;2==s&&(u=i.read_shift(2)),i.l+=3,2!=s&&(u=i.read_shift(4)),2!=s&&(c=i.read_shift(2));var h=i.read_shift(2),p=1252;2!=s&&(i.l+=16,i.read_shift(1),0!==i[i.l]&&(p=e[i[i.l]]),i.l+=1,i.l+=2),l&&(i.l+=36);var d=[],f={},m=c-10-(a?264:0),y=l?32:11;while(2==s?i.l<i.length&&13!=i[i.l]:i.l<m)switch(f={},f.name=cptable.utils.decode(p,i.slice(i.l,i.l+y)).replace(/[\u0000\r\n].*$/g,""),i.l+=y,f.type=String.fromCharCode(i.read_shift(1)),2==s||l||(f.offset=i.read_shift(4)),f.len=i.read_shift(1),2==s&&(f.offset=i.read_shift(2)),f.dec=i.read_shift(1),f.name.length&&d.push(f),2!=s&&(i.l+=l?13:14),f.type){case"B":a&&8==f.len||!n.WTF||console.log("Skipping "+f.name+":"+f.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+f.name+":"+f.type);break;case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":case"0":case"@":case"+":break;default:throw new Error("Unknown Field Type: "+f.type)}if(13!==i[i.l]?i.l=c-1:2==s&&(i.l=521),2!=s){if(13!==i.read_shift(1))throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=c}var g=0,_=0;for(r[0]=[],_=0;_!=d.length;++_)r[0][_]=d[_].name;while(u-- >0)if(42!==i[i.l])for(++i.l,r[++g]=[],_=0,_=0;_!=d.length;++_){var v=i.slice(i.l,i.l+d[_].len);i.l+=d[_].len,$t(v,0);var b=cptable.utils.decode(p,v);switch(d[_].type){case"C":r[g][_]=cptable.utils.decode(p,v),r[g][_]=r[g][_].trim();break;case"D":8===b.length?r[g][_]=new Date(+b.slice(0,4),+b.slice(4,6)-1,+b.slice(6,8)):r[g][_]=b;break;case"F":r[g][_]=parseFloat(b.trim());break;case"+":case"I":r[g][_]=l?2147483648^v.read_shift(-4,"i"):v.read_shift(4,"i");break;case"L":switch(b.toUpperCase()){case"Y":case"T":r[g][_]=!0;break;case"N":case"F":r[g][_]=!1;break;case" ":case"?":r[g][_]=!1;break;default:throw new Error("DBF Unrecognized L:|"+b+"|")}break;case"M":if(!o)throw new Error("DBF Unexpected MEMO for type "+s.toString(16));r[g][_]="##MEMO##"+(l?parseInt(b.trim(),10):v.read_shift(4));break;case"N":r[g][_]=+b.replace(/\u0000/g,"").trim();break;case"@":r[g][_]=new Date(v.read_shift(-8,"f")-621356832e5);break;case"T":r[g][_]=new Date(864e5*(v.read_shift(4)-2440588)+v.read_shift(4));break;case"Y":r[g][_]=v.read_shift(4,"i")/1e4;break;case"O":r[g][_]=-v.read_shift(-8,"f");break;case"B":if(a&&8==d[_].len){r[g][_]=v.read_shift(8,"f");break}case"G":case"P":v.l+=d[_].len;break;case"0":if("_NullFlags"===d[_].name)break;default:throw new Error("DBF Unsupported data type "+d[_].type)}}else i.l+=h;if(2!=s&&i.l<i.length&&26!=i[i.l++])throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),r}function i(e,t){var n=t||{};return n.dateNF||(n.dateNF="yyyymmdd"),Ln(r(e,n),n)}function s(e,t){try{return Pn(i(e,t),t)}catch(cg){if(t&&t.WTF)throw cg}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function l(e,n){var r=n||{};if(+r.codepage>=0&&d(+r.codepage),"string"==r.type)throw new Error("Cannot write DBF to JS string");var i=rn(),s=tg(e,{header:1,raw:!0,cellDates:!0}),l=s[0],u=s.slice(1),c=0,h=0,p=0,f=1;for(c=0;c<l.length;++c)if(null!=c){if(++p,"number"===typeof l[c]&&(l[c]=l[c].toString(10)),"string"!==typeof l[c])throw new Error("DBF Invalid column name "+l[c]+" |"+typeof l[c]+"|");if(l.indexOf(l[c])!==c)for(h=0;h<1024;++h)if(-1==l.indexOf(l[c]+"_"+h)){l[c]+="_"+h;break}}var m=En(e["!ref"]),y=[];for(c=0;c<=m.e.c-m.s.c;++c){var g=[];for(h=0;h<u.length;++h)null!=u[h][c]&&g.push(u[h][c]);if(0!=g.length&&null!=l[c]){var _="",v="";for(h=0;h<g.length;++h){switch(typeof g[h]){case"number":v="B";break;case"string":v="C";break;case"boolean":v="L";break;case"object":v=g[h]instanceof Date?"D":"C";break;default:v="C"}if(_=_&&_!=v?"C":v,"C"==_)break}f+=o[_]||0,y[c]=_}else y[c]="?"}var b=i.next(32);for(b.write_shift(4,318902576),b.write_shift(4,u.length),b.write_shift(2,296+32*p),b.write_shift(2,f),c=0;c<4;++c)b.write_shift(4,0);for(b.write_shift(4,0|(+t[a]||3)<<8),c=0,h=0;c<l.length;++c)if(null!=l[c]){var x=i.next(32),w=(l[c].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);x.write_shift(1,w,"sbcs"),x.write_shift(1,"?"==y[c]?"C":y[c],"sbcs"),x.write_shift(4,h),x.write_shift(1,o[y[c]]||0),x.write_shift(1,0),x.write_shift(1,2),x.write_shift(4,0),x.write_shift(1,0),x.write_shift(4,0),x.write_shift(4,0),h+=o[y[c]]||0}var S=i.next(264);for(S.write_shift(4,13),c=0;c<65;++c)S.write_shift(4,0);for(c=0;c<u.length;++c){var C=i.next(f);for(C.write_shift(1,0),h=0;h<l.length;++h)if(null!=l[h])switch(y[h]){case"L":C.write_shift(1,null==u[c][h]?63:u[c][h]?84:70);break;case"B":C.write_shift(8,u[c][h]||0,"f");break;case"D":u[c][h]?(C.write_shift(4,("0000"+u[c][h].getFullYear()).slice(-4),"sbcs"),C.write_shift(2,("00"+(u[c][h].getMonth()+1)).slice(-2),"sbcs"),C.write_shift(2,("00"+u[c][h].getDate()).slice(-2),"sbcs")):C.write_shift(8,"00000000","sbcs");break;case"C":var E=String(u[c][h]||"");for(C.write_shift(1,E,"sbcs"),p=0;p<250-E.length;++p)C.write_shift(1,32);break}}return i.next(1).write_shift(1,26),i.end()}return{versions:n,to_workbook:s,to_sheet:i,from_sheet:l}}(),ga=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,B:180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("N("+K(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?b(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:b(r)};function i(e,t){switch(t.type){case"base64":return s(S.decode(e),t);case"binary":return s(e,t);case"buffer":return s(e.toString("binary"),t);case"array":return s(de(e),t)}throw new Error("Unrecognized type "+t.type)}function s(e,i){var s,o=e.split(/[\n\r]+/),a=-1,l=-1,u=0,c=0,h=[],p=[],f=null,m={},y=[],g=[],_=[],v=0;for(+i.codepage>=0&&d(+i.codepage);u!==o.length;++u){v=0;var b,x=o[u].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),w=x.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),S=w[0];if(x.length>0)switch(S){case"ID":break;case"E":break;case"B":break;case"O":break;case"P":"P"==w[1].charAt(0)&&p.push(x.slice(3).replace(/;;/g,";"));break;case"C":var C=!1,E=!1;for(c=1;c<w.length;++c)switch(w[c].charAt(0)){case"X":l=parseInt(w[c].slice(1))-1,E=!0;break;case"Y":for(a=parseInt(w[c].slice(1))-1,E||(l=0),s=h.length;s<=a;++s)h[s]=[];break;case"K":b=w[c].slice(1),'"'===b.charAt(0)?b=b.slice(1,b.length-1):"TRUE"===b?b=!0:"FALSE"===b?b=!1:isNaN(ye(b))?isNaN(ge(b).getDate())||(b=pe(b)):(b=ye(b),null!==f&&F.is_date(f)&&(b=le(b))),"undefined"!==typeof cptable&&"string"==typeof b&&"string"!=(i||{}).type&&(i||{}).codepage&&(b=cptable.utils.decode(i.codepage,b)),C=!0;break;case"E":var T=ac(w[c].slice(1),{r:a,c:l});h[a][l]=[h[a][l],T];break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+x)}C&&(h[a][l]=b,f=null);break;case"F":var A=0;for(c=1;c<w.length;++c)switch(w[c].charAt(0)){case"X":l=parseInt(w[c].slice(1))-1,++A;break;case"Y":for(a=parseInt(w[c].slice(1))-1,s=h.length;s<=a;++s)h[s]=[];break;case"M":v=parseInt(w[c].slice(1))/20;break;case"F":break;case"G":break;case"P":f=p[parseInt(w[c].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(_=w[c].slice(1).split(" "),s=parseInt(_[0],10);s<=parseInt(_[1],10);++s)v=parseInt(_[2],10),g[s-1]=0===v?{hidden:!0}:{wch:v},El(g[s-1]);break;case"C":l=parseInt(w[c].slice(1))-1,g[l]||(g[l]={});break;case"R":a=parseInt(w[c].slice(1))-1,y[a]||(y[a]={}),v>0?(y[a].hpt=v,y[a].hpx=Il(v)):0===v&&(y[a].hidden=!0);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+x)}A<1&&(f=null);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+x)}}return y.length>0&&(m["!rows"]=y),g.length>0&&(m["!cols"]=g),i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),[h,m]}function o(e,t){var n=i(e,t),r=n[0],s=n[1],o=Ln(r,t);return K(s).forEach((function(e){o[e]=s[e]})),o}function a(e,t){return Pn(o(e,t),t)}function l(e,t,n,r){var i="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":i+=e.v||0,e.f&&!e.F&&(i+=";E"+uc(e.f,{r:n,c:r}));break;case"b":i+=e.v?"TRUE":"FALSE";break;case"e":i+=e.w||e.v;break;case"d":i+='"'+(e.w||e.v)+'"';break;case"s":i+='"'+e.v.replace(/"/g,"")+'"';break}return i}function u(e,t){t.forEach((function(t,n){var r="F;W"+(n+1)+" "+(n+1)+" ";t.hidden?r+="0":("number"==typeof t.width&&(t.wpx=bl(t.width)),"number"==typeof t.wpx&&(t.wch=xl(t.wpx)),"number"==typeof t.wch&&(r+=Math.round(t.wch)))," "!=r.charAt(r.length-1)&&e.push(r)}))}function c(e,t){t.forEach((function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*Pl(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))}))}function h(e,t){var n,r=["ID;PWXL;N;E"],i=[],s=En(e["!ref"]),o=Array.isArray(e),a="\r\n";r.push("P;PGeneral"),r.push("F;P0;DG0G8;M255"),e["!cols"]&&u(r,e["!cols"]),e["!rows"]&&c(r,e["!rows"]),r.push("B;Y"+(s.e.r-s.s.r+1)+";X"+(s.e.c-s.s.c+1)+";D"+[s.s.c,s.s.r,s.e.c,s.e.r].join(" "));for(var h=s.s.r;h<=s.e.r;++h)for(var p=s.s.c;p<=s.e.c;++p){var d=wn({r:h,c:p});n=o?(e[h]||[])[p]:e[d],n&&(null!=n.v||n.f&&!n.F)&&i.push(l(n,e,h,p,t))}return r.join(a)+a+i.join(a)+a+"E"+a}return e["|"]=254,{to_workbook:a,to_sheet:o,from_sheet:h}}(),_a=function(){function e(e,n){switch(n.type){case"base64":return t(S.decode(e),n);case"binary":return t(e,n);case"buffer":return t(e.toString("binary"),n);case"array":return t(de(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){for(var n=e.split("\n"),r=-1,i=-1,s=0,o=[];s!==n.length;++s)if("BOT"!==n[s].trim()){if(!(r<0)){var a=n[s].trim().split(","),l=a[0],u=a[1];++s;var c=n[s].trim();switch(+l){case-1:if("BOT"===c){o[++r]=[],i=0;continue}if("EOD"!==c)throw new Error("Unrecognized DIF special command "+c);break;case 0:"TRUE"===c?o[r][i]=!0:"FALSE"===c?o[r][i]=!1:isNaN(ye(u))?isNaN(ge(u).getDate())?o[r][i]=u:o[r][i]=pe(u):o[r][i]=ye(u),++i;break;case 1:c=c.slice(1,c.length-1),o[r][i++]=""!==c?c:null;break}if("EOD"===c)break}}else o[++r]=[],i=0;return t&&t.sheetRows&&(o=o.slice(0,t.sheetRows)),o}function n(t,n){return Ln(e(t,n),n)}function r(e,t){return Pn(n(e,t),t)}var i=function(){var e=function(e,t,n,r,i){e.push(t),e.push(n+","+r),e.push('"'+i.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,i=[],s=En(n["!ref"]),o=Array.isArray(n);e(i,"TABLE",0,1,"sheetjs"),e(i,"VECTORS",0,s.e.r-s.s.r+1,""),e(i,"TUPLES",0,s.e.c-s.s.c+1,""),e(i,"DATA",0,0,"");for(var a=s.s.r;a<=s.e.r;++a){t(i,-1,0,"BOT");for(var l=s.s.c;l<=s.e.c;++l){var u=wn({r:a,c:l});if(r=o?(n[a]||[])[l]:n[u],r)switch(r.t){case"n":var c=w?r.w:r.v;c||null==r.v||(c=r.v),null==c?w&&r.f&&!r.F?t(i,1,0,"="+r.f):t(i,1,0,""):t(i,0,c,"V");break;case"b":t(i,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(i,1,0,!w||isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=F.format(r.z||F._table[14],ie(pe(r.v)))),w?t(i,0,r.w,"V"):t(i,1,0,r.w);break;default:t(i,1,0,"")}else t(i,1,0,"")}}t(i,-1,0,"EOD");var h="\r\n",p=i.join(h);return p}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),va=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(t,n){for(var r=t.split("\n"),i=-1,s=-1,o=0,a=[];o!==r.length;++o){var l=r[o].trim().split(":");if("cell"===l[0]){var u=xn(l[1]);if(a.length<=u.r)for(i=a.length;i<=u.r;++i)a[i]||(a[i]=[]);switch(i=u.r,s=u.c,l[2]){case"t":a[i][s]=e(l[3]);break;case"v":a[i][s]=+l[3];break;case"vtf":var c=l[l.length-1];case"vtc":switch(l[3]){case"nl":a[i][s]=!!+l[4];break;default:a[i][s]=+l[4];break}"vtf"==l[2]&&(a[i][s]=[a[i][s],c])}}}return n&&n.sheetRows&&(a=a.slice(0,n.sheetRows)),a}function r(e,t){return Ln(n(e,t),t)}function i(e,t){return Pn(r(e,t),t)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),l="--SocialCalcSpreadsheetControlSave--";function u(e){if(!e||!e["!ref"])return"";for(var n,r=[],i=[],s="",o=Sn(e["!ref"]),a=Array.isArray(e),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u)if(s=wn({r:l,c:u}),n=a?(e[l]||[])[u]:e[s],n&&null!=n.v&&"z"!==n.t){switch(i=["cell",s,"t"],n.t){case"s":case"str":i.push(t(n.v));break;case"n":n.f?(i[2]="vtf",i[3]="n",i[4]=n.v,i[5]=t(n.f)):(i[2]="v",i[3]=n.v);break;case"b":i[2]="vt"+(n.f?"f":"c"),i[3]="nl",i[4]=n.v?"1":"0",i[5]=t(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var c=ie(pe(n.v));i[2]="vtc",i[3]="nd",i[4]=""+c,i[5]=n.w||F.format(n.z||F._table[14],c);break;case"e":continue}r.push(i.join(":"))}return r.push("sheet:c:"+(o.e.c-o.s.c+1)+":r:"+(o.e.r-o.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}function c(e){return[s,o,a,o,u(e),l].join("\n")}return{to_workbook:i,to_sheet:r,from_sheet:c}}(),ba=function(){function e(e,t,n,r,i){i.raw?t[n][r]=e:"TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:""===e||(isNaN(ye(e))?isNaN(ge(e).getDate())?t[n][r]=e:t[n][r]=pe(e):t[n][r]=ye(e))}function t(t,n){var r=n||{},i=[];if(!t||0===t.length)return i;var s=t.split(/[\r\n]/),o=s.length-1;while(o>=0&&0===s[o].length)--o;for(var a=10,l=0,u=0;u<=o;++u)l=s[u].indexOf(" "),-1==l?l=s[u].length:l++,a=Math.max(a,l);for(u=0;u<=o;++u){i[u]=[];var c=0;for(e(s[u].slice(0,a).trim(),i,u,c,r),c=1;c<=(s[u].length-a)/10+1;++c)e(s[u].slice(a+10*(c-1),a+10*c).trim(),i,u,c,r)}return r.sheetRows&&(i=i.slice(0,r.sheetRows)),i}var n={44:",",9:"\t",59:";"},r={44:3,9:2,59:1};function i(e){for(var t={},i=!1,s=0,o=0;s<e.length;++s)34==(o=e.charCodeAt(s))?i=!i:!i&&o in n&&(t[o]=(t[o]||0)+1);for(s in o=[],t)Object.prototype.hasOwnProperty.call(t,s)&&o.push([t[s],s]);if(!o.length)for(s in t=r,t)Object.prototype.hasOwnProperty.call(t,s)&&o.push([t[s],s]);return o.sort((function(e,t){return e[0]-t[0]||r[e[1]]-r[t[1]]})),n[o.pop()[1]]}function s(e,t){var n=t||{},r="";null!=x&&null==n.dense&&(n.dense=x);var s=n.dense?[]:{},o={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(r=e.charAt(4),e=e.slice(7)):13!=e.charCodeAt(5)&&10!=e.charCodeAt(5)||(r=e.charAt(4),e=e.slice(6)):r=i(e.slice(0,1024));var a=0,l=0,u=0,c=0,h=0,p=r.charCodeAt(0),d=!1,f=0;e=e.replace(/\r\n/gm,"\n");var m=null!=n.dateNF?G(n.dateNF):null;function y(){var t=e.slice(c,h),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):pc(t)?(r.t="n",r.f=t.slice(1)):(r.t="s",r.v=t);else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(u=ye(t)))if(!isNaN(ge(t).getDate())||m&&t.match(m)){r.z=n.dateNF||F._table[14];var i=0;m&&t.match(m)&&(t=j(t,n.dateNF,t.match(m)||[]),i=1),n.cellDates?(r.t="d",r.v=pe(t,i)):(r.t="n",r.v=ie(pe(t,i))),!1!==n.cellText&&(r.w=F.format(r.z,r.v instanceof Date?ie(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=u;if("z"==r.t||(n.dense?(s[a]||(s[a]=[]),s[a][l]=r):s[wn({c:l,r:a})]=r),c=h+1,o.e.c<l&&(o.e.c=l),o.e.r<a&&(o.e.r=a),f==p)++l;else if(l=0,++a,n.sheetRows&&n.sheetRows<=a)return!0}e:for(;h<e.length;++h)switch(f=e.charCodeAt(h)){case 34:d=!d;break;case p:case 10:case 13:if(!d&&y())break e;break;default:break}return h-c>0&&y(),s["!ref"]=Cn(o),s}function o(e,n){return n&&n.PRN?"sep="==e.slice(0,4)||e.indexOf("\t")>=0||e.indexOf(",")>=0||e.indexOf(";")>=0?s(e,n):Ln(t(e,n),n):s(e,n)}function a(e,t){var n="",r="string"==t.type?[0,0,0,0]:Ny(e,t);switch(t.type){case"base64":n=S.decode(e);break;case"binary":n=e;break;case"buffer":n=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof cptable?cptable.utils.decode(t.codepage,e):e.toString("binary");break;case"array":n=de(e);break;case"string":n=e;break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=$e(n.slice(3)):"binary"==t.type&&"undefined"!==typeof cptable&&t.codepage&&(n=cptable.utils.decode(t.codepage,cptable.utils.encode(1252,n))),"socialcalc:version:"==n.slice(0,19)?va.to_sheet("string"==t.type?n:$e(n),t):o(n,t)}function l(e,t){return Pn(a(e,t),t)}function u(e){for(var t,n=[],r=En(e["!ref"]),i=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){for(var o=[],a=r.s.c;a<=r.e.c;++a){var l=wn({r:s,c:a});if(t=i?(e[s]||[])[a]:e[l],t&&null!=t.v){var u=(t.w||(An(t),t.w)||"").slice(0,10);while(u.length<10)u+=" ";o.push(u+(0===a?" ":""))}else o.push("          ")}n.push(o.join(""))}return n.join("\n")}return{to_workbook:l,to_sheet:a,from_sheet:u}}();function xa(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=ga.to_workbook(e,n);return n.WTF=r,i}catch(cg){if(n.WTF=r,!cg.message.match(/SYLK bad record ID/)&&r)throw cg;return ba.to_workbook(e,t)}}var wa=function(){function e(e,t,n){if(e){$t(e,e.l||0);var r=n.Enum||g;while(e.l<e.length){var i=e.read_shift(2),s=r[i]||r[255],o=e.read_shift(2),a=e.l+o,l=(s.f||en)(e,o,n);if(e.l=a,t(l,s.n,i))return}}}function t(e,t){switch(t.type){case"base64":return n(I(S.decode(e)),t);case"binary":return n(I(e),t);case"buffer":case"array":return n(e,t)}throw"Unsupported type "+t.type}function n(t,n){if(!t)return t;var r=n||{};null!=x&&null==r.dense&&(r.dense=x);var i=r.dense?[]:{},s="Sheet1",o=0,a={},l=[s],u={s:{r:0,c:0},e:{r:0,c:0}},c=r.sheetRows||0;if(2==t[2])r.Enum=g;else if(26==t[2])r.Enum=_;else{if(14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=_,r.qpro=!0,t.l=0}return e(t,(function(e,n,h){if(2==t[2])switch(h){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:u=e;break;case 15:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:case 51:14==h&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||F._table[14],r.cellDates&&(e[1].t="d",e[1].v=le(e[1].v))),r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[wn(e[0])]=e[1];break}else switch(h){case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(i["!ref"]=Cn(u),a[s]=i,i=r.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],s="Sheet"+(o+1),l.push(s)),c>0&&e[0].r>=c)break;r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[wn(e[0])]=e[1],u.e.c<e[0].c&&(u.e.c=e[0].c),u.e.r<e[0].r&&(u.e.r=e[0].r);break;default:break}}),r),i["!ref"]=Cn(u),a[s]=i,{SheetNames:l,Sheets:a}}function r(e){var t={s:{c:0,r:0},e:{c:0,r:0}};return t.s.c=e.read_shift(2),t.s.r=e.read_shift(2),t.e.c=e.read_shift(2),t.e.r=e.read_shift(2),65535==t.s.c&&(t.s.c=t.e.c=t.s.r=t.e.r=0),t}function i(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),e.l++,r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function s(e,t,n){var r=e.l+t,s=i(e,t,n);if(s[1].t="s",20768==n.vers){e.l++;var o=e.read_shift(1);return s[1].v=e.read_shift(o,"utf8"),s}return n.qpro&&e.l++,s[1].v=e.read_shift(r-e.l,"cstr"),s}function o(e,t,n){var r=i(e,t,n);return r[1].v=e.read_shift(2,"i"),r}function a(e,t,n){var r=i(e,t,n);return r[1].v=e.read_shift(8,"f"),r}function l(e,t,n){var r=e.l+t,s=i(e,t,n);if(s[1].v=e.read_shift(8,"f"),n.qpro)e.l=r;else{var o=e.read_shift(2);e.l+=o}return s}function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function c(e,t){var n=u(e,t);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}function h(e,t){var n=u(e,t);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 4:r=(r>>3)/2e3;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64;break;default:throw"unknown NUMBER_18 encoding "+(7&r)}return n[1].v=r,n}function p(e,t){var n=u(e,t),r=e.read_shift(4),i=e.read_shift(4),s=e.read_shift(2);if(65535==s)return n[1].v=0,n;var o=32768&s;return s=(32767&s)-16446,n[1].v=(2*o-1)*((s>0?i<<s:i>>>-s)+(s>-32?r<<s+32:r>>>-(s+32))),n}function d(e,t){var n=p(e,14);return e.l+=t-14,n}function f(e,t){var n=u(e,t),r=e.read_shift(4);return n[1].v=r>>6,n}function m(e,t){var n=u(e,t),r=e.read_shift(8,"f");return n[1].v=r,n}function y(e,t){var n=m(e,14);return e.l+=t-10,n}var g={0:{n:"BOF",f:Qi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:r},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:o},14:{n:"NUMBER",f:a},15:{n:"LABEL",f:s},16:{n:"FORMULA",f:l},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:s},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},255:{n:"",f:en}},_={0:{n:"BOF"},1:{n:"EOF"},3:{n:"??"},4:{n:"??"},5:{n:"??"},6:{n:"??"},7:{n:"??"},9:{n:"??"},10:{n:"??"},11:{n:"??"},12:{n:"??"},14:{n:"??"},15:{n:"??"},16:{n:"??"},17:{n:"??"},18:{n:"??"},19:{n:"??"},21:{n:"??"},22:{n:"LABEL16",f:c},23:{n:"NUMBER17",f:p},24:{n:"NUMBER18",f:h},25:{n:"FORMULA19",f:d},26:{n:"??"},27:{n:"??"},28:{n:"??"},29:{n:"??"},30:{n:"??"},31:{n:"??"},33:{n:"??"},37:{n:"NUMBER25",f:f},39:{n:"NUMBER27",f:m},40:{n:"FORMULA28",f:y},255:{n:"",f:en}};return{to_workbook:t}}();function Sa(e){var t={},n=e.match(Re),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=Be(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==s.val)break;t.cp=c[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==s.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==s.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<family":t.family=s.val;break;case"<vertAlign":t.valign=s.val;break;case"<scheme":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(47!==s[0].charCodeAt(1)&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}var Ca=function(){var e=it("t"),t=it("rPr");function n(n){var r=n.match(e);if(!r)return{t:"s",v:""};var i={t:"s",v:Ge(r[1])},s=n.match(t);return s&&(i.s=Sa(s[1])),i}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(e){return e.replace(r,"").split(i).map(n).filter((function(e){return e.v}))}}(),Ea=function(){var e=/(\r\n|\n)/g;function t(e,t,n){var r=[];e.u&&r.push("text-decoration: underline;"),e.uval&&r.push("text-underline-style:"+e.uval+";"),e.sz&&r.push("font-size:"+e.sz+"pt;"),e.outline&&r.push("text-effect: outline;"),e.shadow&&r.push("text-shadow: auto;"),t.push('<span style="'+r.join("")+'">'),e.b&&(t.push("<b>"),n.push("</b>")),e.i&&(t.push("<i>"),n.push("</i>")),e.strike&&(t.push("<s>"),n.push("</s>"));var i=e.valign||"";return"superscript"==i||"super"==i?i="sup":"subscript"==i&&(i="sub"),""!=i&&(t.push("<"+i+">"),n.push("</"+i+">")),n.push("</span>"),e}function n(n){var r=[[],n.v,[]];return n.v?(n.s&&t(n.s,r[0],r[2]),r[0].join("")+r[1].replace(e,"<br/>")+r[2].join("")):""}return function(e){return e.map(n).join("")}}(),Ta=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Aa=/<(?:\w+:)?r>/,Pa=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Ia(e,t){var n=!t||t.cellHTML,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Ge($e(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=$e(e),n&&(r.h=Xe(r.t))):e.match(Aa)&&(r.r=$e(e),r.t=Ge($e((e.replace(Pa,"").match(Ta)||[]).join("").replace(Re,""))),n&&(r.h=Ea(Ca(r.r)))),r):{t:""}}var La=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Ma=/<(?:\w+:)?(?:si|sstItem)>/g,Oa=/<\/(?:\w+:)?(?:si|sstItem)>/;function ka(e,t){var n=[],r="";if(!e)return n;var i=e.match(La);if(i){r=i[2].replace(Ma,"").split(Oa);for(var s=0;s!=r.length;++s){var o=Ia(r[s].trim(),t);null!=o&&(n[n.length]=o)}i=Be(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}jr.SST="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings";var Na=/^\s|\s$|[\t\n\r]/;function Ra(e,t){if(!t.bookSST)return"";var n=[ke];n[n.length]=dt("sst",null,{xmlns:yt.main[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var i=e[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(Na)&&(s+=' xml:space="preserve"'),s+=">"+We(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function Da(e){return[e.read_shift(4),e.read_shift(4)]}function Fa(e,t){var n=[],r=!1;return nn(e,(function(e,i,s){switch(s){case 159:n.Count=e[0],n.Unique=e[1];break;case 19:n.push(e);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(i.indexOf("Begin")>0||i.indexOf("End"),!r||t.WTF)throw new Error("Unexpected record "+s+" "+i)}})),n}function Ba(e,t){return t||(t=tn(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var qa=Fn;function za(e){var t=rn();sn(t,"BrtBeginSst",Ba(e));for(var n=0;n<e.length;++n)sn(t,"BrtSSTItem",qa(e[n]));return sn(t,"BrtEndSst"),t.end()}function Ua(e){if("undefined"!==typeof cptable)return cptable.utils.encode(a,e);for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Ga(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function ja(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Ga(e,4),t.U=Ga(e,4),t.W=Ga(e,4),t}function Va(e){var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),s=[];while(i-- >0)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function Wa(e){var t=[];e.l+=4;var n=e.read_shift(4);while(n-- >0)t.push(Va(e));return t}function Ha(e){var t=[];e.l+=4;var n=e.read_shift(4);while(n-- >0)t.push(e.read_shift(0,"lpp4"));return t}function Ja(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Ga(e,4),t.U=Ga(e,4),t.W=Ga(e,4),t}function Xa(e){var t=Ja(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),4!=e.read_shift(4))throw new Error("Bad !Primary record");return t}function Za(e,t){var n=e.l+t,r={};r.Flags=63&e.read_shift(4),e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=36==r.Flags;break;case 26625:i=4==r.Flags;break;case 0:i=16==r.Flags||4==r.Flags||36==r.Flags;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function Ya(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function Ka(e){var t=Ga(e);switch(t.Minor){case 2:return[t.Minor,Qa(e,t)];case 3:return[t.Minor,$a(e,t)];case 4:return[t.Minor,el(e,t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Qa(e){var t=e.read_shift(4);if(36!=(63&t))throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=Za(e,n),i=Ya(e,e.length-e.l);return{t:"Std",h:r,v:i}}function $a(){throw new Error("File is password-protected: ECMA-376 Extensible")}function el(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(Re,(function(e){var n=Be(e);switch(qe(n[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach((function(e){r[e]=n[e]}));break;case"<dataIntegrity":r.encryptedHmacKey=n.encryptedHmacKey,r.encryptedHmacValue=n.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=n.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(n);break;default:throw n[0]}})),r}function tl(e,t){var n={},r=n.EncryptionVersionInfo=Ga(e,4);if(t-=4,2!=r.Minor)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=Za(e,i),t-=i,n.EncryptionVerifier=Ya(e,t),n}function nl(e){var t={},n=t.EncryptionVersionInfo=Ga(e,4);if(1!=n.Major||1!=n.Minor)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function rl(e){var t,n,r,i,s,o,a=0,l=Ua(e),u=l.length+1;for(t=A(u),t[0]=l.length,n=1;n!=u;++n)t[n]=l[n-1];for(n=u-1;n>=0;--n)r=t[n],i=0===(16384&a)?0:1,s=a<<1&32767,o=i|s,a=o^r;return 52811^a}var il=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(e){return 255&(e/2|128*e)},i=function(e,t){return r(e^t)},s=function(e){for(var r=t[e.length-1],i=104,s=e.length-1;s>=0;--s)for(var o=e[s],a=0;7!=a;++a)64&o&&(r^=n[i]),o*=2,--i;return r};return function(t){for(var n,r,o,a=Ua(t),l=s(a),u=a.length,c=A(16),h=0;16!=h;++h)c[h]=0;1===(1&u)&&(n=l>>8,c[u]=i(e[0],n),--u,n=255&l,r=a[a.length-1],c[u]=i(r,n));while(u>0)--u,n=l>>8,c[u]=i(a[u],n),--u,n=255&l,c[u]=i(a[u],n);u=15,o=15-a.length;while(o>0)n=l>>8,c[u]=i(e[o],n),--u,--o,n=255&l,c[u]=i(a[u],n),--u,--o;return c}}(),sl=function(e,t,n,r,i){var s,o;for(i||(i=t),r||(r=il(e)),s=0;s!=t.length;++s)o=t[s],o^=r[n],o=255&(o>>5|o<<3),i[s]=o,++n;return[i,n,r]},ol=function(e){var t=0,n=il(e);return function(e){var r=sl("",e,t,n);return t=r[1],r[0]}};function al(e,t,n,r){var i={key:Qi(e),verificationBytes:Qi(e)};return n.password&&(i.verifier=rl(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=ol(n.password)),i}function ll(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,1===r.Info?r.Data=nl(e,t):r.Data=tl(e,t),r}function ul(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?ll(e,t-2,r):al(e,n.biff>=8?t:t-2,n,r),r}var cl=function(){function e(e,n){switch(n.type){case"base64":return t(S.decode(e),n);case"binary":return t(e,n);case"buffer":return t(e.toString("binary"),n);case"array":return t(de(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=t||{},r=n.dense?[]:{},i={s:{c:0,r:0},e:{c:0,r:0}};if(!e.match(/\\trowd/))throw new Error("RTF missing table");return r["!ref"]=Cn(i),r}function n(t,n){return Pn(e(t,n),n)}function r(e){for(var t,n=["{\\rtf1\\ansi"],r=En(e["!ref"]),i=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){n.push("\\trowd\\trautofit1");for(var o=r.s.c;o<=r.e.c;++o)n.push("\\cellx"+(o+1));for(n.push("\\pard\\intbl"),o=r.s.c;o<=r.e.c;++o){var a=wn({r:s,c:o});t=i?(e[s]||[])[o]:e[a],t&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(An(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function hl(e){var t=e.slice("#"===e[0]?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function pl(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function dl(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=i-s;if(0===o)return[0,0,t];var a=0,l=0,u=i+s;switch(l=o/(u>1?2-u:u),i){case t:a=((n-r)/o+6)%6;break;case n:a=(r-t)/o+2;break;case r:a=(t-n)/o+4;break}return[a/6,l,u/2]}function fl(e){var t,n=e[0],r=e[1],i=e[2],s=2*r*(i<.5?i:1-i),o=i-s/2,a=[o,o,o],l=6*n;if(0!==r)switch(0|l){case 0:case 6:t=s*l,a[0]+=s,a[1]+=t;break;case 1:t=s*(2-l),a[0]+=t,a[1]+=s;break;case 2:t=s*(l-2),a[1]+=s,a[2]+=t;break;case 3:t=s*(4-l),a[1]+=t,a[2]+=s;break;case 4:t=s*(l-4),a[2]+=s,a[0]+=t;break;case 5:t=s*(6-l),a[2]+=t,a[0]+=s;break}for(var u=0;3!=u;++u)a[u]=Math.round(255*a[u]);return a}function ml(e,t){if(0===t)return e;var n=dl(hl(e));return n[2]=t<0?n[2]*(1+t):1-(1-n[2])*(1-t),pl(fl(n))}var yl=6,gl=15,_l=1,vl=yl;function bl(e){return Math.floor((e+Math.round(128/vl)/256)*vl)}function xl(e){return Math.floor((e-5)/vl*100+.5)/100}function wl(e){return Math.round((e*vl+5)/vl*256)/256}function Sl(e){return wl(xl(bl(e)))}function Cl(e){var t=Math.abs(e-Sl(e)),n=vl;if(t>.005)for(vl=_l;vl<gl;++vl)Math.abs(e-Sl(e))<=t&&(t=Math.abs(e-Sl(e)),n=vl);vl=n}function El(e){e.width?(e.wpx=bl(e.width),e.wch=xl(e.wpx),e.MDW=vl):e.wpx?(e.wch=xl(e.wpx),e.width=wl(e.wch),e.MDW=vl):"number"==typeof e.wch&&(e.width=wl(e.wch),e.wpx=bl(e.width),e.MDW=vl),e.customWidth&&delete e.customWidth}var Tl=96,Al=Tl;function Pl(e){return 96*e/Al}function Il(e){return e*Al/96}var Ll={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Ml(e,t,n,r){t.Borders=[];var i={},s=!1;(e[0].match(Re)||[]).forEach((function(e){var n=Be(e);switch(qe(n[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},n.diagonalUp&&(i.diagonalUp=Qe(n.diagonalUp)),n.diagonalDown&&(i.diagonalDown=Qe(n.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+n[0]+" in borders")}}))}function Ol(e,t,n,r){t.Fills=[];var i={},s=!1;(e[0].match(Re)||[]).forEach((function(e){var n=Be(e);switch(qe(n[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":n.patternType&&(i.patternType=n.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),n.indexed&&(i.bgColor.indexed=parseInt(n.indexed,10)),n.theme&&(i.bgColor.theme=parseInt(n.theme,10)),n.tint&&(i.bgColor.tint=parseFloat(n.tint)),n.rgb&&(i.bgColor.rgb=n.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),n.theme&&(i.fgColor.theme=parseInt(n.theme,10)),n.tint&&(i.fgColor.tint=parseFloat(n.tint)),null!=n.rgb&&(i.fgColor.rgb=n.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+n[0]+" in fills")}}))}function kl(e,t,n,r){t.Fonts=[];var i={},s=!1;(e[0].match(Re)||[]).forEach((function(e){var o=Be(e);switch(qe(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=$e(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Qe(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Qe(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Qe(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Qe(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Qe(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Qe(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Qe(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if("1"==o.val)break;o.codepage=c[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Qe(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var a=Or[i.color.index];if(81==i.color.index&&(a=Or[1]),!a)throw new Error(e);i.color.rgb=a[0].toString(16)+a[1].toString(16)+a[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=ml(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}}))}function Nl(e,t,n){t.NumberFmt=[];for(var r=K(F._table),i=0;i<r.length;++i)t.NumberFmt[r[i]]=F._table[r[i]];var s=e[0].match(Re);if(s)for(i=0;i<s.length;++i){var o=Be(s[i]);switch(qe(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":var a=Ge($e(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=a,l>0){if(l>392){for(l=392;l>60;--l)if(null==t.NumberFmt[l])break;t.NumberFmt[l]=a}F.load(a,l)}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function Rl(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=dt("numFmt",null,{numFmtId:r,formatCode:We(e[r])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=dt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Dl=["numFmtId","fillId","fontId","borderId","xfId"],Fl=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Bl(e,t,n){var r;t.CellXf=[];var i=!1;(e[0].match(Re)||[]).forEach((function(e){var s=Be(e),o=0;switch(qe(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=s,delete r[0],o=0;o<Dl.length;++o)r[Dl[o]]&&(r[Dl[o]]=parseInt(r[Dl[o]],10));for(o=0;o<Fl.length;++o)r[Fl[o]]&&(r[Fl[o]]=Qe(r[Fl[o]]));if(r.numFmtId>392)for(o=392;o>60;--o)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[o]){r.numFmtId=o;break}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var a={};s.vertical&&(a.vertical=s.vertical),s.horizontal&&(a.horizontal=s.horizontal),null!=s.textRotation&&(a.textRotation=s.textRotation),s.indent&&(a.indent=s.indent),s.wrapText&&(a.wrapText=Qe(s.wrapText)),r.alignment=a;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}}))}function ql(e){var t=[];return t[t.length]=dt("cellXfs",null),e.forEach((function(e){t[t.length]=dt("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=dt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var zl=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,r=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(s,o,a){var l,u={};return s?(s=s.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,""),(l=s.match(e))&&Nl(l,u,a),(l=s.match(r))&&kl(l,u,o,a),(l=s.match(n))&&Ol(l,u,o,a),(l=s.match(i))&&Ml(l,u,o,a),(l=s.match(t))&&Bl(l,u,a),u):u}}(),Ul=dt("styleSheet",null,{xmlns:yt.main[0],"xmlns:vt":yt.vt});function Gl(e,t){var n,r=[ke,Ul];return e.SSF&&null!=(n=Rl(e.SSF))&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=ql(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function jl(e,t){var n=e.read_shift(2),r=On(e,t-2);return[n,r]}function Vl(e,t,n){n||(n=tn(6+4*t.length)),n.write_shift(2,e),kn(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}function Wl(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=sr(e,2,n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=e.read_shift(2);switch(700===s&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);0!=o&&(r.underline=o);var a=e.read_shift(1);a>0&&(r.family=a);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=rr(e,8),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=On(e,t-21),r}function Hl(e,t){t||(t=tn(153)),t.write_shift(2,20*e.sz),or(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),ir(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),kn(e.name,t),t.length>t.l?t.slice(0,t.l):t}jr.STY="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles";var Jl=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Xl=ee(Jl),Zl=en;function Yl(e,t){t||(t=tn(84));var n=Xl[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(ir({auto:1},t),ir({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Kl(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}function Ql(e,t,n){n||(n=tn(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function $l(e,t){return t||(t=tn(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var eu=en;function tu(e,t){return t||(t=tn(51)),t.write_shift(1,0),$l(null,t),$l(null,t),$l(null,t),$l(null,t),$l(null,t),t.length>t.l?t.slice(0,t.l):t}function nu(e,t){return t||(t=tn(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Wn(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function ru(e,t,n){var r=tn(2052);return r.write_shift(4,e),Wn(t,r),Wn(n,r),r.length>r.l?r.slice(0,r.l):r}function iu(e,t,n){var r={NumberFmt:[]};for(var i in F._table)r.NumberFmt[i]=F._table[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return nn(e,(function(e,i,a){switch(a){case 44:r.NumberFmt[e[0]]=e[1],F.load(e[1],e[0]);break;case 43:r.Fonts.push(e),null!=e.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=ml(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:"BrtBeginCellXFs"==s[s.length-1]&&r.CellXf.push(e);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(i),o=!0;break;case 38:s.pop(),o=!1;break;default:if((i||"").indexOf("Begin")>0)s.push(i);else if((i||"").indexOf("End")>0)s.pop();else if(!o||n.WTF&&"BrtACBegin"!=s[s.length-1])throw new Error("Unexpected record "+a+" "+i)}})),r}function su(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++n})),0!=n&&(sn(e,"BrtBeginFmts",Mn(n)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&sn(e,"BrtFmt",Vl(r,t[r]))})),sn(e,"BrtEndFmts"))}}function ou(e){var t=1;0!=t&&(sn(e,"BrtBeginFonts",Mn(t)),sn(e,"BrtFont",Hl({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),sn(e,"BrtEndFonts"))}function au(e){var t=2;0!=t&&(sn(e,"BrtBeginFills",Mn(t)),sn(e,"BrtFill",Yl({patternType:"none"})),sn(e,"BrtFill",Yl({patternType:"gray125"})),sn(e,"BrtEndFills"))}function lu(e){var t=1;0!=t&&(sn(e,"BrtBeginBorders",Mn(t)),sn(e,"BrtBorder",tu({})),sn(e,"BrtEndBorders"))}function uu(e){var t=1;sn(e,"BrtBeginCellStyleXFs",Mn(t)),sn(e,"BrtXF",Ql({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),sn(e,"BrtEndCellStyleXFs")}function cu(e,t){sn(e,"BrtBeginCellXFs",Mn(t.length)),t.forEach((function(t){sn(e,"BrtXF",Ql(t,0))})),sn(e,"BrtEndCellXFs")}function hu(e){var t=1;sn(e,"BrtBeginStyles",Mn(t)),sn(e,"BrtStyle",nu({xfId:0,builtinId:0,name:"Normal"})),sn(e,"BrtEndStyles")}function pu(e){var t=0;sn(e,"BrtBeginDXFs",Mn(t)),sn(e,"BrtEndDXFs")}function du(e){var t=0;sn(e,"BrtBeginTableStyles",ru(t,"TableStyleMedium9","PivotStyleMedium4")),sn(e,"BrtEndTableStyles")}function fu(){}function mu(e,t){var n=rn();return sn(n,"BrtBeginStyleSheet"),su(n,e.SSF),ou(n,e),au(n,e),lu(n,e),uu(n,e),cu(n,t.cellXfs),hu(n,e),pu(n,e),du(n,e),fu(n,e),sn(n,"BrtEndStyleSheet"),n.end()}jr.THEME="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme";var yu=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function gu(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(Re)||[]).forEach((function(e){var i=Be(e);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===i[0].charAt(1)?(t.themeElements.clrScheme[yu.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}}))}function _u(){}function vu(){}var bu=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,xu=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,wu=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Su(e,t,n){var r;t.themeElements={},[["clrScheme",bu,gu],["fontScheme",xu,_u],["fmtScheme",wu,vu]].forEach((function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,n)}))}var Cu=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Eu(e,t){if(!e||0===e.length)return Eu(Tu());var n,r={};if(!(n=e.match(Cu)))throw new Error("themeElements not found in theme");return Su(n[0],r,t),r.raw=e,r}function Tu(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[ke];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function Au(e,t,n){var r=e.l+t,i=e.read_shift(4);if(124226!==i)if(n.cellStyles&&_e){var s,o=e.slice(e.l);e.l=r;try{s=new _e(o)}catch(cg){return}var a=Ae(s,"theme/theme/theme1.xml",!0);if(a)return Eu(a,n)}else e.l=r}function Pu(e){return e.read_shift(4)}function Iu(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Lu(e,4);break;case 2:t.xclrValue=gs(e,4);break;case 3:t.xclrValue=Pu(e,4);break;case 4:e.l+=4;break}return e.l+=8,t}function Lu(e,t){return en(e,t)}function Mu(e,t){return en(e,t)}function Ou(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=Iu(e,n);break;case 6:r[1]=Mu(e,n);break;case 14:case 15:r[1]=e.read_shift(1===n?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function ku(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;var i=e.read_shift(2),s=[];while(i-- >0)s.push(Ou(e,n-e.l));return{ixfe:r,ext:s}}function Nu(e,t){t.forEach((function(e){switch(e[0]){case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:break;case 13:break;case 14:break;case 15:break}}))}function Ru(e){var t=[];if(!e)return t;var n=1;return(e.match(Re)||[]).forEach((function(e){var r=Be(e);switch(r[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete r[0],r.i?n=r.i:r.i=n,t.push(r);break}})),t}function Du(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=wn(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}function Fu(e,t,n){var r=[],i=!1;return nn(e,(function(e,t,s){switch(s){case 63:r.push(e);break;default:if((t||"").indexOf("Begin")>0);else if((t||"").indexOf("End")>0);else if(!i||n.WTF)throw new Error("Unexpected record "+s+" "+t)}})),r}function Bu(){}function qu(e,t,n,r){if(!e)return e;var i=r||{},s=!1,o=!1;nn(e,(function(e,t,n){if(!o)switch(n){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if((t||"").indexOf("Begin")>0);else if((t||"").indexOf("End")>0);else if(!s||i.WTF)throw new Error("Unexpected record "+n.toString(16)+" "+t)}}),i)}function zu(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}jr.IMG="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",jr.DRAW="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing";var Uu=1024;function Gu(e,t){var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[dt("xml",null,{"xmlns:v":gt.v,"xmlns:o":gt.o,"xmlns:x":gt.x,"xmlns:mv":gt.mv}).replace(/\/>/,">"),dt("o:shapelayout",dt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),dt("v:shapetype",[dt("v:stroke",null,{joinstyle:"miter"}),dt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];while(Uu<1e3*e)Uu+=1e3;return t.forEach((function(e){var t=xn(e[0]),n={color2:"#BEFF82",type:"gradient"};"gradient"==n.type&&(n.angle="-180");var r="gradient"==n.type?dt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,s=dt("v:fill",r,n),o={on:"t",obscured:"t"};++Uu,i=i.concat(["<v:shape"+pt({id:"_x0000_s"+Uu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",s,dt("v:shadow",null,o),dt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ht("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),ht("x:AutoFill","False"),ht("x:Row",String(t.r)),ht("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),i.push("</xml>"),i.join("")}function ju(e,t){var n,r=Array.isArray(e);t.forEach((function(t){var i=xn(t.ref);if(r?(e[i.r]||(e[i.r]=[]),n=e[i.r][i.c]):n=e[t.ref],!n){n={t:"z"},r?e[i.r][i.c]=n:e[t.ref]=n;var s=En(e["!ref"]||"BDWGO1000001:A1");s.s.r>i.r&&(s.s.r=i.r),s.e.r<i.r&&(s.e.r=i.r),s.s.c>i.c&&(s.s.c=i.c),s.e.c<i.c&&(s.e.c=i.c);var o=Cn(s);o!==e["!ref"]&&(e["!ref"]=o)}n.c||(n.c=[]);var a={a:t.author,t:t.t,r:t.r};t.h&&(a.h=t.h),n.c.push(a)}))}function Vu(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach((function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&n.push(t[1])}}));var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach((function(e){if(""!==e&&""!==e.trim()){var i=e.match(/<(?:\w+:)?comment[^>]*>/);if(i){var s=Be(i[0]),o={author:s.authorId&&n[s.authorId]||"sheetjsghost",ref:s.ref,guid:s.guid},a=xn(s.ref);if(!(t.sheetRows&&t.sheetRows<=a.r)){var l=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),u=!!l&&!!l[1]&&Ia(l[1])||{r:"",t:"",h:""};o.r=u.r,"<t></t>"==u.r&&(u.t=u.h=""),o.t=u.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(o.h=u.h),r.push(o)}}}})),r}jr.CMNT="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments";var Wu=dt("comments",null,{xmlns:yt.main[0]});function Hu(e){var t=[ke,Wu],n=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var r=We(e.a);n.indexOf(r)>-1||(n.push(r),t.push("<author>"+r+"</author>"))}))})),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){e[1].forEach((function(r){t.push('<comment ref="'+e[0]+'" authorId="'+n.indexOf(We(r.a))+'"><text>'),t.push(ht("t",null==r.t?"":We(r.t))),t.push("</text></comment>")}))})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Ju(e){var t={};t.iauthor=e.read_shift(4);var n=$n(e,16);return t.rfx=n.s,t.ref=wn(n.s),e.l+=16,t}function Xu(e,t){return null==t&&(t=tn(36)),t.write_shift(4,e[1].iauthor),er(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Zu=On;function Yu(e){return kn(e.slice(0,54))}function Ku(e,t){var n=[],r=[],i={},s=!1;return nn(e,(function(e,o,a){switch(a){case 632:r.push(e);break;case 635:i=e;break;case 637:i.t=e.t,i.h=e.h,i.r=e.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if((o||"").indexOf("Begin")>0);else if((o||"").indexOf("End")>0);else if(!s||t.WTF)throw new Error("Unexpected record "+a+" "+o)}})),n}function Qu(e){var t=rn(),n=[];return sn(t,"BrtBeginComments"),sn(t,"BrtBeginCommentAuthors"),e.forEach((function(e){e[1].forEach((function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),sn(t,"BrtCommentAuthor",Yu(e.a)))}))})),sn(t,"BrtEndCommentAuthors"),sn(t,"BrtBeginCommentList"),e.forEach((function(e){e[1].forEach((function(r){r.iauthor=n.indexOf(r.a);var i={s:xn(e[0]),e:xn(e[0])};sn(t,"BrtBeginComment",Xu([i,r])),r.t&&r.t.length>0&&sn(t,"BrtCommentText",qn(r)),sn(t,"BrtEndComment"),delete r.iauthor}))})),sn(t,"BrtEndCommentList"),sn(t,"BrtEndComments"),t.end()}var $u="application/vnd.ms-office.vbaProject";function ec(e){var t=J.utils.cfb_new({root:"R"});return e.FullPaths.forEach((function(n,r){if("/"!==n.slice(-1)&&n.match(/_VBA_PROJECT_CUR/)){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");J.utils.cfb_add(t,i,e.FileIndex[r].content)}})),J.write(t)}function tc(e,t){t.FullPaths.forEach((function(n,r){if(0!=r){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&J.utils.cfb_add(e,i,t.FileIndex[r].content)}}))}var nc=["xlsb","xlsm","xlam","biff8","xla"];function rc(){return{"!type":"dialog"}}function ic(){return{"!type":"dialog"}}function sc(){return{"!type":"macro"}}function oc(){return{"!type":"macro"}}jr.DS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",jr.MS="http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet";var ac=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,i){var s=!1,o=!1;0==r.length?o=!0:"["==r.charAt(0)&&(o=!0,r=r.slice(1,-1)),0==i.length?s=!0:"["==i.charAt(0)&&(s=!0,i=i.slice(1,-1));var a=r.length>0?0|parseInt(r,10):0,l=i.length>0?0|parseInt(i,10):0;return s?l+=t.c:--l,o?a+=t.r:--a,n+(s?"":"$")+gn(l)+(o?"":"$")+dn(a)}return function(r,i){return t=i,r.replace(e,n)}}(),lc=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,uc=function(){return function(e,t){return e.replace(lc,(function(e,n,r,i,s,o){var a=yn(i)-(r?0:t.c),l=pn(o)-(s?0:t.r),u=0==l?"":s?l+1:"["+l+"]",c=0==a?"":r?a+1:"["+a+"]";return n+"R"+u+"C"+c}))}}();function cc(e,t){return e.replace(lc,(function(e,n,r,i,s,o){return n+("$"==r?r+i:gn(yn(i)+t.c))+("$"==s?s+o:dn(pn(o)+t.r))}))}function hc(e,t,n){var r=Sn(t),i=r.s,s=xn(n),o={r:s.r-i.r,c:s.c-i.c};return cc(e,o)}function pc(e){return 1!=e.length}function dc(e){return e.replace(/_xlfn\./g,"")}function fc(e){e.l+=1}function mc(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function yc(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return gc(e,t,n);12==n.biff&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),o=mc(e,2),a=mc(e,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function gc(e){var t=mc(e,2),n=mc(e,2),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function _c(e,t,n){if(n.biff<8)return gc(e,t,n);var r=e.read_shift(12==n.biff?4:2),i=e.read_shift(12==n.biff?4:2),s=mc(e,2),o=mc(e,2);return{s:{r:r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function vc(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return bc(e,t,n);var r=e.read_shift(n&&12==n.biff?4:2),i=mc(e,2);return{r:r,c:i[0],cRel:i[1],rRel:i[2]}}function bc(e){var t=mc(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function xc(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function wc(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return Sc(e,t,n);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),o=(16384&s)>>14,a=(32768&s)>>15;if(s&=16383,1==a)while(i>524287)i-=1048576;if(1==o)while(s>8191)s-=16384;return{r:i,c:s,cRel:o,rRel:a}}function Sc(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==i&&n>=128&&(n-=256),{r:t,c:n,cRel:i,rRel:r}}function Cc(e,t,n){var r=(96&e[e.l++])>>5,i=yc(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function Ec(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=yc(e,s,n);return[r,i,o]}function Tc(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function Ac(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[r,i]}function Pc(e,t,n){var r=(96&e[e.l++])>>5,i=_c(e,t-1,n);return[r,i]}function Ic(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}function Lc(e){var t=1&e[e.l+1],n=1;return e.l+=4,[t,n]}function Mc(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&2==n.biff?1:2));return i}function Oc(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}function kc(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}function Nc(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}function Rc(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}function Dc(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function Fc(e){return e.read_shift(2),Dc(e,2)}function Bc(e){return e.read_shift(2),Dc(e,2)}function qc(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=vc(e,0,n);return[r,i]}function zc(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=wc(e,0,n);return[r,i]}function Uc(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(2);n&&5==n.biff&&(e.l+=12);var s=vc(e,0,n);return[r,i,s]}function Gc(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[sp[i],ip[i],r]}function jc(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:Vc(e);return[i,(0===s[0]?ip:rp)[s[1]]]}function Vc(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}function Wc(e,t,n){e.l+=n&&2==n.biff?3:4}function Hc(e,t,n){if(e.l++,n&&12==n.biff)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&2==n.biff?1:2);return[r,i]}function Jc(e){return e.l++,kr[e.read_shift(1)]}function Xc(e){return e.l++,e.read_shift(2)}function Zc(e){return e.l++,0!==e.read_shift(1)}function Yc(e){return e.l++,tr(e,8)}function Kc(e,t,n){return e.l++,rs(e,t-1,n)}function Qc(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Yi(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=kr[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=tr(e,8);break;case 2:n[1]=ls(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function $c(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),i=[],s=0;s!=r;++s)i.push((12==n.biff?$n:Ts)(e,8));return i}function eh(e,t,n){var r=0,i=0;12==n.biff?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--i&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=Qc(e,n.biff);return o}function th(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,s]}function nh(e,t,n){if(5==n.biff)return rh(e,t,n);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[r,i,s]}function rh(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function ih(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&2==n.biff?3:4;var i=e.read_shift(n&&2==n.biff?1:2);return[r,i]}function sh(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&2==n.biff?1:2);return[r,i]}function oh(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}function ah(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[r,i]}var lh=en,uh=en,ch=en;function hh(e,t,n){return e.l+=2,[xc(e,4,n)]}function ph(e){return e.l+=6,[]}var dh=hh,fh=ph,mh=ph,yh=hh;function gh(e){return e.l+=2,[Qi(e),1&e.read_shift(2)]}var _h=hh,vh=gh,bh=ph,xh=hh,wh=hh,Sh=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Ch(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),o=Sh[n>>2&31];return{ixti:t,coltype:3&n,rt:o,idx:r,c:i,C:s}}function Eh(e){return e.l+=2,[e.read_shift(4)]}function Th(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}function Ah(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}function Ph(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Ih(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function Lh(e){return e.l+=4,[0,0]}var Mh={1:{n:"PtgExp",f:Hc},2:{n:"PtgTbl",f:ch},3:{n:"PtgAdd",f:fc},4:{n:"PtgSub",f:fc},5:{n:"PtgMul",f:fc},6:{n:"PtgDiv",f:fc},7:{n:"PtgPower",f:fc},8:{n:"PtgConcat",f:fc},9:{n:"PtgLt",f:fc},10:{n:"PtgLe",f:fc},11:{n:"PtgEq",f:fc},12:{n:"PtgGe",f:fc},13:{n:"PtgGt",f:fc},14:{n:"PtgNe",f:fc},15:{n:"PtgIsect",f:fc},16:{n:"PtgUnion",f:fc},17:{n:"PtgRange",f:fc},18:{n:"PtgUplus",f:fc},19:{n:"PtgUminus",f:fc},20:{n:"PtgPercent",f:fc},21:{n:"PtgParen",f:fc},22:{n:"PtgMissArg",f:fc},23:{n:"PtgStr",f:Kc},26:{n:"PtgSheet",f:Th},27:{n:"PtgEndSheet",f:Ah},28:{n:"PtgErr",f:Jc},29:{n:"PtgBool",f:Zc},30:{n:"PtgInt",f:Xc},31:{n:"PtgNum",f:Yc},32:{n:"PtgArray",f:Ic},33:{n:"PtgFunc",f:Gc},34:{n:"PtgFuncVar",f:jc},35:{n:"PtgName",f:th},36:{n:"PtgRef",f:qc},37:{n:"PtgArea",f:Cc},38:{n:"PtgMemArea",f:ih},39:{n:"PtgMemErr",f:lh},40:{n:"PtgMemNoMem",f:uh},41:{n:"PtgMemFunc",f:sh},42:{n:"PtgRefErr",f:oh},43:{n:"PtgAreaErr",f:Tc},44:{n:"PtgRefN",f:zc},45:{n:"PtgAreaN",f:Pc},46:{n:"PtgMemAreaN",f:Ph},47:{n:"PtgMemNoMemN",f:Ih},57:{n:"PtgNameX",f:nh},58:{n:"PtgRef3d",f:Uc},59:{n:"PtgArea3d",f:Ec},60:{n:"PtgRefErr3d",f:ah},61:{n:"PtgAreaErr3d",f:Ac},255:{}},Oh={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61};(function(){for(var e in Oh)Mh[e]=Mh[Oh[e]]})();var kh={1:{n:"PtgElfLel",f:gh},2:{n:"PtgElfRw",f:xh},3:{n:"PtgElfCol",f:dh},6:{n:"PtgElfRwV",f:wh},7:{n:"PtgElfColV",f:yh},10:{n:"PtgElfRadical",f:_h},11:{n:"PtgElfRadicalS",f:bh},13:{n:"PtgElfColS",f:fh},15:{n:"PtgElfColSV",f:mh},16:{n:"PtgElfRadicalLel",f:vh},25:{n:"PtgList",f:Ch},29:{n:"PtgSxName",f:Eh},255:{}},Nh={0:{n:"PtgAttrNoop",f:Lh},1:{n:"PtgAttrSemi",f:Rc},2:{n:"PtgAttrIf",f:kc},4:{n:"PtgAttrChoose",f:Mc},8:{n:"PtgAttrGoto",f:Oc},16:{n:"PtgAttrSum",f:Wc},32:{n:"PtgAttrBaxcel",f:Lc},64:{n:"PtgAttrSpace",f:Fc},65:{n:"PtgAttrSpaceSemi",f:Bc},128:{n:"PtgAttrIfError",f:Nc},255:{}};function Rh(e,t,n,r){if(r.biff<8)return en(e,t);for(var i=e.l+t,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=eh(e,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=$c(e,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&12==r.biff&&(n[o][1][1]=e.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0];default:break}return t=i-e.l,0!==t&&s.push(en(e,t)),s}function Dh(e,t,n){var r,i,s=e.l+t,o=[];while(s!=e.l)t=s-e.l,i=e[e.l],r=Mh[i],24!==i&&25!==i||(r=(24===i?kh:Nh)[e[e.l+1]]),r&&r.f?o.push([r.n,r.f(e,t,n)]):en(e,t);return o}function Fh(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}Nh[33]=Nh[32];var Bh={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"},qh=new RegExp(/[^\w\u4E00-\u9FFF\u3040-\u30FF]/);function zh(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return qh.test(e)?"'"+e+"'":e}function Uh(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[r[0]][0][3]?(i=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Gh(e,t,n){return zh(Uh(e,t,n),n)}function jh(e,t,n,r,i){var s,o,a,l,u=i&&i.biff||8,c={s:{c:0,r:0},e:{c:0,r:0}},h=[],p=0,d=0,f="";if(!e[0]||!e[0][0])return"";for(var m=-1,y="",g=0,_=e[0].length;g<_;++g){var v=e[0][g];switch(v[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(s=h.pop(),o=h.pop(),m>=0){switch(e[0][m][1][0]){case 0:y=me(" ",e[0][m][1][1]);break;case 1:y=me("\r",e[0][m][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}o+=y,m=-1}h.push(o+Bh[v[0]]+s);break;case"PtgIsect":s=h.pop(),o=h.pop(),h.push(o+" "+s);break;case"PtgUnion":s=h.pop(),o=h.pop(),h.push(o+","+s);break;case"PtgRange":s=h.pop(),o=h.pop(),h.push(o+":"+s);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":a=on(v[1][1],c,i),h.push(ln(a,u));break;case"PtgRefN":a=n?on(v[1][1],n,i):v[1][1],h.push(ln(a,u));break;case"PtgRef3d":p=v[1][1],a=on(v[1][2],c,i),f=Gh(r,p,i);h.push(f+"!"+ln(a,u));break;case"PtgFunc":case"PtgFuncVar":var b=v[1][0],x=v[1][1];b||(b=0),b&=127;var w=0==b?[]:h.slice(-b);h.length-=b,"User"===x&&(x=w.shift()),h.push(x+"("+w.join(",")+")");break;case"PtgBool":h.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":h.push(v[1]);break;case"PtgNum":h.push(String(v[1]));break;case"PtgStr":h.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":h.push(v[1]);break;case"PtgAreaN":l=an(v[1][1],n?{s:n}:c,i),h.push(un(l,i));break;case"PtgArea":l=an(v[1][1],c,i),h.push(un(l,i));break;case"PtgArea3d":p=v[1][1],l=v[1][2],f=Gh(r,p,i),h.push(f+"!"+un(l,i));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=v[1][2];var S=(r.names||[])[d-1]||(r[0]||[])[d],C=S?S.Name:"SH33TJSNAME"+String(d);C in op&&(C=op[C]),h.push(C);break;case"PtgNameX":var E,T=v[1][1];if(d=v[1][2],!(i.biff<=5)){var A="";if(14849==((r[T]||[])[0]||[])[0]||(1025==((r[T]||[])[0]||[])[0]?r[T][d]&&r[T][d].itab>0&&(A=r.SheetNames[r[T][d].itab-1]+"!"):A=r.SheetNames[d-1]+"!"),r[T]&&r[T][d])A+=r[T][d].Name;else if(r[0]&&r[0][d])A+=r[0][d].Name;else{var P=Uh(r,T,i).split(";;");P[d-1]?A=P[d-1]:A+="SH33TJSERRX"}h.push(A);break}T<0&&(T=-T),r[T]&&(E=r[T][d]),E||(E={Name:"SH33TJSERRY"}),h.push(E.Name);break;case"PtgParen":var I="(",L=")";if(m>=0){switch(y="",e[0][m][1][0]){case 2:I=me(" ",e[0][m][1][1])+I;break;case 3:I=me("\r",e[0][m][1][1])+I;break;case 4:L=me(" ",e[0][m][1][1])+L;break;case 5:L=me("\r",e[0][m][1][1])+L;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}h.push(I+h.pop()+L);break;case"PtgRefErr":h.push("#REF!");break;case"PtgRefErr3d":h.push("#REF!");break;case"PtgExp":a={c:v[1][1],r:v[1][0]};var M={c:n.c,r:n.r};if(r.sharedf[wn(a)]){var O=r.sharedf[wn(a)];h.push(jh(O,c,M,r,i))}else{var k=!1;for(s=0;s!=r.arrayf.length;++s)if(o=r.arrayf[s],!(a.c<o[0].s.c||a.c>o[0].e.c)&&!(a.r<o[0].s.r||a.r>o[0].e.r)){h.push(jh(o[1],c,M,r,i)),k=!0;break}k||h.push(v[1])}break;case"PtgArray":h.push("{"+Fh(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=g;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":h.push("");break;case"PtgAreaErr":h.push("#REF!");break;case"PtgAreaErr3d":h.push("#REF!");break;case"PtgList":h.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var N=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(3!=i.biff&&m>=0&&-1==N.indexOf(e[0][g][0])){v=e[0][m];var R=!0;switch(v[1][0]){case 4:R=!1;case 0:y=me(" ",v[1][1]);break;case 5:R=!1;case 1:y=me("\r",v[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}h.push((R?y:"")+h.pop()+(R?"":y)),m=-1}}if(h.length>1&&i.WTF)throw new Error("bad formula stack");return h[0]}function Vh(e,t,n){var r,i=e.l+t,s=2==n.biff?1:2,o=e.read_shift(s);if(65535==o)return[[],en(e,t-2)];var a=Dh(e,o,n);return t!==o+s&&(r=Rh(e,t-o-s,a,n)),e.l=i,[a,r]}function Wh(e,t,n){var r,i=e.l+t,s=2==n.biff?1:2,o=e.read_shift(s);if(65535==o)return[[],en(e,t-2)];var a=Dh(e,o,n);return t!==o+s&&(r=Rh(e,t-o-s,a,n)),e.l=i,[a,r]}function Hh(e,t,n,r){var i,s=e.l+t,o=Dh(e,r,n);return s!==e.l&&(i=Rh(e,s-e.l,o,n)),[o,i]}function Jh(e,t,n){var r,i=e.l+t,s=e.read_shift(2),o=Dh(e,s,n);return 65535==s?[[],en(e,t-2)]:(t!==s+2&&(r=Rh(e,i-s-2,o,n)),[o,r])}function Xh(e){var t;if(65535!==Gt(e,e.l+6))return[tr(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Zh(e){if(null==e){var t=tn(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return nr("number"==typeof e?e:0)}function Yh(e,t,n){var r=e.l+t,i=vs(e,6);2==n.biff&&++e.l;var s=Xh(e,8),o=e.read_shift(1);2!=n.biff&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var a=Wh(e,r-e.l,n);return{cell:i,val:s[0],formula:a,shared:o>>3&1,tt:s[1]}}function Kh(e,t,n,r,i){var s=bs(t,n,i),o=Zh(e.v),a=tn(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var u=tn(e.bf.length),c=0;c<e.bf.length;++c)u[c]=e.bf[c];var h=N([s,o,a,u]);return h}function Qh(e,t,n){var r=e.read_shift(4),i=Dh(e,r,n),s=e.read_shift(4),o=s>0?Rh(e,s,i,n):null;return[i,o]}var $h=Qh,ep=Qh,tp=Qh,np=Qh,rp={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ip={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},sp={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0},op={"_xlfn.ACOT":"ACOT","_xlfn.ACOTH":"ACOTH","_xlfn.AGGREGATE":"AGGREGATE","_xlfn.ARABIC":"ARABIC","_xlfn.AVERAGEIF":"AVERAGEIF","_xlfn.AVERAGEIFS":"AVERAGEIFS","_xlfn.BASE":"BASE","_xlfn.BETA.DIST":"BETA.DIST","_xlfn.BETA.INV":"BETA.INV","_xlfn.BINOM.DIST":"BINOM.DIST","_xlfn.BINOM.DIST.RANGE":"BINOM.DIST.RANGE","_xlfn.BINOM.INV":"BINOM.INV","_xlfn.BITAND":"BITAND","_xlfn.BITLSHIFT":"BITLSHIFT","_xlfn.BITOR":"BITOR","_xlfn.BITRSHIFT":"BITRSHIFT","_xlfn.BITXOR":"BITXOR","_xlfn.CEILING.MATH":"CEILING.MATH","_xlfn.CEILING.PRECISE":"CEILING.PRECISE","_xlfn.CHISQ.DIST":"CHISQ.DIST","_xlfn.CHISQ.DIST.RT":"CHISQ.DIST.RT","_xlfn.CHISQ.INV":"CHISQ.INV","_xlfn.CHISQ.INV.RT":"CHISQ.INV.RT","_xlfn.CHISQ.TEST":"CHISQ.TEST","_xlfn.COMBINA":"COMBINA","_xlfn.CONCAT":"CONCAT","_xlfn.CONFIDENCE.NORM":"CONFIDENCE.NORM","_xlfn.CONFIDENCE.T":"CONFIDENCE.T","_xlfn.COT":"COT","_xlfn.COTH":"COTH","_xlfn.COUNTIFS":"COUNTIFS","_xlfn.COVARIANCE.P":"COVARIANCE.P","_xlfn.COVARIANCE.S":"COVARIANCE.S","_xlfn.CSC":"CSC","_xlfn.CSCH":"CSCH","_xlfn.DAYS":"DAYS","_xlfn.DECIMAL":"DECIMAL","_xlfn.ECMA.CEILING":"ECMA.CEILING","_xlfn.ERF.PRECISE":"ERF.PRECISE","_xlfn.ERFC.PRECISE":"ERFC.PRECISE","_xlfn.EXPON.DIST":"EXPON.DIST","_xlfn.F.DIST":"F.DIST","_xlfn.F.DIST.RT":"F.DIST.RT","_xlfn.F.INV":"F.INV","_xlfn.F.INV.RT":"F.INV.RT","_xlfn.F.TEST":"F.TEST","_xlfn.FILTERXML":"FILTERXML","_xlfn.FLOOR.MATH":"FLOOR.MATH","_xlfn.FLOOR.PRECISE":"FLOOR.PRECISE","_xlfn.FORECAST.ETS":"FORECAST.ETS","_xlfn.FORECAST.ETS.CONFINT":"FORECAST.ETS.CONFINT","_xlfn.FORECAST.ETS.SEASONALITY":"FORECAST.ETS.SEASONALITY","_xlfn.FORECAST.ETS.STAT":"FORECAST.ETS.STAT","_xlfn.FORECAST.LINEAR":"FORECAST.LINEAR","_xlfn.FORMULATEXT":"FORMULATEXT","_xlfn.GAMMA":"GAMMA","_xlfn.GAMMA.DIST":"GAMMA.DIST","_xlfn.GAMMA.INV":"GAMMA.INV","_xlfn.GAMMALN.PRECISE":"GAMMALN.PRECISE","_xlfn.GAUSS":"GAUSS","_xlfn.HYPGEOM.DIST":"HYPGEOM.DIST","_xlfn.IFERROR":"IFERROR","_xlfn.IFNA":"IFNA","_xlfn.IFS":"IFS","_xlfn.IMCOSH":"IMCOSH","_xlfn.IMCOT":"IMCOT","_xlfn.IMCSC":"IMCSC","_xlfn.IMCSCH":"IMCSCH","_xlfn.IMSEC":"IMSEC","_xlfn.IMSECH":"IMSECH","_xlfn.IMSINH":"IMSINH","_xlfn.IMTAN":"IMTAN","_xlfn.ISFORMULA":"ISFORMULA","_xlfn.ISO.CEILING":"ISO.CEILING","_xlfn.ISOWEEKNUM":"ISOWEEKNUM","_xlfn.LOGNORM.DIST":"LOGNORM.DIST","_xlfn.LOGNORM.INV":"LOGNORM.INV","_xlfn.MAXIFS":"MAXIFS","_xlfn.MINIFS":"MINIFS","_xlfn.MODE.MULT":"MODE.MULT","_xlfn.MODE.SNGL":"MODE.SNGL","_xlfn.MUNIT":"MUNIT","_xlfn.NEGBINOM.DIST":"NEGBINOM.DIST","_xlfn.NETWORKDAYS.INTL":"NETWORKDAYS.INTL","_xlfn.NIGBINOM":"NIGBINOM","_xlfn.NORM.DIST":"NORM.DIST","_xlfn.NORM.INV":"NORM.INV","_xlfn.NORM.S.DIST":"NORM.S.DIST","_xlfn.NORM.S.INV":"NORM.S.INV","_xlfn.NUMBERVALUE":"NUMBERVALUE","_xlfn.PDURATION":"PDURATION","_xlfn.PERCENTILE.EXC":"PERCENTILE.EXC","_xlfn.PERCENTILE.INC":"PERCENTILE.INC","_xlfn.PERCENTRANK.EXC":"PERCENTRANK.EXC","_xlfn.PERCENTRANK.INC":"PERCENTRANK.INC","_xlfn.PERMUTATIONA":"PERMUTATIONA","_xlfn.PHI":"PHI","_xlfn.POISSON.DIST":"POISSON.DIST","_xlfn.QUARTILE.EXC":"QUARTILE.EXC","_xlfn.QUARTILE.INC":"QUARTILE.INC","_xlfn.QUERYSTRING":"QUERYSTRING","_xlfn.RANK.AVG":"RANK.AVG","_xlfn.RANK.EQ":"RANK.EQ","_xlfn.RRI":"RRI","_xlfn.SEC":"SEC","_xlfn.SECH":"SECH","_xlfn.SHEET":"SHEET","_xlfn.SHEETS":"SHEETS","_xlfn.SKEW.P":"SKEW.P","_xlfn.STDEV.P":"STDEV.P","_xlfn.STDEV.S":"STDEV.S","_xlfn.SUMIFS":"SUMIFS","_xlfn.SWITCH":"SWITCH","_xlfn.T.DIST":"T.DIST","_xlfn.T.DIST.2T":"T.DIST.2T","_xlfn.T.DIST.RT":"T.DIST.RT","_xlfn.T.INV":"T.INV","_xlfn.T.INV.2T":"T.INV.2T","_xlfn.T.TEST":"T.TEST","_xlfn.TEXTJOIN":"TEXTJOIN","_xlfn.UNICHAR":"UNICHAR","_xlfn.UNICODE":"UNICODE","_xlfn.VAR.P":"VAR.P","_xlfn.VAR.S":"VAR.S","_xlfn.WEBSERVICE":"WEBSERVICE","_xlfn.WEIBULL.DIST":"WEIBULL.DIST","_xlfn.WORKDAY.INTL":"WORKDAY.INTL","_xlfn.XOR":"XOR","_xlfn.Z.TEST":"Z.TEST"};function ap(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&(e=e.slice(1),61==e.charCodeAt(0)&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,(function(e,t){return t.replace(/\./g,"")})),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function lp(e){var t="of:="+e.replace(lc,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function up(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function cp(e){return e.replace(/\./,"!")}var hp={},pp={};jr.WS=["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"];var dp="undefined"!==typeof Map;function fp(e,t,n){var r=0,i=e.length;if(n){if(dp?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var s=dp?n.get(t):n[t];r<s.length;++r)if(e[s[r]].t===t)return e.Count++,s[r]}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t:t},e.Count++,e.Unique++,n&&(dp?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function mp(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(vl=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=xl(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=wl(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),n}function yp(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function gp(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],i=60,s=e.length;if(null==r&&n.ssf)for(;i<392;++i)if(null==n.ssf[i]){F.load(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}for(i=0;i!=s;++i)if(e[i].numFmtId===r)return i;return e[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function _p(e,t,n,r,i,s){try{r.cellNF&&(e.z=F._table[t])}catch(cg){if(r.WTF)throw cg}if("z"!==e.t){if("d"===e.t&&"string"===typeof e.v&&(e.v=pe(e.v)),!r||!1!==r.cellText)try{if(null==F._table[t]&&F.load(z[t]||"General",t),"e"===e.t)e.w=e.w||kr[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=F._general_int(e.v):e.w=F._general_num(e.v);else if("d"===e.t){var o=ie(e.v);e.w=(0|o)===o?F._general_int(o):F._general_num(o)}else{if(void 0===e.v)return"";e.w=F._general(e.v,pp)}else"d"===e.t?e.w=F.format(t,ie(e.v),pp):e.w=F.format(t,e.v,pp)}catch(cg){if(r.WTF)throw cg}if(r.cellStyles&&null!=n)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=ml(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=ml(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(cg){if(r.WTF&&s.Fills)throw cg}}}function vp(e,t,n){if(e&&e["!ref"]){var r=En(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function bp(e,t){var n=En(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=Cn(n))}var xp=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,wp=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Sp=/<(?:\w:)?hyperlink [^>]*>/gm,Cp=/"(\w*:\w*)"/,Ep=/<(?:\w:)?col\b[^>]*[\/]?>/g,Tp=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Ap=/<(?:\w:)?pageMargins[^>]*\/>/g,Pp=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Ip=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Lp(e,t,n,r,i,s,o){if(!e)return e;r||(r={"!id":{}}),null!=x&&null==t.dense&&(t.dense=x);var a=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",c="",h=e.match(wp);h?(u=e.slice(0,h.index),c=e.slice(h.index+h[0].length)):u=c=e;var p=u.match(Pp);p&&Op(p[0],a,i,n);var d=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var f=u.slice(d,d+50).match(Cp);f&&bp(a,f[1])}var m=u.match(Ip);m&&m[1]&&Wp(m[1],i);var y=[];if(t.cellStyles){var g=u.match(Ep);g&&zp(y,g)}h&&Xp(h[1],a,t,l,s,o);var _=c.match(Tp);_&&(a["!autofilter"]=Gp(_[0]));var v=[],b=c.match(xp);if(b)for(d=0;d!=b.length;++d)v[d]=En(b[d].slice(b[d].indexOf('"')+1));var w=c.match(Sp);w&&Fp(a,w,r);var S=c.match(Ap);if(S&&(a["!margins"]=Bp(Be(S[0]))),!a["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(a["!ref"]=Cn(l)),t.sheetRows>0&&a["!ref"]){var C=En(a["!ref"]);t.sheetRows<=+C.e.r&&(C.e.r=t.sheetRows-1,C.e.r>l.e.r&&(C.e.r=l.e.r),C.e.r<C.s.r&&(C.s.r=C.e.r),C.e.c>l.e.c&&(C.e.c=l.e.c),C.e.c<C.s.c&&(C.s.c=C.e.c),a["!fullref"]=a["!ref"],a["!ref"]=Cn(C))}return y.length>0&&(a["!cols"]=y),v.length>0&&(a["!merges"]=v),a}function Mp(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Cn(e[n])+'"/>';return t+"</mergeCells>"}function Op(e,t,n,r){var i=Be(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=i.codeName)}function kp(e,t,n,r,i){var s=!1,o={},a=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch(cg){}s=!0,o.codeName=We(l)}(s||a)&&(i[i.length]=dt("sheetPr",a,o))}var Np=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Rp=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Dp(e){var t={sheet:1};return Np.forEach((function(n){null!=e[n]&&e[n]&&(t[n]="1")})),Rp.forEach((function(n){null==e[n]||e[n]||(t[n]="0")})),e.password&&(t.password=rl(e.password).toString(16).toUpperCase()),dt("sheetProtection",null,t)}function Fp(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var s=Be($e(t[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+s.location)):(s.Target="#"+s.location,o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var a=En(s.ref),l=a.s.r;l<=a.e.r;++l)for(var u=a.s.c;u<=a.e.c;++u){var c=wn({c:u,r:l});r?(e[l]||(e[l]=[]),e[l][u]||(e[l][u]={t:"z",v:void 0}),e[l][u].l=s):(e[c]||(e[c]={t:"z",v:void 0}),e[c].l=s)}}}function Bp(e){var t={};return["left","right","top","bottom","header","footer"].forEach((function(n){e[n]&&(t[n]=parseFloat(e[n]))})),t}function qp(e){return yp(e),dt("pageMargins",null,e)}function zp(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=Be(t[r],!0);i.hidden&&(i.hidden=Qe(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,Cl(i.width)),El(i);while(s<=o)e[s++]=fe(i)}}function Up(e,t){for(var n,r=["<cols>"],i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=dt("col",null,mp(i,n)));return r[r.length]="</cols>",r.join("")}function Gp(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function jp(e,t,n,r){var i="string"==typeof e.ref?e.ref:Cn(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=Sn(i);o.s.r==o.e.r&&(o.e.r=Sn(t["!ref"]).e.r,i=Cn(o));for(var a=0;a<s.length;++a){var l=s[a];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),dt("autoFilter",null,{ref:i})}var Vp=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Wp(e,t){t.Views||(t.Views=[{}]),(e.match(Vp)||[]).forEach((function(e,n){var r=Be(e);t.Views[n]||(t.Views[n]={}),Qe(r.rightToLeft)&&(t.Views[n].RTL=!0)}))}function Hp(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),dt("sheetViews",dt("sheetView",null,i),{})}function Jp(e,t,n,r){if(void 0===e.v&&"string"!==typeof e.f||"z"===e.t)return"";var i="",s=e.t,o=e.v;if("z"!==e.t)switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=kr[e.v];break;case"d":r&&r.cellDates?i=pe(e.v,-1).toISOString():(e=fe(e),e.t="n",i=""+(e.v=ie(pe(e.v)))),"undefined"===typeof e.z&&(e.z=F._table[14]);break;default:i=e.v;break}var a=ht("v",We(i)),l={r:t},u=gp(r.cellXfs,e,r);switch(0!==u&&(l.s=u),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(null==e.v){delete e.t;break}if(r&&r.bookSST){a=ht("v",""+fp(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),"string"==typeof e.f&&e.f){var c=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=dt("f",We(e.f),c)+(null!=e.v?a:"")}return e.l&&n["!links"].push([t,e.l]),e.c&&n["!comments"].push([t,e.c]),dt("c",a,l)}var Xp=function(){var e=/<(?:\w+:)?c[ >]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=it("v"),o=it("f");return function(a,l,u,c,h,p){for(var d,f,m,y,g,_=0,v="",b=[],x=[],w=0,S=0,C=0,E="",T=0,A=0,P=0,I=0,L=Array.isArray(p.CellXf),M=[],O=[],k=Array.isArray(l),N=[],R={},D=!1,B=a.split(t),q=0,z=B.length;q!=z;++q){v=B[q].trim();var U=v.length;if(0!==U){for(_=0;_<U;++_)if(62===v.charCodeAt(_))break;if(++_,f=Be(v.slice(0,_),!0),T=null!=f.r?parseInt(f.r,10):T+1,A=-1,!(u.sheetRows&&u.sheetRows<T)){c.s.r>T-1&&(c.s.r=T-1),c.e.r<T-1&&(c.e.r=T-1),u&&u.cellStyles&&(R={},D=!1,f.ht&&(D=!0,R.hpt=parseFloat(f.ht),R.hpx=Il(R.hpt)),"1"==f.hidden&&(D=!0,R.hidden=!0),null!=f.outlineLevel&&(D=!0,R.level=+f.outlineLevel),D&&(N[T-1]=R)),b=v.slice(_).split(e);for(var G=0;G!=b.length;++G)if("<"!=b[G].trim().charAt(0))break;for(b=b.slice(G),_=0;_!=b.length;++_)if(v=b[_].trim(),0!==v.length){if(x=v.match(n),w=_,S=0,C=0,v="<c "+("<"==v.slice(0,1)?">":"")+v,null!=x&&2===x.length){for(w=0,E=x[1],S=0;S!=E.length;++S){if((C=E.charCodeAt(S)-64)<1||C>26)break;w=26*w+C}--w,A=w}else++A;for(S=0;S!=v.length;++S)if(62===v.charCodeAt(S))break;if(++S,f=Be(v.slice(0,S),!0),f.r||(f.r=wn({r:T-1,c:A})),E=v.slice(S),d={t:""},null!=(x=E.match(s))&&""!==x[1]&&(d.v=Ge(x[1])),u.cellFormula){if(null!=(x=E.match(o))&&""!==x[1]){if(d.f=Ge($e(x[1])),u.xlfn||(d.f=dc(d.f)),x[0].indexOf('t="array"')>-1)d.F=(E.match(i)||[])[1],d.F.indexOf(":")>-1&&M.push([En(d.F),d.F]);else if(x[0].indexOf('t="shared"')>-1){y=Be(x[0]);var j=Ge($e(x[1]));u.xlfn||(j=dc(j)),O[parseInt(y.si,10)]=[y,j,f.r]}}else(x=E.match(/<f[^>]*\/>/))&&(y=Be(x[0]),O[y.si]&&(d.f=hc(O[y.si][1],O[y.si][2],f.r)));var V=xn(f.r);for(S=0;S<M.length;++S)V.r>=M[S][0].s.r&&V.r<=M[S][0].e.r&&V.c>=M[S][0].s.c&&V.c<=M[S][0].e.c&&(d.F=M[S][1])}if(null==f.t&&void 0===d.v)if(d.f||d.F)d.v=0,d.t="n";else{if(!u.sheetStubs)continue;d.t="z"}else d.t=f.t||"n";switch(c.s.c>A&&(c.s.c=A),c.e.c<A&&(c.e.c=A),d.t){case"n":if(""==d.v||null==d.v){if(!u.sheetStubs)continue;d.t="z"}else d.v=parseFloat(d.v);break;case"s":if("undefined"==typeof d.v){if(!u.sheetStubs)continue;d.t="z"}else m=hp[parseInt(d.v,10)],d.v=m.t,d.r=m.r,u.cellHTML&&(d.h=m.h);break;case"str":d.t="s",d.v=null!=d.v?$e(d.v):"",u.cellHTML&&(d.h=Xe(d.v));break;case"inlineStr":x=E.match(r),d.t="s",null!=x&&(m=Ia(x[1]))?(d.v=m.t,u.cellHTML&&(d.h=m.h)):d.v="";break;case"b":d.v=Qe(d.v);break;case"d":u.cellDates?d.v=pe(d.v,1):(d.v=ie(pe(d.v,1)),d.t="n");break;case"e":u&&!1===u.cellText||(d.w=d.v),d.v=Nr[d.v];break}if(P=I=0,g=null,L&&void 0!==f.s&&(g=p.CellXf[f.s],null!=g&&(null!=g.numFmtId&&(P=g.numFmtId),u.cellStyles&&null!=g.fillId&&(I=g.fillId))),_p(d,P,I,u,h,p),u.cellDates&&L&&"n"==d.t&&F.is_date(F._table[P])&&(d.t="d",d.v=le(d.v)),k){var W=xn(f.r);l[W.r]||(l[W.r]=[]),l[W.r][W.c]=d}else l[f.r]=d}}}}N.length>0&&(l["!rows"]=N)}}();function Zp(e,t,n,r){var i,s,o=[],a=[],l=En(e["!ref"]),u="",c="",h=[],p=0,d=0,f=e["!rows"],m=Array.isArray(e),y={r:c},g=-1;for(d=l.s.c;d<=l.e.c;++d)h[d]=gn(d);for(p=l.s.r;p<=l.e.r;++p){for(a=[],c=dn(p),d=l.s.c;d<=l.e.c;++d){i=h[d]+c;var _=m?(e[p]||[])[d]:e[i];void 0!==_&&(null!=(u=Jp(_,i,e,t,n,r))&&a.push(u))}(a.length>0||f&&f[p])&&(y={r:c},f&&f[p]&&(s=f[p],s.hidden&&(y.hidden=1),g=-1,s.hpx?g=Pl(s.hpx):s.hpt&&(g=s.hpt),g>-1&&(y.ht=g,y.customHeight=1),s.level&&(y.outlineLevel=s.level)),o[o.length]=dt("row",a.join(""),y))}if(f)for(;p<f.length;++p)f&&f[p]&&(y={r:p+1},s=f[p],s.hidden&&(y.hidden=1),g=-1,s.hpx?g=Pl(s.hpx):s.hpt&&(g=s.hpt),g>-1&&(y.ht=g,y.customHeight=1),s.level&&(y.outlineLevel=s.level),o[o.length]=dt("row","",y));return o.join("")}var Yp=dt("worksheet",null,{xmlns:yt.main[0],"xmlns:r":yt.r});function Kp(e,t,n,r){var i=[ke,Yp],s=n.SheetNames[e],o=0,a="",l=n.Sheets[s];null==l&&(l={});var u=l["!ref"]||"A1",c=En(u);if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),u=Cn(c)}r||(r={}),l["!comments"]=[];var h=[];kp(l,n,e,t,i),i[i.length]=dt("dimension",null,{ref:u}),i[i.length]=Hp(l,t,e,n),t.sheetFormat&&(i[i.length]=dt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(i[i.length]=Up(l,l["!cols"])),i[o=i.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(a=Zp(l,t,e,n,r),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),null!=l["!protect"]&&(i[i.length]=Dp(l["!protect"])),null!=l["!autofilter"]&&(i[i.length]=jp(l["!autofilter"],l,n,e)),null!=l["!merges"]&&l["!merges"].length>0&&(i[i.length]=Mp(l["!merges"]));var p,d=-1,f=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach((function(e){e[1].Target&&(p={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(f=Zr(r,-1,We(e[1].Target).replace(/#.*$/,""),jr.HLINK),p["r:id"]="rId"+f),(d=e[1].Target.indexOf("#"))>-1&&(p.location=We(e[1].Target.slice(d+1))),e[1].Tooltip&&(p.tooltip=We(e[1].Tooltip)),i[i.length]=dt("hyperlink",null,p))})),i[i.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(i[i.length]=qp(l["!margins"])),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(i[i.length]=ht("ignoredErrors",dt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(f=Zr(r,-1,"../drawings/drawing"+(e+1)+".xml",jr.DRAW),i[i.length]=dt("drawing",null,{"r:id":"rId"+f}),l["!drawing"]=h),l["!comments"].length>0&&(f=Zr(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",jr.VML),i[i.length]=dt("legacyDrawing",null,{"r:id":"rId"+f}),l["!legacy"]=f),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Qp(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,7&s&&(n.level=7&s),16&s&&(n.hidden=!0),32&s&&(n.hpt=i/20),n}function $p(e,t,n){var r=tn(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var s=320;i.hpx?s=20*Pl(i.hpx):i.hpt&&(s=20*i.hpt),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var a=0,l=r.l;r.l+=4;for(var u={r:e,c:0},c=0;c<16;++c)if(!(t.s.c>c+1<<10||t.e.c<c<<10)){for(var h=-1,p=-1,d=c<<10;d<c+1<<10;++d){u.c=d;var f=Array.isArray(n)?(n[u.r]||[])[u.c]:n[wn(u)];f&&(h<0&&(h=d),p=d)}h<0||(++a,r.write_shift(4,h),r.write_shift(4,p))}var m=r.l;return r.l=l,r.write_shift(4,a),r.l=m,r.length>r.l?r.slice(0,r.l):r}function ed(e,t,n,r){var i=$p(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&sn(e,"BrtRowHdr",i)}var td=$n,nd=er;function rd(){}function id(e,t){var n={};return e.l+=19,n.name=Gn(e,t-19),n}function sd(e,t){null==t&&(t=tn(84+4*e.length));for(var n=0;n<3;++n)t.write_shift(1,0);return ir({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),jn(e,t),t.slice(0,t.l)}function od(e){var t=zn(e);return[t]}function ad(e,t,n){return null==n&&(n=tn(8)),Un(t,n)}function ld(e){var t=zn(e),n=e.read_shift(1);return[t,n,"b"]}function ud(e,t,n){return null==n&&(n=tn(9)),Un(t,n),n.write_shift(1,e.v?1:0),n}function cd(e){var t=zn(e),n=e.read_shift(1);return[t,n,"e"]}function hd(e){var t=zn(e),n=e.read_shift(4);return[t,n,"s"]}function pd(e,t,n){return null==n&&(n=tn(12)),Un(t,n),n.write_shift(4,t.v),n}function dd(e){var t=zn(e),n=tr(e);return[t,n,"n"]}function fd(e,t,n){return null==n&&(n=tn(16)),Un(t,n),nr(e.v,n),n}function md(e){var t=zn(e),n=Zn(e);return[t,n,"n"]}function yd(e,t,n){return null==n&&(n=tn(12)),Un(t,n),Yn(e.v,n),n}function gd(e){var t=zn(e),n=On(e);return[t,n,"str"]}function _d(e,t,n){return null==n&&(n=tn(12+4*e.v.length)),Un(t,n),kn(e.v,n),n.length>n.l?n.slice(0,n.l):n}function vd(e,t,n){var r=e.l+t,i=zn(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"b"];if(n.cellFormula){e.l+=2;var a=ep(e,r-e.l,n);o[3]=jh(a,null,i,n.supbooks,n)}else e.l=r;return o}function bd(e,t,n){var r=e.l+t,i=zn(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"e"];if(n.cellFormula){e.l+=2;var a=ep(e,r-e.l,n);o[3]=jh(a,null,i,n.supbooks,n)}else e.l=r;return o}function xd(e,t,n){var r=e.l+t,i=zn(e);i.r=n["!row"];var s=tr(e),o=[i,s,"n"];if(n.cellFormula){e.l+=2;var a=ep(e,r-e.l,n);o[3]=jh(a,null,i,n.supbooks,n)}else e.l=r;return o}function wd(e,t,n){var r=e.l+t,i=zn(e);i.r=n["!row"];var s=On(e),o=[i,s,"str"];if(n.cellFormula){e.l+=2;var a=ep(e,r-e.l,n);o[3]=jh(a,null,i,n.supbooks,n)}else e.l=r;return o}var Sd=$n,Cd=er;function Ed(e,t){return null==t&&(t=tn(4)),t.write_shift(4,e),t}function Td(e,t){var n=e.l+t,r=$n(e,16),i=Vn(e),s=On(e),o=On(e),a=On(e);e.l=n;var l={rfx:r,relId:i,loc:s,display:a};return o&&(l.Tooltip=o),l}function Ad(e,t){var n=tn(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));er({s:xn(e[0]),e:xn(e[0])},n),Xn("rId"+t,n);var r=e[1].Target.indexOf("#"),i=-1==r?"":e[1].Target.slice(r+1);return kn(i||"",n),kn(e[1].Tooltip||"",n),kn("",n),n.slice(0,n.l)}function Pd(){}function Id(e,t,n){var r=e.l+t,i=Kn(e,16),s=e.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var a=$h(e,r-e.l,n);o[1]=a}else e.l=r;return o}function Ld(e,t,n){var r=e.l+t,i=$n(e,16),s=[i];if(n.cellFormula){var o=np(e,r-e.l,n);s[1]=o,e.l=r}else e.l=r;return s}function Md(e,t,n){null==n&&(n=tn(18));var r=mp(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof r.width&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}var Od=["left","right","top","bottom","header","footer"];function kd(e){var t={};return Od.forEach((function(n){t[n]=tr(e,8)})),t}function Nd(e,t){return null==t&&(t=tn(48)),yp(e),Od.forEach((function(n){nr(e[n],t)})),t}function Rd(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}function Dd(e,t,n){null==n&&(n=tn(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function Fd(e){var t=tn(24);return t.write_shift(4,4),t.write_shift(4,1),er(e,t),t}function Bd(e,t){return null==t&&(t=tn(66)),t.write_shift(2,e.password?rl(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(n){n[1]?t.write_shift(4,null==e[n[0]]||e[n[0]]?0:1):t.write_shift(4,null!=e[n[0]]&&e[n[0]]?0:1)})),t}function qd(){}function zd(){}function Ud(e,t,n,r,i,s,o){if(!e)return e;var a=t||{};r||(r={"!id":{}}),null!=x&&null==a.dense&&(a.dense=x);var l,u,c,h,p,d,f,m,y,g,_=a.dense?[]:{},v={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=[],w=!1,S=!1,C=[];a.biff=12,a["!row"]=0;var E=0,T=!1,A=[],P={},I=a.supbooks||i.supbooks||[[]];if(I.sharedf=P,I.arrayf=A,I.SheetNames=i.SheetNames||i.Sheets.map((function(e){return e.name})),!a.supbooks&&(a.supbooks=I,i.Names))for(var L=0;L<i.Names.length;++L)I[0][L+1]=i.Names[L];var M=[],O=[],k=!1;if(nn(e,(function(e,t,x){if(!S)switch(x){case 148:l=e;break;case 0:u=e,a.sheetRows&&a.sheetRows<=u.r&&(S=!0),y=dn(p=u.r),a["!row"]=u.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=Il(e.hpt)),O[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:switch(c={t:e[2]},e[2]){case"n":c.v=e[1];break;case"s":m=hp[e[1]],c.v=m.t,c.r=m.r;break;case"b":c.v=!!e[1];break;case"e":c.v=e[1],!1!==a.cellText&&(c.w=kr[c.v]);break;case"str":c.t="s",c.v=e[1];break}if((h=o.CellXf[e[0].iStyleRef])&&_p(c,h.numFmtId,null,a,s,o),d=e[0].c,a.dense?(_[p]||(_[p]=[]),_[p][d]=c):_[gn(d)+y]=c,a.cellFormula){for(T=!1,E=0;E<A.length;++E){var L=A[E];u.r>=L[0].s.r&&u.r<=L[0].e.r&&d>=L[0].s.c&&d<=L[0].e.c&&(c.F=Cn(L[0]),T=!0)}!T&&e.length>3&&(c.f=e[3])}if(v.s.r>u.r&&(v.s.r=u.r),v.s.c>d&&(v.s.c=d),v.e.r<u.r&&(v.e.r=u.r),v.e.c<d&&(v.e.c=d),a.cellDates&&h&&"n"==c.t&&F.is_date(F._table[h.numFmtId])){var N=F.parse_date_code(c.v);N&&(c.t="d",c.v=new Date(N.y,N.m-1,N.d,N.H,N.M,N.S,N.u))}break;case 1:if(!a.sheetStubs||w)break;c={t:"z",v:void 0},d=e[0].c,a.dense?(_[p]||(_[p]=[]),_[p][d]=c):_[gn(d)+y]=c,v.s.r>u.r&&(v.s.r=u.r),v.s.c>d&&(v.s.c=d),v.e.r<u.r&&(v.e.r=u.r),v.e.c<d&&(v.e.c=d);break;case 176:C.push(e);break;case 494:var R=r["!id"][e.relId];for(R?(e.Target=R.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=R):""==e.relId&&(e.Target="#"+e.loc),p=e.rfx.s.r;p<=e.rfx.e.r;++p)for(d=e.rfx.s.c;d<=e.rfx.e.c;++d)a.dense?(_[p]||(_[p]=[]),_[p][d]||(_[p][d]={t:"z",v:void 0}),_[p][d].l=e):(f=wn({c:d,r:p}),_[f]||(_[f]={t:"z",v:void 0}),_[f].l=e);break;case 426:if(!a.cellFormula)break;A.push(e),g=a.dense?_[p][d]:_[gn(d)+y],g.f=jh(e[1],v,{r:u.r,c:d},I,a),g.F=Cn(e[0]);break;case 427:if(!a.cellFormula)break;P[wn(e[0].s)]=e[1],g=a.dense?_[p][d]:_[gn(d)+y],g.f=jh(e[1],v,{r:u.r,c:d},I,a);break;case 60:if(!a.cellStyles)break;while(e.e>=e.s)M[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},k||(k=!0,Cl(e.w/256)),El(M[e.e+1]);break;case 161:_["!autofilter"]={ref:Cn(e)};break;case 476:_["!margins"]=e;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),e.name&&(i.Sheets[n].CodeName=e.name);break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),e.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 49:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 152:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:w=!0;break;case 36:w=!1;break;case 37:b.push(t),w=!0;break;case 38:b.pop(),w=!1;break;default:if((t||"").indexOf("Begin")>0);else if((t||"").indexOf("End")>0);else if(!w||a.WTF)throw new Error("Unexpected record "+x+" "+t)}}),a),delete a.supbooks,delete a["!row"],!_["!ref"]&&(v.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(_["!ref"]=Cn(l||v)),a.sheetRows&&_["!ref"]){var N=En(_["!ref"]);a.sheetRows<=+N.e.r&&(N.e.r=a.sheetRows-1,N.e.r>v.e.r&&(N.e.r=v.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>v.e.c&&(N.e.c=v.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),_["!fullref"]=_["!ref"],_["!ref"]=Cn(N))}return C.length>0&&(_["!merges"]=C),M.length>0&&(_["!cols"]=M),O.length>0&&(_["!rows"]=O),_}function Gd(e,t,n,r,i,s){if(void 0!==t.v){var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=fe(t),t.z=t.z||F._table[14],t.v=ie(pe(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var a={r:n,c:r};switch(a.s=gp(i.cellXfs,t,i),t.l&&s["!links"].push([wn(a),t.l]),t.c&&s["!comments"].push([wn(a),t.c]),t.t){case"s":case"str":return void(i.bookSST?(o=fp(i.Strings,t.v,i.revStrings),a.t="s",a.v=o,sn(e,"BrtCellIsst",pd(t,a))):(a.t="str",sn(e,"BrtCellSt",_d(t,a))));case"n":return void(t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?sn(e,"BrtCellRk",yd(t,a)):sn(e,"BrtCellReal",fd(t,a)));case"b":return a.t="b",void sn(e,"BrtCellBool",ud(t,a));case"e":a.t="e";break}sn(e,"BrtCellBlank",ad(t,a))}}function jd(e,t,n,r){var i,s=En(t["!ref"]||"A1"),o="",a=[];sn(e,"BrtBeginSheetData");var l=Array.isArray(t),u=s.e.r;t["!rows"]&&(u=Math.max(s.e.r,t["!rows"].length-1));for(var c=s.s.r;c<=u;++c)if(o=dn(c),ed(e,t,s,c),c<=s.e.r)for(var h=s.s.c;h<=s.e.c;++h){c===s.s.r&&(a[h]=gn(h)),i=a[h]+o;var p=l?(t[c]||[])[h]:t[i];p&&Gd(e,p,c,h,r,t)}sn(e,"BrtEndSheetData")}function Vd(e,t){t&&t["!merges"]&&(sn(e,"BrtBeginMergeCells",Ed(t["!merges"].length)),t["!merges"].forEach((function(t){sn(e,"BrtMergeCell",Cd(t))})),sn(e,"BrtEndMergeCells"))}function Wd(e,t){t&&t["!cols"]&&(sn(e,"BrtBeginColInfos"),t["!cols"].forEach((function(t,n){t&&sn(e,"BrtColInfo",Md(n,t))})),sn(e,"BrtEndColInfos"))}function Hd(e,t){t&&t["!ref"]&&(sn(e,"BrtBeginCellIgnoreECs"),sn(e,"BrtCellIgnoreEC",Fd(En(t["!ref"]))),sn(e,"BrtEndCellIgnoreECs"))}function Jd(e,t,n){t["!links"].forEach((function(t){if(t[1].Target){var r=Zr(n,-1,t[1].Target.replace(/#.*$/,""),jr.HLINK);sn(e,"BrtHLink",Ad(t,r))}})),delete t["!links"]}function Xd(e,t,n,r){if(t["!comments"].length>0){var i=Zr(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",jr.VML);sn(e,"BrtLegacyDrawing",Xn("rId"+i)),t["!legacy"]=i}}function Zd(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],s="string"===typeof i.ref?i.ref:Cn(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,a=Sn(s);a.s.r==a.e.r&&(a.e.r=Sn(t["!ref"]).e.r,s=Cn(a));for(var l=0;l<o.length;++l){var u=o[l];if("_xlnm._FilterDatabase"==u.Name&&u.Sheet==r){u.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),sn(e,"BrtBeginAFilter",er(En(s))),sn(e,"BrtEndAFilter")}}function Yd(e,t,n){sn(e,"BrtBeginWsViews"),sn(e,"BrtBeginWsView",Dd(t,n)),sn(e,"BrtEndWsView"),sn(e,"BrtEndWsViews")}function Kd(){}function Qd(e,t){t["!protect"]&&sn(e,"BrtSheetProtection",Bd(t["!protect"]))}function $d(e,t,n,r){var i=rn(),s=n.SheetNames[e],o=n.Sheets[s]||{},a=s;try{n&&n.Workbook&&(a=n.Workbook.Sheets[e].CodeName||a)}catch(cg){}var l=En(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],sn(i,"BrtBeginSheet"),n.vbaraw&&sn(i,"BrtWsProp",sd(a)),sn(i,"BrtWsDim",nd(l)),Yd(i,o,n.Workbook),Kd(i,o),Wd(i,o,e,t,n),jd(i,o,e,t,n),Qd(i,o),Zd(i,o,n,e),Vd(i,o),Jd(i,o,r),o["!margins"]&&sn(i,"BrtMargins",Nd(o["!margins"])),t&&!t.ignoreEC&&void 0!=t.ignoreEC||Hd(i,o),Xd(i,o,e,r),sn(i,"BrtEndSheet"),i.end()}function ef(e){var t,n=[],r=e.match(/^<c:numCache>/);(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach((function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(n[+t[1]]=r?+t[2]:t[2])}));var i=Ge((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach((function(e){t=e.replace(/<.*?>/g,"")})),[n,i,t]}function tf(e,t,n,r,i,s){var o=s||{"!type":"chart"};if(!e)return s;var a=0,l=0,u="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach((function(e){var t=ef(e);c.s.r=c.s.c=0,c.e.c=a,u=gn(a),t[0].forEach((function(e,n){o[u+dn(n)]={t:"n",v:e,z:t[1]},l=n})),c.e.r<l&&(c.e.r=l),++a})),a>0&&(o["!ref"]=Cn(c)),o}jr.CHART="http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",jr.CHARTEX="http://schemas.microsoft.com/office/2014/relationships/chartEx",jr.CS="http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet";dt("chartsheet",null,{xmlns:yt.main[0],"xmlns:r":yt.r});function nf(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s,o={"!type":"chart","!drawel":null,"!rel":""},a=e.match(Pp);return a&&Op(a[0],o,i,n),(s=e.match(/drawing r:id="(.*?)"/))&&(o["!rel"]=s[1]),r["!id"][o["!rel"]]&&(o["!drawel"]=r["!id"][o["!rel"]]),o}function rf(e,t){e.l+=10;var n=On(e,t-10);return{name:n}}function sf(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=[],a=!1;return nn(e,(function(e,r,l){switch(l){case 550:s["!rel"]=e;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),e.name&&(i.Sheets[n].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:o.push(r);break;case 38:o.pop();break;default:if((r||"").indexOf("Begin")>0)o.push(r);else if((r||"").indexOf("End")>0)o.pop();else if(!a||t.WTF)throw new Error("Unexpected record "+l+" "+r)}}),t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var of=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],af=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],lf=[],uf=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function cf(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var s=t[i];if(null==r[s[0]])r[s[0]]=s[1];else switch(s[2]){case"bool":"string"==typeof r[s[0]]&&(r[s[0]]=Qe(r[s[0]]));break;case"int":"string"==typeof r[s[0]]&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function hf(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(null==e[r[0]])e[r[0]]=r[1];else switch(r[2]){case"bool":"string"==typeof e[r[0]]&&(e[r[0]]=Qe(e[r[0]]));break;case"int":"string"==typeof e[r[0]]&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function pf(e){hf(e.WBProps,of),hf(e.CalcPr,uf),cf(e.WBView,af),cf(e.Sheets,lf),pp.date1904=Qe(e.WBProps.date1904)}function df(e){return e.Workbook&&e.Workbook.WBProps&&Qe(e.Workbook.WBProps.date1904)?"true":"false"}var ff="][*?/\\".split("");function mf(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return ff.forEach((function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}})),n}function yf(e,t,n){e.forEach((function(r,i){mf(r);for(var s=0;s<i;++s)if(r==e[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=t&&t[i]&&t[i].CodeName||r;if(95==o.charCodeAt(0)&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}}))}function gf(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];yf(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)vp(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}var _f=/<\w+:workbook/;function vf(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(e.replace(Re,(function(a,l){var u=Be(a);switch(qe(u[0])){case"<?xml":break;case"<workbook":a.match(_f)&&(i="xmlns"+a.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":of.forEach((function(e){if(null!=u[e[0]])switch(e[2]){case"bool":n.WBProps[e[0]]=Qe(u[e[0]]);break;case"int":n.WBProps[e[0]]=parseInt(u[e[0]],10);break;default:n.WBProps[e[0]]=u[e[0]]}})),u.codeName&&(n.WBProps.CodeName=$e(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Ge($e(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=$e(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),Qe(u.hidden||"0")&&(s.Hidden=!0),o=l+a.length;break;case"</definedName>":s.Ref=Ge($e(e.slice(o,l))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return a})),-1===yt.main.indexOf(n.xmlns))throw new Error("Unknown Namespace: "+n.xmlns);return pf(n),n}var bf=dt("workbook",null,{xmlns:yt.main[0],"xmlns:r":yt.r});function xf(e){var t=[ke];t[t.length]=bf;var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(of.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=dt("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length;++s){if(!i[s])break;if(!i[s].Hidden)break}s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:We(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=dt("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),null!=e.Sheet&&(n.localSheetId=""+e.Sheet),e.Hidden&&(n.hidden="1"),e.Ref&&(t[t.length]=dt("definedName",We(e.Ref),n))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function wf(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=Jn(e,t-8),n.name=On(e),n}function Sf(e,t){return t||(t=tn(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Xn(e.strRelID,t),kn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Cf(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?On(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}function Ef(e,t){t||(t=tn(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),jn(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Tf(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function Af(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=Hn(e),o=tp(e,0,n),a=Vn(e);e.l=r;var l={Name:s,Ptg:o};return i<268435455&&(l.Sheet=i),a&&(l.Comment=a),l}function Pf(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],nn(e,(function(e,a,l){switch(l){case 156:o.SheetNames.push(e.name),n.Sheets.push(e);break;case 153:n.WBProps=e;break;case 39:null!=e.Sheet&&(t.SID=e.Sheet),e.Ref=jh(e.Ptg,null,null,o,t),delete t.SID,delete e.Ptg,s.push(e);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([l,e]):o[0]=[l,e],o[o.length-1].XTI=[];break;case 362:0===o.length&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(e),o.XTI=o.XTI.concat(e);break;case 361:break;case 3072:case 3073:case 2071:case 534:case 677:case 158:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(a),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(a),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if((a||"").indexOf("Begin")>0);else if((a||"").indexOf("End")>0);else if(!i||t.WTF&&"BrtACBegin"!=r[r.length-1]&&"BrtFRTBegin"!=r[r.length-1])throw new Error("Unexpected record "+l+" "+a)}}),t),pf(n),n.Names=s,n.supbooks=o,n}function If(e,t){sn(e,"BrtBeginBundleShs");for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};sn(e,"BrtBundleSh",Sf(i))}sn(e,"BrtEndBundleShs")}function Lf(e,n){n||(n=tn(127));for(var r=0;4!=r;++r)n.write_shift(4,0);return kn("SheetJS",n),kn(t.version,n),kn(t.version,n),kn("7262",n),n.length=n.l,n.length>n.l?n.slice(0,n.l):n}function Mf(e,t){t||(t=tn(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function Of(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n=t.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&-1==i?i=r:1==n[r].Hidden&&-1==s&&(s=r);s>i||(sn(e,"BrtBeginBookViews"),sn(e,"BrtBookView",Mf(i)),sn(e,"BrtEndBookViews"))}}function kf(e,t){var n=rn();return sn(n,"BrtBeginBook"),sn(n,"BrtFileVersion",Lf()),sn(n,"BrtWbProp",Ef(e.Workbook&&e.Workbook.WBProps||null)),Of(n,e,t),If(n,e,t),sn(n,"BrtEndBook"),n.end()}function Nf(e,t,n){return".bin"===t.slice(-4)?Pf(e,n):vf(e,n)}function Rf(e,t,n,r,i,s,o,a){return".bin"===t.slice(-4)?Ud(e,r,n,i,s,o,a):Lp(e,r,n,i,s,o,a)}function Df(e,t,n,r,i,s,o,a){return".bin"===t.slice(-4)?sf(e,r,n,i,s,o,a):nf(e,r,n,i,s,o,a)}function Ff(e,t,n,r,i,s,o,a){return".bin"===t.slice(-4)?sc(e,r,n,i,s,o,a):oc(e,r,n,i,s,o,a)}function Bf(e,t,n,r,i,s,o,a){return".bin"===t.slice(-4)?rc(e,r,n,i,s,o,a):ic(e,r,n,i,s,o,a)}function qf(e,t,n,r){return".bin"===t.slice(-4)?iu(e,n,r):zl(e,n,r)}function zf(e,t,n){return Eu(e,n)}function Uf(e,t,n){return".bin"===t.slice(-4)?Fa(e,n):ka(e,n)}function Gf(e,t,n){return".bin"===t.slice(-4)?Ku(e,n):Vu(e,n)}function jf(e,t,n){return".bin"===t.slice(-4)?Fu(e,t,n):Ru(e,t,n)}function Vf(e,t,n,r){return".bin"===n.slice(-4)?qu(e,t,n,r):Bu(e,t,n,r)}function Wf(e,t,n){return(".bin"===t.slice(-4)?kf:xf)(e,n)}function Hf(e,t,n,r,i){return(".bin"===t.slice(-4)?$d:Kp)(e,n,r,i)}function Jf(e,t,n){return(".bin"===t.slice(-4)?mu:Gl)(e,n)}function Xf(e,t,n){return(".bin"===t.slice(-4)?za:Ra)(e,n)}function Zf(e,t,n){return(".bin"===t.slice(-4)?Qu:Hu)(e,n)}var Yf=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Kf=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Qf(e,t){var n=e.split(/\s+/),r=[];if(t||(r[0]=n[0]),1===n.length)return r;var i,s,o,a,l=e.match(Yf);if(l)for(a=0;a!=l.length;++a)i=l[a].match(Kf),-1===(s=i[1].indexOf(":"))?r[i[1]]=i[2].slice(1,i[2].length-1):(o="xmlns:"===i[1].slice(0,6)?"xmlns"+i[1].slice(6):i[1].slice(s+1),r[o]=i[2].slice(1,i[2].length-1));return r}function $f(e){var t=e.split(/\s+/),n={};if(1===t.length)return n;var r,i,s,o,a=e.match(Yf);if(a)for(o=0;o!=a.length;++o)r=a[o].match(Kf),-1===(i=r[1].indexOf(":"))?n[r[1]]=r[2].slice(1,r[2].length-1):(s="xmlns:"===r[1].slice(0,6)?"xmlns"+r[1].slice(6):r[1].slice(i+1),n[s]=r[2].slice(1,r[2].length-1));return n}function em(e,t){var n=q[e]||Ge(e);return"General"===n?F._general(t):F.format(n,t)}function tm(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Qe(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=pe(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[Ge(t)]=i}function nm(e,t,n){if("z"!==e.t){if(!n||!1!==n.cellText)try{"e"===e.t?e.w=e.w||kr[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=F._general_int(e.v):e.w=F._general_num(e.v):e.w=F._general(e.v):e.w=em(t||"General",e.v)}catch(cg){if(n.WTF)throw cg}try{var r=q[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&"n"==e.t&&F.is_date(r)){var i=F.parse_date_code(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(cg){if(n.WTF)throw cg}}}function rm(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=Ll[r.Pattern]||r.Pattern)}e[t.ID]=t}function im(e,t,n,r,i,s,o,a,l,u){var c="General",h=r.StyleID,p={};u=u||{};var d=[],f=0;void 0===h&&a&&(h=a.StyleID),void 0===h&&o&&(h=o.StyleID);while(void 0!==s[h]){if(s[h].nf&&(c=s[h].nf),s[h].Interior&&d.push(s[h].Interior),!s[h].Parent)break;h=s[h].Parent}switch(n.Type){case"Boolean":r.t="b",r.v=Qe(e);break;case"String":r.t="s",r.r=Ye(Ge(e)),r.v=e.indexOf("<")>-1?Ge(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),r.v=(pe(e)-new Date(Date.UTC(1899,11,30)))/864e5,r.v!==r.v?r.v=Ge(e):r.v<60&&(r.v=r.v-1),c&&"General"!=c||(c="yyyy-mm-dd");case"Number":void 0===r.v&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=Nr[e],!1!==u.cellText&&(r.w=e);break;default:""==e&&""==t?r.t="z":(r.t="s",r.v=Ye(t||e));break}if(nm(r,c,u),!1!==u.cellFormula)if(r.Formula){var m=Ge(r.Formula);61==m.charCodeAt(0)&&(m=m.slice(1)),r.f=ac(m,i),delete r.Formula,"RC"==r.ArrayRange?r.F=ac("RC:RC",i):r.ArrayRange&&(r.F=ac(r.ArrayRange,i),l.push([En(r.F),r.F]))}else for(f=0;f<l.length;++f)i.r>=l[f][0].s.r&&i.r<=l[f][0].e.r&&i.c>=l[f][0].s.c&&i.c<=l[f][0].e.c&&(r.F=l[f][1]);u.cellStyles&&(d.forEach((function(e){!p.patternType&&e.patternType&&(p.patternType=e.patternType)})),r.s=p),void 0!==r.StyleID&&(r.ixfe=r.StyleID)}function sm(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.v=e.w=e.ixfe=void 0}function om(e){if(C&&i.isBuffer(e))return e.toString("utf8");if("string"===typeof e)return e;if("undefined"!==typeof Uint8Array&&e instanceof Uint8Array)return $e(M(k(e)));throw new Error("Bad input format: expected Buffer or string")}var am=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm;function lm(e,t){var n=t||{};B(F);var r=_(om(e));"binary"!=n.type&&"array"!=n.type&&"base64"!=n.type||(r="undefined"!==typeof cptable?cptable.utils.decode(65001,m(r)):$e(r));var i,s=r.slice(0,1024).toLowerCase(),o=!1;if(-1==s.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach((function(e){s.indexOf("<"+e)>=0&&(o=!0)})),o)return ty.to_workbook(r,n);var a,l=[];null!=x&&null==n.dense&&(n.dense=x);var u,c={},h=[],p=n.dense?[]:{},d="",f={},y={},g=Qf('<Data ss:Type="String">'),v=0,b=0,w=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},C={},E={},T="",A=0,P=[],I={},L={},M=0,O=[],k=[],N={},R=[],D=!1,z=[],U=[],G={},j=0,V=0,W={Sheets:[],WBProps:{date1904:!1}},H={};am.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/gm,"");var J="";while(i=am.exec(r))switch(i[3]=(J=i[3]).toLowerCase()){case"data":if("data"==J){if("/"===i[1]){if((a=l.pop())[0]!==i[3])throw new Error("Bad state: "+a.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&l.push([i[3],!0]);break}if(l[l.length-1][1])break;"/"===i[1]?im(r.slice(v,i.index),T,g,"comment"==l[l.length-1][0]?N:f,{c:b,r:w},C,R[b],y,z,n):(T="",g=Qf(i[0]),v=i.index+i[0].length);break;case"cell":if("/"===i[1])if(k.length>0&&(f.c=k),(!n.sheetRows||n.sheetRows>w)&&void 0!==f.v&&(n.dense?(p[w]||(p[w]=[]),p[w][b]=f):p[gn(b)+dn(w)]=f),f.HRef&&(f.l={Target:f.HRef},f.HRefScreenTip&&(f.l.Tooltip=f.HRefScreenTip),delete f.HRef,delete f.HRefScreenTip),(f.MergeAcross||f.MergeDown)&&(j=b+(0|parseInt(f.MergeAcross,10)),V=w+(0|parseInt(f.MergeDown,10)),P.push({s:{c:b,r:w},e:{c:j,r:V}})),n.sheetStubs)if(f.MergeAcross||f.MergeDown){for(var X=b;X<=j;++X)for(var Z=w;Z<=V;++Z)(X>b||Z>w)&&(n.dense?(p[Z]||(p[Z]=[]),p[Z][X]={t:"z"}):p[gn(X)+dn(Z)]={t:"z"});b=j+1}else++b;else f.MergeAcross?b=j+1:++b;else f=$f(i[0]),f.Index&&(b=+f.Index-1),b<S.s.c&&(S.s.c=b),b>S.e.c&&(S.e.c=b),"/>"===i[0].slice(-2)&&++b,k=[];break;case"row":"/"===i[1]||"/>"===i[0].slice(-2)?(w<S.s.r&&(S.s.r=w),w>S.e.r&&(S.e.r=w),"/>"===i[0].slice(-2)&&(y=Qf(i[0]),y.Index&&(w=+y.Index-1)),b=0,++w):(y=Qf(i[0]),y.Index&&(w=+y.Index-1),G={},("0"==y.AutoFitHeight||y.Height)&&(G.hpx=parseInt(y.Height,10),G.hpt=Pl(G.hpx),U[w]=G),"1"==y.Hidden&&(G.hidden=!0,U[w]=G));break;case"worksheet":if("/"===i[1]){if((a=l.pop())[0]!==i[3])throw new Error("Bad state: "+a.join("|"));h.push(d),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(p["!ref"]=Cn(S),n.sheetRows&&n.sheetRows<=S.e.r&&(p["!fullref"]=p["!ref"],S.e.r=n.sheetRows-1,p["!ref"]=Cn(S))),P.length&&(p["!merges"]=P),R.length>0&&(p["!cols"]=R),U.length>0&&(p["!rows"]=U),c[d]=p}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,l.push([i[3],!1]),a=Qf(i[0]),d=Ge(a.Name),p=n.dense?[]:{},P=[],z=[],U=[],H={name:d,Hidden:0},W.Sheets.push(H);break;case"table":if("/"===i[1]){if((a=l.pop())[0]!==i[3])throw new Error("Bad state: "+a.join("|"))}else{if("/>"==i[0].slice(-2))break;Qf(i[0]),l.push([i[3],!1]),R=[],D=!1}break;case"style":"/"===i[1]?rm(C,E,n):E=Qf(i[0]);break;case"numberformat":E.nf=Ge(Qf(i[0]).Format||"General"),q[E.nf]&&(E.nf=q[E.nf]);for(var Y=0;392!=Y;++Y)if(F._table[Y]==E.nf)break;if(392==Y)for(Y=57;392!=Y;++Y)if(null==F._table[Y]){F.load(E.nf,Y);break}break;case"column":if("table"!==l[l.length-1][0])break;if(u=Qf(i[0]),u.Hidden&&(u.hidden=!0,delete u.Hidden),u.Width&&(u.wpx=parseInt(u.Width,10)),!D&&u.wpx>10){D=!0,vl=yl;for(var K=0;K<R.length;++K)R[K]&&El(R[K])}D&&El(u),R[u.Index-1||R.length]=u;for(var Q=0;Q<+u.Span;++Q)R[R.length]=fe(u);break;case"namedrange":if("/"===i[1])break;W.Names||(W.Names=[]);var $=Be(i[0]),ee={Name:$.Name,Ref:ac($.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(ee.Sheet=W.Sheets.length-1),W.Names.push(ee);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if("/>"===i[0].slice(-2))break;"/"===i[1]?T+=r.slice(A,i.index):A=i.index+i[0].length;break;case"interior":if(!n.cellStyles)break;E.Interior=Qf(i[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===i[0].slice(-2))break;"/"===i[1]?xi(I,J,r.slice(M,i.index)):M=i.index+i[0].length;break;case"paragraphs":break;case"styles":case"workbook":if("/"===i[1]){if((a=l.pop())[0]!==i[3])throw new Error("Bad state: "+a.join("|"))}else l.push([i[3],!1]);break;case"comment":if("/"===i[1]){if((a=l.pop())[0]!==i[3])throw new Error("Bad state: "+a.join("|"));sm(N),k.push(N)}else l.push([i[3],!1]),a=Qf(i[0]),N={a:a.Author};break;case"autofilter":if("/"===i[1]){if((a=l.pop())[0]!==i[3])throw new Error("Bad state: "+a.join("|"))}else if("/"!==i[0].charAt(i[0].length-2)){var te=Qf(i[0]);p["!autofilter"]={ref:ac(te.Range).replace(/\$/g,"")},l.push([i[3],!0])}break;case"name":break;case"datavalidation":if("/"===i[1]){if((a=l.pop())[0]!==i[3])throw new Error("Bad state: "+a.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&l.push([i[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===i[1]){if((a=l.pop())[0]!==i[3])throw new Error("Bad state: "+a.join("|"))}else"/"!==i[0].charAt(i[0].length-2)&&l.push([i[3],!0]);break;default:if(0==l.length&&"document"==i[3])return uy(r,n);if(0==l.length&&"uof"==i[3])return uy(r,n);var ne=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(i[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ne=!1}break;case"componentoptions":switch(i[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ne=!1}break;case"excelworkbook":switch(i[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ne=!1}break;case"workbookoptions":switch(i[3]){case"owcversion":break;case"height":break;case"width":break;default:ne=!1}break;case"worksheetoptions":switch(i[3]){case"visible":if("/>"===i[0].slice(-2));else if("/"===i[1])switch(r.slice(M,i.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else M=i.index+i[0].length;break;case"header":p["!margins"]||yp(p["!margins"]={},"xlml"),p["!margins"].header=Be(i[0]).Margin;break;case"footer":p["!margins"]||yp(p["!margins"]={},"xlml"),p["!margins"].footer=Be(i[0]).Margin;break;case"pagemargins":var re=Be(i[0]);p["!margins"]||yp(p["!margins"]={},"xlml"),re.Top&&(p["!margins"].top=re.Top),re.Left&&(p["!margins"].left=re.Left),re.Right&&(p["!margins"].right=re.Right),re.Bottom&&(p["!margins"].bottom=re.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ne=!1}break;case"pivottable":case"pivotcache":switch(i[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ne=!1}break;case"pagebreaks":switch(i[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ne=!1}break;case"autofilter":switch(i[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ne=!1}break;case"querytable":switch(i[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ne=!1}break;case"datavalidation":switch(i[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ne=!1}break;case"sorting":case"conditionalformatting":switch(i[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ne=!1}break;case"mapinfo":case"schema":case"data":switch(i[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ne=!1}break;case"smarttags":break;default:ne=!1;break}if(ne)break;if(i[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+i[3]+"|"+l.join("|");if("customdocumentproperties"===l[l.length-1][0]){if("/>"===i[0].slice(-2))break;"/"===i[1]?tm(L,J,O,r.slice(M,i.index)):(O=i,M=i.index+i[0].length);break}if(n.WTF)throw"Unrecognized tag: "+i[3]+"|"+l.join("|")}var ie={};return n.bookSheets||n.bookProps||(ie.Sheets=c),ie.SheetNames=h,ie.Workbook=W,ie.SSF=F.get_table(),ie.Props=I,ie.Custprops=L,ie}function um(e,t){switch(Ey(t=t||{}),t.type||"base64"){case"base64":return lm(S.decode(e),t);case"binary":case"buffer":case"file":return lm(e,t);case"array":return lm(M(e),t)}}function cm(e,t){var n=[];return e.Props&&n.push(wi(e.Props,t)),e.Custprops&&n.push(Si(e.Props,e.Custprops,t)),n.join("")}function hm(){return""}function pm(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var r=[];r.push(dt("NumberFormat",null,{"ss:Format":We(F._table[e.numFmtId])}));var i={"ss:ID":"s"+(21+t)};n.push(dt("Style",r.join(""),i))})),dt("Styles",n.join(""))}function dm(e){return dt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+uc(e.Ref,{r:0,c:0})})}function fm(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||n.push(dm(i)))}return dt("Names",n.join(""))}function mm(e,t,n,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==n&&(a.Name.match(/^_xlfn\./)||s.push(dm(a)))}return s.join("")}function ym(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(dt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(dt("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(dt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(dt("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n;++s)if(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden)break;s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(ht("ProtectContents","True")),e["!protect"].objects&&i.push(ht("ProtectObjects","True")),e["!protect"].scenarios&&i.push(ht("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||i.push(ht("EnableSelection","UnlockedCells")):i.push(ht("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&i.push("<"+t[1]+"/>")}))),0==i.length?"":dt("WorksheetOptions",i.join(""),{xmlns:gt.x})}function gm(e){return e.map((function(e){var t=Ke(e.t||""),n=dt("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return dt("Comment",n,{"ss:Author":e.a})})).join("")}function _m(e,t,n,r,i,s,o){if(!e||void 0==e.v&&void 0==e.f)return"";var a={};if(e.f&&(a["ss:Formula"]="="+We(uc(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=xn(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=We(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=We(e.l.Tooltip))),n["!merges"])for(var u=n["!merges"],c=0;c!=u.length;++c)u[c].s.c==o.c&&u[c].s.r==o.r&&(u[c].e.c>u[c].s.c&&(a["ss:MergeAcross"]=u[c].e.c-u[c].s.c),u[c].e.r>u[c].s.r&&(a["ss:MergeDown"]=u[c].e.r-u[c].s.r));var h="",p="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",p=String(e.v);break;case"b":h="Boolean",p=e.v?"1":"0";break;case"e":h="Error",p=kr[e.v];break;case"d":h="DateTime",p=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||F._table[14]);break;case"s":h="String",p=Ze(e.v||"");break}var d=gp(r.cellXfs,e,r);a["ss:StyleID"]="s"+(21+d),a["ss:Index"]=o.c+1;var f=null!=e.v?p:"",m="z"==e.t?"":'<Data ss:Type="'+h+'">'+f+"</Data>";return(e.c||[]).length>0&&(m+=gm(e.c)),dt("Cell",m,a)}function vm(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Il(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function bm(e,t,n,r){if(!e["!ref"])return"";var i=En(e["!ref"]),s=e["!merges"]||[],o=0,a=[];e["!cols"]&&e["!cols"].forEach((function(e,t){El(e);var n=!!e.width,r=mp(t,e),i={"ss:Index":t+1};n&&(i["ss:Width"]=bl(r.width)),e.hidden&&(i["ss:Hidden"]="1"),a.push(dt("Column",null,i))}));for(var l=Array.isArray(e),u=i.s.r;u<=i.e.r;++u){for(var c=[vm(u,(e["!rows"]||[])[u])],h=i.s.c;h<=i.e.c;++h){var p=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>h)&&!(s[o].s.r>u)&&!(s[o].e.c<h)&&!(s[o].e.r<u)){s[o].s.c==h&&s[o].s.r==u||(p=!0);break}if(!p){var d={r:u,c:h},f=wn(d),m=l?(e[u]||[])[h]:e[f];c.push(_m(m,f,e,t,n,r,d))}}c.push("</Row>"),c.length>2&&a.push(c.join(""))}return a.join("")}function xm(e,t,n){var r=[],i=n.SheetNames[e],s=n.Sheets[i],o=s?mm(s,t,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?bm(s,t,e,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(ym(s,t,e,n)),r.join("")}function wm(e,t){t||(t={}),e.SSF||(e.SSF=F.get_table()),e.SSF&&(B(F),F.load_table(e.SSF),t.revssf=te(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],gp(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(cm(e,t)),n.push(hm(e,t)),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(dt("Worksheet",xm(r,t,e),{"ss:Name":We(e.SheetNames[r])}));return n[2]=pm(e,t),n[3]=fm(e,t),ke+dt("Workbook",n.join(""),{xmlns:gt.ss,"xmlns:o":gt.o,"xmlns:x":gt.x,"xmlns:ss":gt.ss,"xmlns:dt":gt.dt,"xmlns:html":gt.html})}function Sm(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=lr(n),n.length-n.l<=4)return t;var r=n.read_shift(4);return 0==r||r>40?t:(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4?t:(r=n.read_shift(4),1907505652!==r?t:(t.UnicodeClipboardFormat=ur(n),r=n.read_shift(4),0==r||r>40?t:(n.l-=4,void(t.Reserved2=n.read_shift(0,"lpwstr"))))))}function Cm(e,t,n,r){var i=n,s=[],o=t.slice(t.l,t.l+i);if(r&&r.enc&&r.enc.insitu)switch(e.n){case"BOF":case"FilePass":case"FileLock":case"InterfaceHdr":case"RRDInfo":case"RRDHead":case"UsrExcl":break;default:if(0===o.length)break;r.enc.insitu(o)}s.push(o),t.l+=i;var a=Rm[Gt(t,t.l)],l=0;while(null!=a&&"Continue"===a.n.slice(0,8))i=Gt(t,t.l+2),l=t.l+4,"ContinueFrt"==a.n?l+=4:"ContinueFrt"==a.n.slice(0,11)&&(l+=12),s.push(t.slice(l,t.l+4+i)),t.l+=4+i,a=Rm[Gt(t,t.l)];var u=N(s);$t(u,0);var c=0;u.lens=[];for(var h=0;h<s.length;++h)u.lens.push(c),c+=s[h].length;return e.f(u,u.length,r)}function Em(e,t,n){if("z"!==e.t&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=F._table[r])}catch(cg){if(t.WTF)throw cg}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||kr[e.v]:0===r||"General"==r?"n"===e.t?(0|e.v)===e.v?e.w=F._general_int(e.v):e.w=F._general_num(e.v):e.w=F._general(e.v):e.w=F.format(r,e.v,{date1904:!!n})}catch(cg){if(t.WTF)throw cg}if(t.cellDates&&r&&"n"==e.t&&F.is_date(F._table[r]||String(r))){var i=F.parse_date_code(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Tm(e,t,n){return{v:e,ixfe:t,t:n}}function Am(e,t){var n={opts:{}},r={};null!=x&&null==t.dense&&(t.dense=x);var i,s,o,a,l,u,c,h,p=t.dense?[]:{},f={},m={},y=null,g=[],_="",v={},b="",w={},S=[],C=!0,E=[],T=[],A={Sheets:[],WBProps:{date1904:!1},Views:[{}]},P={},I=function(e){return e<8?Or[e]:e<64&&T[e-8]||Or[e]},L=function(e,t,n){var r,i=t.XF.data;i&&i.patternType&&n&&n.cellStyles&&(t.s={},t.s.patternType=i.patternType,(r=pl(I(i.icvFore)))&&(t.s.fgColor={rgb:r}),(r=pl(I(i.icvBack)))&&(t.s.bgColor={rgb:r}))},M=function(e,t,n){if(!(G>1)&&(n.sheetRows&&e.r>=n.sheetRows&&(C=!1),C)){if(n.cellStyles&&t.XF&&t.XF.data&&L(e,t,n),delete t.ixfe,delete t.XF,i=e,b=wn(e),m&&m.s&&m.e||(m={s:{r:0,c:0},e:{r:0,c:0}}),e.r<m.s.r&&(m.s.r=e.r),e.c<m.s.c&&(m.s.c=e.c),e.r+1>m.e.r&&(m.e.r=e.r+1),e.c+1>m.e.c&&(m.e.c=e.c+1),n.cellFormula&&t.f)for(var r=0;r<S.length;++r)if(!(S[r][0].s.c>e.c||S[r][0].s.r>e.r)&&!(S[r][0].e.c<e.c||S[r][0].e.r<e.r)){t.F=Cn(S[r][0]),S[r][0].s.c==e.c&&S[r][0].s.r==e.r||delete t.f,t.f&&(t.f=""+jh(S[r][1],m,e,q,O));break}n.dense?(p[e.r]||(p[e.r]=[]),p[e.r][e.c]=t):p[b]=t}},O={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:S,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(O.password=t.password);var k=[],N=[],R=[],D=[],B=!1,q=[];q.SheetNames=O.snames,q.sharedf=O.sharedf,q.arrayf=O.arrayf,q.names=[],q.XTI=[];var z,U="",G=0,j=0,V=[],W=[];O.codepage=1200,d(1200);var H=!1;while(e.l<e.length-1){var J=e.l,X=e.read_shift(2);if(0===X&&"EOF"===U)break;var Z=e.l===e.length?0:e.read_shift(2),Y=Rm[X];if(Y&&Y.f){if(t.bookSheets&&"BoundSheet8"===U&&"BoundSheet8"!==Y.n)break;if(U=Y.n,2===Y.r||12==Y.r){var Q=e.read_shift(2);if(Z-=2,!O.enc&&Q!==X&&((255&Q)<<8|Q>>8)!==X)throw new Error("rt mismatch: "+Q+"!="+X);12==Y.r&&(e.l+=10,Z-=10)}var $={};$="EOF"===Y.n?Y.f(e,Z,O):Cm(Y,e,Z,O);var ee=Y.n;if(0==G&&"BOF"!=ee)continue;switch(ee){case"Date1904":n.opts.Date1904=A.WBProps.date1904=$;break;case"WriteProtect":n.opts.WriteProtect=!0;break;case"FilePass":if(O.enc||(e.l=0),O.enc=$,!t.password)throw new Error("File is password-protected");if(null==$.valid)throw new Error("Encryption scheme unsupported");if(!$.valid)throw new Error("Password is incorrect");break;case"WriteAccess":O.lastuser=$;break;case"FileSharing":break;case"CodePage":var te=Number($);switch(te){case 21010:te=1200;break;case 32768:te=1e4;break;case 32769:te=1252;break}d(O.codepage=te),H=!0;break;case"RRTabId":O.rrtabid=$;break;case"WinProtect":O.winlocked=$;break;case"Template":break;case"BookBool":break;case"UsesELFs":break;case"MTRSettings":break;case"RefreshAll":case"CalcCount":case"CalcDelta":case"CalcIter":case"CalcMode":case"CalcPrecision":case"CalcSaveRecalc":n.opts[ee]=$;break;case"CalcRefMode":O.CalcRefMode=$;break;case"Uncalced":break;case"ForceFullCalculation":n.opts.FullCalc=$;break;case"WsBool":$.fDialog&&(p["!type"]="dialog");break;case"XF":E.push($);break;case"ExtSST":break;case"BookExt":break;case"RichTextStream":break;case"BkHim":break;case"SupBook":q.push([$]),q[q.length-1].XTI=[];break;case"ExternName":q[q.length-1].push($);break;case"Index":break;case"Lbl":z={Name:$.Name,Ref:jh($.rgce,m,null,q,O)},$.itab>0&&(z.Sheet=$.itab-1),q.names.push(z),q[0]||(q[0]=[],q[0].XTI=[]),q[q.length-1].push($),"_xlnm._FilterDatabase"==$.Name&&$.itab>0&&$.rgce&&$.rgce[0]&&$.rgce[0][0]&&"PtgArea3d"==$.rgce[0][0][0]&&(W[$.itab-1]={ref:Cn($.rgce[0][0][1][2])});break;case"ExternCount":O.ExternCount=$;break;case"ExternSheet":0==q.length&&(q[0]=[],q[0].XTI=[]),q[q.length-1].XTI=q[q.length-1].XTI.concat($),q.XTI=q.XTI.concat($);break;case"NameCmt":if(O.biff<8)break;null!=z&&(z.Comment=$[1]);break;case"Protect":p["!protect"]=$;break;case"Password":0!==$&&O.WTF&&console.error("Password verifier: "+$);break;case"Prot4Rev":case"Prot4RevPass":break;case"BoundSheet8":f[$.pos]=$,O.snames.push($.name);break;case"EOF":if(--G)break;if(m.e){if(m.e.r>0&&m.e.c>0){if(m.e.r--,m.e.c--,p["!ref"]=Cn(m),t.sheetRows&&t.sheetRows<=m.e.r){var ne=m.e.r;m.e.r=t.sheetRows-1,p["!fullref"]=p["!ref"],p["!ref"]=Cn(m),m.e.r=ne}m.e.r++,m.e.c++}k.length>0&&(p["!merges"]=k),N.length>0&&(p["!objects"]=N),R.length>0&&(p["!cols"]=R),D.length>0&&(p["!rows"]=D),A.Sheets.push(P)}""===_?v=p:r[_]=p,p=t.dense?[]:{};break;case"BOF":if(8===O.biff&&(O.biff={9:2,521:3,1033:4}[X]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[$.BIFFVer]||8),8==O.biff&&0==$.BIFFVer&&16==$.dt&&(O.biff=2),G++)break;if(C=!0,p=t.dense?[]:{},O.biff<8&&!H&&(H=!0,d(O.codepage=t.codepage||1252)),O.biff<5){""===_&&(_="Sheet1"),m={s:{r:0,c:0},e:{r:0,c:0}};var re={pos:e.l-Z,name:_};f[re.pos]=re,O.snames.push(_)}else _=(f[J]||{name:""}).name;32==$.dt&&(p["!type"]="chart"),64==$.dt&&(p["!type"]="macro"),k=[],N=[],O.arrayf=S=[],R=[],D=[],0,B=!1,P={Hidden:(f[J]||{hs:0}).hs,name:_};break;case"Number":case"BIFF2NUM":case"BIFF2INT":"chart"==p["!type"]&&(t.dense?(p[$.r]||[])[$.c]:p[wn({c:$.c,r:$.r})])&&++$.c,u={ixfe:$.ixfe,XF:E[$.ixfe]||{},v:$.val,t:"n"},j>0&&(u.z=V[u.ixfe>>8&31]),Em(u,t,n.opts.Date1904),M({c:$.c,r:$.r},u,t);break;case"BoolErr":u={ixfe:$.ixfe,XF:E[$.ixfe],v:$.val,t:$.t},j>0&&(u.z=V[u.ixfe>>8&31]),Em(u,t,n.opts.Date1904),M({c:$.c,r:$.r},u,t);break;case"RK":u={ixfe:$.ixfe,XF:E[$.ixfe],v:$.rknum,t:"n"},j>0&&(u.z=V[u.ixfe>>8&31]),Em(u,t,n.opts.Date1904),M({c:$.c,r:$.r},u,t);break;case"MulRk":for(var ie=$.c;ie<=$.C;++ie){var se=$.rkrec[ie-$.c][0];u={ixfe:se,XF:E[se],v:$.rkrec[ie-$.c][1],t:"n"},j>0&&(u.z=V[u.ixfe>>8&31]),Em(u,t,n.opts.Date1904),M({c:ie,r:$.r},u,t)}break;case"Formula":if("String"==$.val){y=$;break}if(u=Tm($.val,$.cell.ixfe,$.tt),u.XF=E[u.ixfe],t.cellFormula){var oe=$.formula;if(oe&&oe[0]&&oe[0][0]&&"PtgExp"==oe[0][0][0]){var ae=oe[0][0][1][0],le=oe[0][0][1][1],ue=wn({r:ae,c:le});w[ue]?u.f=""+jh($.formula,m,$.cell,q,O):u.F=((t.dense?(p[ae]||[])[le]:p[ue])||{}).F}else u.f=""+jh($.formula,m,$.cell,q,O)}j>0&&(u.z=V[u.ixfe>>8&31]),Em(u,t,n.opts.Date1904),M($.cell,u,t),y=$;break;case"String":if(!y)throw new Error("String record expects Formula");y.val=$,u=Tm($,y.cell.ixfe,"s"),u.XF=E[u.ixfe],t.cellFormula&&(u.f=""+jh(y.formula,m,y.cell,q,O)),j>0&&(u.z=V[u.ixfe>>8&31]),Em(u,t,n.opts.Date1904),M(y.cell,u,t),y=null;break;case"Array":S.push($);var ce=wn($[0].s);if(s=t.dense?(p[$[0].s.r]||[])[$[0].s.c]:p[ce],t.cellFormula&&s){if(!y)break;if(!ce||!s)break;s.f=""+jh($[1],m,$[0],q,O),s.F=Cn($[0])}break;case"ShrFmla":if(!C)break;if(!t.cellFormula)break;if(b){if(!y)break;w[wn(y.cell)]=$[0],s=t.dense?(p[y.cell.r]||[])[y.cell.c]:p[wn(y.cell)],(s||{}).f=""+jh($[0],m,i,q,O)}break;case"LabelSst":u=Tm(g[$.isst].t,$.ixfe,"s"),g[$.isst].h&&(u.h=g[$.isst].h),u.XF=E[u.ixfe],j>0&&(u.z=V[u.ixfe>>8&31]),Em(u,t,n.opts.Date1904),M({c:$.c,r:$.r},u,t);break;case"Blank":t.sheetStubs&&(u={ixfe:$.ixfe,XF:E[$.ixfe],t:"z"},j>0&&(u.z=V[u.ixfe>>8&31]),Em(u,t,n.opts.Date1904),M({c:$.c,r:$.r},u,t));break;case"MulBlank":if(t.sheetStubs)for(var he=$.c;he<=$.C;++he){var pe=$.ixfe[he-$.c];u={ixfe:pe,XF:E[pe],t:"z"},j>0&&(u.z=V[u.ixfe>>8&31]),Em(u,t,n.opts.Date1904),M({c:he,r:$.r},u,t)}break;case"RString":case"Label":case"BIFF2STR":u=Tm($.val,$.ixfe,"s"),u.XF=E[u.ixfe],j>0&&(u.z=V[u.ixfe>>8&31]),Em(u,t,n.opts.Date1904),M({c:$.c,r:$.r},u,t);break;case"Dimensions":1===G&&(m=$);break;case"SST":g=$;break;case"Format":if(4==O.biff){V[j++]=$[1];for(var de=0;de<j+163;++de)if(F._table[de]==$[1])break;de>=163&&F.load($[1],j+163)}else F.load($[1],$[0]);break;case"BIFF2FORMAT":V[j++]=$;for(var fe=0;fe<j+163;++fe)if(F._table[fe]==$)break;fe>=163&&F.load($,j+163);break;case"MergeCells":k=k.concat($);break;case"Obj":N[$.cmo[0]]=O.lastobj=$;break;case"TxO":O.lastobj.TxO=$;break;case"ImData":O.lastobj.ImData=$;break;case"HLink":for(l=$[0].s.r;l<=$[0].e.r;++l)for(a=$[0].s.c;a<=$[0].e.c;++a)s=t.dense?(p[l]||[])[a]:p[wn({c:a,r:l})],s&&(s.l=$[1]);break;case"HLinkTooltip":for(l=$[0].s.r;l<=$[0].e.r;++l)for(a=$[0].s.c;a<=$[0].e.c;++a)s=t.dense?(p[l]||[])[a]:p[wn({c:a,r:l})],s&&s.l&&(s.l.Tooltip=$[1]);break;case"Note":if(O.biff<=5&&O.biff>=2)break;s=t.dense?(p[$[0].r]||[])[$[0].c]:p[wn($[0])];var me=N[$[2]];s||(t.dense?(p[$[0].r]||(p[$[0].r]=[]),s=p[$[0].r][$[0].c]={t:"z"}):s=p[wn($[0])]={t:"z"},m.e.r=Math.max(m.e.r,$[0].r),m.s.r=Math.min(m.s.r,$[0].r),m.e.c=Math.max(m.e.c,$[0].c),m.s.c=Math.min(m.s.c,$[0].c)),s.c||(s.c=[]),o={a:$[1],t:me.TxO.t},s.c.push(o);break;default:switch(Y.n){case"ClrtClient":break;case"XFExt":Nu(E[$.ixfe],$.ext);break;case"DefColWidth":$;break;case"DefaultRowHeight":$[1];break;case"ColInfo":if(!O.cellStyles)break;while($.e>=$.s)R[$.e--]={width:$.w/256},B||(B=!0,Cl($.w/256)),El(R[$.e+1]);break;case"Row":var ye={};null!=$.level&&(D[$.r]=ye,ye.level=$.level),$.hidden&&(D[$.r]=ye,ye.hidden=!0),$.hpt&&(D[$.r]=ye,ye.hpt=$.hpt,ye.hpx=Il($.hpt));break;case"LeftMargin":case"RightMargin":case"TopMargin":case"BottomMargin":p["!margins"]||yp(p["!margins"]={}),p["!margins"][ee.slice(0,-6).toLowerCase()]=$;break;case"Setup":p["!margins"]||yp(p["!margins"]={}),p["!margins"].header=$.header,p["!margins"].footer=$.footer;break;case"Window2":$.RTL&&(A.Views[0].RTL=!0);break;case"Header":break;case"Footer":break;case"HCenter":break;case"VCenter":break;case"Pls":break;case"GCW":break;case"LHRecord":break;case"DBCell":break;case"EntExU2":break;case"SxView":break;case"Sxvd":break;case"SXVI":break;case"SXVDEx":break;case"SxIvd":break;case"SXString":break;case"Sync":break;case"Addin":break;case"SXDI":break;case"SXLI":break;case"SXEx":break;case"QsiSXTag":break;case"Selection":break;case"Feat":break;case"FeatHdr":case"FeatHdr11":break;case"Feature11":case"Feature12":case"List12":break;case"Country":c=$;break;case"RecalcId":break;case"DxGCol":break;case"Fbi":case"Fbi2":case"GelFrame":break;case"Font":break;case"XFCRC":break;case"Style":break;case"StyleExt":break;case"Palette":T=$;break;case"Theme":h=$;break;case"ScenarioProtect":break;case"ObjProtect":break;case"CondFmt12":break;case"Table":break;case"TableStyles":break;case"TableStyle":break;case"TableStyleElement":break;case"SXStreamID":break;case"SXVS":break;case"DConRef":break;case"SXAddl":break;case"DConBin":break;case"DConName":break;case"SXPI":break;case"SxFormat":break;case"SxSelect":break;case"SxRule":break;case"SxFilt":break;case"SxItm":break;case"SxDXF":break;case"ScenMan":break;case"DCon":break;case"CellWatch":break;case"PrintRowCol":break;case"PrintGrid":break;case"PrintSize":break;case"XCT":break;case"CRN":break;case"Scl":break;case"SheetExt":break;case"SheetExtOptional":break;case"ObNoMacros":break;case"ObProj":break;case"CodeName":_?P.CodeName=$||P.name:A.WBProps.CodeName=$||"ThisWorkbook";break;case"GUIDTypeLib":break;case"WOpt":break;case"PhoneticInfo":break;case"OleObjectSize":break;case"DXF":case"DXFN":case"DXFN12":case"DXFN12List":case"DXFN12NoCB":break;case"Dv":case"DVal":break;case"BRAI":case"Series":case"SeriesText":break;case"DConn":break;case"DbOrParamQry":break;case"DBQueryExt":break;case"OleDbConn":break;case"ExtString":break;case"IFmtRecord":break;case"CondFmt":case"CF":case"CF12":case"CFEx":break;case"Excel9File":break;case"Units":break;case"InterfaceHdr":case"Mms":case"InterfaceEnd":case"DSF":break;case"BuiltInFnGroupCount":break;case"Window1":case"HideObj":case"GridSet":case"Guts":case"UserBView":case"UserSViewBegin":case"UserSViewEnd":break;case"Pane":break;default:switch(Y.n){case"Dat":case"Begin":case"End":case"StartBlock":case"EndBlock":case"Frame":case"Area":case"Axis":case"AxisLine":case"Tick":break;case"AxesUsed":case"CrtLayout12":case"CrtLayout12A":case"CrtLink":case"CrtLine":case"CrtMlFrt":case"CrtMlFrtContinue":break;case"LineFormat":case"AreaFormat":case"Chart":case"Chart3d":case"Chart3DBarShape":case"ChartFormat":case"ChartFrtInfo":break;case"PlotArea":case"PlotGrowth":break;case"SeriesList":case"SerParent":case"SerAuxTrend":break;case"DataFormat":case"SerToCrt":case"FontX":break;case"CatSerRange":case"AxcExt":case"SerFmt":break;case"ShtProps":break;case"DefaultText":case"Text":case"CatLab":break;case"DataLabExtContents":break;case"Legend":case"LegendException":break;case"Pie":case"Scatter":break;case"PieFormat":case"MarkerFormat":break;case"StartObject":case"EndObject":break;case"AlRuns":case"ObjectLink":break;case"SIIndex":break;case"AttachedLabel":case"YMult":break;case"Line":case"Bar":break;case"Surf":break;case"AxisParent":break;case"Pos":break;case"ValueRange":break;case"SXViewEx9":break;case"SXViewLink":break;case"PivotChartBits":break;case"SBaseRef":break;case"TextPropsStream":break;case"LnExt":break;case"MkrExt":break;case"CrtCoopt":break;case"Qsi":case"Qsif":case"Qsir":case"QsiSXTag":break;case"TxtQry":break;case"FilterMode":break;case"AutoFilter":case"AutoFilterInfo":break;case"AutoFilter12":break;case"DropDownObjIds":break;case"Sort":break;case"SortData":break;case"ShapePropsStream":break;case"MsoDrawing":case"MsoDrawingGroup":case"MsoDrawingSelection":break;case"WebPub":case"AutoWebPub":break;case"HeaderFooter":case"HFPicture":case"PLV":case"HorizontalPageBreaks":case"VerticalPageBreaks":break;case"Backup":case"CompressPictures":case"Compat12":break;case"Continue":case"ContinueFrt12":break;case"FrtFontList":case"FrtWrapper":break;default:switch(Y.n){case"TabIdConf":case"Radar":case"RadarArea":case"DropBar":case"Intl":case"CoordList":case"SerAuxErrBar":break;case"BIFF2FONTCLR":case"BIFF2FMTCNT":case"BIFF2FONTXTRA":break;case"BIFF2XF":case"BIFF3XF":case"BIFF4XF":break;case"BIFF4FMTCNT":case"BIFF2ROW":case"BIFF2WINDOW2":break;case"SCENARIO":case"DConBin":case"PicF":case"DataLabExt":case"Lel":case"BopPop":case"BopPopCustom":case"RealTimeData":case"Name":break;case"LHNGraph":case"FnGroupName":case"AddMenu":case"LPr":break;case"ListObj":case"ListField":break;case"RRSort":break;case"BigName":break;case"ToolbarHdr":case"ToolbarEnd":break;case"DDEObjName":break;case"FRTArchId$":break;default:if(t.WTF)throw"Unrecognized Record "+Y.n}}}}}else e.l+=Z}return n.SheetNames=K(f).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return f[e].name})),t.bookSheets||(n.Sheets=r),n.Sheets&&W.forEach((function(e,t){n.Sheets[n.SheetNames[t]]["!autofilter"]=e})),n.Preamble=v,n.Strings=g,n.SSF=F.get_table(),O.enc&&(n.Encryption=O.enc),h&&(n.Themes=h),n.Metadata={},void 0!==c&&(n.Metadata.Country=c),q.names.length>0&&(A.Names=q.names),n.Workbook=A,n}var Pm={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Im(e,t,n){var r=J.find(e,"!DocumentSummaryInformation");if(r&&r.size>0)try{var i=Wi(r,Sr,Pm.DSI);for(var s in i)t[s]=i[s]}catch(cg){if(n.WTF)throw cg}var o=J.find(e,"!SummaryInformation");if(o&&o.size>0)try{var a=Wi(o,Cr,Pm.SI);for(var l in a)null==t[l]&&(t[l]=a[l])}catch(cg){if(n.WTF)throw cg}t.HeadingPairs&&t.TitlesOfParts&&(hi(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function Lm(e,t){var n,r=[],i=[],s=[],o=0;if(e.Props)for(n=K(e.Props),o=0;o<n.length;++o)(Object.prototype.hasOwnProperty.call(Tr,n[o])?r:Object.prototype.hasOwnProperty.call(Ar,n[o])?i:s).push([n[o],e.Props[n[o]]]);if(e.Custprops)for(n=K(e.Custprops),o=0;o<n.length;++o)Object.prototype.hasOwnProperty.call(e.Props||{},n[o])||(Object.prototype.hasOwnProperty.call(Tr,n[o])?r:Object.prototype.hasOwnProperty.call(Ar,n[o])?i:s).push([n[o],e.Custprops[n[o]]]);var a=[];for(o=0;o<s.length;++o)Gi.indexOf(s[o][0])>-1||null!=s[o][1]&&a.push(s[o]);i.length&&J.utils.cfb_add(t,"/SummaryInformation",Hi(i,Pm.SI,Ar,Cr)),(r.length||a.length)&&J.utils.cfb_add(t,"/DocumentSummaryInformation",Hi(r,Pm.DSI,Tr,Sr,a.length?a:null,Pm.UDI))}function Mm(e,t){var n,r,i,s;if(t||(t={}),Ey(t),f(),t.codepage&&h(t.codepage),e.FullPaths){if(J.find(e,"/encryption"))throw new Error("File is password-protected");n=J.find(e,"!CompObj"),r=J.find(e,"/Workbook")||J.find(e,"/Book")}else{switch(t.type){case"base64":e=I(S.decode(e));break;case"binary":e=I(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}$t(e,0),r={content:e}}if(n&&Sm(n),t.bookProps&&!t.bookSheets)i={};else{var o=C?"buffer":"array";if(r&&r.content)i=Am(r.content,t);else if((s=J.find(e,"PerfectOffice_MAIN"))&&s.content)i=wa.to_workbook(s.content,(t.type=o,t));else{if(!(s=J.find(e,"NativeContent_MAIN"))||!s.content)throw new Error("Cannot find Workbook stream");i=wa.to_workbook(s.content,(t.type=o,t))}t.bookVBA&&e.FullPaths&&J.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=ec(e))}var a={};return e.FullPaths&&Im(e,a,t),i.Props=i.Custprops=a,t.bookFiles&&(i.cfb=e),i}function Om(e,t){var n=t||{},r=J.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return J.utils.cfb_add(r,i,ey(e,n)),8==n.biff&&(e.Props||e.Custprops)&&Lm(e,r),8==n.biff&&e.vbaraw&&tc(r,J.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var km={0:{n:"BrtRowHdr",f:Qp},1:{n:"BrtCellBlank",f:od},2:{n:"BrtCellRk",f:md},3:{n:"BrtCellError",f:cd},4:{n:"BrtCellBool",f:ld},5:{n:"BrtCellReal",f:dd},6:{n:"BrtCellSt",f:gd},7:{n:"BrtCellIsst",f:hd},8:{n:"BrtFmlaString",f:wd},9:{n:"BrtFmlaNum",f:xd},10:{n:"BrtFmlaBool",f:vd},11:{n:"BrtFmlaError",f:bd},16:{n:"BrtFRTArchID$",f:Tf},19:{n:"BrtSSTItem",f:Dn},20:{n:"BrtPCDIMissing"},21:{n:"BrtPCDINumber"},22:{n:"BrtPCDIBoolean"},23:{n:"BrtPCDIError"},24:{n:"BrtPCDIString"},25:{n:"BrtPCDIDatetime"},26:{n:"BrtPCDIIndex"},27:{n:"BrtPCDIAMissing"},28:{n:"BrtPCDIANumber"},29:{n:"BrtPCDIABoolean"},30:{n:"BrtPCDIAError"},31:{n:"BrtPCDIAString"},32:{n:"BrtPCDIADatetime"},33:{n:"BrtPCRRecord"},34:{n:"BrtPCRRecordDt"},35:{n:"BrtFRTBegin"},36:{n:"BrtFRTEnd"},37:{n:"BrtACBegin"},38:{n:"BrtACEnd"},39:{n:"BrtName",f:Af},40:{n:"BrtIndexRowBlock"},42:{n:"BrtIndexBlock"},43:{n:"BrtFont",f:Wl},44:{n:"BrtFmt",f:jl},45:{n:"BrtFill",f:Zl},46:{n:"BrtBorder",f:eu},47:{n:"BrtXF",f:Kl},48:{n:"BrtStyle"},49:{n:"BrtCellMeta"},50:{n:"BrtValueMeta"},51:{n:"BrtMdb"},52:{n:"BrtBeginFmd"},53:{n:"BrtEndFmd"},54:{n:"BrtBeginMdx"},55:{n:"BrtEndMdx"},56:{n:"BrtBeginMdxTuple"},57:{n:"BrtEndMdxTuple"},58:{n:"BrtMdxMbrIstr"},59:{n:"BrtStr"},60:{n:"BrtColInfo",f:ea},62:{n:"BrtCellRString"},63:{n:"BrtCalcChainItem$",f:Du},64:{n:"BrtDVal",f:qd},65:{n:"BrtSxvcellNum"},66:{n:"BrtSxvcellStr"},67:{n:"BrtSxvcellBool"},68:{n:"BrtSxvcellErr"},69:{n:"BrtSxvcellDate"},70:{n:"BrtSxvcellNil"},128:{n:"BrtFileVersion"},129:{n:"BrtBeginSheet"},130:{n:"BrtEndSheet"},131:{n:"BrtBeginBook",f:en,p:0},132:{n:"BrtEndBook"},133:{n:"BrtBeginWsViews"},134:{n:"BrtEndWsViews"},135:{n:"BrtBeginBookViews"},136:{n:"BrtEndBookViews"},137:{n:"BrtBeginWsView",f:Rd},138:{n:"BrtEndWsView"},139:{n:"BrtBeginCsViews"},140:{n:"BrtEndCsViews"},141:{n:"BrtBeginCsView"},142:{n:"BrtEndCsView"},143:{n:"BrtBeginBundleShs"},144:{n:"BrtEndBundleShs"},145:{n:"BrtBeginSheetData"},146:{n:"BrtEndSheetData"},147:{n:"BrtWsProp",f:id},148:{n:"BrtWsDim",f:td,p:16},151:{n:"BrtPane",f:Pd},152:{n:"BrtSel"},153:{n:"BrtWbProp",f:Cf},154:{n:"BrtWbFactoid"},155:{n:"BrtFileRecover"},156:{n:"BrtBundleSh",f:wf},157:{n:"BrtCalcProp"},158:{n:"BrtBookView"},159:{n:"BrtBeginSst",f:Da},160:{n:"BrtEndSst"},161:{n:"BrtBeginAFilter",f:$n},162:{n:"BrtEndAFilter"},163:{n:"BrtBeginFilterColumn"},164:{n:"BrtEndFilterColumn"},165:{n:"BrtBeginFilters"},166:{n:"BrtEndFilters"},167:{n:"BrtFilter"},168:{n:"BrtColorFilter"},169:{n:"BrtIconFilter"},170:{n:"BrtTop10Filter"},171:{n:"BrtDynamicFilter"},172:{n:"BrtBeginCustomFilters"},173:{n:"BrtEndCustomFilters"},174:{n:"BrtCustomFilter"},175:{n:"BrtAFilterDateGroupItem"},176:{n:"BrtMergeCell",f:Sd},177:{n:"BrtBeginMergeCells"},178:{n:"BrtEndMergeCells"},179:{n:"BrtBeginPivotCacheDef"},180:{n:"BrtEndPivotCacheDef"},181:{n:"BrtBeginPCDFields"},182:{n:"BrtEndPCDFields"},183:{n:"BrtBeginPCDField"},184:{n:"BrtEndPCDField"},185:{n:"BrtBeginPCDSource"},186:{n:"BrtEndPCDSource"},187:{n:"BrtBeginPCDSRange"},188:{n:"BrtEndPCDSRange"},189:{n:"BrtBeginPCDFAtbl"},190:{n:"BrtEndPCDFAtbl"},191:{n:"BrtBeginPCDIRun"},192:{n:"BrtEndPCDIRun"},193:{n:"BrtBeginPivotCacheRecords"},194:{n:"BrtEndPivotCacheRecords"},195:{n:"BrtBeginPCDHierarchies"},196:{n:"BrtEndPCDHierarchies"},197:{n:"BrtBeginPCDHierarchy"},198:{n:"BrtEndPCDHierarchy"},199:{n:"BrtBeginPCDHFieldsUsage"},200:{n:"BrtEndPCDHFieldsUsage"},201:{n:"BrtBeginExtConnection"},202:{n:"BrtEndExtConnection"},203:{n:"BrtBeginECDbProps"},204:{n:"BrtEndECDbProps"},205:{n:"BrtBeginECOlapProps"},206:{n:"BrtEndECOlapProps"},207:{n:"BrtBeginPCDSConsol"},208:{n:"BrtEndPCDSConsol"},209:{n:"BrtBeginPCDSCPages"},210:{n:"BrtEndPCDSCPages"},211:{n:"BrtBeginPCDSCPage"},212:{n:"BrtEndPCDSCPage"},213:{n:"BrtBeginPCDSCPItem"},214:{n:"BrtEndPCDSCPItem"},215:{n:"BrtBeginPCDSCSets"},216:{n:"BrtEndPCDSCSets"},217:{n:"BrtBeginPCDSCSet"},218:{n:"BrtEndPCDSCSet"},219:{n:"BrtBeginPCDFGroup"},220:{n:"BrtEndPCDFGroup"},221:{n:"BrtBeginPCDFGItems"},222:{n:"BrtEndPCDFGItems"},223:{n:"BrtBeginPCDFGRange"},224:{n:"BrtEndPCDFGRange"},225:{n:"BrtBeginPCDFGDiscrete"},226:{n:"BrtEndPCDFGDiscrete"},227:{n:"BrtBeginPCDSDTupleCache"},228:{n:"BrtEndPCDSDTupleCache"},229:{n:"BrtBeginPCDSDTCEntries"},230:{n:"BrtEndPCDSDTCEntries"},231:{n:"BrtBeginPCDSDTCEMembers"},232:{n:"BrtEndPCDSDTCEMembers"},233:{n:"BrtBeginPCDSDTCEMember"},234:{n:"BrtEndPCDSDTCEMember"},235:{n:"BrtBeginPCDSDTCQueries"},236:{n:"BrtEndPCDSDTCQueries"},237:{n:"BrtBeginPCDSDTCQuery"},238:{n:"BrtEndPCDSDTCQuery"},239:{n:"BrtBeginPCDSDTCSets"},240:{n:"BrtEndPCDSDTCSets"},241:{n:"BrtBeginPCDSDTCSet"},242:{n:"BrtEndPCDSDTCSet"},243:{n:"BrtBeginPCDCalcItems"},244:{n:"BrtEndPCDCalcItems"},245:{n:"BrtBeginPCDCalcItem"},246:{n:"BrtEndPCDCalcItem"},247:{n:"BrtBeginPRule"},248:{n:"BrtEndPRule"},249:{n:"BrtBeginPRFilters"},250:{n:"BrtEndPRFilters"},251:{n:"BrtBeginPRFilter"},252:{n:"BrtEndPRFilter"},253:{n:"BrtBeginPNames"},254:{n:"BrtEndPNames"},255:{n:"BrtBeginPName"},256:{n:"BrtEndPName"},257:{n:"BrtBeginPNPairs"},258:{n:"BrtEndPNPairs"},259:{n:"BrtBeginPNPair"},260:{n:"BrtEndPNPair"},261:{n:"BrtBeginECWebProps"},262:{n:"BrtEndECWebProps"},263:{n:"BrtBeginEcWpTables"},264:{n:"BrtEndECWPTables"},265:{n:"BrtBeginECParams"},266:{n:"BrtEndECParams"},267:{n:"BrtBeginECParam"},268:{n:"BrtEndECParam"},269:{n:"BrtBeginPCDKPIs"},270:{n:"BrtEndPCDKPIs"},271:{n:"BrtBeginPCDKPI"},272:{n:"BrtEndPCDKPI"},273:{n:"BrtBeginDims"},274:{n:"BrtEndDims"},275:{n:"BrtBeginDim"},276:{n:"BrtEndDim"},277:{n:"BrtIndexPartEnd"},278:{n:"BrtBeginStyleSheet"},279:{n:"BrtEndStyleSheet"},280:{n:"BrtBeginSXView"},281:{n:"BrtEndSXVI"},282:{n:"BrtBeginSXVI"},283:{n:"BrtBeginSXVIs"},284:{n:"BrtEndSXVIs"},285:{n:"BrtBeginSXVD"},286:{n:"BrtEndSXVD"},287:{n:"BrtBeginSXVDs"},288:{n:"BrtEndSXVDs"},289:{n:"BrtBeginSXPI"},290:{n:"BrtEndSXPI"},291:{n:"BrtBeginSXPIs"},292:{n:"BrtEndSXPIs"},293:{n:"BrtBeginSXDI"},294:{n:"BrtEndSXDI"},295:{n:"BrtBeginSXDIs"},296:{n:"BrtEndSXDIs"},297:{n:"BrtBeginSXLI"},298:{n:"BrtEndSXLI"},299:{n:"BrtBeginSXLIRws"},300:{n:"BrtEndSXLIRws"},301:{n:"BrtBeginSXLICols"},302:{n:"BrtEndSXLICols"},303:{n:"BrtBeginSXFormat"},304:{n:"BrtEndSXFormat"},305:{n:"BrtBeginSXFormats"},306:{n:"BrtEndSxFormats"},307:{n:"BrtBeginSxSelect"},308:{n:"BrtEndSxSelect"},309:{n:"BrtBeginISXVDRws"},310:{n:"BrtEndISXVDRws"},311:{n:"BrtBeginISXVDCols"},312:{n:"BrtEndISXVDCols"},313:{n:"BrtEndSXLocation"},314:{n:"BrtBeginSXLocation"},315:{n:"BrtEndSXView"},316:{n:"BrtBeginSXTHs"},317:{n:"BrtEndSXTHs"},318:{n:"BrtBeginSXTH"},319:{n:"BrtEndSXTH"},320:{n:"BrtBeginISXTHRws"},321:{n:"BrtEndISXTHRws"},322:{n:"BrtBeginISXTHCols"},323:{n:"BrtEndISXTHCols"},324:{n:"BrtBeginSXTDMPS"},325:{n:"BrtEndSXTDMPs"},326:{n:"BrtBeginSXTDMP"},327:{n:"BrtEndSXTDMP"},328:{n:"BrtBeginSXTHItems"},329:{n:"BrtEndSXTHItems"},330:{n:"BrtBeginSXTHItem"},331:{n:"BrtEndSXTHItem"},332:{n:"BrtBeginMetadata"},333:{n:"BrtEndMetadata"},334:{n:"BrtBeginEsmdtinfo"},335:{n:"BrtMdtinfo"},336:{n:"BrtEndEsmdtinfo"},337:{n:"BrtBeginEsmdb"},338:{n:"BrtEndEsmdb"},339:{n:"BrtBeginEsfmd"},340:{n:"BrtEndEsfmd"},341:{n:"BrtBeginSingleCells"},342:{n:"BrtEndSingleCells"},343:{n:"BrtBeginList"},344:{n:"BrtEndList"},345:{n:"BrtBeginListCols"},346:{n:"BrtEndListCols"},347:{n:"BrtBeginListCol"},348:{n:"BrtEndListCol"},349:{n:"BrtBeginListXmlCPr"},350:{n:"BrtEndListXmlCPr"},351:{n:"BrtListCCFmla"},352:{n:"BrtListTrFmla"},353:{n:"BrtBeginExternals"},354:{n:"BrtEndExternals"},355:{n:"BrtSupBookSrc",f:Jn},357:{n:"BrtSupSelf"},358:{n:"BrtSupSame"},359:{n:"BrtSupTabs"},360:{n:"BrtBeginSupBook"},361:{n:"BrtPlaceholderName"},362:{n:"BrtExternSheet",f:Mo},363:{n:"BrtExternTableStart"},364:{n:"BrtExternTableEnd"},366:{n:"BrtExternRowHdr"},367:{n:"BrtExternCellBlank"},368:{n:"BrtExternCellReal"},369:{n:"BrtExternCellBool"},370:{n:"BrtExternCellError"},371:{n:"BrtExternCellString"},372:{n:"BrtBeginEsmdx"},373:{n:"BrtEndEsmdx"},374:{n:"BrtBeginMdxSet"},375:{n:"BrtEndMdxSet"},376:{n:"BrtBeginMdxMbrProp"},377:{n:"BrtEndMdxMbrProp"},378:{n:"BrtBeginMdxKPI"},379:{n:"BrtEndMdxKPI"},380:{n:"BrtBeginEsstr"},381:{n:"BrtEndEsstr"},382:{n:"BrtBeginPRFItem"},383:{n:"BrtEndPRFItem"},384:{n:"BrtBeginPivotCacheIDs"},385:{n:"BrtEndPivotCacheIDs"},386:{n:"BrtBeginPivotCacheID"},387:{n:"BrtEndPivotCacheID"},388:{n:"BrtBeginISXVIs"},389:{n:"BrtEndISXVIs"},390:{n:"BrtBeginColInfos"},391:{n:"BrtEndColInfos"},392:{n:"BrtBeginRwBrk"},393:{n:"BrtEndRwBrk"},394:{n:"BrtBeginColBrk"},395:{n:"BrtEndColBrk"},396:{n:"BrtBrk"},397:{n:"BrtUserBookView"},398:{n:"BrtInfo"},399:{n:"BrtCUsr"},400:{n:"BrtUsr"},401:{n:"BrtBeginUsers"},403:{n:"BrtEOF"},404:{n:"BrtUCR"},405:{n:"BrtRRInsDel"},406:{n:"BrtRREndInsDel"},407:{n:"BrtRRMove"},408:{n:"BrtRREndMove"},409:{n:"BrtRRChgCell"},410:{n:"BrtRREndChgCell"},411:{n:"BrtRRHeader"},412:{n:"BrtRRUserView"},413:{n:"BrtRRRenSheet"},414:{n:"BrtRRInsertSh"},415:{n:"BrtRRDefName"},416:{n:"BrtRRNote"},417:{n:"BrtRRConflict"},418:{n:"BrtRRTQSIF"},419:{n:"BrtRRFormat"},420:{n:"BrtRREndFormat"},421:{n:"BrtRRAutoFmt"},422:{n:"BrtBeginUserShViews"},423:{n:"BrtBeginUserShView"},424:{n:"BrtEndUserShView"},425:{n:"BrtEndUserShViews"},426:{n:"BrtArrFmla",f:Id},427:{n:"BrtShrFmla",f:Ld},428:{n:"BrtTable"},429:{n:"BrtBeginExtConnections"},430:{n:"BrtEndExtConnections"},431:{n:"BrtBeginPCDCalcMems"},432:{n:"BrtEndPCDCalcMems"},433:{n:"BrtBeginPCDCalcMem"},434:{n:"BrtEndPCDCalcMem"},435:{n:"BrtBeginPCDHGLevels"},436:{n:"BrtEndPCDHGLevels"},437:{n:"BrtBeginPCDHGLevel"},438:{n:"BrtEndPCDHGLevel"},439:{n:"BrtBeginPCDHGLGroups"},440:{n:"BrtEndPCDHGLGroups"},441:{n:"BrtBeginPCDHGLGroup"},442:{n:"BrtEndPCDHGLGroup"},443:{n:"BrtBeginPCDHGLGMembers"},444:{n:"BrtEndPCDHGLGMembers"},445:{n:"BrtBeginPCDHGLGMember"},446:{n:"BrtEndPCDHGLGMember"},447:{n:"BrtBeginQSI"},448:{n:"BrtEndQSI"},449:{n:"BrtBeginQSIR"},450:{n:"BrtEndQSIR"},451:{n:"BrtBeginDeletedNames"},452:{n:"BrtEndDeletedNames"},453:{n:"BrtBeginDeletedName"},454:{n:"BrtEndDeletedName"},455:{n:"BrtBeginQSIFs"},456:{n:"BrtEndQSIFs"},457:{n:"BrtBeginQSIF"},458:{n:"BrtEndQSIF"},459:{n:"BrtBeginAutoSortScope"},460:{n:"BrtEndAutoSortScope"},461:{n:"BrtBeginConditionalFormatting"},462:{n:"BrtEndConditionalFormatting"},463:{n:"BrtBeginCFRule"},464:{n:"BrtEndCFRule"},465:{n:"BrtBeginIconSet"},466:{n:"BrtEndIconSet"},467:{n:"BrtBeginDatabar"},468:{n:"BrtEndDatabar"},469:{n:"BrtBeginColorScale"},470:{n:"BrtEndColorScale"},471:{n:"BrtCFVO"},472:{n:"BrtExternValueMeta"},473:{n:"BrtBeginColorPalette"},474:{n:"BrtEndColorPalette"},475:{n:"BrtIndexedColor"},476:{n:"BrtMargins",f:kd},477:{n:"BrtPrintOptions"},478:{n:"BrtPageSetup"},479:{n:"BrtBeginHeaderFooter"},480:{n:"BrtEndHeaderFooter"},481:{n:"BrtBeginSXCrtFormat"},482:{n:"BrtEndSXCrtFormat"},483:{n:"BrtBeginSXCrtFormats"},484:{n:"BrtEndSXCrtFormats"},485:{n:"BrtWsFmtInfo",f:rd},486:{n:"BrtBeginMgs"},487:{n:"BrtEndMGs"},488:{n:"BrtBeginMGMaps"},489:{n:"BrtEndMGMaps"},490:{n:"BrtBeginMG"},491:{n:"BrtEndMG"},492:{n:"BrtBeginMap"},493:{n:"BrtEndMap"},494:{n:"BrtHLink",f:Td},495:{n:"BrtBeginDCon"},496:{n:"BrtEndDCon"},497:{n:"BrtBeginDRefs"},498:{n:"BrtEndDRefs"},499:{n:"BrtDRef"},500:{n:"BrtBeginScenMan"},501:{n:"BrtEndScenMan"},502:{n:"BrtBeginSct"},503:{n:"BrtEndSct"},504:{n:"BrtSlc"},505:{n:"BrtBeginDXFs"},506:{n:"BrtEndDXFs"},507:{n:"BrtDXF"},508:{n:"BrtBeginTableStyles"},509:{n:"BrtEndTableStyles"},510:{n:"BrtBeginTableStyle"},511:{n:"BrtEndTableStyle"},512:{n:"BrtTableStyleElement"},513:{n:"BrtTableStyleClient"},514:{n:"BrtBeginVolDeps"},515:{n:"BrtEndVolDeps"},516:{n:"BrtBeginVolType"},517:{n:"BrtEndVolType"},518:{n:"BrtBeginVolMain"},519:{n:"BrtEndVolMain"},520:{n:"BrtBeginVolTopic"},521:{n:"BrtEndVolTopic"},522:{n:"BrtVolSubtopic"},523:{n:"BrtVolRef"},524:{n:"BrtVolNum"},525:{n:"BrtVolErr"},526:{n:"BrtVolStr"},527:{n:"BrtVolBool"},528:{n:"BrtBeginCalcChain$"},529:{n:"BrtEndCalcChain$"},530:{n:"BrtBeginSortState"},531:{n:"BrtEndSortState"},532:{n:"BrtBeginSortCond"},533:{n:"BrtEndSortCond"},534:{n:"BrtBookProtection"},535:{n:"BrtSheetProtection"},536:{n:"BrtRangeProtection"},537:{n:"BrtPhoneticInfo"},538:{n:"BrtBeginECTxtWiz"},539:{n:"BrtEndECTxtWiz"},540:{n:"BrtBeginECTWFldInfoLst"},541:{n:"BrtEndECTWFldInfoLst"},542:{n:"BrtBeginECTwFldInfo"},548:{n:"BrtFileSharing"},549:{n:"BrtOleSize"},550:{n:"BrtDrawing",f:Jn},551:{n:"BrtLegacyDrawing"},552:{n:"BrtLegacyDrawingHF"},553:{n:"BrtWebOpt"},554:{n:"BrtBeginWebPubItems"},555:{n:"BrtEndWebPubItems"},556:{n:"BrtBeginWebPubItem"},557:{n:"BrtEndWebPubItem"},558:{n:"BrtBeginSXCondFmt"},559:{n:"BrtEndSXCondFmt"},560:{n:"BrtBeginSXCondFmts"},561:{n:"BrtEndSXCondFmts"},562:{n:"BrtBkHim"},564:{n:"BrtColor"},565:{n:"BrtBeginIndexedColors"},566:{n:"BrtEndIndexedColors"},569:{n:"BrtBeginMRUColors"},570:{n:"BrtEndMRUColors"},572:{n:"BrtMRUColor"},573:{n:"BrtBeginDVals"},574:{n:"BrtEndDVals"},577:{n:"BrtSupNameStart"},578:{n:"BrtSupNameValueStart"},579:{n:"BrtSupNameValueEnd"},580:{n:"BrtSupNameNum"},581:{n:"BrtSupNameErr"},582:{n:"BrtSupNameSt"},583:{n:"BrtSupNameNil"},584:{n:"BrtSupNameBool"},585:{n:"BrtSupNameFmla"},586:{n:"BrtSupNameBits"},587:{n:"BrtSupNameEnd"},588:{n:"BrtEndSupBook"},589:{n:"BrtCellSmartTagProperty"},590:{n:"BrtBeginCellSmartTag"},591:{n:"BrtEndCellSmartTag"},592:{n:"BrtBeginCellSmartTags"},593:{n:"BrtEndCellSmartTags"},594:{n:"BrtBeginSmartTags"},595:{n:"BrtEndSmartTags"},596:{n:"BrtSmartTagType"},597:{n:"BrtBeginSmartTagTypes"},598:{n:"BrtEndSmartTagTypes"},599:{n:"BrtBeginSXFilters"},600:{n:"BrtEndSXFilters"},601:{n:"BrtBeginSXFILTER"},602:{n:"BrtEndSXFilter"},603:{n:"BrtBeginFills"},604:{n:"BrtEndFills"},605:{n:"BrtBeginCellWatches"},606:{n:"BrtEndCellWatches"},607:{n:"BrtCellWatch"},608:{n:"BrtBeginCRErrs"},609:{n:"BrtEndCRErrs"},610:{n:"BrtCrashRecErr"},611:{n:"BrtBeginFonts"},612:{n:"BrtEndFonts"},613:{n:"BrtBeginBorders"},614:{n:"BrtEndBorders"},615:{n:"BrtBeginFmts"},616:{n:"BrtEndFmts"},617:{n:"BrtBeginCellXFs"},618:{n:"BrtEndCellXFs"},619:{n:"BrtBeginStyles"},620:{n:"BrtEndStyles"},625:{n:"BrtBigName"},626:{n:"BrtBeginCellStyleXFs"},627:{n:"BrtEndCellStyleXFs"},628:{n:"BrtBeginComments"},629:{n:"BrtEndComments"},630:{n:"BrtBeginCommentAuthors"},631:{n:"BrtEndCommentAuthors"},632:{n:"BrtCommentAuthor",f:Zu},633:{n:"BrtBeginCommentList"},634:{n:"BrtEndCommentList"},635:{n:"BrtBeginComment",f:Ju},636:{n:"BrtEndComment"},637:{n:"BrtCommentText",f:Bn},638:{n:"BrtBeginOleObjects"},639:{n:"BrtOleObject"},640:{n:"BrtEndOleObjects"},641:{n:"BrtBeginSxrules"},642:{n:"BrtEndSxRules"},643:{n:"BrtBeginActiveXControls"},644:{n:"BrtActiveX"},645:{n:"BrtEndActiveXControls"},646:{n:"BrtBeginPCDSDTCEMembersSortBy"},648:{n:"BrtBeginCellIgnoreECs"},649:{n:"BrtCellIgnoreEC"},650:{n:"BrtEndCellIgnoreECs"},651:{n:"BrtCsProp",f:rf},652:{n:"BrtCsPageSetup"},653:{n:"BrtBeginUserCsViews"},654:{n:"BrtEndUserCsViews"},655:{n:"BrtBeginUserCsView"},656:{n:"BrtEndUserCsView"},657:{n:"BrtBeginPcdSFCIEntries"},658:{n:"BrtEndPCDSFCIEntries"},659:{n:"BrtPCDSFCIEntry"},660:{n:"BrtBeginListParts"},661:{n:"BrtListPart"},662:{n:"BrtEndListParts"},663:{n:"BrtSheetCalcProp"},664:{n:"BrtBeginFnGroup"},665:{n:"BrtFnGroup"},666:{n:"BrtEndFnGroup"},667:{n:"BrtSupAddin"},668:{n:"BrtSXTDMPOrder"},669:{n:"BrtCsProtection"},671:{n:"BrtBeginWsSortMap"},672:{n:"BrtEndWsSortMap"},673:{n:"BrtBeginRRSort"},674:{n:"BrtEndRRSort"},675:{n:"BrtRRSortItem"},676:{n:"BrtFileSharingIso"},677:{n:"BrtBookProtectionIso"},678:{n:"BrtSheetProtectionIso"},679:{n:"BrtCsProtectionIso"},680:{n:"BrtRangeProtectionIso"},681:{n:"BrtDValList"},1024:{n:"BrtRwDescent"},1025:{n:"BrtKnownFonts"},1026:{n:"BrtBeginSXTupleSet"},1027:{n:"BrtEndSXTupleSet"},1028:{n:"BrtBeginSXTupleSetHeader"},1029:{n:"BrtEndSXTupleSetHeader"},1030:{n:"BrtSXTupleSetHeaderItem"},1031:{n:"BrtBeginSXTupleSetData"},1032:{n:"BrtEndSXTupleSetData"},1033:{n:"BrtBeginSXTupleSetRow"},1034:{n:"BrtEndSXTupleSetRow"},1035:{n:"BrtSXTupleSetRowItem"},1036:{n:"BrtNameExt"},1037:{n:"BrtPCDH14"},1038:{n:"BrtBeginPCDCalcMem14"},1039:{n:"BrtEndPCDCalcMem14"},1040:{n:"BrtSXTH14"},1041:{n:"BrtBeginSparklineGroup"},1042:{n:"BrtEndSparklineGroup"},1043:{n:"BrtSparkline"},1044:{n:"BrtSXDI14"},1045:{n:"BrtWsFmtInfoEx14"},1046:{n:"BrtBeginConditionalFormatting14"},1047:{n:"BrtEndConditionalFormatting14"},1048:{n:"BrtBeginCFRule14"},1049:{n:"BrtEndCFRule14"},1050:{n:"BrtCFVO14"},1051:{n:"BrtBeginDatabar14"},1052:{n:"BrtBeginIconSet14"},1053:{n:"BrtDVal14",f:zd},1054:{n:"BrtBeginDVals14"},1055:{n:"BrtColor14"},1056:{n:"BrtBeginSparklines"},1057:{n:"BrtEndSparklines"},1058:{n:"BrtBeginSparklineGroups"},1059:{n:"BrtEndSparklineGroups"},1061:{n:"BrtSXVD14"},1062:{n:"BrtBeginSXView14"},1063:{n:"BrtEndSXView14"},1064:{n:"BrtBeginSXView16"},1065:{n:"BrtEndSXView16"},1066:{n:"BrtBeginPCD14"},1067:{n:"BrtEndPCD14"},1068:{n:"BrtBeginExtConn14"},1069:{n:"BrtEndExtConn14"},1070:{n:"BrtBeginSlicerCacheIDs"},1071:{n:"BrtEndSlicerCacheIDs"},1072:{n:"BrtBeginSlicerCacheID"},1073:{n:"BrtEndSlicerCacheID"},1075:{n:"BrtBeginSlicerCache"},1076:{n:"BrtEndSlicerCache"},1077:{n:"BrtBeginSlicerCacheDef"},1078:{n:"BrtEndSlicerCacheDef"},1079:{n:"BrtBeginSlicersEx"},1080:{n:"BrtEndSlicersEx"},1081:{n:"BrtBeginSlicerEx"},1082:{n:"BrtEndSlicerEx"},1083:{n:"BrtBeginSlicer"},1084:{n:"BrtEndSlicer"},1085:{n:"BrtSlicerCachePivotTables"},1086:{n:"BrtBeginSlicerCacheOlapImpl"},1087:{n:"BrtEndSlicerCacheOlapImpl"},1088:{n:"BrtBeginSlicerCacheLevelsData"},1089:{n:"BrtEndSlicerCacheLevelsData"},1090:{n:"BrtBeginSlicerCacheLevelData"},1091:{n:"BrtEndSlicerCacheLevelData"},1092:{n:"BrtBeginSlicerCacheSiRanges"},1093:{n:"BrtEndSlicerCacheSiRanges"},1094:{n:"BrtBeginSlicerCacheSiRange"},1095:{n:"BrtEndSlicerCacheSiRange"},1096:{n:"BrtSlicerCacheOlapItem"},1097:{n:"BrtBeginSlicerCacheSelections"},1098:{n:"BrtSlicerCacheSelection"},1099:{n:"BrtEndSlicerCacheSelections"},1100:{n:"BrtBeginSlicerCacheNative"},1101:{n:"BrtEndSlicerCacheNative"},1102:{n:"BrtSlicerCacheNativeItem"},1103:{n:"BrtRangeProtection14"},1104:{n:"BrtRangeProtectionIso14"},1105:{n:"BrtCellIgnoreEC14"},1111:{n:"BrtList14"},1112:{n:"BrtCFIcon"},1113:{n:"BrtBeginSlicerCachesPivotCacheIDs"},1114:{n:"BrtEndSlicerCachesPivotCacheIDs"},1115:{n:"BrtBeginSlicers"},1116:{n:"BrtEndSlicers"},1117:{n:"BrtWbProp14"},1118:{n:"BrtBeginSXEdit"},1119:{n:"BrtEndSXEdit"},1120:{n:"BrtBeginSXEdits"},1121:{n:"BrtEndSXEdits"},1122:{n:"BrtBeginSXChange"},1123:{n:"BrtEndSXChange"},1124:{n:"BrtBeginSXChanges"},1125:{n:"BrtEndSXChanges"},1126:{n:"BrtSXTupleItems"},1128:{n:"BrtBeginSlicerStyle"},1129:{n:"BrtEndSlicerStyle"},1130:{n:"BrtSlicerStyleElement"},1131:{n:"BrtBeginStyleSheetExt14"},1132:{n:"BrtEndStyleSheetExt14"},1133:{n:"BrtBeginSlicerCachesPivotCacheID"},1134:{n:"BrtEndSlicerCachesPivotCacheID"},1135:{n:"BrtBeginConditionalFormattings"},1136:{n:"BrtEndConditionalFormattings"},1137:{n:"BrtBeginPCDCalcMemExt"},1138:{n:"BrtEndPCDCalcMemExt"},1139:{n:"BrtBeginPCDCalcMemsExt"},1140:{n:"BrtEndPCDCalcMemsExt"},1141:{n:"BrtPCDField14"},1142:{n:"BrtBeginSlicerStyles"},1143:{n:"BrtEndSlicerStyles"},1144:{n:"BrtBeginSlicerStyleElements"},1145:{n:"BrtEndSlicerStyleElements"},1146:{n:"BrtCFRuleExt"},1147:{n:"BrtBeginSXCondFmt14"},1148:{n:"BrtEndSXCondFmt14"},1149:{n:"BrtBeginSXCondFmts14"},1150:{n:"BrtEndSXCondFmts14"},1152:{n:"BrtBeginSortCond14"},1153:{n:"BrtEndSortCond14"},1154:{n:"BrtEndDVals14"},1155:{n:"BrtEndIconSet14"},1156:{n:"BrtEndDatabar14"},1157:{n:"BrtBeginColorScale14"},1158:{n:"BrtEndColorScale14"},1159:{n:"BrtBeginSxrules14"},1160:{n:"BrtEndSxrules14"},1161:{n:"BrtBeginPRule14"},1162:{n:"BrtEndPRule14"},1163:{n:"BrtBeginPRFilters14"},1164:{n:"BrtEndPRFilters14"},1165:{n:"BrtBeginPRFilter14"},1166:{n:"BrtEndPRFilter14"},1167:{n:"BrtBeginPRFItem14"},1168:{n:"BrtEndPRFItem14"},1169:{n:"BrtBeginCellIgnoreECs14"},1170:{n:"BrtEndCellIgnoreECs14"},1171:{n:"BrtDxf14"},1172:{n:"BrtBeginDxF14s"},1173:{n:"BrtEndDxf14s"},1177:{n:"BrtFilter14"},1178:{n:"BrtBeginCustomFilters14"},1180:{n:"BrtCustomFilter14"},1181:{n:"BrtIconFilter14"},1182:{n:"BrtPivotCacheConnectionName"},2048:{n:"BrtBeginDecoupledPivotCacheIDs"},2049:{n:"BrtEndDecoupledPivotCacheIDs"},2050:{n:"BrtDecoupledPivotCacheID"},2051:{n:"BrtBeginPivotTableRefs"},2052:{n:"BrtEndPivotTableRefs"},2053:{n:"BrtPivotTableRef"},2054:{n:"BrtSlicerCacheBookPivotTables"},2055:{n:"BrtBeginSxvcells"},2056:{n:"BrtEndSxvcells"},2057:{n:"BrtBeginSxRow"},2058:{n:"BrtEndSxRow"},2060:{n:"BrtPcdCalcMem15"},2067:{n:"BrtQsi15"},2068:{n:"BrtBeginWebExtensions"},2069:{n:"BrtEndWebExtensions"},2070:{n:"BrtWebExtension"},2071:{n:"BrtAbsPath15"},2072:{n:"BrtBeginPivotTableUISettings"},2073:{n:"BrtEndPivotTableUISettings"},2075:{n:"BrtTableSlicerCacheIDs"},2076:{n:"BrtTableSlicerCacheID"},2077:{n:"BrtBeginTableSlicerCache"},2078:{n:"BrtEndTableSlicerCache"},2079:{n:"BrtSxFilter15"},2080:{n:"BrtBeginTimelineCachePivotCacheIDs"},2081:{n:"BrtEndTimelineCachePivotCacheIDs"},2082:{n:"BrtTimelineCachePivotCacheID"},2083:{n:"BrtBeginTimelineCacheIDs"},2084:{n:"BrtEndTimelineCacheIDs"},2085:{n:"BrtBeginTimelineCacheID"},2086:{n:"BrtEndTimelineCacheID"},2087:{n:"BrtBeginTimelinesEx"},2088:{n:"BrtEndTimelinesEx"},2089:{n:"BrtBeginTimelineEx"},2090:{n:"BrtEndTimelineEx"},2091:{n:"BrtWorkBookPr15"},2092:{n:"BrtPCDH15"},2093:{n:"BrtBeginTimelineStyle"},2094:{n:"BrtEndTimelineStyle"},2095:{n:"BrtTimelineStyleElement"},2096:{n:"BrtBeginTimelineStylesheetExt15"},2097:{n:"BrtEndTimelineStylesheetExt15"},2098:{n:"BrtBeginTimelineStyles"},2099:{n:"BrtEndTimelineStyles"},2100:{n:"BrtBeginTimelineStyleElements"},2101:{n:"BrtEndTimelineStyleElements"},2102:{n:"BrtDxf15"},2103:{n:"BrtBeginDxfs15"},2104:{n:"brtEndDxfs15"},2105:{n:"BrtSlicerCacheHideItemsWithNoData"},2106:{n:"BrtBeginItemUniqueNames"},2107:{n:"BrtEndItemUniqueNames"},2108:{n:"BrtItemUniqueName"},2109:{n:"BrtBeginExtConn15"},2110:{n:"BrtEndExtConn15"},2111:{n:"BrtBeginOledbPr15"},2112:{n:"BrtEndOledbPr15"},2113:{n:"BrtBeginDataFeedPr15"},2114:{n:"BrtEndDataFeedPr15"},2115:{n:"BrtTextPr15"},2116:{n:"BrtRangePr15"},2117:{n:"BrtDbCommand15"},2118:{n:"BrtBeginDbTables15"},2119:{n:"BrtEndDbTables15"},2120:{n:"BrtDbTable15"},2121:{n:"BrtBeginDataModel"},2122:{n:"BrtEndDataModel"},2123:{n:"BrtBeginModelTables"},2124:{n:"BrtEndModelTables"},2125:{n:"BrtModelTable"},2126:{n:"BrtBeginModelRelationships"},2127:{n:"BrtEndModelRelationships"},2128:{n:"BrtModelRelationship"},2129:{n:"BrtBeginECTxtWiz15"},2130:{n:"BrtEndECTxtWiz15"},2131:{n:"BrtBeginECTWFldInfoLst15"},2132:{n:"BrtEndECTWFldInfoLst15"},2133:{n:"BrtBeginECTWFldInfo15"},2134:{n:"BrtFieldListActiveItem"},2135:{n:"BrtPivotCacheIdVersion"},2136:{n:"BrtSXDI15"},2137:{n:"BrtBeginModelTimeGroupings"},2138:{n:"BrtEndModelTimeGroupings"},2139:{n:"BrtBeginModelTimeGrouping"},2140:{n:"BrtEndModelTimeGrouping"},2141:{n:"BrtModelTimeGroupingCalcCol"},3072:{n:"BrtUid"},3073:{n:"BrtRevisionPtr"},5095:{n:"BrtBeginCalcFeatures"},5096:{n:"BrtEndCalcFeatures"},5097:{n:"BrtCalcFeature"},65535:{n:""}},Nm=Q(km,"n"),Rm={3:{n:"BIFF2NUM",f:ua},4:{n:"BIFF2STR",f:la},6:{n:"Formula",f:Yh},9:{n:"BOF",f:Ds},10:{n:"EOF",f:Ji},12:{n:"CalcCount",f:Qi},13:{n:"CalcMode",f:Qi},14:{n:"CalcPrecision",f:Yi},15:{n:"CalcRefMode",f:Yi},16:{n:"CalcDelta",f:tr},17:{n:"CalcIter",f:Yi},18:{n:"Protect",f:Yi},19:{n:"Password",f:Qi},20:{n:"Header",f:To},21:{n:"Footer",f:To},23:{n:"ExternSheet",f:Mo},24:{n:"Lbl",f:Lo},25:{n:"WinProtect",f:Yi},26:{n:"VerticalPageBreaks"},27:{n:"HorizontalPageBreaks"},28:{n:"Note",f:Bo},29:{n:"Selection"},34:{n:"Date1904",f:Yi},35:{n:"ExternName",f:Po},36:{n:"COLWIDTH"},38:{n:"LeftMargin",f:tr},39:{n:"RightMargin",f:tr},40:{n:"TopMargin",f:tr},41:{n:"BottomMargin",f:tr},42:{n:"PrintRowCol",f:Yi},43:{n:"PrintGrid",f:Yi},47:{n:"FilePass",f:ul},49:{n:"Font",f:no},51:{n:"PrintSize",f:Qi},60:{n:"Continue"},61:{n:"Window1",f:Ks},64:{n:"Backup",f:Yi},65:{n:"Pane",f:to},66:{n:"CodePage",f:Qi},77:{n:"Pls"},80:{n:"DCon"},81:{n:"DConRef"},82:{n:"DConName"},85:{n:"DefColWidth",f:Qi},89:{n:"XCT"},90:{n:"CRN"},91:{n:"FileSharing"},92:{n:"WriteAccess",f:qs},93:{n:"Obj",f:Uo},94:{n:"Uncalced"},95:{n:"CalcSaveRecalc",f:Yi},96:{n:"Template"},97:{n:"Intl"},99:{n:"ObjProtect",f:Yi},125:{n:"ColInfo",f:ea},128:{n:"Guts",f:bo},129:{n:"WsBool",f:Us},130:{n:"GridSet",f:Qi},131:{n:"HCenter",f:Yi},132:{n:"VCenter",f:Yi},133:{n:"BoundSheet8",f:Gs},134:{n:"WriteProtect"},140:{n:"Country",f:Zo},141:{n:"HideObj",f:Qi},144:{n:"Sort"},146:{n:"Palette",f:Qo},151:{n:"Sync"},152:{n:"LPr"},153:{n:"DxGCol"},154:{n:"FnGroupName"},155:{n:"FilterMode"},156:{n:"BuiltInFnGroupCount",f:Qi},157:{n:"AutoFilterInfo"},158:{n:"AutoFilter"},160:{n:"Scl",f:sa},161:{n:"Setup",f:ta},174:{n:"ScenMan"},175:{n:"SCENARIO"},176:{n:"SxView"},177:{n:"Sxvd"},178:{n:"SXVI"},180:{n:"SxIvd"},181:{n:"SXLI"},182:{n:"SXPI"},184:{n:"DocRoute"},185:{n:"RecipName"},189:{n:"MulRk",f:mo},190:{n:"MulBlank",f:yo},193:{n:"Mms",f:Ji},197:{n:"SXDI"},198:{n:"SXDB"},199:{n:"SXFDB"},200:{n:"SXDBB"},201:{n:"SXNum"},202:{n:"SxBool",f:Yi},203:{n:"SxErr"},204:{n:"SXInt"},205:{n:"SXString"},206:{n:"SXDtr"},207:{n:"SxNil"},208:{n:"SXTbl"},209:{n:"SXTBRGIITM"},210:{n:"SxTbpg"},211:{n:"ObProj"},213:{n:"SXStreamID"},215:{n:"DBCell"},216:{n:"SXRng"},217:{n:"SxIsxoper"},218:{n:"BookBool",f:Qi},220:{n:"DbOrParamQry"},221:{n:"ScenarioProtect",f:Yi},222:{n:"OleObjectSize"},224:{n:"XF",f:_o},225:{n:"InterfaceHdr",f:Bs},226:{n:"InterfaceEnd",f:Ji},227:{n:"SXVS"},229:{n:"MergeCells",f:qo},233:{n:"BkHim"},235:{n:"MsoDrawingGroup"},236:{n:"MsoDrawing"},237:{n:"MsoDrawingSelection"},239:{n:"PhoneticInfo"},240:{n:"SxRule"},241:{n:"SXEx"},242:{n:"SxFilt"},244:{n:"SxDXF"},245:{n:"SxItm"},246:{n:"SxName"},247:{n:"SxSelect"},248:{n:"SXPair"},249:{n:"SxFmla"},251:{n:"SxFormat"},252:{n:"SST",f:Vs},253:{n:"LabelSst",f:io},255:{n:"ExtSST",f:Hs},256:{n:"SXVDEx"},259:{n:"SXFormula"},290:{n:"SXDBEx"},311:{n:"RRDInsDel"},312:{n:"RRDHead"},315:{n:"RRDChgCell"},317:{n:"RRTabId",f:es},318:{n:"RRDRenSheet"},319:{n:"RRSort"},320:{n:"RRDMove"},330:{n:"RRFormat"},331:{n:"RRAutoFmt"},333:{n:"RRInsertSh"},334:{n:"RRDMoveBegin"},335:{n:"RRDMoveEnd"},336:{n:"RRDInsDelBegin"},337:{n:"RRDInsDelEnd"},338:{n:"RRDConflict"},339:{n:"RRDDefName"},340:{n:"RRDRstEtxp"},351:{n:"LRng"},352:{n:"UsesELFs",f:Yi},353:{n:"DSF",f:Ji},401:{n:"CUsr"},402:{n:"CbUsr"},403:{n:"UsrInfo"},404:{n:"UsrExcl"},405:{n:"FileLock"},406:{n:"RRDInfo"},407:{n:"BCUsrs"},408:{n:"UsrChk"},425:{n:"UserBView"},426:{n:"UserSViewBegin"},427:{n:"UserSViewEnd"},428:{n:"RRDUserView"},429:{n:"Qsi"},430:{n:"SupBook",f:Ao},431:{n:"Prot4Rev",f:Yi},432:{n:"CondFmt"},433:{n:"CF"},434:{n:"DVal"},437:{n:"DConBin"},438:{n:"TxO",f:Vo},439:{n:"RefreshAll",f:Yi},440:{n:"HLink",f:Wo},441:{n:"Lel"},442:{n:"CodeName",f:as},443:{n:"SXFDBType"},444:{n:"Prot4RevPass",f:Qi},445:{n:"ObNoMacros"},446:{n:"Dv"},448:{n:"Excel9File",f:Ji},449:{n:"RecalcId",f:Zs,r:2},450:{n:"EntExU2",f:Ji},512:{n:"Dimensions",f:ho},513:{n:"Blank",f:ia},515:{n:"Number",f:Co},516:{n:"Label",f:oo},517:{n:"BoolErr",f:wo},518:{n:"Formula",f:Yh},519:{n:"String",f:oa},520:{n:"Row",f:Js},523:{n:"Index"},545:{n:"Array",f:Ro},549:{n:"DefaultRowHeight",f:Ys},566:{n:"Table"},574:{n:"Window2",f:$s},638:{n:"RK",f:fo},659:{n:"Style"},1030:{n:"Formula",f:Yh},1048:{n:"BigName"},1054:{n:"Format",f:lo},1084:{n:"ContinueBigName"},1212:{n:"ShrFmla",f:No},2048:{n:"HLinkTooltip",f:Jo},2049:{n:"WebPub"},2050:{n:"QsiSXTag"},2051:{n:"DBQueryExt"},2052:{n:"ExtString"},2053:{n:"TxtQry"},2054:{n:"Qsir"},2055:{n:"Qsif"},2056:{n:"RRDTQSIF"},2057:{n:"BOF",f:Ds},2058:{n:"OleDbConn"},2059:{n:"WOpt"},2060:{n:"SXViewEx"},2061:{n:"SXTH"},2062:{n:"SXPIEx"},2063:{n:"SXVDTEx"},2064:{n:"SXViewEx9"},2066:{n:"ContinueFrt"},2067:{n:"RealTimeData"},2128:{n:"ChartFrtInfo"},2129:{n:"FrtWrapper"},2130:{n:"StartBlock"},2131:{n:"EndBlock"},2132:{n:"StartObject"},2133:{n:"EndObject"},2134:{n:"CatLab"},2135:{n:"YMult"},2136:{n:"SXViewLink"},2137:{n:"PivotChartBits"},2138:{n:"FrtFontList"},2146:{n:"SheetExt"},2147:{n:"BookExt",r:12},2148:{n:"SXAddl"},2149:{n:"CrErr"},2150:{n:"HFPicture"},2151:{n:"FeatHdr",f:Ji},2152:{n:"Feat"},2154:{n:"DataLabExt"},2155:{n:"DataLabExtContents"},2156:{n:"CellWatch"},2161:{n:"FeatHdr11"},2162:{n:"Feature11"},2164:{n:"DropDownObjIds"},2165:{n:"ContinueFrt11"},2166:{n:"DConn"},2167:{n:"List12"},2168:{n:"Feature12"},2169:{n:"CondFmt12"},2170:{n:"CF12"},2171:{n:"CFEx"},2172:{n:"XFCRC",f:$o,r:12},2173:{n:"XFExt",f:ku,r:12},2174:{n:"AutoFilter12"},2175:{n:"ContinueFrt12"},2180:{n:"MDTInfo"},2181:{n:"MDXStr"},2182:{n:"MDXTuple"},2183:{n:"MDXSet"},2184:{n:"MDXProp"},2185:{n:"MDXKPI"},2186:{n:"MDB"},2187:{n:"PLV"},2188:{n:"Compat12",f:Yi,r:12},2189:{n:"DXF"},2190:{n:"TableStyles",r:12},2191:{n:"TableStyle"},2192:{n:"TableStyleElement"},2194:{n:"StyleExt"},2195:{n:"NamePublish"},2196:{n:"NameCmt",f:ko,r:12},2197:{n:"SortData"},2198:{n:"Theme",f:Au,r:12},2199:{n:"GUIDTypeLib"},2200:{n:"FnGrp12"},2201:{n:"NameFnGrp12"},2202:{n:"MTRSettings",f:Do,r:12},2203:{n:"CompressPictures",f:Ji},2204:{n:"HeaderFooter"},2205:{n:"CrtLayout12"},2206:{n:"CrtMlFrt"},2207:{n:"CrtMlFrtContinue"},2211:{n:"ForceFullCalculation",f:Xs},2212:{n:"ShapePropsStream"},2213:{n:"TextPropsStream"},2214:{n:"RichTextStream"},2215:{n:"CrtLayout12A"},4097:{n:"Units"},4098:{n:"Chart"},4099:{n:"Series"},4102:{n:"DataFormat"},4103:{n:"LineFormat"},4105:{n:"MarkerFormat"},4106:{n:"AreaFormat"},4107:{n:"PieFormat"},4108:{n:"AttachedLabel"},4109:{n:"SeriesText"},4116:{n:"ChartFormat"},4117:{n:"Legend"},4118:{n:"SeriesList"},4119:{n:"Bar"},4120:{n:"Line"},4121:{n:"Pie"},4122:{n:"Area"},4123:{n:"Scatter"},4124:{n:"CrtLine"},4125:{n:"Axis"},4126:{n:"Tick"},4127:{n:"ValueRange"},4128:{n:"CatSerRange"},4129:{n:"AxisLine"},4130:{n:"CrtLink"},4132:{n:"DefaultText"},4133:{n:"Text"},4134:{n:"FontX",f:Qi},4135:{n:"ObjectLink"},4146:{n:"Frame"},4147:{n:"Begin"},4148:{n:"End"},4149:{n:"PlotArea"},4154:{n:"Chart3d"},4156:{n:"PicF"},4157:{n:"DropBar"},4158:{n:"Radar"},4159:{n:"Surf"},4160:{n:"RadarArea"},4161:{n:"AxisParent"},4163:{n:"LegendException"},4164:{n:"ShtProps",f:na},4165:{n:"SerToCrt"},4166:{n:"AxesUsed"},4168:{n:"SBaseRef"},4170:{n:"SerParent"},4171:{n:"SerAuxTrend"},4174:{n:"IFmtRecord"},4175:{n:"Pos"},4176:{n:"AlRuns"},4177:{n:"BRAI"},4187:{n:"SerAuxErrBar"},4188:{n:"ClrtClient",f:Ko},4189:{n:"SerFmt"},4191:{n:"Chart3DBarShape"},4192:{n:"Fbi"},4193:{n:"BopPop"},4194:{n:"AxcExt"},4195:{n:"Dat"},4196:{n:"PlotGrowth"},4197:{n:"SIIndex"},4198:{n:"GelFrame"},4199:{n:"BopPopCustom"},4200:{n:"Fbi2"},0:{n:"Dimensions",f:ho},2:{n:"BIFF2INT",f:ha},5:{n:"BoolErr",f:wo},7:{n:"String",f:da},8:{n:"BIFF2ROW"},11:{n:"Index"},22:{n:"ExternCount",f:Qi},30:{n:"BIFF2FORMAT",f:co},31:{n:"BIFF2FMTCNT"},32:{n:"BIFF2COLINFO"},33:{n:"Array",f:Ro},37:{n:"DefaultRowHeight",f:Ys},50:{n:"BIFF2FONTXTRA",f:fa},52:{n:"DDEObjName"},62:{n:"BIFF2WINDOW2"},67:{n:"BIFF2XF"},69:{n:"BIFF2FONTCLR"},86:{n:"BIFF4FMTCNT"},126:{n:"RK"},127:{n:"ImData",f:aa},135:{n:"Addin"},136:{n:"Edg"},137:{n:"Pub"},145:{n:"Sub"},148:{n:"LHRecord"},149:{n:"LHNGraph"},150:{n:"Sound"},169:{n:"CoordList"},171:{n:"GCW"},188:{n:"ShrFmla"},191:{n:"ToolbarHdr"},192:{n:"ToolbarEnd"},194:{n:"AddMenu"},195:{n:"DelMenu"},214:{n:"RString",f:ma},223:{n:"UDDesc"},234:{n:"TabIdConf"},354:{n:"XL5Modify"},421:{n:"FileSharing2"},521:{n:"BOF",f:Ds},536:{n:"Lbl",f:Lo},547:{n:"ExternName",f:Po},561:{n:"Font"},579:{n:"BIFF3XF"},1033:{n:"BOF",f:Ds},1091:{n:"BIFF4XF"},2157:{n:"FeatInfo"},2163:{n:"FeatInfo11"},2177:{n:"SXAddl12"},2240:{n:"AutoWebPub"},2241:{n:"ListObj"},2242:{n:"ListField"},2243:{n:"ListDV"},2244:{n:"ListCondFmt"},2245:{n:"ListCF"},2246:{n:"FMQry"},2247:{n:"FMSQry"},2248:{n:"PLV"},2249:{n:"LnExt"},2250:{n:"MkrExt"},2251:{n:"CrtCoopt"},2262:{n:"FRTArchId$",r:12},29282:{}},Dm=Q(Rm,"n");function Fm(e,t,n,r){var i=+t||+Dm[t];if(!isNaN(i)){var s=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&zt(n)&&e.push(n)}}function Bm(e,t,n,r){var i=r||(n||[]).length||0;if(i<=8224)return Fm(e,t,n,i);var s=+t||+Dm[t];if(!isNaN(s)){var o=n.parts||[],a=0,l=0,u=0;while(u+(o[a]||8224)<=8224)u+=o[a]||8224,a++;var c=e.next(4);c.write_shift(2,s),c.write_shift(2,u),e.push(n.slice(l,l+u)),l+=u;while(l<i){c=e.next(4),c.write_shift(2,60),u=0;while(u+(o[a]||8224)<=8224)u+=o[a]||8224,a++;c.write_shift(2,u),e.push(n.slice(l,l+u)),l+=u}}}function qm(e,t,n){return e||(e=tn(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function zm(e,t,n,r){var i=tn(9);return qm(i,e,t),"e"==r?(i.write_shift(1,n),i.write_shift(1,1)):(i.write_shift(1,n?1:0),i.write_shift(1,0)),i}function Um(e,t,n){var r=tn(8+2*n.length);return qm(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function Gm(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?ie(pe(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?Fm(e,2,pa(n,r,i)):Fm(e,3,ca(n,r,i)));case"b":case"e":return void Fm(e,5,zm(n,r,t.v,t.t));case"s":case"str":return void Fm(e,4,Um(n,r,t.v))}Fm(e,1,qm(null,n,r))}function jm(e,t,n,r){var i,s=Array.isArray(t),o=En(t["!ref"]||"A1"),a="",l=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),i=Cn(o)}for(var u=o.s.r;u<=o.e.r;++u){a=dn(u);for(var c=o.s.c;c<=o.e.c;++c){u===o.s.r&&(l[c]=gn(c)),i=l[c]+a;var h=s?(t[u]||[])[c]:t[i];h&&Gm(e,h,u,c,r)}}}function Vm(e,t){var n=t||{};null!=x&&null==n.dense&&(n.dense=x);for(var r=rn(),i=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==n.sheet&&(i=s);if(0==i&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Fm(r,9,Fs(e,16,n)),jm(r,e.Sheets[e.SheetNames[i]],i,n,e),Fm(r,10),r.end()}function Wm(e,t,n){Fm(e,"Font",ro({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function Hm(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&Fm(e,"Format",uo(i,t[i],n))}))}function Jm(e,t){var n=tn(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Fm(e,"FeatHdr",n),n=tn(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),As(En(t["!ref"]||"A1"),n),n.write_shift(4,4),Fm(e,"Feat",n)}function Xm(e,t){for(var n=0;n<16;++n)Fm(e,"XF",vo({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(n){Fm(e,"XF",vo(n,0,t))}))}function Zm(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];Fm(e,"HLink",Ho(r)),r[1].Tooltip&&Fm(e,"HLinkTooltip",Xo(r))}delete t["!links"]}function Ym(e,t,n,r,i){var s=16+gp(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)Fm(e,"Formula",Kh(t,n,r,i,s));else switch(t.t){case"d":case"n":var o="d"==t.t?ie(pe(t.v)):t.v;Fm(e,"Number",Eo(n,r,o,s,i));break;case"b":case"e":Fm(e,517,So(n,r,t.v,s,i,t.t));break;case"s":case"str":if(i.bookSST){var a=fp(i.Strings,t.v,i.revStrings);Fm(e,"LabelSst",so(n,r,a,s,i))}else Fm(e,"Label",ao(n,r,t.v,s,i));break;default:Fm(e,"Blank",bs(n,r,s))}else Fm(e,"Blank",bs(n,r,s))}function Km(e,t,n){var r,i=rn(),s=n.SheetNames[e],o=n.Sheets[s]||{},a=(n||{}).Workbook||{},l=(a.Sheets||[])[e]||{},u=Array.isArray(o),c=8==t.biff,h="",p=[],d=En(o["!ref"]||"A1"),f=c?65536:16384;if(d.e.c>255||d.e.r>=f){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");d.e.c=Math.min(d.e.c,255),d.e.r=Math.min(d.e.c,f-1)}Fm(i,2057,Fs(n,16,t)),Fm(i,"CalcMode",$i(1)),Fm(i,"CalcCount",$i(100)),Fm(i,"CalcRefMode",Ki(!0)),Fm(i,"CalcIter",Ki(!1)),Fm(i,"CalcDelta",nr(.001)),Fm(i,"CalcSaveRecalc",Ki(!0)),Fm(i,"PrintRowCol",Ki(!1)),Fm(i,"PrintGrid",Ki(!1)),Fm(i,"GridSet",$i(1)),Fm(i,"Guts",xo([0,0])),Fm(i,"HCenter",Ki(!1)),Fm(i,"VCenter",Ki(!1)),Fm(i,512,po(d,t)),c&&(o["!links"]=[]);for(var m=d.s.r;m<=d.e.r;++m){h=dn(m);for(var y=d.s.c;y<=d.e.c;++y){m===d.s.r&&(p[y]=gn(y)),r=p[y]+h;var g=u?(o[m]||[])[y]:o[r];g&&(Ym(i,g,m,y,t),c&&g.l&&o["!links"].push([r,g.l]))}}var _=l.CodeName||l.name||s;return c&&a.Views&&Fm(i,"Window2",eo(a.Views[0])),c&&(o["!merges"]||[]).length&&Fm(i,"MergeCells",zo(o["!merges"])),c&&Zm(i,o),Fm(i,"CodeName",us(_,t)),c&&Jm(i,o),Fm(i,"EOF"),i.end()}function Qm(e,t,n){var r=rn(),i=(e||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=8==n.biff,l=5==n.biff;if(Fm(r,2057,Fs(e,5,n)),"xla"==n.bookType&&Fm(r,"Addin"),Fm(r,"InterfaceHdr",a?$i(1200):null),Fm(r,"Mms",Xi(2)),l&&Fm(r,"ToolbarHdr"),l&&Fm(r,"ToolbarEnd"),Fm(r,"InterfaceEnd"),Fm(r,"WriteAccess",zs("SheetJS",n)),Fm(r,"CodePage",$i(a?1200:1252)),a&&Fm(r,"DSF",$i(0)),a&&Fm(r,"Excel9File"),Fm(r,"RRTabId",ra(e.SheetNames.length)),a&&e.vbaraw&&Fm(r,"ObProj"),a&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Fm(r,"CodeName",us(u,n))}Fm(r,"BuiltInFnGroupCount",$i(17)),Fm(r,"WinProtect",Ki(!1)),Fm(r,"Protect",Ki(!1)),Fm(r,"Password",$i(0)),a&&Fm(r,"Prot4Rev",Ki(!1)),a&&Fm(r,"Prot4RevPass",$i(0)),Fm(r,"Window1",Qs(n)),Fm(r,"Backup",Ki(!1)),Fm(r,"HideObj",$i(0)),Fm(r,"Date1904",Ki("true"==df(e))),Fm(r,"CalcPrecision",Ki(!0)),a&&Fm(r,"RefreshAll",Ki(!1)),Fm(r,"BookBool",$i(0)),Wm(r,e,n),Hm(r,e.SSF,n),Xm(r,n),a&&Fm(r,"UsesELFs",Ki(!1));var c=r.end(),h=rn();a&&Fm(h,"Country",Yo()),a&&n.Strings&&Bm(h,"SST",Ws(n.Strings,n)),Fm(h,"EOF");var p=h.end(),d=rn(),f=0,m=0;for(m=0;m<e.SheetNames.length;++m)f+=(a?12:11)+(a?2:1)*e.SheetNames[m].length;var y=c.length+f+p.length;for(m=0;m<e.SheetNames.length;++m){var g=s[m]||{};Fm(d,"BoundSheet8",js({pos:y,hs:g.Hidden||0,dt:0,name:e.SheetNames[m]},n)),y+=t[m].length}var _=d.end();if(f!=_.length)throw new Error("BS8 "+f+" != "+_.length);var v=[];return c.length&&v.push(c),_.length&&v.push(_),p.length&&v.push(p),wt([v])}function $m(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=F.get_table()),e&&e.SSF&&(B(F),F.load_table(e.SSF),n.revssf=te(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Ty(n),n.cellXfs=[],gp(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=Km(i,n,e);return r.unshift(Qm(e,r,n)),wt([r])}function ey(e,t){var n=t||{};switch(n.biff||2){case 8:case 5:return $m(e,t);case 4:case 3:case 2:return Vm(e,t)}throw new Error("invalid type "+n.bookType+" for BIFF")}var ty=function(){function e(e,t){var n=t||{};null!=x&&null==n.dense&&(n.dense=x);var r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=i.index,a=s&&s.index||e.length,l=be(e.slice(o,a),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,c=0,h=0,p=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},f=[];for(o=0;o<l.length;++o){var m=l[o].trim(),y=m.slice(0,3).toLowerCase();if("<tr"!=y){if("<td"==y||"<th"==y){var g=m.split(/<\/t[dh]>/i);for(a=0;a<g.length;++a){var _=g[a].trim();if(_.match(/<t[dh]/i)){var v=_,b=0;while("<"==v.charAt(0)&&(b=v.indexOf(">"))>-1)v=v.slice(b+1);for(var w=0;w<f.length;++w){var S=f[w];S.s.c==c&&S.s.r<u&&u<=S.e.r&&(c=S.e.c+1,w=-1)}var C=Be(_.slice(0,_.indexOf(">")));p=C.colspan?+C.colspan:1,((h=+C.rowspan)>1||p>1)&&f.push({s:{r:u,c:c},e:{r:u+(h||1)-1,c:c+p-1}});var E=C.t||"";if(v.length){if(v=st(v),d.s.r>u&&(d.s.r=u),d.e.r<u&&(d.e.r=u),d.s.c>c&&(d.s.c=c),d.e.c<c&&(d.e.c=c),v.length){var T={t:"s",v:v};n.raw||!v.trim().length||"s"==E||("TRUE"===v?T={t:"b",v:!0}:"FALSE"===v?T={t:"b",v:!1}:isNaN(ye(v))?isNaN(ge(v).getDate())||(T={t:"d",v:pe(v)},n.cellDates||(T={t:"n",v:ie(T.v)}),T.z=n.dateNF||F._table[14]):T={t:"n",v:ye(v)}),n.dense?(r[u]||(r[u]=[]),r[u][c]=T):r[wn({r:u,c:c})]=T,c+=p}}else c+=p}}}}else{if(++u,n.sheetRows&&n.sheetRows<=u){--u;break}c=0}}return r["!ref"]=Cn(d),f.length&&(r["!merges"]=f),r}function t(t,n){return Pn(e(t,n),n)}function n(e,t,n,r){for(var i=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>n||i[u].s.c>o)&&!(i[u].e.r<n||i[u].e.c<o)){if(i[u].s.r<n||i[u].s.c<o){a=-1;break}a=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(a<0)){var c=wn({r:n,c:o}),h=r.dense?(e[n]||[])[o]:e[c],p=h&&null!=h.v&&(h.h||Xe(h.w||(An(h),h.w)||""))||"",d={};a>1&&(d.rowspan=a),l>1&&(d.colspan=l),d.t=h&&h.t||"z",r.editable&&(p='<span contenteditable="true">'+p+"</span>"),d.id=(r.id||"sjs")+"-"+c,"z"!=d.t&&(d.v=h.v,null!=h.z&&(d.z=h.z)),s.push(dt("td",p,d))}}var f="<tr>";return f+s.join("")+"</tr>"}function r(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}var i='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',s="</body></html>";function o(e,t){var o=t||{},a=null!=o.header?o.header:i,l=null!=o.footer?o.footer:s,u=[a],c=Sn(e["!ref"]);o.dense=Array.isArray(e),u.push(r(e,c,o));for(var h=c.s.r;h<=c.e.r;++h)u.push(n(e,c,h,o));return u.push("</table>"+l),u.join("")}return{to_workbook:t,to_sheet:e,_row:n,BEGIN:i,END:s,_preamble:r,from_sheet:o}}();function ny(e,t,n){var r=n||{};null!=x&&(r.dense=x);var i=0,s=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var o="string"==typeof r.origin?xn(r.origin):r.origin;i=o.r,s=o.c}var a=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,a.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var c=Sn(e["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),-1==i&&(u.e.r=i=c.e.r+1)}var h=[],p=0,d=e["!rows"]||(e["!rows"]=[]),f=0,m=0,y=0,g=0,_=0,v=0;for(e["!cols"]||(e["!cols"]=[]);f<a.length&&m<l;++f){var b=a[f];if(sy(b)){if(r.display)continue;d[m]={hidden:!0}}var w=b.children;for(y=g=0;y<w.length;++y){var S=w[y];if(!r.display||!sy(S)){var C=S.hasAttribute("v")?S.getAttribute("v"):st(S.innerHTML),E=S.getAttribute("z");for(p=0;p<h.length;++p){var T=h[p];T.s.c==g+s&&T.s.r<m+i&&m+i<=T.e.r&&(g=T.e.c+1-s,p=-1)}v=+S.getAttribute("colspan")||1,((_=+S.getAttribute("rowspan")||1)>1||v>1)&&h.push({s:{r:m+i,c:g+s},e:{r:m+i+(_||1)-1,c:g+s+(v||1)-1}});var A={t:"s",v:C},P=S.getAttribute("t")||"";null!=C&&(0==C.length?A.t=P||"z":r.raw||0==C.trim().length||"s"==P||("TRUE"===C?A={t:"b",v:!0}:"FALSE"===C?A={t:"b",v:!1}:isNaN(ye(C))?isNaN(ge(C).getDate())||(A={t:"d",v:pe(C)},r.cellDates||(A={t:"n",v:ie(A.v)}),A.z=r.dateNF||F._table[14]):A={t:"n",v:ye(C)})),void 0===A.z&&null!=E&&(A.z=E),r.dense?(e[m+i]||(e[m+i]=[]),e[m+i][g+s]=A):e[wn({c:g+s,r:m+i})]=A,u.e.c<g+s&&(u.e.c=g+s),g+=v}}++m}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,m-1+i),e["!ref"]=Cn(u),m>=l&&(e["!fullref"]=Cn((u.e.r=a.length-f+m-1+i,u))),e}function ry(e,t){var n=t||{},r=n.dense?[]:{};return ny(r,e,t)}function iy(e,t){return Pn(ry(e,t),t)}function sy(e){var t="",n=oy(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style.display),"none"===t}function oy(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}var ay=function(){var e=function(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,(function(e,t){return Array(parseInt(t,10)+1).join(" ")})).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n"),n=Ge(t.replace(/<[^>]*>/g,""));return[n]},t={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};return function(n,r){var i=r||{};null!=x&&null==i.dense&&(i.dense=x);var s,o,a,l,u,c,h,p=om(n),d=[],f={name:""},m="",y=0,g={},_=[],v=i.dense?[]:{},b={value:""},w="",S=0,C=[],E=-1,T=-1,A={s:{r:1e6,c:1e7},e:{r:0,c:0}},P=0,I={},L=[],M={},O=0,k=0,N=[],R=1,D=1,F=[],B={Names:[]},q={},z=["",""],U=[],G={},j="",V=0,W=!1,H=!1,J=0;am.lastIndex=0,p=p.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");while(u=am.exec(p))switch(u[3]=u[3].replace(/_.*$/,"")){case"table":case"":"/"===u[1]?(A.e.c>=A.s.c&&A.e.r>=A.s.r&&(v["!ref"]=Cn(A)),i.sheetRows>0&&i.sheetRows<=A.e.r&&(v["!fullref"]=v["!ref"],A.e.r=i.sheetRows-1,v["!ref"]=Cn(A)),L.length&&(v["!merges"]=L),N.length&&(v["!rows"]=N),a.name=a[""]||a.name,"undefined"!==typeof JSON&&JSON.stringify(a),_.push(a.name),g[a.name]=v,H=!1):"/"!==u[0].charAt(u[0].length-2)&&(a=Be(u[0],!1),E=T=-1,A.s.r=A.s.c=1e7,A.e.r=A.e.c=0,v=i.dense?[]:{},L=[],N=[],H=!0);break;case"table-row-group":"/"===u[1]?--P:++P;break;case"table-row":case"":if("/"===u[1]){E+=R,R=1;break}if(l=Be(u[0],!1),l[""]?E=l[""]-1:-1==E&&(E=0),R=+l["number-rows-repeated"]||1,R<10)for(J=0;J<R;++J)P>0&&(N[E+J]={level:P});T=-1;break;case"covered-table-cell":"/"!==u[1]&&++T,i.sheetStubs&&(i.dense?(v[E]||(v[E]=[]),v[E][T]={t:"z"}):v[wn({r:E,c:T})]={t:"z"}),w="",C=[];break;case"table-cell":case"":if("/"===u[0].charAt(u[0].length-2))++T,b=Be(u[0],!1),D=parseInt(b["number-columns-repeated"]||"1",10),c={t:"z",v:null},b.formula&&0!=i.cellFormula&&(c.f=ap(Ge(b.formula))),"string"==(b[""]||b["value-type"])&&(c.t="s",c.v=Ge(b["string-value"]||""),i.dense?(v[E]||(v[E]=[]),v[E][T]=c):v[wn({r:E,c:T})]=c),T+=D-1;else if("/"!==u[1]){++T,D=1;var X=R?E+R-1:E;if(T>A.e.c&&(A.e.c=T),T<A.s.c&&(A.s.c=T),E<A.s.r&&(A.s.r=E),X>A.e.r&&(A.e.r=X),b=Be(u[0],!1),U=[],G={},c={t:b[""]||b["value-type"],v:null},i.cellFormula)if(b.formula&&(b.formula=Ge(b.formula)),b["number-matrix-columns-spanned"]&&b["number-matrix-rows-spanned"]&&(O=parseInt(b["number-matrix-rows-spanned"],10)||0,k=parseInt(b["number-matrix-columns-spanned"],10)||0,M={s:{r:E,c:T},e:{r:E+O-1,c:T+k-1}},c.F=Cn(M),F.push([M,c.F])),b.formula)c.f=ap(b.formula);else for(J=0;J<F.length;++J)E>=F[J][0].s.r&&E<=F[J][0].e.r&&T>=F[J][0].s.c&&T<=F[J][0].e.c&&(c.F=F[J][1]);switch((b["number-columns-spanned"]||b["number-rows-spanned"])&&(O=parseInt(b["number-rows-spanned"],10)||0,k=parseInt(b["number-columns-spanned"],10)||0,M={s:{r:E,c:T},e:{r:E+O-1,c:T+k-1}},L.push(M)),b["number-columns-repeated"]&&(D=parseInt(b["number-columns-repeated"],10)),c.t){case"boolean":c.t="b",c.v=Qe(b["boolean-value"]);break;case"float":c.t="n",c.v=parseFloat(b.value);break;case"percentage":c.t="n",c.v=parseFloat(b.value);break;case"currency":c.t="n",c.v=parseFloat(b.value);break;case"date":c.t="d",c.v=pe(b["date-value"]),i.cellDates||(c.t="n",c.v=ie(c.v)),c.z="m/d/yy";break;case"time":c.t="n",c.v=ue(b["time-value"])/86400;break;case"number":c.t="n",c.v=parseFloat(b[""]);break;default:if("string"!==c.t&&"text"!==c.t&&c.t)throw new Error("Unsupported value type "+c.t);c.t="s",null!=b["string-value"]&&(w=Ge(b["string-value"]),C=[])}}else{if(W=!1,"s"===c.t&&(c.v=w||"",C.length&&(c.R=C),W=0==S),q.Target&&(c.l=q),U.length>0&&(c.c=U,U=[]),w&&!1!==i.cellText&&(c.w=w),W&&(c.t="z",delete c.v),(!W||i.sheetStubs)&&!(i.sheetRows&&i.sheetRows<=E))for(var Z=0;Z<R;++Z){if(D=parseInt(b["number-columns-repeated"]||"1",10),i.dense){v[E+Z]||(v[E+Z]=[]),v[E+Z][T]=0==Z?c:fe(c);while(--D>0)v[E+Z][T+D]=fe(c)}else{v[wn({r:E+Z,c:T})]=c;while(--D>0)v[wn({r:E+Z,c:T+D})]=fe(c)}A.e.c<=T&&(A.e.c=T)}D=parseInt(b["number-columns-repeated"]||"1",10),T+=D-1,D=0,c={},w="",C=[]}q={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":if("/"===u[1]){if((s=d.pop())[0]!==u[3])throw"Bad state: "+s}else"/"!==u[0].charAt(u[0].length-2)&&d.push([u[3],!0]);break;case"annotation":if("/"===u[1]){if((s=d.pop())[0]!==u[3])throw"Bad state: "+s;G.t=w,C.length&&(G.R=C),G.a=j,U.push(G)}else"/"!==u[0].charAt(u[0].length-2)&&d.push([u[3],!1]);j="",V=0,w="",S=0,C=[];break;case"creator":"/"===u[1]?j=p.slice(V,u.index):V=u.index+u[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===u[1]){if((s=d.pop())[0]!==u[3])throw"Bad state: "+s}else"/"!==u[0].charAt(u[0].length-2)&&d.push([u[3],!1]);w="",S=0,C=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===u[1]){if(I[f.name]=m,(s=d.pop())[0]!==u[3])throw"Bad state: "+s}else"/"!==u[0].charAt(u[0].length-2)&&(m="",f=Be(u[0],!1),d.push([u[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"master-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(d[d.length-1][0]){case"time-style":case"date-style":o=Be(u[0],!1),m+=t[u[3]]["long"===o.style?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(d[d.length-1][0]){case"time-style":case"date-style":o=Be(u[0],!1),m+=t[u[3]]["long"===o.style?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if("/>"===u[0].slice(-2))break;if("/"===u[1])switch(d[d.length-1][0]){case"number-style":case"date-style":case"time-style":m+=p.slice(y,u.index);break}else y=u.index+u[0].length;break;case"named-range":o=Be(u[0],!1),z=up(o["cell-range-address"]);var Y={Name:o.name,Ref:z[0]+"!"+z[1]};H&&(Y.Sheet=_.length),B.Names.push(Y);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if("/"!==u[1]||b&&b["string-value"])h=Be(u[0],!1),S=u.index+u[0].length;else{var K=e(p.slice(S,u.index),h);w=(w.length>0?w+"\n":"")+K[0]}break;case"s":break;case"database-range":if("/"===u[1])break;try{z=up(Be(u[0])["target-range-address"]),g[z[0]]["!autofilter"]={ref:z[1]}}catch(cg){}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if("/"!==u[1]){if(q=Be(u[0],!1),!q.href)break;q.Target=q.href,delete q.href,"#"==q.Target.charAt(0)&&q.Target.indexOf(".")>-1&&(z=up(q.Target.slice(1)),q.Target="#"+z[0]+"!"+z[1])}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(u[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(i.WTF)throw new Error(u)}}var Q={Sheets:g,SheetNames:_,Workbook:B};return i.bookSheets&&delete Q.Sheets,Q}}();function ly(e,t){t=t||{};var n=!!Ce(e,"objectdata");n&&Kr(Te(e,"META-INF/manifest.xml"),t);var r=Ae(e,"content.xml");if(!r)throw new Error("Missing content.xml in "+(n?"ODS":"UOF")+" file");var i=ay(n?r:$e(r),t);return Ce(e,"meta.xml")&&(i.Props=si(Te(e,"meta.xml"))),i}function uy(e,t){return ay(e,t)}var cy=function(){var e="<office:document-styles "+pt({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+"></office:document-styles>";return function(){return ke+e}}(),hy=function(){var e=function(e){return We(e).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"<text:line-break/>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",n="          <table:covered-table-cell/>\n",r=function(r,i,s){var o=[];o.push('      <table:table table:name="'+We(i.SheetNames[s])+'" table:style-name="ta1">\n');var a=0,l=0,u=Sn(r["!ref"]),c=r["!merges"]||[],h=0,p=Array.isArray(r);for(a=0;a<u.s.r;++a)o.push("        <table:table-row></table:table-row>\n");for(;a<=u.e.r;++a){for(o.push("        <table:table-row>\n"),l=0;l<u.s.c;++l)o.push(t);for(;l<=u.e.c;++l){var d=!1,f={},m="";for(h=0;h!=c.length;++h)if(!(c[h].s.c>l)&&!(c[h].s.r>a)&&!(c[h].e.c<l)&&!(c[h].e.r<a)){c[h].s.c==l&&c[h].s.r==a||(d=!0),f["table:number-columns-spanned"]=c[h].e.c-c[h].s.c+1,f["table:number-rows-spanned"]=c[h].e.r-c[h].s.r+1;break}if(d)o.push(n);else{var y=wn({r:a,c:l}),g=p?(r[a]||[])[l]:r[y];if(g&&g.f&&(f["table:formula"]=We(lp(g.f)),g.F&&g.F.slice(0,y.length)==y)){var _=Sn(g.F);f["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,f["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(g){switch(g.t){case"b":m=g.v?"TRUE":"FALSE",f["office:value-type"]="boolean",f["office:boolean-value"]=g.v?"true":"false";break;case"n":m=g.w||String(g.v||0),f["office:value-type"]="float",f["office:value"]=g.v||0;break;case"s":case"str":m=null==g.v?"":g.v,f["office:value-type"]="string";break;case"d":m=g.w||pe(g.v).toISOString(),f["office:value-type"]="date",f["office:date-value"]=pe(g.v).toISOString(),f["table:style-name"]="ce1";break;default:o.push(t);continue}var v=e(m);if(g.l&&g.l.Target){var b=g.l.Target;b="#"==b.charAt(0)?"#"+cp(b.slice(1)):b,v=dt("text:a",v,{"xlink:href":b})}o.push("          "+dt("table:table-cell",dt("text:p",v,{}),f)+"\n")}else o.push(t)}}o.push("        </table:table-row>\n")}return o.push("      </table:table>\n"),o.join("")},i=function(e){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n"),e.push('  <style:style style:name="ta1" style:family="table">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")};return function(e,t){var n=[ke],s=pt({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),o=pt({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?n.push("<office:document"+s+o+">\n"):n.push("<office:document-content"+s+">\n"),i(n),n.push("  <office:body>\n"),n.push("    <office:spreadsheet>\n");for(var a=0;a!=e.SheetNames.length;++a)n.push(r(e.Sheets[e.SheetNames[a]],e,a,t));return n.push("    </office:spreadsheet>\n"),n.push("  </office:body>\n"),"fods"==t.bookType?n.push("</office:document>"):n.push("</office:document-content>"),n.join("")}}();function py(e,t){if("fods"==t.bookType)return hy(e,t);var n=Le(),r="",i=[],s=[];return r="mimetype",Ie(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Ie(n,r,hy(e,t)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Ie(n,r,cy(e,t)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Ie(n,r,ni()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Ie(n,r,ti(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Ie(n,r,Qr(i)),n}function dy(e,t){if(!t)return 0;var n=e.SheetNames.indexOf(t);if(-1==n)throw new Error("Sheet not found: "+t);return n}function fy(e){return function(t,n){var r=dy(t,n.sheet);return e.from_sheet(t.Sheets[t.SheetNames[r]],n,t)}}var my=fy(ty),yy=fy({from_sheet:ig}),gy=fy("undefined"!==typeof ga?ga:{}),_y=fy("undefined"!==typeof _a?_a:{}),vy=fy("undefined"!==typeof ba?ba:{}),by=fy("undefined"!==typeof cl?cl:{}),xy=fy({from_sheet:sg}),wy=fy("undefined"!==typeof ya?ya:{}),Sy=fy("undefined"!==typeof va?va:{});function Cy(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}var Ey=function(e){Cy([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)},Ty=Cy([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]]);function Ay(e){return jr.WS.indexOf(e)>-1?"sheet":jr.CS&&e==jr.CS?"chart":jr.DS&&e==jr.DS?"dialog":jr.MS&&e==jr.MS?"macro":e&&e.length?e:"sheet"}function Py(e,t){if(!e)return 0;try{e=t.map((function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,Ay(e["!id"][t.id].Type)]}))}catch(cg){return null}return e&&0!==e.length?e:null}function Iy(e,t,n,r,i,s,o,a,l,u,c,h){try{s[r]=Wr(Ae(e,n,!0),t);var p,d=Te(e,t);switch(a){case"sheet":p=Rf(d,t,i,l,s[r],u,c,h);break;case"chart":if(p=Df(d,t,i,l,s[r],u,c,h),!p||!p["!drawel"])break;var f=Oe(p["!drawel"].Target,t),m=Vr(f),y=zu(Ae(e,f,!0),Wr(Ae(e,m,!0),f)),g=Oe(y,f),_=Vr(g);p=tf(Ae(e,g,!0),g,l,Wr(Ae(e,_,!0),g),u,p);break;case"macro":p=Ff(d,t,i,l,s[r],u,c,h);break;case"dialog":p=Bf(d,t,i,l,s[r],u,c,h);break;default:throw new Error("Unrecognized sheet type "+a)}o[r]=p;var v=[];s&&s[r]&&K(s[r]).forEach((function(n){if(s[r][n].Type==jr.CMNT){var i=Oe(s[r][n].Target,t);if(v=Gf(Te(e,i,!0),i,l),!v||!v.length)return;ju(p,v)}}))}catch(cg){if(l.WTF)throw cg}}function Ly(e){return"/"==e.charAt(0)?e.slice(1):e}function My(e,t){if(B(F),t=t||{},Ey(t),Ce(e,"META-INF/manifest.xml"))return ly(e,t);if(Ce(e,"objectdata.xml"))return ly(e,t);if(Ce(e,"Index/Document.iwa"))throw new Error("Unsupported NUMBERS file");var n,r,i=Pe(e),s=qr(Ae(e,"[Content_Types].xml")),o=!1;if(0===s.workbooks.length&&(r="xl/workbook.xml",Te(e,r,!0)&&s.workbooks.push(r)),0===s.workbooks.length){if(r="xl/workbook.bin",!Te(e,r,!0))throw new Error("Could not find workbook");s.workbooks.push(r),o=!0}"bin"==s.workbooks[0].slice(-3)&&(o=!0);var a={},l={};if(!t.bookSheets&&!t.bookProps){if(hp=[],s.sst)try{hp=Uf(Te(e,Ly(s.sst)),s.sst,t)}catch(cg){if(t.WTF)throw cg}t.cellStyles&&s.themes.length&&(a=zf(Ae(e,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(l=qf(Te(e,Ly(s.style)),s.style,a,t))}s.links.map((function(n){try{var r=Wr(Ae(e,Vr(Ly(n))),n);return Vf(Te(e,Ly(n)),r,n,t)}catch(cg){}}));var u=Nf(Te(e,Ly(s.workbooks[0])),s.workbooks[0],t),c={},h="";s.coreprops.length&&(h=Te(e,Ly(s.coreprops[0]),!0),h&&(c=si(h)),0!==s.extprops.length&&(h=Te(e,Ly(s.extprops[0]),!0),h&&pi(h,c,t)));var p={};t.bookSheets&&!t.bookProps||0!==s.custprops.length&&(h=Ae(e,Ly(s.custprops[0]),!0),h&&(p=yi(h,t)));var d={};if((t.bookSheets||t.bookProps)&&(u.Sheets?n=u.Sheets.map((function(e){return e.name})):c.Worksheets&&c.SheetNames.length>0&&(n=c.SheetNames),t.bookProps&&(d.Props=c,d.Custprops=p),t.bookSheets&&"undefined"!==typeof n&&(d.SheetNames=n),t.bookSheets?d.SheetNames:t.bookProps))return d;n={};var f={};t.bookDeps&&s.calcchain&&(f=jf(Te(e,Ly(s.calcchain)),s.calcchain,t));var m,y,g=0,_={},v=u.Sheets;c.Worksheets=v.length,c.SheetNames=[];for(var b=0;b!=v.length;++b)c.SheetNames[b]=v[b].name;var x=o?"bin":"xml",w=s.workbooks[0].lastIndexOf("/"),S=(s.workbooks[0].slice(0,w+1)+"_rels/"+s.workbooks[0].slice(w+1)+".rels").replace(/^\//,"");Ce(e,S)||(S="xl/_rels/workbook."+x+".rels");var C=Wr(Ae(e,S,!0),S);C&&(C=Py(C,u.Sheets));var E=Te(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=c.Worksheets;++g){var T="sheet";if(C&&C[g]?(m="xl/"+C[g][1].replace(/[\/]?xl\//,""),Ce(e,m)||(m=C[g][1]),Ce(e,m)||(m=S.replace(/_rels\/.*$/,"")+C[g][1]),T=C[g][2]):(m="xl/worksheets/sheet"+(g+1-E)+"."+x,m=m.replace(/sheet0\./,"sheet.")),y=m.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(c.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var A=!1,P=0;P!=t.sheets.length;++P)"number"==typeof t.sheets[P]&&t.sheets[P]==g&&(A=1),"string"==typeof t.sheets[P]&&t.sheets[P].toLowerCase()==c.SheetNames[g].toLowerCase()&&(A=1);if(!A)continue e}}Iy(e,m,y,c.SheetNames[g],g,_,n,T,t,u,a,l)}return d={Directory:s,Workbook:u,Props:c,Custprops:p,Deps:f,Sheets:n,SheetNames:c.SheetNames,Strings:hp,Styles:l,Themes:a,SSF:F.get_table()},t&&t.bookFiles&&(d.keys=i,d.files=e.files),t&&t.bookVBA&&(s.vba.length>0?d.vbaraw=Te(e,Ly(s.vba[0]),!0):s.defaults&&s.defaults.bin===$u&&(d.vbaraw=Te(e,"xl/vbaProject.bin",!0))),d}function Oy(e,t){var n=t||{},r="Workbook",i=J.find(e,r);try{if(r="/!DataSpaces/Version",i=J.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(ja(i.content),r="/!DataSpaces/DataSpaceMap",i=J.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=Wa(i.content);if(1!==s.length||1!==s[0].comps.length||0!==s[0].comps[0].t||"StrongEncryptionDataSpace"!==s[0].name||"EncryptedPackage"!==s[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=J.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=Ha(i.content);if(1!=o.length||"StrongEncryptionTransform"!=o[0])throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=J.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);Xa(i.content)}catch(cg){}if(r="/EncryptionInfo",i=J.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=Ka(i.content);if(r="/EncryptedPackage",i=J.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(4==a[0]&&"undefined"!==typeof decrypt_agile)return decrypt_agile(a[1],i.content,n.password||"",n);if(2==a[0]&&"undefined"!==typeof decrypt_std76)return decrypt_std76(a[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function ky(e,t){if(Uu=1024,"ods"==t.bookType)return py(e,t);e&&!e.SSF&&(e.SSF=F.get_table()),e&&e.SSF&&(B(F),F.load_table(e.SSF),t.revssf=te(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,dp?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=nc.indexOf(t.bookType)>-1,i=Br();Ty(t=t||{});var s=Le(),o="",a=0;if(t.cellXfs=[],gp(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Ie(s,o,li(e.Props,t)),i.coreprops.push(o),Zr(t.rels,2,o,jr.CORE_PROPS),o="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],u=0;u<e.SheetNames.length;++u)2!=(e.Workbook.Sheets[u]||{}).Hidden&&l.push(e.SheetNames[u]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;for(e.Props.Worksheets=e.Props.SheetNames.length,Ie(s,o,fi(e.Props,t)),i.extprops.push(o),Zr(t.rels,3,o,jr.EXT_PROPS),e.Custprops!==e.Props&&K(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Ie(s,o,_i(e.Custprops,t)),i.custprops.push(o),Zr(t.rels,4,o,jr.CUST_PROPS)),a=1;a<=e.SheetNames.length;++a){var c={"!id":{}},h=e.Sheets[e.SheetNames[a-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,Ie(s,o,Hf(a-1,o,t,e,c)),i.sheets.push(o),Zr(t.wbrels,-1,"worksheets/sheet"+a+"."+n,jr.WS[0])}if(h){var d=h["!comments"],f=!1;if(d&&d.length>0){var m="xl/comments"+a+"."+n;Ie(s,m,Zf(d,m,t)),i.comments.push(m),Zr(c,-1,"../comments"+a+"."+n,jr.CMNT),f=!0}h["!legacy"]&&f&&Ie(s,"xl/drawings/vmlDrawing"+a+".vml",Gu(a,h["!comments"])),delete h["!comments"],delete h["!legacy"]}c["!id"].rId1&&Ie(s,Vr(o),Jr(c))}return null!=t.Strings&&t.Strings.length>0&&(o="xl/sharedStrings."+n,Ie(s,o,Xf(t.Strings,o,t)),i.strs.push(o),Zr(t.wbrels,-1,"sharedStrings."+n,jr.SST)),o="xl/workbook."+n,Ie(s,o,Wf(e,o,t)),i.workbooks.push(o),Zr(t.rels,1,o,jr.WB),o="xl/theme/theme1.xml",Ie(s,o,Tu(e.Themes,t)),i.themes.push(o),Zr(t.wbrels,-1,"theme/theme1.xml",jr.THEME),o="xl/styles."+n,Ie(s,o,Jf(e,o,t)),i.styles.push(o),Zr(t.wbrels,-1,"styles."+n,jr.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",Ie(s,o,e.vbaraw),i.vba.push(o),Zr(t.wbrels,-1,"vbaProject.bin",jr.VBA)),Ie(s,"[Content_Types].xml",Gr(i,t)),Ie(s,"_rels/.rels",Jr(t.rels)),Ie(s,"xl/_rels/workbook."+n+".rels",Jr(t.wbrels)),delete t.revssf,delete t.ssf,s}function Ny(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=S.decode(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Ry(e,t){return J.find(e,"EncryptedPackage")?Oy(e,t):Mm(e,t)}function Dy(e,t){var n,r=e,s=t||{};return s.type||(s.type=C&&i.isBuffer(e)?"buffer":"base64"),n=Me(r,s),My(n,s)}function Fy(e,t){var n=0;e:while(n<e.length)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return um(e.slice(n),t);default:break e}return ba.to_workbook(e,t)}function By(e,t){var n="",r=Ny(e,t);switch(t.type){case"base64":n=S.decode(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=de(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]&&(n=$e(n)),Fy(n,t)}function qy(e,t){var n=e;return"base64"==t.type&&(n=S.decode(n)),n=cptable.utils.decode(1200,n.slice(2),"str"),t.type="binary",Fy(n,t)}function zy(e){return e.match(/[^\x00-\x7F]/)?et(e):e}function Uy(e,t,n,r){return r?(n.type="string",ba.to_workbook(e,n)):ba.to_workbook(t,n)}function Gy(e,t){if(f(),"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer)return Gy(new Uint8Array(e),t);var n=e,r=[0,0,0,0],s=!1,o=t||{};if(o.cellStyles&&(o.cellNF=!0,o.sheetStubs=!0),pp={},o.dateNF&&(pp.dateNF=o.dateNF),o.type||(o.type=C&&i.isBuffer(e)?"buffer":"base64"),"file"==o.type&&(o.type=C?"buffer":"binary",n=Y(e)),"string"==o.type&&(s=!0,o.type="binary",o.codepage=65001,n=zy(e)),"array"==o.type&&"undefined"!==typeof Uint8Array&&e instanceof Uint8Array&&"undefined"!==typeof ArrayBuffer){var a=new ArrayBuffer(3),l=new Uint8Array(a);if(l.foo="bar",!l.foo)return o=fe(o),o.type="array",Gy(k(n),o)}switch((r=Ny(n,o))[0]){case 208:if(207===r[1]&&17===r[2]&&224===r[3]&&161===r[4]&&177===r[5]&&26===r[6]&&225===r[7])return Ry(J.read(n,o),o);break;case 9:if(r[1]<=4)return Mm(n,o);break;case 60:return um(n,o);case 73:if(68===r[1])return xa(n,o);break;case 84:if(65===r[1]&&66===r[2]&&76===r[3])return _a.to_workbook(n,o);break;case 80:return 75===r[1]&&r[2]<9&&r[3]<9?Dy(n,o):Uy(e,n,o,s);case 239:return 60===r[3]?um(n,o):Uy(e,n,o,s);case 255:if(254===r[1])return qy(n,o);break;case 0:if(0===r[1]&&r[2]>=2&&0===r[3])return wa.to_workbook(n,o);break;case 3:case 131:case 139:case 140:return ya.to_workbook(n,o);case 123:if(92===r[1]&&114===r[2]&&116===r[3])return cl.to_workbook(n,o);break;case 10:case 13:case 32:return By(n,o)}return ya.versions.indexOf(r[0])>-1&&r[2]<=12&&r[3]<=31?ya.to_workbook(n,o):Uy(e,n,o,s)}function jy(e,t){var n=t||{};return n.type="file",Gy(e,n)}function Vy(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Z(t.file,J.write(e,{type:C?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return J.write(e,t)}function Wy(e,t){var n=t||{},r=ky(e,n),i={};if(n.compression&&(i.compression="DEFLATE"),n.password)i.type=C?"nodebuffer":"string";else switch(n.type){case"base64":i.type="base64";break;case"binary":i.type="string";break;case"string":throw new Error("'string' output type invalid for '"+n.bookType+"' files");case"buffer":case"file":i.type=C?"nodebuffer":"string";break;default:throw new Error("Unrecognized type "+n.type)}var s=r.FullPaths?J.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[i.type]||i.type}):r.generate(i);return n.password&&"undefined"!==typeof encrypt_agile?Vy(encrypt_agile(s,n.password),n):"file"===n.type?Z(n.file,s):"string"==n.type?$e(s):s}function Hy(e,t){var n=t||{},r=Om(e,n);return Vy(r,n)}function Jy(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return S.encode(et(r));case"binary":return et(r);case"string":return e;case"file":return Z(t.file,r,"utf8");case"buffer":return C?E(r,"utf8"):Jy(r,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function Xy(e,t){switch(t.type){case"base64":return S.encode(e);case"binary":return e;case"string":return e;case"file":return Z(t.file,e,"binary");case"buffer":return C?E(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function Zy(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?S.encode(n):"string"==t.type?$e(n):n;case"file":return Z(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Yy(e,t){f(),gf(e);var n=t||{};if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=Yy(e,n);return n.type="array",L(r)}switch(n.bookType||"xlsb"){case"xml":case"xlml":return Jy(wm(e,n),n);case"slk":case"sylk":return Jy(gy(e,n),n);case"htm":case"html":return Jy(my(e,n),n);case"txt":return Xy(xy(e,n),n);case"csv":return Jy(yy(e,n),n,"\ufeff");case"dif":return Jy(_y(e,n),n);case"dbf":return Zy(wy(e,n),n);case"prn":return Jy(vy(e,n),n);case"rtf":return Jy(by(e,n),n);case"eth":return Jy(Sy(e,n),n);case"fods":return Jy(py(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),Zy(ey(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),Hy(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"ods":return Wy(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function Ky(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Qy(e,t,n){var r=n||{};return r.type="file",r.file=t,Ky(r),Yy(e,r)}function $y(e,t,n,r){var i=n||{};i.type="file",i.file=e,Ky(i),i.type="buffer";var s=r;return s instanceof Function||(s=n),H.writeFile(e,Yy(t,i),s)}function eg(e,t,n,r,i,s,o,a){var l=dn(n),u=a.defval,c=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),h=!0,p=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch(cg){p.__rowNum__=n}else p.__rowNum__=n;if(!o||e[n])for(var d=t.s.c;d<=t.e.c;++d){var f=o?e[n][d]:e[r[d]+l];if(void 0!==f&&void 0!==f.t){var m=f.v;switch(f.t){case"z":if(null==m)break;continue;case"e":m=void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+f.t)}if(null!=s[d]){if(null==m)if(void 0!==u)p[s[d]]=u;else{if(!c||null!==m)continue;p[s[d]]=null}else p[s[d]]=c||a.rawNumbers&&"n"==f.t?m:An(f,m,a);null!=m&&(h=!1)}}else{if(void 0===u)continue;null!=s[d]&&(p[s[d]]=u)}}return{row:p,isempty:h}}function tg(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},c=null!=u.range?u.range:e["!ref"];switch(1===u.header?r=1:"A"===u.header?r=2:Array.isArray(u.header)?r=3:null==u.header&&(r=0),typeof c){case"string":l=En(c);break;case"number":l=En(e["!ref"]),l.s.r=c;break;default:l=c}r>0&&(i=0);var h=dn(l.s.r),p=[],d=[],f=0,m=0,y=Array.isArray(e),g=l.s.r,_=0,v=0;for(y&&!e[g]&&(e[g]=[]),_=l.s.c;_<=l.e.c;++_)switch(p[_]=gn(_),n=y?e[g][_]:e[p[_]+h],r){case 1:s[_]=_-l.s.c;break;case 2:s[_]=p[_];break;case 3:s[_]=u.header[_-l.s.c];break;default:for(null==n&&(n={w:"__EMPTY",t:"s"}),a=o=An(n,null,u),m=0,v=0;v<s.length;++v)s[v]==a&&(a=o+"_"+ ++m);s[_]=a}for(g=l.s.r+i;g<=l.e.r;++g){var b=eg(e,l,g,p,r,s,y,u);(!1===b.isempty||(1===r?!1!==u.blankrows:u.blankrows))&&(d[f++]=b.row)}return d.length=f,d}var ng=/"/g;function rg(e,t,n,r,i,s,o,a){for(var l=!0,u=[],c="",h=dn(n),p=t.s.c;p<=t.e.c;++p)if(r[p]){var d=a.dense?(e[n]||[])[p]:e[r[p]+h];if(null==d)c="";else if(null!=d.v){l=!1,c=""+(a.rawNumbers&&"n"==d.t?d.v:An(d,null,a));for(var f=0,m=0;f!==c.length;++f)if((m=c.charCodeAt(f))===i||m===s||34===m||a.forceQuotes){c='"'+c.replace(ng,'""')+'"';break}"ID"==c&&(c='"ID"')}else null==d.f||d.F?c="":(l=!1,c="="+d.f,c.indexOf(",")>=0&&(c='"'+c.replace(ng,'""')+'"'));u.push(c)}return!1===a.blankrows&&l?null:u.join(o)}function ig(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var i=En(e["!ref"]),s=void 0!==r.FS?r.FS:",",o=s.charCodeAt(0),a=void 0!==r.RS?r.RS:"\n",l=a.charCodeAt(0),u=new RegExp(("|"==s?"\\|":s)+"+$"),c="",h=[];r.dense=Array.isArray(e);for(var p=r.skipHidden&&e["!cols"]||[],d=r.skipHidden&&e["!rows"]||[],f=i.s.c;f<=i.e.c;++f)(p[f]||{}).hidden||(h[f]=gn(f));for(var m=i.s.r;m<=i.e.r;++m)(d[m]||{}).hidden||(c=rg(e,i,m,h,o,l,s,r),null!=c&&(r.strip&&(c=c.replace(u,"")),n.push(c+a)));return delete r.dense,n.join("")}function sg(e,t){t||(t={}),t.FS="\t",t.RS="\n";var n=ig(e,t);if("undefined"==typeof cptable||"string"==t.type)return n;var r=cptable.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function og(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var i,s=En(e["!ref"]),o="",a=[],l=[],u=Array.isArray(e);for(i=s.s.c;i<=s.e.c;++i)a[i]=gn(i);for(var c=s.s.r;c<=s.e.r;++c)for(o=dn(c),i=s.s.c;i<=s.e.c;++i)if(n=a[i]+o,t=u?(e[c]||[])[i]:e[n],r="",void 0!==t){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+r}return l}function ag(e,t,n){var r,i=n||{},s=+!i.skipHeader,o=e||{},a=0,l=0;if(o&&null!=i.origin)if("number"==typeof i.origin)a=i.origin;else{var u="string"==typeof i.origin?xn(i.origin):i.origin;a=u.r,l=u.c}var c={s:{c:0,r:0},e:{c:l,r:a+t.length-1+s}};if(o["!ref"]){var h=En(o["!ref"]);c.e.c=Math.max(c.e.c,h.e.c),c.e.r=Math.max(c.e.r,h.e.r),-1==a&&(a=h.e.r+1,c.e.r=a+t.length-1+s)}else-1==a&&(a=0,c.e.r=t.length-1+s);var p=i.header||[],d=0;t.forEach((function(e,t){K(e).forEach((function(n){-1==(d=p.indexOf(n))&&(p[d=p.length]=n);var u=e[n],c="z",h="",f=wn({c:l+d,r:a+t+s});r=ug.sheet_get_cell(o,f),!u||"object"!==typeof u||u instanceof Date?("number"==typeof u?c="n":"boolean"==typeof u?c="b":"string"==typeof u?c="s":u instanceof Date&&(c="d",i.cellDates||(c="n",u=ie(u)),h=i.dateNF||F._table[14]),r?(r.t=c,r.v=u,delete r.w,delete r.R,h&&(r.z=h)):o[f]=r={t:c,v:u},h&&(r.z=h)):o[f]=u}))})),c.e.c=Math.max(c.e.c,l+p.length-1);var f=dn(a);if(s)for(d=0;d<p.length;++d)o[gn(d+l)+f]={t:"s",v:p[d]};return o["!ref"]=Cn(c),o}function lg(e,t){return ag(null,e,t)}var ug={encode_col:gn,encode_row:dn,encode_cell:wn,encode_range:Cn,decode_col:yn,decode_row:pn,split_cell:bn,decode_cell:xn,decode_range:Sn,format_cell:An,get_formulae:og,make_csv:ig,make_json:tg,make_formulae:og,sheet_add_aoa:In,sheet_add_json:ag,sheet_add_dom:ny,aoa_to_sheet:Ln,json_to_sheet:lg,table_to_sheet:ry,table_to_book:iy,sheet_to_csv:ig,sheet_to_txt:sg,sheet_to_json:tg,sheet_to_html:ty.from_sheet,sheet_to_formulae:og,sheet_to_row_object_array:tg};(function(e){function t(t){t.forEach((function(t){e.consts[t[0]]=t[1]}))}function n(e,t,n){return null!=e[t]?e[t]:e[t]=n}function r(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var i=xn(t);return e[i.r]||(e[i.r]=[]),e[i.r][i.c]||(e[i.r][i.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return r(e,wn("number"!=typeof t?t:{r:t,c:n||0}))}function i(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}e.consts=e.consts||{},e.sheet_get_cell=r,e.book_new=function(){return{SheetNames:[],Sheets:{}}},e.book_append_sheet=function(e,t,n){if(!n)for(var r=1;r<=65535;++r,n=void 0)if(-1==e.SheetNames.indexOf(n="Sheet"+r))break;if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(mf(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");e.SheetNames.push(n),e.Sheets[n]=t},e.book_set_sheet_visibility=function(e,t,r){n(e,"Workbook",{}),n(e.Workbook,"Sheets",[]);var s=i(e,t);switch(n(e.Workbook.Sheets,s,{}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[s].Hidden=r},t([["SHEET_VISIBLE",0],["SHEET_HIDDEN",1],["SHEET_VERY_HIDDEN",2]]),e.cell_set_number_format=function(e,t){return e.z=t,e},e.cell_set_hyperlink=function(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e},e.cell_set_internal_link=function(t,n,r){return e.cell_set_hyperlink(t,"#"+n,r)},e.cell_add_comment=function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},e.sheet_set_array_formula=function(e,t,n){for(var i="string"!=typeof t?t:En(t),s="string"==typeof t?t:Cn(t),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var l=r(e,o,a);l.t="n",l.F=s,delete l.v,o==i.s.r&&a==i.s.c&&(l.f=n)}return e}})(ug),C&&function(){var e=n(3).Readable,r=function(t,n){var r=e(),i=null==n?{}:n;if(null==t||null==t["!ref"])return r.push(null),r;var s=En(t["!ref"]),o=void 0!==i.FS?i.FS:",",a=o.charCodeAt(0),l=void 0!==i.RS?i.RS:"\n",u=l.charCodeAt(0),c=new RegExp(("|"==o?"\\|":o)+"+$"),h="",p=[];i.dense=Array.isArray(t);for(var d=i.skipHidden&&t["!cols"]||[],f=i.skipHidden&&t["!rows"]||[],m=s.s.c;m<=s.e.c;++m)(d[m]||{}).hidden||(p[m]=gn(m));var y=s.s.r,g=!1;return r._read=function(){if(!g)return g=!0,r.push("\ufeff");while(y<=s.e.r)if(++y,!(f[y-1]||{}).hidden&&(h=rg(t,s,y-1,p,a,u,o,i),null!=h)){i.strip&&(h=h.replace(c,"")),r.push(h+l);break}return y>s.e.r?r.push(null):void 0},r},i=function(t,n){var r=e(),i=n||{},s=null!=i.header?i.header:ty.BEGIN,o=null!=i.footer?i.footer:ty.END;r.push(s);var a=Sn(t["!ref"]);i.dense=Array.isArray(t),r.push(ty._preamble(t,a,i));var l=a.s.r,u=!1;return r._read=function(){if(l>a.e.r)return u||(u=!0,r.push("</table>"+o)),r.push(null);while(l<=a.e.r){r.push(ty._row(t,a,l,i)),++l;break}},r},s=function(t,n){var r=e({objectMode:!0});if(null==t||null==t["!ref"])return r.push(null),r;var i={t:"n",v:0},s=0,o=1,a=[],l=0,u="",c={s:{r:0,c:0},e:{r:0,c:0}},h=n||{},p=null!=h.range?h.range:t["!ref"];switch(1===h.header?s=1:"A"===h.header?s=2:Array.isArray(h.header)&&(s=3),typeof p){case"string":c=En(p);break;case"number":c=En(t["!ref"]),c.s.r=p;break;default:c=p}s>0&&(o=0);var d=dn(c.s.r),f=[],m=0,y=Array.isArray(t),g=c.s.r,_=0,v=0;for(y&&!t[g]&&(t[g]=[]),_=c.s.c;_<=c.e.c;++_)switch(f[_]=gn(_),i=y?t[g][_]:t[f[_]+d],s){case 1:a[_]=_-c.s.c;break;case 2:a[_]=f[_];break;case 3:a[_]=h.header[_-c.s.c];break;default:for(null==i&&(i={w:"__EMPTY",t:"s"}),u=l=An(i,null,h),m=0,v=0;v<a.length;++v)a[v]==u&&(u=l+"_"+ ++m);a[_]=u}return g=c.s.r+o,r._read=function(){if(g>c.e.r)return r.push(null);while(g<=c.e.r){var e=eg(t,c,g,f,s,a,y,h);if(++g,!1===e.isempty||(1===s?!1!==h.blankrows:h.blankrows)){r.push(e.row);break}}},r};t.stream={to_json:s,to_html:i,to_csv:r}}(),"undefined"!==typeof Mm&&(t.parse_xlscfb=Mm),t.parse_zip=My,t.read=Gy,t.readFile=jy,t.readFileSync=jy,t.write=Yy,t.writeFile=Qy,t.writeFileSync=Qy,t.writeFileAsync=$y,t.utils=ug,t.SSF=F,"undefined"!==typeof J&&(t.CFB=J)}o(t)}).call(this,n("c8ba"),n("b639").Buffer,n("4362"))},1290:function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},1304:function(e,t,n){var r=n("cd9d");function i(e){return"function"==typeof e?e:r}e.exports=i},1310:function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},1368:function(e,t,n){var r=n("da03"),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function s(e){return!!i&&i in e}e.exports=s},"146a":function(e,t,n){(function(e){(function(e,t){t()})(0,(function(){"use strict";function t(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}var n=setTimeout;function r(e){return Boolean(e&&"undefined"!==typeof e.length)}function i(){}function s(e,t){return function(){e.apply(t,arguments)}}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function a(e,t){while(3===e._state)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void u(t.promise,i)}l(t.promise,r)}else(1===e._state?l:u)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"===typeof n)return void p(s(n,t),e)}e._state=1,e._value=t,c(e)}catch(r){u(e,r)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn((function(){e._handled||o._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function h(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(r){if(n)return;n=!0,u(t,r)}}o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return a(this,new h(e,t,n)),n},o.prototype["finally"]=t,o.all=function(e){return new o((function(t,n){if(!r(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var s=i.length;function o(e,r){try{if(r&&("object"===typeof r||"function"===typeof r)){var a=r.then;if("function"===typeof a)return void a.call(r,(function(t){o(e,t)}),n)}i[e]=r,0===--s&&t(i)}catch(l){n(l)}}for(var a=0;a<i.length;a++)o(a,i[a])}))},o.resolve=function(e){return e&&"object"===typeof e&&e.constructor===o?e:new o((function(t){t(e)}))},o.reject=function(e){return new o((function(t,n){n(e)}))},o.race=function(e){return new o((function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,s=e.length;i<s;i++)o.resolve(e[i]).then(t,n)}))},o._immediateFn="function"===typeof setImmediate&&function(e){setImmediate(e)}||function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var d=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("unable to locate global object")}();"Promise"in d?d.Promise.prototype["finally"]||(d.Promise.prototype["finally"]=t):d["Promise"]=o}))}).call(this,n("c8ba"))},"159a":function(e,t,n){var r=n("32b3"),i=n("e2e4"),s=n("c0983"),o=n("1a8c"),a=n("f4d6");function l(e,t,n,l){if(!o(e))return e;t=i(t,e);var u=-1,c=t.length,h=c-1,p=e;while(null!=p&&++u<c){var d=a(t[u]),f=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(u!=h){var m=p[d];f=l?l(m,d,p):void 0,void 0===f&&(f=o(m)?m:s(t[u+1])?[]:{})}r(p,d,f),p=p[d]}return e}e.exports=l},"15a4":function(e,t,n){(function(n,r){var i,s,o,a;(function(n){if("undefined"==typeof DO_NOT_EXPORT_JSZIP)e.exports=n();else if("undefined"==typeof DO_NOT_EXPORT_JSZIP)JSZipSync=n(),s=[],i=n,o="function"===typeof i?i.apply(t,s):i,void 0===o||(e.exports=o);else{var a;"undefined"!=typeof globalThis?a=globalThis:"undefined"!=typeof window?a=window:"undefined"!=typeof r?a=r:"undefined"!=typeof $&&$.global?a=$.global:"undefined"!=typeof self&&(a=self),a.JSZipSync=n()}})((function(){return function e(t,n,r){function i(o,l){if(!n[o]){if(!t[o]){var u="function"==typeof a&&a;if(!l&&u)return a(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){var n=t[o][1][e];return i(n||e)}),c,c.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof a&&a,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e,t){var n,i,s,o,a,l,u,c="",h=0;while(h<e.length)n=e.charCodeAt(h++),i=e.charCodeAt(h++),s=e.charCodeAt(h++),o=n>>2,a=(3&n)<<4|i>>4,l=(15&i)<<2|s>>6,u=63&s,isNaN(i)?l=u=64:isNaN(s)&&(u=64),c=c+r.charAt(o)+r.charAt(a)+r.charAt(l)+r.charAt(u);return c},n.decode=function(e,t){var n,i,s,o,a,l,u,c="",h=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<e.length)o=r.indexOf(e.charAt(h++)),a=r.indexOf(e.charAt(h++)),l=r.indexOf(e.charAt(h++)),u=r.indexOf(e.charAt(h++)),n=o<<2|a>>4,i=(15&a)<<4|l>>2,s=(3&l)<<6|u,c+=String.fromCharCode(n),64!=l&&(c+=String.fromCharCode(i)),64!=u&&(c+=String.fromCharCode(s));return c}},{}],2:[function(e,t,n){"use strict";function r(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}r.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=r},{}],3:[function(e,t,n){"use strict";n.STORE={magic:"\0\0",compress:function(e){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},n.DEFLATE=e("./flate")},{"./flate":8}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(e,t){if("undefined"===typeof e||!e.length)return 0;var n="string"!==r.getTypeOf(e);"undefined"==typeof t&&(t=0);var s=0,o=0,a=0;t^=-1;for(var l=0,u=e.length;l<u;l++)a=n?e[l]:e.charCodeAt(l),o=255&(t^a),s=i[o],t=t>>>8^s;return-1^t}},{"./utils":21}],5:[function(e,t,n){"use strict";var r=e("./utils");function i(e){this.data=null,this.length=0,this.index=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)}},t.exports=i},{"./utils":21}],6:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!1,n.date=null,n.compression=null,n.comment=null},{}],7:[function(e,t,n){"use strict";var r=e("./utils");n.string2binary=function(e){return r.string2binary(e)},n.string2Uint8Array=function(e){return r.transformTo("uint8array",e)},n.uint8Array2String=function(e){return r.transformTo("string",e)},n.string2Blob=function(e){var t=r.transformTo("arraybuffer",e);return r.arrayBuffer2Blob(t)},n.arrayBuffer2Blob=function(e){return r.arrayBuffer2Blob(e)},n.transformTo=function(e,t){return r.transformTo(e,t)},n.getTypeOf=function(e){return r.getTypeOf(e)},n.checkSupport=function(e){return r.checkSupport(e)},n.MAX_VALUE_16BITS=r.MAX_VALUE_16BITS,n.MAX_VALUE_32BITS=r.MAX_VALUE_32BITS,n.pretty=function(e){return r.pretty(e)},n.findCompression=function(e){return r.findCompression(e)},n.isRegExp=function(e){return r.isRegExp(e)}},{"./utils":21}],8:[function(e,t,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array,i=e("pako");n.uncompressInputType=r?"uint8array":"array",n.compressInputType=r?"uint8array":"array",n.magic="\b\0",n.compress=function(e){return i.deflateRaw(e)},n.uncompress=function(e){return i.inflateRaw(e)}},{pako:24}],9:[function(e,t,n){"use strict";var r=e("./base64");function i(e,t){if(!(this instanceof i))return new i(e,t);this.files={},this.comment=null,this.root="",e&&this.load(e,t),this.clone=function(){var e=new i;for(var t in this)"function"!==typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=e("./object"),i.prototype.load=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.utils=e("./deprecatedPublicUtils"),i.base64={encode:function(e){return r.encode(e)},decode:function(e){return r.decode(e)}},i.compressions=e("./compressions"),t.exports=i},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(e,t,n){"use strict";var r=e("./base64"),i=e("./zipEntries");t.exports=function(e,t){var n,s,o,a;for(t=t||{},t.base64&&(e=r.decode(e)),s=new i(e,t),n=s.files,o=0;o<n.length;o++)a=n[o],this.file(a.fileName,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileComment.length?a.fileComment:null,createFolders:t.createFolders});return s.zipComment.length&&(this.comment=s.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(e,t,r){(function(e){"use strict";var n=function(){};if("undefined"!==typeof e){var r=!e.from;if(!r)try{e.from("foo","utf8")}catch(i){r=!0}n=r?function(t,n){return n?new e(t,n):new e(t)}:e.from.bind(e),e.alloc||(e.alloc=function(t){return new e(t)})}t.exports=function(t,r){return"number"==typeof t?e.alloc(t):n(t,r)},t.exports.test=function(t){return e.isBuffer(t)}}).call(this,"undefined"!==typeof n?n:void 0)},{}],12:[function(e,t,n){"use strict";var r=e("./uint8ArrayReader");function i(e){this.data=e,this.length=this.data.length,this.index=0}i.prototype=new r,i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.index,this.index+e);return this.index+=e,t},t.exports=i},{"./uint8ArrayReader":18}],13:[function(e,t,n){"use strict";var r=e("./support"),i=e("./utils"),s=e("./crc32"),o=e("./signature"),a=e("./defaults"),l=e("./base64"),u=e("./compressions"),c=e("./compressedObject"),h=e("./nodeBuffer"),p=e("./utf8"),d=e("./stringWriter"),f=e("./uint8ArrayWriter"),m=function(e){if(e._data instanceof c&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,"uint8array"===i.getTypeOf(e._data))){var t=e._data;e._data=new Uint8Array(t.length),0!==t.length&&e._data.set(t,0)}return e._data},y=function(e){var t=m(e),n=i.getTypeOf(t);return"string"===n?!e.options.binary&&r.nodebuffer?h(t,"utf-8"):e.asBinary():t},g=function(e){var t=m(this);return null===t||"undefined"===typeof t?"":(this.options.base64&&(t=l.decode(t)),t=e&&this.options.binary?A.utf8decode(t):i.transformTo("string",t),e||this.options.binary||(t=i.transformTo("string",A.utf8encode(t))),t)},_=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this._data=t,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};_.prototype={asText:function(){return g.call(this,!0)},asBinary:function(){return g.call(this,!1)},asNodeBuffer:function(){var e=y(this);return i.transformTo("nodebuffer",e)},asUint8Array:function(){var e=y(this);return i.transformTo("uint8array",e)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var v=function(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},b=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"===typeof n[t]&&(n[t]=arguments[e][t]);return n},x=function(e){return e=e||{},!0!==e.base64||null!==e.binary&&void 0!==e.binary||(e.binary=!0),e=b(e,a),e.date=e.date||new Date,null!==e.compression&&(e.compression=e.compression.toUpperCase()),e},w=function(e,t,n){var r,s=i.getTypeOf(t);if(n=x(n),n.createFolders&&(r=S(e))&&C.call(this,r,!0),n.dir||null===t||"undefined"===typeof t)n.base64=!1,n.binary=!1,t=null;else if("string"===s)n.binary&&!n.base64&&!0!==n.optimizedBinaryString&&(t=i.string2binary(t));else{if(n.base64=!1,n.binary=!0,!s&&!(t instanceof c))throw new Error("The data of '"+e+"' is in an unsupported format !");"arraybuffer"===s&&(t=i.transformTo("uint8array",t))}var o=new _(e,t,n);return this.files[e]=o,o},S=function(e){"/"==e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},C=function(e,t){return"/"!=e.slice(-1)&&(e+="/"),t="undefined"!==typeof t&&t,this.files[e]||w.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},E=function(e,t){var n,r=new c;return e._data instanceof c?(r.uncompressedSize=e._data.uncompressedSize,r.crc32=e._data.crc32,0===r.uncompressedSize||e.dir?(t=u["STORE"],r.compressedContent="",r.crc32=0):e._data.compressionMethod===t.magic?r.compressedContent=e._data.getCompressedContent():(n=e._data.getContent(),r.compressedContent=t.compress(i.transformTo(t.compressInputType,n)))):(n=y(e),n&&0!==n.length&&!e.dir||(t=u["STORE"],n=""),r.uncompressedSize=n.length,r.crc32=s(n),r.compressedContent=t.compress(i.transformTo(t.compressInputType,n))),r.compressedSize=r.compressedContent.length,r.compressionMethod=t.magic,r},T=function(e,t,n,r){n.compressedContent;var a,l,u,c,h=i.transformTo("string",p.utf8encode(t.name)),d=t.comment||"",f=i.transformTo("string",p.utf8encode(d)),m=h.length!==t.name.length,y=f.length!==d.length,g=t.options,_="",b="",x="";u=t._initialMetadata.dir!==t.dir?t.dir:g.dir,c=t._initialMetadata.date!==t.date?t.date:g.date,a=c.getHours(),a<<=6,a|=c.getMinutes(),a<<=5,a|=c.getSeconds()/2,l=c.getFullYear()-1980,l<<=4,l|=c.getMonth()+1,l<<=5,l|=c.getDate(),m&&(b=v(1,1)+v(s(h),4)+h,_+="up"+v(b.length,2)+b),y&&(x=v(1,1)+v(this.crc32(f),4)+f,_+="uc"+v(x.length,2)+x);var w="";w+="\n\0",w+=m||y?"\0\b":"\0\0",w+=n.compressionMethod,w+=v(a,2),w+=v(l,2),w+=v(n.crc32,4),w+=v(n.compressedSize,4),w+=v(n.uncompressedSize,4),w+=v(h.length,2),w+=v(_.length,2);var S=o.LOCAL_FILE_HEADER+w+h+_,C=o.CENTRAL_FILE_HEADER+"\0"+w+v(f.length,2)+"\0\0\0\0"+(!0===u?"\0\0\0":"\0\0\0\0")+v(r,4)+h+_+f;return{fileRecord:S,dirRecord:C,compressedObject:n}},A={load:function(e,t){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(e){var t,n,r,i,s=[];for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],i=new _(r.name,r._data,b(r.options)),n=t.slice(this.root.length,t.length),t.slice(0,this.root.length)===this.root&&e(n,i)&&s.push(i));return s},file:function(e,t,n){if(1===arguments.length){if(i.isRegExp(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}return this.filter((function(t,n){return!n.dir&&t===e}))[0]||null}return e=this.root+e,w.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(i.isRegExp(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=C.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!=e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){e=b(e||{},{base64:!0,compression:"STORE",type:"base64",comment:null}),i.checkSupport(e.type);var t,n,r=[],s=0,a=0,c=i.transformTo("string",this.utf8encode(e.comment||this.comment||""));for(var h in this.files)if(this.files.hasOwnProperty(h)){var p=this.files[h],m=p.options.compression||e.compression.toUpperCase(),y=u[m];if(!y)throw new Error(m+" is not a valid compression method !");var g=E.call(this,p,y),_=T.call(this,h,p,g,s);s+=_.fileRecord.length+g.compressedSize,a+=_.dirRecord.length,r.push(_)}var x="";x=o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+v(r.length,2)+v(r.length,2)+v(a,4)+v(s,4)+v(c.length,2)+c;var w=e.type.toLowerCase();for(t="uint8array"===w||"arraybuffer"===w||"blob"===w||"nodebuffer"===w?new f(s+a+x.length):new d(s+a+x.length),n=0;n<r.length;n++)t.append(r[n].fileRecord),t.append(r[n].compressedObject.compressedContent);for(n=0;n<r.length;n++)t.append(r[n].dirRecord);t.append(x);var S=t.finalize();switch(e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return i.transformTo(e.type.toLowerCase(),S);case"blob":return i.arrayBuffer2Blob(i.transformTo("arraybuffer",S));case"base64":return e.base64?l.encode(S):S;default:return S}},crc32:function(e,t){return s(e,t)},utf8encode:function(e){return i.transformTo("string",p.utf8encode(e))},utf8decode:function(e){return p.utf8decode(e)}};t.exports=A},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],15:[function(e,t,n){"use strict";var r=e("./dataReader"),i=e("./utils");function s(e,t){this.data=e,t||(this.data=i.string2binary(this.data)),this.length=this.data.length,this.index=0}s.prototype=new r,s.prototype.byteAt=function(e){return this.data.charCodeAt(e)},s.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)},s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.index,this.index+e);return this.index+=e,t},t.exports=s},{"./dataReader":5,"./utils":21}],16:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){this.data=[]};i.prototype={append:function(e){e=r.transformTo("string",e),this.data.push(e)},finalize:function(){return this.data.join("")}},t.exports=i},{"./utils":21}],17:[function(e,t,r){(function(e){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array,r.nodebuffer="undefined"!==typeof e,r.uint8array="undefined"!==typeof Uint8Array,"undefined"===typeof ArrayBuffer)r.blob=!1;else{var t=new ArrayBuffer(0);try{r.blob=0===new Blob([t],{type:"application/zip"}).size}catch(s){try{var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new n;i.append(t),r.blob=0===i.getBlob("application/zip").size}catch(s){r.blob=!1}}}}).call(this,"undefined"!==typeof n?n:void 0)},{}],18:[function(e,t,n){"use strict";var r=e("./dataReader");function i(e){e&&(this.data=e,this.length=this.data.length,this.index=0)}i.prototype=new r,i.prototype.byteAt=function(e){return this.data[e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===t&&this.data[s+1]===n&&this.data[s+2]===r&&this.data[s+3]===i)return s;return-1},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.index,this.index+e);return this.index+=e,t},t.exports=i},{"./dataReader":5}],19:[function(e,t,n){"use strict";var r=e("./utils"),i=function(e){this.data=new Uint8Array(e),this.index=0};i.prototype={append:function(e){0!==e.length&&(e=r.transformTo("uint8array",e),this.data.set(e,this.index),this.index+=e.length)},finalize:function(){return this.data}},t.exports=i},{"./utils":21}],20:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),s=e("./nodeBuffer"),o=new Array(256),a=0;a<256;a++)o[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;o[254]=o[254]=1;var l=function(e){var t,n,r,s,o,a=e.length,l=0;for(s=0;s<a;s++)n=e.charCodeAt(s),55296===(64512&n)&&s+1<a&&(r=e.charCodeAt(s+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),s++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),o=0,s=0;o<l;s++)n=e.charCodeAt(s),55296===(64512&n)&&s+1<a&&(r=e.charCodeAt(s+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},u=function(e,t){var n;t=t||e.length,t>e.length&&(t=e.length),n=t-1;while(n>=0&&128===(192&e[n]))n--;return n<0||0===n?t:n+o[e[n]]>t?n:t},c=function(e){var t,n,i,s,a=e.length,l=new Array(2*a);for(n=0,t=0;t<a;)if(i=e[t++],i<128)l[n++]=i;else if(s=o[i],s>4)l[n++]=65533,t+=s-1;else{i&=2===s?31:3===s?15:7;while(s>1&&t<a)i=i<<6|63&e[t++],s--;s>1?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)};n.utf8encode=function(e){return i.nodebuffer?s(e,"utf-8"):l(e)},n.utf8decode=function(e){if(i.nodebuffer)return r.transformTo("nodebuffer",e).toString("utf-8");e=r.transformTo(i.uint8array?"uint8array":"array",e);var t=[],n=0,s=e.length,o=65536;while(n<s){var a=u(e,Math.min(n+o,s));i.uint8array?t.push(c(e.subarray(n,a))):t.push(c(e.slice(n,a))),n=a}return t.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(e,t,n){"use strict";var r=e("./support"),i=e("./compressions"),s=e("./nodeBuffer");function o(e){return e}function a(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function l(e){var t=65536,r=[],i=e.length,o=n.getTypeOf(e),a=0,l=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,s(0));break}}catch(h){l=!1}if(!l){for(var u="",c=0;c<e.length;c++)u+=String.fromCharCode(e[c]);return u}while(a<i&&t>1)try{"array"===o||"nodebuffer"===o?r.push(String.fromCharCode.apply(null,e.slice(a,Math.min(a+t,i)))):r.push(String.fromCharCode.apply(null,e.subarray(a,Math.min(a+t,i)))),a+=t}catch(h){t=Math.floor(t/2)}return r.join("")}function u(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.string2binary=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n));return t},n.arrayBuffer2Blob=function(e){n.checkSupport("blob");try{return new Blob([e],{type:"application/zip"})}catch(i){try{var t=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=new t;return r.append(e),r.getBlob("application/zip")}catch(i){throw new Error("Bug : can't construct the Blob.")}}},n.applyFromCharCode=l;var c={};c["string"]={string:o,array:function(e){return a(e,new Array(e.length))},arraybuffer:function(e){return c["string"]["uint8array"](e).buffer},uint8array:function(e){return a(e,new Uint8Array(e.length))},nodebuffer:function(e){return a(e,s(e.length))}},c["array"]={string:l,array:o,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s(e)}},c["arraybuffer"]={string:function(e){return l(new Uint8Array(e))},array:function(e){return u(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:o,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s(new Uint8Array(e))}},c["uint8array"]={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:o,nodebuffer:function(e){return s(e)}},c["nodebuffer"]={string:l,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return c["nodebuffer"]["uint8array"](e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:o},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var r=n.getTypeOf(t),i=c[r][e](t);return i},n.getTypeOf=function(e){return"string"===typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&s.test(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){var t=r[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this browser")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)t=e.charCodeAt(n),r+="\\x"+(t<16?"0":"")+t.toString(16).toUpperCase();return r},n.findCompression=function(e){for(var t in i)if(i.hasOwnProperty(t)&&i[t].magic===e)return i[t];return null},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(e,t,n){"use strict";var r=e("./stringReader"),i=e("./nodeBufferReader"),s=e("./uint8ArrayReader"),o=e("./utils"),a=e("./signature"),l=e("./zipEntry"),u=e("./support"),c=e("./object");function h(e,t){this.files=[],this.loadOptions=t,e&&this.load(e)}h.prototype={checkSignature:function(e){var t=this.reader.readString(4);if(t!==e)throw new Error("Corrupted zip or bug : unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=c.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};var e,t,n,r=this.zip64EndOfCentralSize-44,i=0;while(i<r)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readString(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8()},readCentralDir:function(){var e;this.reader.setIndex(this.centralDirOffset);while(this.reader.readString(4)===a.CENTRAL_FILE_HEADER)e=new l({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(-1===e)throw new Error("Corrupted zip : can't find end of central directory");if(this.reader.setIndex(e),this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),-1===e)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(e){var t=o.getTypeOf(e);"string"!==t||u.uint8array?this.reader="nodebuffer"===t?new i(e):new s(o.transformTo("uint8array",e)):this.reader=new r(e,this.loadOptions.optimizedBinaryString)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=h},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(e,t,n){"use strict";var r=e("./stringReader"),i=e("./utils"),s=e("./compressedObject"),o=e("./object");function a(e,t){this.options=e,this.loadOptions=t}a.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(e,t,n){return function(){var r=e.index;e.setIndex(t);var i=e.readData(n);return e.setIndex(r),i}},prepareContent:function(e,t,n,r,s){return function(){var e=i.transformTo(r.uncompressInputType,this.getCompressedContent()),t=r.uncompress(e);if(t.length!==s)throw new Error("Bug : uncompressed data size mismatch");return t}},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readString(this.fileNameLength),e.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(t=i.findCompression(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new s,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(e,e.index,this.compressedSize,t),this.decompressed.getContent=this.prepareContent(e,e.index,this.compressedSize,t,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=i.transformTo("string",this.decompressed.getContent()),o.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(e){if(this.versionMadeBy=e.readString(2),this.versionNeeded=e.readInt(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4),this.fileNameLength=e.readInt(2),this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=e.readString(this.fileNameLength),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readString(this.fileCommentLength),this.dir=!!(16&this.externalFileAttributes)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=new r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index;this.extraFields=this.extraFields||{};while(e.index<i+this.extraFieldsLength)t=e.readInt(2),n=e.readInt(2),r=e.readString(n),this.extraFields[t]={id:t,length:n,value:r}},handleUTF8:function(){if(this.useUTF8())this.fileName=o.utf8decode(this.fileName),this.fileComment=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();null!==e&&(this.fileName=e);var t=this.findExtraFieldUnicodeComment();null!==t&&(this.fileComment=t)}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=new r(e.value);return 1!==t.readInt(1)||o.crc32(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readString(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=new r(e.value);return 1!==t.readInt(1)||o.crc32(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readString(e.length-5))}return null}},t.exports=a},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(e,t,n){"use strict";var r=e("./lib/utils/common").assign,i=e("./lib/deflate"),s=e("./lib/inflate"),o=e("./lib/zlib/constants"),a={};r(a,i,s,o),t.exports=a},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(e,t,n){"use strict";var r=e("./zlib/deflate.js"),i=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/messages"),a=e("./zlib/zstream"),l=0,u=4,c=0,h=1,p=-1,d=0,f=8,m=function(e){this.options=i.assign({level:p,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(o[n]);t.header&&r.deflateSetHeader(this.strm,t.header)};function y(e,t){var n=new m(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function g(e,t){return t=t||{},t.raw=!0,y(e,t)}function _(e,t){return t=t||{},t.gzip=!0,y(e,t)}m.prototype.push=function(e,t){var n,o,a=this.strm,p=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?u:l,a.input="string"===typeof e?s.string2buf(e):e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(p),a.next_out=0,a.avail_out=p),n=r.deflate(a,o),n!==h&&n!==c)return this.onEnd(n),this.ended=!0,!1;(0===a.avail_out||0===a.avail_in&&o===u)&&("string"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&n!==h);return o!==u||(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c)},m.prototype.onData=function(e){this.chunks.push(e)},m.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=m,n.deflate=y,n.deflateRaw=g,n.gzip=_},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(e,t,n){"use strict";var r=e("./zlib/inflate.js"),i=e("./utils/common"),s=e("./utils/strings"),o=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=function(e){this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(a[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)};function h(e,t){var n=new c(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function p(e,t){return t=t||{},t.raw=!0,h(e,t)}c.prototype.push=function(e,t){var n,a,l,u,c,h=this.strm,p=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,h.input="string"===typeof e?s.binstring2buf(e):e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),n=r.inflate(h,o.Z_NO_FLUSH),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0===h.avail_out||n===o.Z_STREAM_END||0===h.avail_in&&a===o.Z_FINISH)&&("string"===this.options.to?(l=s.utf8border(h.output,h.next_out),u=h.next_out-l,c=s.buf2string(h.output,l),h.next_out=u,h.avail_out=p-u,u&&i.arraySet(h.output,h.output,l,u,0),this.onData(c)):this.onData(i.shrinkBuf(h.output,h.next_out)))}while(h.avail_in>0&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(a=o.Z_FINISH),a!==o.Z_FINISH||(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=c,n.inflate=h,n.inflateRaw=p,n.ungzip=h},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(e,t,n){"use strict";var r="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;n.assign=function(e){var t=Array.prototype.slice.call(arguments,1);while(t.length){var n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){var t,n,r,i,s,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)s=e[t],o.set(s,i),i+=s.length;return o}},s={arraySet:function(e,t,n,r,i){for(var s=0;s<r;s++)e[i+s]=t[n+s]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,s))},n.setTyped(r)},{}],28:[function(e,t,n){"use strict";var r=e("./common"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(u){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){s=!1}for(var o=new r.Buf8(256),a=0;a<256;a++)o[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function l(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,i,s,o,a=e.length,l=0;for(s=0;s<a;s++)n=e.charCodeAt(s),55296===(64512&n)&&s+1<a&&(i=e.charCodeAt(s+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),s++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=0,s=0;o<l;s++)n=e.charCodeAt(s),55296===(64512&n)&&s+1<a&&(i=e.charCodeAt(s+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),s++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,s,a=t||e.length,u=new Array(2*a);for(r=0,n=0;n<a;)if(i=e[n++],i<128)u[r++]=i;else if(s=o[i],s>4)u[r++]=65533,n+=s-1;else{i&=2===s?31:3===s?15:7;while(s>1&&n<a)i=i<<6|63&e[n++],s--;s>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},n.utf8border=function(e,t){var n;t=t||e.length,t>e.length&&(t=e.length),n=t-1;while(n>=0&&128===(192&e[n]))n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},{"./common":27}],29:[function(e,t,n){"use strict";function r(e,t,n,r){var i=65535&e|0,s=e>>>16&65535|0,o=0;while(0!==n){o=n>2e3?2e3:n,n-=o;do{i=i+t[r++]|0,s=s+i|0}while(--o);i%=65521,s%=65521}return i|s<<16|0}t.exports=r},{}],30:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(e,t,n){"use strict";function r(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}var i=r();function s(e,t,n,r){var s=i,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}t.exports=s},{}],32:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./trees"),s=e("./adler32"),o=e("./crc32"),a=e("./messages"),l=0,u=1,c=3,h=4,p=5,d=0,f=1,m=-2,y=-3,g=-5,_=-1,v=1,b=2,x=3,w=4,S=0,C=2,E=8,T=9,A=15,P=8,I=29,L=256,M=L+1+I,O=30,k=19,N=2*M+1,R=15,D=3,F=258,B=F+D+1,q=32,z=42,U=69,G=73,j=91,V=103,W=113,H=666,J=1,X=2,Z=3,Y=4,K=3;function Q(e,t){return e.msg=a[t],t}function $(e){return(e<<1)-(e>4?9:0)}function ee(e){var t=e.length;while(--t>=0)e[t]=0}function te(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function ne(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,te(e.strm)}function re(e,t){e.pending_buf[e.pending++]=t}function ie(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function se(e,t,n,i){var a=e.avail_in;return a>i&&(a=i),0===a?0:(e.avail_in-=a,r.arraySet(t,e.input,e.next_in,a,n),1===e.state.wrap?e.adler=s(e.adler,t,a,n):2===e.state.wrap&&(e.adler=o(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)}function oe(e,t){var n,r,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-B?e.strstart-(e.w_size-B):0,u=e.window,c=e.w_mask,h=e.prev,p=e.strstart+F,d=u[s+o-1],f=u[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(n=t,u[n+o]===f&&u[n+o-1]===d&&u[n]===u[s]&&u[++n]===u[s+1]){s+=2,n++;do{}while(u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&s<p);if(r=F-(p-s),s=p-F,r>o){if(e.match_start=t,o=r,r>=a)break;d=u[s+o-1],f=u[s+o]}}}while((t=h[t&c])>l&&0!==--i);return o<=e.lookahead?o:e.lookahead}function ae(e){var t,n,i,s,o,a=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-B)){r.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,n=e.hash_size,t=n;do{i=e.head[--t],e.head[t]=i>=a?i-a:0}while(--n);n=a,t=n;do{i=e.prev[--t],e.prev[t]=i>=a?i-a:0}while(--n);s+=a}if(0===e.strm.avail_in)break;if(n=se(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=n,e.lookahead+e.insert>=D){o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;while(e.insert)if(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+D-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,e.lookahead+e.insert<D)break}}while(e.lookahead<B&&0!==e.strm.avail_in)}function le(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ae(e),0===e.lookahead&&t===l)return J;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,ne(e,!1),0===e.strm.avail_out))return J;if(e.strstart-e.block_start>=e.w_size-B&&(ne(e,!1),0===e.strm.avail_out))return J}return e.insert=0,t===h?(ne(e,!0),0===e.strm.avail_out?Z:Y):(e.strstart>e.block_start&&(ne(e,!1),e.strm.avail_out),J)}function ue(e,t){for(var n,r;;){if(e.lookahead<B){if(ae(e),e.lookahead<B&&t===l)return J;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-B&&(e.match_length=oe(e,n)),e.match_length>=D)if(r=i._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ne(e,!1),0===e.strm.avail_out))return J}return e.insert=e.strstart<D-1?e.strstart:D-1,t===h?(ne(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(ne(e,!1),0===e.strm.avail_out)?J:X}function ce(e,t){for(var n,r,s;;){if(e.lookahead<B){if(ae(e),e.lookahead<B&&t===l)return J;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-B&&(e.match_length=oe(e,n),e.match_length<=5&&(e.strategy===v||e.match_length===D&&e.strstart-e.match_start>4096)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-D,r=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=D-1,e.strstart++,r&&(ne(e,!1),0===e.strm.avail_out))return J}else if(e.match_available){if(r=i._tr_tally(e,0,e.window[e.strstart-1]),r&&ne(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return J}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,t===h?(ne(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(ne(e,!1),0===e.strm.avail_out)?J:X}function he(e,t){for(var n,r,s,o,a=e.window;;){if(e.lookahead<=F){if(ae(e),e.lookahead<=F&&t===l)return J;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=D&&e.strstart>0&&(s=e.strstart-1,r=a[s],r===a[++s]&&r===a[++s]&&r===a[++s])){o=e.strstart+F;do{}while(r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&r===a[++s]&&s<o);e.match_length=F-(o-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=D?(n=i._tr_tally(e,1,e.match_length-D),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(ne(e,!1),0===e.strm.avail_out))return J}return e.insert=0,t===h?(ne(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(ne(e,!1),0===e.strm.avail_out)?J:X}function pe(e,t){for(var n;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===l)return J;break}if(e.match_length=0,n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(ne(e,!1),0===e.strm.avail_out))return J}return e.insert=0,t===h?(ne(e,!0),0===e.strm.avail_out?Z:Y):e.last_lit&&(ne(e,!1),0===e.strm.avail_out)?J:X}var de,fe=function(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i};function me(e){e.window_size=2*e.w_size,ee(e.head),e.max_lazy_match=de[e.level].max_lazy,e.good_match=de[e.level].good_length,e.nice_match=de[e.level].nice_length,e.max_chain_length=de[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=D-1,e.match_available=0,e.ins_h=0}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*N),this.dyn_dtree=new r.Buf16(2*(2*O+1)),this.bl_tree=new r.Buf16(2*(2*k+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(R+1),this.heap=new r.Buf16(2*M+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*M+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ge(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=C,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?z:W,e.adler=2===t.wrap?0:1,t.last_flush=l,i._tr_init(t),d):Q(e,m)}function _e(e){var t=ge(e);return t===d&&me(e.state),t}function ve(e,t){return e&&e.state?2!==e.state.wrap?m:(e.state.gzhead=t,d):m}function be(e,t,n,i,s,o){if(!e)return m;var a=1;if(t===_&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),s<1||s>T||n!==E||i<8||i>15||t<0||t>9||o<0||o>w)return Q(e,m);8===i&&(i=9);var l=new ye;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=s+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+D-1)/D),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<s+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=l.lit_bufsize>>1,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=n,_e(e)}function xe(e,t){return be(e,t,E,A,P,S)}function we(e,t){var n,r,s,a;if(!e||!e.state||t>p||t<0)return e?Q(e,m):m;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||r.status===H&&t!==h)return Q(e,0===e.avail_out?g:m);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===z)if(2===r.wrap)e.adler=0,re(r,31),re(r,139),re(r,8),r.gzhead?(re(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),re(r,255&r.gzhead.time),re(r,r.gzhead.time>>8&255),re(r,r.gzhead.time>>16&255),re(r,r.gzhead.time>>24&255),re(r,9===r.level?2:r.strategy>=b||r.level<2?4:0),re(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(re(r,255&r.gzhead.extra.length),re(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=o(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=U):(re(r,0),re(r,0),re(r,0),re(r,0),re(r,0),re(r,9===r.level?2:r.strategy>=b||r.level<2?4:0),re(r,K),r.status=W);else{var y=E+(r.w_bits-8<<4)<<8,_=-1;_=r.strategy>=b||r.level<2?0:r.level<6?1:6===r.level?2:3,y|=_<<6,0!==r.strstart&&(y|=q),y+=31-y%31,r.status=W,ie(r,y),0!==r.strstart&&(ie(r,e.adler>>>16),ie(r,65535&e.adler)),e.adler=1}if(r.status===U)if(r.gzhead.extra){s=r.pending;while(r.gzindex<(65535&r.gzhead.extra.length)){if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),te(e),s=r.pending,r.pending===r.pending_buf_size))break;re(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++}r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=G)}else r.status=G;if(r.status===G)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),te(e),s=r.pending,r.pending===r.pending_buf_size)){a=1;break}a=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,re(r,a)}while(0!==a);r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),0===a&&(r.gzindex=0,r.status=j)}else r.status=j;if(r.status===j)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),te(e),s=r.pending,r.pending===r.pending_buf_size)){a=1;break}a=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,re(r,a)}while(0!==a);r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),0===a&&(r.status=V)}else r.status=V;if(r.status===V&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&te(e),r.pending+2<=r.pending_buf_size&&(re(r,255&e.adler),re(r,e.adler>>8&255),e.adler=0,r.status=W)):r.status=W),0!==r.pending){if(te(e),0===e.avail_out)return r.last_flush=-1,d}else if(0===e.avail_in&&$(t)<=$(n)&&t!==h)return Q(e,g);if(r.status===H&&0!==e.avail_in)return Q(e,g);if(0!==e.avail_in||0!==r.lookahead||t!==l&&r.status!==H){var v=r.strategy===b?pe(r,t):r.strategy===x?he(r,t):de[r.level].func(r,t);if(v!==Z&&v!==Y||(r.status=H),v===J||v===Z)return 0===e.avail_out&&(r.last_flush=-1),d;if(v===X&&(t===u?i._tr_align(r):t!==p&&(i._tr_stored_block(r,0,0,!1),t===c&&(ee(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),te(e),0===e.avail_out))return r.last_flush=-1,d}return t!==h?d:r.wrap<=0?f:(2===r.wrap?(re(r,255&e.adler),re(r,e.adler>>8&255),re(r,e.adler>>16&255),re(r,e.adler>>24&255),re(r,255&e.total_in),re(r,e.total_in>>8&255),re(r,e.total_in>>16&255),re(r,e.total_in>>24&255)):(ie(r,e.adler>>>16),ie(r,65535&e.adler)),te(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?d:f)}function Se(e){var t;return e&&e.state?(t=e.state.status,t!==z&&t!==U&&t!==G&&t!==j&&t!==V&&t!==W&&t!==H?Q(e,m):(e.state=null,t===W?Q(e,y):d)):m}de=[new fe(0,0,0,0,le),new fe(4,4,8,4,ue),new fe(4,5,16,8,ue),new fe(4,6,32,32,ue),new fe(4,4,16,16,ce),new fe(8,16,32,32,ce),new fe(8,16,128,128,ce),new fe(8,32,128,256,ce),new fe(32,128,258,1024,ce),new fe(32,258,258,4096,ce)],n.deflateInit=xe,n.deflateInit2=be,n.deflateReset=_e,n.deflateResetKeep=ge,n.deflateSetHeader=ve,n.deflate=we,n.deflateEnd=Se,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(e,t,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=r},{}],34:[function(e,t,n){"use strict";var r=30,i=12;t.exports=function(e,t){var n,s,o,a,l,u,c,h,p,d,f,m,y,g,_,v,b,x,w,S,C,E,T,A,P;n=e.state,s=e.next_in,A=e.input,o=s+(e.avail_in-5),a=e.next_out,P=e.output,l=a-(t-e.avail_out),u=a+(e.avail_out-257),c=n.dmax,h=n.wsize,p=n.whave,d=n.wnext,f=n.window,m=n.hold,y=n.bits,g=n.lencode,_=n.distcode,v=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;e:do{y<15&&(m+=A[s++]<<y,y+=8,m+=A[s++]<<y,y+=8),x=g[m&v];t:for(;;){if(w=x>>>24,m>>>=w,y-=w,w=x>>>16&255,0===w)P[a++]=65535&x;else{if(!(16&w)){if(0===(64&w)){x=g[(65535&x)+(m&(1<<w)-1)];continue t}if(32&w){n.mode=i;break e}e.msg="invalid literal/length code",n.mode=r;break e}S=65535&x,w&=15,w&&(y<w&&(m+=A[s++]<<y,y+=8),S+=m&(1<<w)-1,m>>>=w,y-=w),y<15&&(m+=A[s++]<<y,y+=8,m+=A[s++]<<y,y+=8),x=_[m&b];n:for(;;){if(w=x>>>24,m>>>=w,y-=w,w=x>>>16&255,!(16&w)){if(0===(64&w)){x=_[(65535&x)+(m&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=r;break e}if(C=65535&x,w&=15,y<w&&(m+=A[s++]<<y,y+=8,y<w&&(m+=A[s++]<<y,y+=8)),C+=m&(1<<w)-1,C>c){e.msg="invalid distance too far back",n.mode=r;break e}if(m>>>=w,y-=w,w=a-l,C>w){if(w=C-w,w>p&&n.sane){e.msg="invalid distance too far back",n.mode=r;break e}if(E=0,T=f,0===d){if(E+=h-w,w<S){S-=w;do{P[a++]=f[E++]}while(--w);E=a-C,T=P}}else if(d<w){if(E+=h+d-w,w-=d,w<S){S-=w;do{P[a++]=f[E++]}while(--w);if(E=0,d<S){w=d,S-=w;do{P[a++]=f[E++]}while(--w);E=a-C,T=P}}}else if(E+=d-w,w<S){S-=w;do{P[a++]=f[E++]}while(--w);E=a-C,T=P}while(S>2)P[a++]=T[E++],P[a++]=T[E++],P[a++]=T[E++],S-=3;S&&(P[a++]=T[E++],S>1&&(P[a++]=T[E++]))}else{E=a-C;do{P[a++]=P[E++],P[a++]=P[E++],P[a++]=P[E++],S-=3}while(S>2);S&&(P[a++]=P[E++],S>1&&(P[a++]=P[E++]))}break}}break}}while(s<o&&a<u);S=y>>3,s-=S,y-=S<<3,m&=(1<<y)-1,e.next_in=s,e.next_out=a,e.avail_in=s<o?o-s+5:5-(s-o),e.avail_out=a<u?u-a+257:257-(a-u),n.hold=m,n.bits=y}},{}],35:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),s=e("./crc32"),o=e("./inffast"),a=e("./inftrees"),l=0,u=1,c=2,h=4,p=5,d=6,f=0,m=1,y=2,g=-2,_=-3,v=-4,b=-5,x=8,w=1,S=2,C=3,E=4,T=5,A=6,P=7,I=8,L=9,M=10,O=11,k=12,N=13,R=14,D=15,F=16,B=17,q=18,z=19,U=20,G=21,j=22,V=23,W=24,H=25,J=26,X=27,Z=28,Y=29,K=30,Q=31,$=32,ee=852,te=592,ne=15,re=ne;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function se(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function oe(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=w,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,f):g}function ae(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,oe(e)):g}function le(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?g:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,ae(e))):g}function ue(e,t){var n,r;return e?(r=new se,e.state=r,r.window=null,n=le(e,t),n!==f&&(e.state=null),n):g}function ce(e){return ue(e,re)}var he,pe,de=!0;function fe(e){if(de){var t;he=new r.Buf32(512),pe=new r.Buf32(32),t=0;while(t<144)e.lens[t++]=8;while(t<256)e.lens[t++]=9;while(t<280)e.lens[t++]=7;while(t<288)e.lens[t++]=8;a(u,e.lens,0,288,he,0,e.work,{bits:9}),t=0;while(t<32)e.lens[t++]=5;a(c,e.lens,0,32,pe,0,e.work,{bits:5}),de=!1}e.lencode=he,e.lenbits=9,e.distcode=pe,e.distbits=5}function me(e,t,n,i){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>i&&(s=i),r.arraySet(o.window,t,n-i,s,o.wnext),i-=s,i?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}function ye(e,t){var n,ee,te,ne,re,se,oe,ae,le,ue,ce,he,pe,de,ye,ge,_e,ve,be,xe,we,Se,Ce,Ee,Te=0,Ae=new r.Buf8(4),Pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return g;n=e.state,n.mode===k&&(n.mode=N),re=e.next_out,te=e.output,oe=e.avail_out,ne=e.next_in,ee=e.input,se=e.avail_in,ae=n.hold,le=n.bits,ue=se,ce=oe,Se=f;e:for(;;)switch(n.mode){case w:if(0===n.wrap){n.mode=N;break}while(le<16){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===ae){n.check=0,Ae[0]=255&ae,Ae[1]=ae>>>8&255,n.check=s(n.check,Ae,2,0),ae=0,le=0,n.mode=S;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&ae)<<8)+(ae>>8))%31){e.msg="incorrect header check",n.mode=K;break}if((15&ae)!==x){e.msg="unknown compression method",n.mode=K;break}if(ae>>>=4,le-=4,we=8+(15&ae),0===n.wbits)n.wbits=we;else if(we>n.wbits){e.msg="invalid window size",n.mode=K;break}n.dmax=1<<we,e.adler=n.check=1,n.mode=512&ae?M:k,ae=0,le=0;break;case S:while(le<16){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}if(n.flags=ae,(255&n.flags)!==x){e.msg="unknown compression method",n.mode=K;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=K;break}n.head&&(n.head.text=ae>>8&1),512&n.flags&&(Ae[0]=255&ae,Ae[1]=ae>>>8&255,n.check=s(n.check,Ae,2,0)),ae=0,le=0,n.mode=C;case C:while(le<32){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=ae),512&n.flags&&(Ae[0]=255&ae,Ae[1]=ae>>>8&255,Ae[2]=ae>>>16&255,Ae[3]=ae>>>24&255,n.check=s(n.check,Ae,4,0)),ae=0,le=0,n.mode=E;case E:while(le<16){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&ae,n.head.os=ae>>8),512&n.flags&&(Ae[0]=255&ae,Ae[1]=ae>>>8&255,n.check=s(n.check,Ae,2,0)),ae=0,le=0,n.mode=T;case T:if(1024&n.flags){while(le<16){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}n.length=ae,n.head&&(n.head.extra_len=ae),512&n.flags&&(Ae[0]=255&ae,Ae[1]=ae>>>8&255,n.check=s(n.check,Ae,2,0)),ae=0,le=0}else n.head&&(n.head.extra=null);n.mode=A;case A:if(1024&n.flags&&(he=n.length,he>se&&(he=se),he&&(n.head&&(we=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,ee,ne,he,we)),512&n.flags&&(n.check=s(n.check,ee,he,ne)),se-=he,ne+=he,n.length-=he),n.length))break e;n.length=0,n.mode=P;case P:if(2048&n.flags){if(0===se)break e;he=0;do{we=ee[ne+he++],n.head&&we&&n.length<65536&&(n.head.name+=String.fromCharCode(we))}while(we&&he<se);if(512&n.flags&&(n.check=s(n.check,ee,he,ne)),se-=he,ne+=he,we)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=I;case I:if(4096&n.flags){if(0===se)break e;he=0;do{we=ee[ne+he++],n.head&&we&&n.length<65536&&(n.head.comment+=String.fromCharCode(we))}while(we&&he<se);if(512&n.flags&&(n.check=s(n.check,ee,he,ne)),se-=he,ne+=he,we)break e}else n.head&&(n.head.comment=null);n.mode=L;case L:if(512&n.flags){while(le<16){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}if(ae!==(65535&n.check)){e.msg="header crc mismatch",n.mode=K;break}ae=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=k;break;case M:while(le<32){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}e.adler=n.check=ie(ae),ae=0,le=0,n.mode=O;case O:if(0===n.havedict)return e.next_out=re,e.avail_out=oe,e.next_in=ne,e.avail_in=se,n.hold=ae,n.bits=le,y;e.adler=n.check=1,n.mode=k;case k:if(t===p||t===d)break e;case N:if(n.last){ae>>>=7&le,le-=7&le,n.mode=X;break}while(le<3){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}switch(n.last=1&ae,ae>>>=1,le-=1,3&ae){case 0:n.mode=R;break;case 1:if(fe(n),n.mode=U,t===d){ae>>>=2,le-=2;break e}break;case 2:n.mode=B;break;case 3:e.msg="invalid block type",n.mode=K}ae>>>=2,le-=2;break;case R:ae>>>=7&le,le-=7&le;while(le<32){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}if((65535&ae)!==(ae>>>16^65535)){e.msg="invalid stored block lengths",n.mode=K;break}if(n.length=65535&ae,ae=0,le=0,n.mode=D,t===d)break e;case D:n.mode=F;case F:if(he=n.length,he){if(he>se&&(he=se),he>oe&&(he=oe),0===he)break e;r.arraySet(te,ee,ne,he,re),se-=he,ne+=he,oe-=he,re+=he,n.length-=he;break}n.mode=k;break;case B:while(le<14){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&ae),ae>>>=5,le-=5,n.ndist=1+(31&ae),ae>>>=5,le-=5,n.ncode=4+(15&ae),ae>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=K;break}n.have=0,n.mode=q;case q:while(n.have<n.ncode){while(le<3){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}n.lens[Pe[n.have++]]=7&ae,ae>>>=3,le-=3}while(n.have<19)n.lens[Pe[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ce={bits:n.lenbits},Se=a(l,n.lens,0,19,n.lencode,0,n.work,Ce),n.lenbits=Ce.bits,Se){e.msg="invalid code lengths set",n.mode=K;break}n.have=0,n.mode=z;case z:while(n.have<n.nlen+n.ndist){for(;;){if(Te=n.lencode[ae&(1<<n.lenbits)-1],ye=Te>>>24,ge=Te>>>16&255,_e=65535&Te,ye<=le)break;if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}if(_e<16)ae>>>=ye,le-=ye,n.lens[n.have++]=_e;else{if(16===_e){Ee=ye+2;while(le<Ee){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}if(ae>>>=ye,le-=ye,0===n.have){e.msg="invalid bit length repeat",n.mode=K;break}we=n.lens[n.have-1],he=3+(3&ae),ae>>>=2,le-=2}else if(17===_e){Ee=ye+3;while(le<Ee){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}ae>>>=ye,le-=ye,we=0,he=3+(7&ae),ae>>>=3,le-=3}else{Ee=ye+7;while(le<Ee){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}ae>>>=ye,le-=ye,we=0,he=11+(127&ae),ae>>>=7,le-=7}if(n.have+he>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=K;break}while(he--)n.lens[n.have++]=we}}if(n.mode===K)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=K;break}if(n.lenbits=9,Ce={bits:n.lenbits},Se=a(u,n.lens,0,n.nlen,n.lencode,0,n.work,Ce),n.lenbits=Ce.bits,Se){e.msg="invalid literal/lengths set",n.mode=K;break}if(n.distbits=6,n.distcode=n.distdyn,Ce={bits:n.distbits},Se=a(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ce),n.distbits=Ce.bits,Se){e.msg="invalid distances set",n.mode=K;break}if(n.mode=U,t===d)break e;case U:n.mode=G;case G:if(se>=6&&oe>=258){e.next_out=re,e.avail_out=oe,e.next_in=ne,e.avail_in=se,n.hold=ae,n.bits=le,o(e,ce),re=e.next_out,te=e.output,oe=e.avail_out,ne=e.next_in,ee=e.input,se=e.avail_in,ae=n.hold,le=n.bits,n.mode===k&&(n.back=-1);break}for(n.back=0;;){if(Te=n.lencode[ae&(1<<n.lenbits)-1],ye=Te>>>24,ge=Te>>>16&255,_e=65535&Te,ye<=le)break;if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}if(ge&&0===(240&ge)){for(ve=ye,be=ge,xe=_e;;){if(Te=n.lencode[xe+((ae&(1<<ve+be)-1)>>ve)],ye=Te>>>24,ge=Te>>>16&255,_e=65535&Te,ve+ye<=le)break;if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}ae>>>=ve,le-=ve,n.back+=ve}if(ae>>>=ye,le-=ye,n.back+=ye,n.length=_e,0===ge){n.mode=J;break}if(32&ge){n.back=-1,n.mode=k;break}if(64&ge){e.msg="invalid literal/length code",n.mode=K;break}n.extra=15&ge,n.mode=j;case j:if(n.extra){Ee=n.extra;while(le<Ee){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}n.length+=ae&(1<<n.extra)-1,ae>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=V;case V:for(;;){if(Te=n.distcode[ae&(1<<n.distbits)-1],ye=Te>>>24,ge=Te>>>16&255,_e=65535&Te,ye<=le)break;if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}if(0===(240&ge)){for(ve=ye,be=ge,xe=_e;;){if(Te=n.distcode[xe+((ae&(1<<ve+be)-1)>>ve)],ye=Te>>>24,ge=Te>>>16&255,_e=65535&Te,ve+ye<=le)break;if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}ae>>>=ve,le-=ve,n.back+=ve}if(ae>>>=ye,le-=ye,n.back+=ye,64&ge){e.msg="invalid distance code",n.mode=K;break}n.offset=_e,n.extra=15&ge,n.mode=W;case W:if(n.extra){Ee=n.extra;while(le<Ee){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}n.offset+=ae&(1<<n.extra)-1,ae>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=K;break}n.mode=H;case H:if(0===oe)break e;if(he=ce-oe,n.offset>he){if(he=n.offset-he,he>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=K;break}he>n.wnext?(he-=n.wnext,pe=n.wsize-he):pe=n.wnext-he,he>n.length&&(he=n.length),de=n.window}else de=te,pe=re-n.offset,he=n.length;he>oe&&(he=oe),oe-=he,n.length-=he;do{te[re++]=de[pe++]}while(--he);0===n.length&&(n.mode=G);break;case J:if(0===oe)break e;te[re++]=n.length,oe--,n.mode=G;break;case X:if(n.wrap){while(le<32){if(0===se)break e;se--,ae|=ee[ne++]<<le,le+=8}if(ce-=oe,e.total_out+=ce,n.total+=ce,ce&&(e.adler=n.check=n.flags?s(n.check,te,ce,re-ce):i(n.check,te,ce,re-ce)),ce=oe,(n.flags?ae:ie(ae))!==n.check){e.msg="incorrect data check",n.mode=K;break}ae=0,le=0}n.mode=Z;case Z:if(n.wrap&&n.flags){while(le<32){if(0===se)break e;se--,ae+=ee[ne++]<<le,le+=8}if(ae!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=K;break}ae=0,le=0}n.mode=Y;case Y:Se=m;break e;case K:Se=_;break e;case Q:return v;case $:default:return g}return e.next_out=re,e.avail_out=oe,e.next_in=ne,e.avail_in=se,n.hold=ae,n.bits=le,(n.wsize||ce!==e.avail_out&&n.mode<K&&(n.mode<X||t!==h))&&me(e,e.output,e.next_out,ce-e.avail_out)?(n.mode=Q,v):(ue-=e.avail_in,ce-=e.avail_out,e.total_in+=ue,e.total_out+=ce,n.total+=ce,n.wrap&&ce&&(e.adler=n.check=n.flags?s(n.check,te,ce,e.next_out-ce):i(n.check,te,ce,e.next_out-ce)),e.data_type=n.bits+(n.last?64:0)+(n.mode===k?128:0)+(n.mode===U||n.mode===D?256:0),(0===ue&&0===ce||t===h)&&Se===f&&(Se=b),Se)}function ge(e){if(!e||!e.state)return g;var t=e.state;return t.window&&(t.window=null),e.state=null,f}function _e(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?g:(n.head=t,t.done=!1,f)):g}n.inflateReset=ae,n.inflateReset2=le,n.inflateResetKeep=oe,n.inflateInit=ce,n.inflateInit2=ue,n.inflate=ye,n.inflateEnd=ge,n.inflateGetHeader=_e,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(e,t,n){"use strict";var r=e("../utils/common"),i=15,s=852,o=592,a=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,f,m,y,g,_){var v,b,x,w,S,C,E,T,A,P=_.bits,I=0,L=0,M=0,O=0,k=0,N=0,R=0,D=0,F=0,B=0,q=null,z=0,U=new r.Buf16(i+1),G=new r.Buf16(i+1),j=null,V=0;for(I=0;I<=i;I++)U[I]=0;for(L=0;L<f;L++)U[t[n+L]]++;for(k=P,O=i;O>=1;O--)if(0!==U[O])break;if(k>O&&(k=O),0===O)return m[y++]=20971520,m[y++]=20971520,_.bits=1,0;for(M=1;M<O;M++)if(0!==U[M])break;for(k<M&&(k=M),D=1,I=1;I<=i;I++)if(D<<=1,D-=U[I],D<0)return-1;if(D>0&&(e===a||1!==O))return-1;for(G[1]=0,I=1;I<i;I++)G[I+1]=G[I]+U[I];for(L=0;L<f;L++)0!==t[n+L]&&(g[G[t[n+L]]++]=L);if(e===a?(q=j=g,C=19):e===l?(q=c,z-=257,j=h,V-=257,C=256):(q=p,j=d,C=-1),B=0,L=0,I=M,S=y,N=k,R=0,x=-1,F=1<<k,w=F-1,e===l&&F>s||e===u&&F>o)return 1;for(;;){E=I-R,g[L]<C?(T=0,A=g[L]):g[L]>C?(T=j[V+g[L]],A=q[z+g[L]]):(T=96,A=0),v=1<<I-R,b=1<<N,M=b;do{b-=v,m[S+(B>>R)+b]=E<<24|T<<16|A|0}while(0!==b);v=1<<I-1;while(B&v)v>>=1;if(0!==v?(B&=v-1,B+=v):B=0,L++,0===--U[I]){if(I===O)break;I=t[n+g[L]]}if(I>k&&(B&w)!==x){0===R&&(R=k),S+=M,N=I-R,D=1<<N;while(N+R<O){if(D-=U[N+R],D<=0)break;N++,D<<=1}if(F+=1<<N,e===l&&F>s||e===u&&F>o)return 1;x=B&w,m[x]=k<<24|N<<16|S-y|0}}return 0!==B&&(m[S+B]=I-R<<24|64<<16|0),_.bits=k,0}},{"../utils/common":27}],37:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(e,t,n){"use strict";var r=e("../utils/common"),i=4,s=0,o=1,a=2;function l(e){var t=e.length;while(--t>=0)e[t]=0}var u=0,c=1,h=2,p=3,d=258,f=29,m=256,y=m+1+f,g=30,_=19,v=2*y+1,b=15,x=16,w=7,S=256,C=16,E=17,T=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=512,O=new Array(2*(y+2));l(O);var k=new Array(2*g);l(k);var N=new Array(M);l(N);var R=new Array(d-p+1);l(R);var D=new Array(f);l(D);var F=new Array(g);l(F);var B,q,z,U=function(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length},G=function(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t};function j(e){return e<256?N[e]:N[256+(e>>>7)]}function V(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function W(e,t,n){e.bi_valid>x-n?(e.bi_buf|=t<<e.bi_valid&65535,V(e,e.bi_buf),e.bi_buf=t>>x-e.bi_valid,e.bi_valid+=n-x):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function H(e,t,n){W(e,n[2*t],n[2*t+1])}function J(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function X(e){16===e.bi_valid?(V(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function Z(e,t){var n,r,i,s,o,a,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,f=t.stat_desc.max_length,m=0;for(s=0;s<=b;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<v;n++)r=e.heap[n],s=l[2*l[2*r+1]+1]+1,s>f&&(s=f,m++),l[2*r+1]=s,r>u||(e.bl_count[s]++,o=0,r>=d&&(o=p[r-d]),a=l[2*r],e.opt_len+=a*(s+o),h&&(e.static_len+=a*(c[2*r+1]+o)));if(0!==m){do{s=f-1;while(0===e.bl_count[s])s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[f]--,m-=2}while(m>0);for(s=f;0!==s;s--){r=e.bl_count[s];while(0!==r)i=e.heap[--n],i>u||(l[2*i+1]!==s&&(e.opt_len+=(s-l[2*i+1])*l[2*i],l[2*i+1]=s),r--)}}}function Y(e,t,n){var r,i,s=new Array(b+1),o=0;for(r=1;r<=b;r++)s[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=J(s[a]++,a))}}function K(){var e,t,n,r,i,s=new Array(b+1);for(n=0,r=0;r<f-1;r++)for(D[r]=n,e=0;e<1<<A[r];e++)R[n++]=r;for(R[n-1]=r,i=0,r=0;r<16;r++)for(F[r]=i,e=0;e<1<<P[r];e++)N[i++]=r;for(i>>=7;r<g;r++)for(F[r]=i<<7,e=0;e<1<<P[r]-7;e++)N[256+i++]=r;for(t=0;t<=b;t++)s[t]=0;e=0;while(e<=143)O[2*e+1]=8,e++,s[8]++;while(e<=255)O[2*e+1]=9,e++,s[9]++;while(e<=279)O[2*e+1]=7,e++,s[7]++;while(e<=287)O[2*e+1]=8,e++,s[8]++;for(Y(O,y+1,s),e=0;e<g;e++)k[2*e+1]=5,k[2*e]=J(e,5);B=new U(O,A,m+1,y,b),q=new U(k,P,0,g,b),z=new U(new Array(0),I,0,_,w)}function Q(e){var t;for(t=0;t<y;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<_;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*S]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function $(e){e.bi_valid>8?V(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ee(e,t,n,i){$(e),i&&(V(e,n),V(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function te(e,t,n,r){var i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]}function ne(e,t,n){var r=e.heap[n],i=n<<1;while(i<=e.heap_len){if(i<e.heap_len&&te(t,e.heap[i+1],e.heap[i],e.depth)&&i++,te(t,r,e.heap[i],e.depth))break;e.heap[n]=e.heap[i],n=i,i<<=1}e.heap[n]=r}function re(e,t,n){var r,i,s,o,a=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],i=e.pending_buf[e.l_buf+a],a++,0===r?H(e,i,t):(s=R[i],H(e,s+m+1,t),o=A[s],0!==o&&(i-=D[s],W(e,i,o)),r--,s=j(r),H(e,s,n),o=P[s],0!==o&&(r-=F[s],W(e,r,o)))}while(a<e.last_lit);H(e,S,t)}function ie(e,t){var n,r,i,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=v,n=0;n<l;n++)0!==s[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):s[2*n+1]=0;while(e.heap_len<2)i=e.heap[++e.heap_len]=u<2?++u:0,s[2*i]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=o[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)ne(e,s,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ne(e,s,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,s[2*i]=s[2*n]+s[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,s[2*n+1]=s[2*r+1]=i,e.heap[1]=i++,ne(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Z(e,t),Y(s,u,e.bl_count)}function se(e,t,n){var r,i,s=-1,o=t[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++a<l&&i===o||(a<u?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*C]++):a<=10?e.bl_tree[2*E]++:e.bl_tree[2*T]++,a=0,s=i,0===o?(l=138,u=3):i===o?(l=6,u=3):(l=7,u=4))}function oe(e,t,n){var r,i,s=-1,o=t[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++a<l&&i===o)){if(a<u)do{H(e,i,e.bl_tree)}while(0!==--a);else 0!==i?(i!==s&&(H(e,i,e.bl_tree),a--),H(e,C,e.bl_tree),W(e,a-3,2)):a<=10?(H(e,E,e.bl_tree),W(e,a-3,3)):(H(e,T,e.bl_tree),W(e,a-11,7));a=0,s=i,0===o?(l=138,u=3):i===o?(l=6,u=3):(l=7,u=4)}}function ae(e){var t;for(se(e,e.dyn_ltree,e.l_desc.max_code),se(e,e.dyn_dtree,e.d_desc.max_code),ie(e,e.bl_desc),t=_-1;t>=3;t--)if(0!==e.bl_tree[2*L[t]+1])break;return e.opt_len+=3*(t+1)+5+5+4,t}function le(e,t,n,r){var i;for(W(e,t-257,5),W(e,n-1,5),W(e,r-4,4),i=0;i<r;i++)W(e,e.bl_tree[2*L[i]+1],3);oe(e,e.dyn_ltree,t-1),oe(e,e.dyn_dtree,n-1)}function ue(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return s;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<m;t++)if(0!==e.dyn_ltree[2*t])return o;return s}var ce=!1;function he(e){ce||(K(),ce=!0),e.l_desc=new G(e.dyn_ltree,B),e.d_desc=new G(e.dyn_dtree,q),e.bl_desc=new G(e.bl_tree,z),e.bi_buf=0,e.bi_valid=0,Q(e)}function pe(e,t,n,r){W(e,(u<<1)+(r?1:0),3),ee(e,t,n,!0)}function de(e){W(e,c<<1,3),H(e,S,O),X(e)}function fe(e,t,n,r){var s,o,l=0;e.level>0?(e.strm.data_type===a&&(e.strm.data_type=ue(e)),ie(e,e.l_desc),ie(e,e.d_desc),l=ae(e),s=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=s&&(s=o)):s=o=n+5,n+4<=s&&-1!==t?pe(e,t,n,r):e.strategy===i||o===s?(W(e,(c<<1)+(r?1:0),3),re(e,O,k)):(W(e,(h<<1)+(r?1:0),3),le(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),re(e,e.dyn_ltree,e.dyn_dtree)),Q(e),r&&$(e)}function me(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(R[n]+m+1)]++,e.dyn_dtree[2*j(t)]++),e.last_lit===e.lit_bufsize-1}n._tr_init=he,n._tr_stored_block=pe,n._tr_flush_block=fe,n._tr_tally=me,n._tr_align=de},{"../utils/common":27}],39:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}]},{},[9])(9)}))}).call(this,n("b639").Buffer,n("c8ba"))},"15f3":function(e,t,n){var r=n("89d9"),i=n("8604");function s(e,t){return r(e,t,(function(t,n){return i(e,n)}))}e.exports=s},1693:function(e,t,n){var r=n("afb9"),i=n("9934");function s(e){return null==e?[]:r(e,i(e))}e.exports=s},1838:function(e,t,n){var r=n("c05f"),i=n("9b02"),s=n("8604"),o=n("f608"),a=n("08cc"),l=n("20ec"),u=n("f4d6"),c=1,h=2;function p(e,t){return o(e)&&a(t)?l(u(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?s(n,e):r(t,o,c|h)}}e.exports=p},"18d8":function(e,t,n){var r=n("234d"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(s,"$1"):n||e)})),t}));e.exports=o},"18f6":function(e,t,n){var r=n("30e0"),i=n("1304"),s=n("9934");function o(e,t){return null==e?e:r(e,i(t),s)}e.exports=o},"193b":function(e,t,n){var r=n("159a");function i(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:r(e,t,n,i)}e.exports=i},1985:function(e,t,n){(function(e,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(s){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r&&r;o.global!==o&&o.window!==o&&o.self;var a,l=2147483647,u=36,c=1,h=26,p=38,d=700,f=72,m=128,y="-",g=/^xn--/,_=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=u-c,w=Math.floor,S=String.fromCharCode;function C(e){throw new RangeError(b[e])}function E(e,t){var n=e.length,r=[];while(n--)r[n]=t(e[n]);return r}function T(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(v,".");var i=e.split("."),s=E(i,t).join(".");return r+s}function A(e){var t,n,r=[],i=0,s=e.length;while(i<s)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<s?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function P(e){return E(e,(function(e){var t="";return e>65535&&(e-=65536,t+=S(e>>>10&1023|55296),e=56320|1023&e),t+=S(e),t})).join("")}function I(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:u}function L(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function M(e,t,n){var r=0;for(e=n?w(e/d):e>>1,e+=w(e/t);e>x*h>>1;r+=u)e=w(e/x);return w(r+(x+1)*e/(e+p))}function O(e){var t,n,r,i,s,o,a,p,d,g,_=[],v=e.length,b=0,x=m,S=f;for(n=e.lastIndexOf(y),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&C("not-basic"),_.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(s=b,o=1,a=u;;a+=u){if(i>=v&&C("invalid-input"),p=I(e.charCodeAt(i++)),(p>=u||p>w((l-b)/o))&&C("overflow"),b+=p*o,d=a<=S?c:a>=S+h?h:a-S,p<d)break;g=u-d,o>w(l/g)&&C("overflow"),o*=g}t=_.length+1,S=M(b-s,t,0==s),w(b/t)>l-x&&C("overflow"),x+=w(b/t),b%=t,_.splice(b++,0,x)}return P(_)}function k(e){var t,n,r,i,s,o,a,p,d,g,_,v,b,x,E,T=[];for(e=A(e),v=e.length,t=m,n=0,s=f,o=0;o<v;++o)_=e[o],_<128&&T.push(S(_));r=i=T.length,i&&T.push(y);while(r<v){for(a=l,o=0;o<v;++o)_=e[o],_>=t&&_<a&&(a=_);for(b=r+1,a-t>w((l-n)/b)&&C("overflow"),n+=(a-t)*b,t=a,o=0;o<v;++o)if(_=e[o],_<t&&++n>l&&C("overflow"),_==t){for(p=n,d=u;;d+=u){if(g=d<=s?c:d>=s+h?h:d-s,p<g)break;E=p-g,x=u-g,T.push(S(L(g+E%x,0))),p=w(E/x)}T.push(S(L(p,0))),s=M(n,b,r==i),n=0,++r}++n,++t}return T.join("")}function N(e){return T(e,(function(e){return g.test(e)?O(e.slice(4).toLowerCase()):e}))}function R(e){return T(e,(function(e){return _.test(e)?"xn--"+k(e):e}))}a={version:"1.4.1",ucs2:{decode:A,encode:P},decode:O,encode:k,toASCII:R,toUnicode:N},i=function(){return a}.call(t,n,t,e),void 0===i||(e.exports=i)})()}).call(this,n("62e4")(e),n("c8ba"))},"1a2d":function(e,t,n){var r=n("42a2"),i=n("1310"),s="[object Map]";function o(e){return i(e)&&r(e)==s}e.exports=o},"1a8c":function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},"1b3e":function(e,t,n){var r=n("bbb4").makeFactoryWithModifier((function(e){return n("2ef0").merge(e,{params:{filterPath:{type:"list",name:"filter_path"}}})})),i=n("bbb4").namespaceFactory,s=e.exports={};s._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],s.bulk=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),s.cat=i(),s.cat.prototype.aliases=r({params:{format:{type:"string"},local:{type:"boolean"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),s.cat.prototype.allocation=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),s.cat.prototype.count=r({params:{format:{type:"string"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),s.cat.prototype.fielddata=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),s.cat.prototype.health=r({params:{format:{type:"string"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},time:{type:"enum",options:["d (Days)","h (Hours)","m (Minutes)","s (Seconds)","ms (Milliseconds)","micros (Microseconds)","nanos (Nanoseconds)"]},ts:{type:"boolean",default:!0},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/health"}}),s.cat.prototype.help=r({params:{help:{type:"boolean",default:!1},s:{type:"list"}},url:{fmt:"/_cat"}}),s.cat.prototype.indices=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum",default:null,options:["green","yellow","red"]},help:{type:"boolean",default:!1},pri:{type:"boolean",default:!1},s:{type:"list"},time:{type:"enum",options:["d (Days)","h (Hours)","m (Minutes)","s (Seconds)","ms (Milliseconds)","micros (Microseconds)","nanos (Nanoseconds)"]},v:{type:"boolean",default:!1},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),s.cat.prototype.master=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/master"}}),s.cat.prototype.nodeattrs=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodeattrs"}}),s.cat.prototype.nodes=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},time:{type:"enum",options:["d (Days)","h (Hours)","m (Minutes)","s (Seconds)","ms (Milliseconds)","micros (Microseconds)","nanos (Nanoseconds)"]},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodes"}}),s.cat.prototype.pendingTasks=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},time:{type:"enum",options:["d (Days)","h (Hours)","m (Minutes)","s (Seconds)","ms (Milliseconds)","micros (Microseconds)","nanos (Nanoseconds)"]},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/pending_tasks"}}),s.cat.prototype.plugins=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/plugins"}}),s.cat.prototype.recovery=r({params:{format:{type:"string"},activeOnly:{type:"boolean",default:!1,name:"active_only"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},detailed:{type:"boolean",default:!1},h:{type:"list"},help:{type:"boolean",default:!1},index:{type:"list"},s:{type:"list"},time:{type:"enum",options:["d (Days)","h (Hours)","m (Minutes)","s (Seconds)","ms (Milliseconds)","micros (Microseconds)","nanos (Nanoseconds)"]},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),s.cat.prototype.repositories=r({params:{format:{type:"string"},local:{type:"boolean",default:!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/repositories"}}),s.cat.prototype.segments=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),s.cat.prototype.shards=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},time:{type:"enum",options:["d (Days)","h (Hours)","m (Minutes)","s (Seconds)","ms (Milliseconds)","micros (Microseconds)","nanos (Nanoseconds)"]},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),s.cat.prototype.snapshots=r({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean",default:!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},time:{type:"enum",options:["d (Days)","h (Hours)","m (Minutes)","s (Seconds)","ms (Milliseconds)","micros (Microseconds)","nanos (Nanoseconds)"]},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),s.cat.prototype.tasks=r({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},time:{type:"enum",options:["d (Days)","h (Hours)","m (Minutes)","s (Seconds)","ms (Milliseconds)","micros (Microseconds)","nanos (Nanoseconds)"]},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/tasks"}}),s.cat.prototype.templates=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/templates/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_cat/templates"}]}),s.cat.prototype.threadPool=r({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),s.clearScroll=r({url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"DELETE"}),s.cluster=i(),s.cluster.prototype.allocationExplain=r({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),s.cluster.prototype.getSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),s.cluster.prototype.health=r({params:{expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},level:{type:"enum",default:"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForNoInitializingShards:{type:"boolean",name:"wait_for_no_initializing_shards"},waitForStatus:{type:"enum",default:null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),s.cluster.prototype.pendingTasks=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),s.cluster.prototype.putSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},needBody:!0,method:"PUT"}),s.cluster.prototype.remoteInfo=r({url:{fmt:"/_remote/info"}}),s.cluster.prototype.reroute=r({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),s.cluster.prototype.state=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},waitForMetadataVersion:{type:"number",name:"wait_for_metadata_version"},waitForTimeout:{type:"time",name:"wait_for_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),s.cluster.prototype.stats=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),s.count=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"list"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},terminateAfter:{type:"number",name:"terminate_after"}},urls:[{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),s.create=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/_create/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s["delete"]=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"DELETE"}),s.deleteByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}},needBody:!0,method:"POST"}),s.deleteByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_delete_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.deleteScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.exists=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.existsSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.explain=r({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},url:{fmt:"/<%=index%>/_explain/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"POST"}),s.fieldCaps=r({params:{fields:{type:"list"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},includeUnmapped:{type:"boolean",default:!1,name:"include_unmapped"}},urls:[{fmt:"/<%=index%>/_field_caps",req:{index:{type:"list"}}},{fmt:"/_field_caps"}],method:"POST"}),s.get=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.getScript=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}}),s.getSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.index=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum",default:"index",options:["index","create"],name:"op_type"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_doc",req:{index:{type:"string"}}}],needBody:!0,method:"POST"}),s.indices=i(),s.indices.prototype.analyze=r({params:{index:{type:"string"}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),s.indices.prototype.clearCache=r({params:{fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),s.indices.prototype.close=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.create=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),s.indices.prototype["delete"]=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteTemplate=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),s.indices.prototype.exists=r({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}}],method:"HEAD"}),s.indices.prototype.existsTemplate=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsType=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),s.indices.prototype.flush=r({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),s.indices.prototype.flushSynced=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),s.indices.prototype.forcemerge=r({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),s.indices.prototype.get=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}}}),s.indices.prototype.getAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),s.indices.prototype.getFieldMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),s.indices.prototype.getMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping"}]}),s.indices.prototype.getSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),s.indices.prototype.getTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),s.indices.prototype.getUpgrade=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),s.indices.prototype.open=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"closed",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.putAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),s.indices.prototype.putMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},needBody:!0,method:"PUT"}),s.indices.prototype.putSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),s.indices.prototype.putTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},order:{type:"number"},create:{type:"boolean",default:!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),s.indices.prototype.recovery=r({params:{detailed:{type:"boolean",default:!1},activeOnly:{type:"boolean",default:!1,name:"active_only"}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),s.indices.prototype.refresh=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),s.indices.prototype.rollover=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),s.indices.prototype.segments=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},verbose:{type:"boolean",default:!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),s.indices.prototype.shardStores=r({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),s.indices.prototype.shrink=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.split=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_split/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},level:{type:"enum",default:"indices",options:["cluster","indices","shards"]},types:{type:"list"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},forbidClosedIndices:{type:"boolean",default:!0,name:"forbid_closed_indices"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),s.indices.prototype.updateAliases=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),s.indices.prototype.upgrade=r({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),s.indices.prototype.validateQuery=r({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},rewrite:{type:"boolean"},allShards:{type:"boolean",name:"all_shards"}},urls:[{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),s.info=r({url:{fmt:"/"}}),s.ingest=i(),s.ingest.prototype.deletePipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.ingest.prototype.getPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),s.ingest.prototype.processorGrok=r({url:{fmt:"/_ingest/processor/grok"}}),s.ingest.prototype.putPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),s.ingest.prototype.simulate=r({params:{verbose:{type:"boolean",default:!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),s.mget=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},urls:[{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),s.msearch=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},typedKeys:{type:"boolean",name:"typed_keys"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),s.msearchTemplate=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},typedKeys:{type:"boolean",name:"typed_keys"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),s.mtermvectors=r({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),s.nodes=i(),s.nodes.prototype.hotThreads=r({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},url:{}}),s.nodes.prototype.info=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),s.nodes.prototype.reloadSecureSettings=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/reload_secure_settings",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/reload_secure_settings"}],method:"POST"}),s.nodes.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},level:{type:"enum",default:"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),s.nodes.prototype.usage=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/usage/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/<%=nodeId%>/usage",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/usage/<%=metric%>",req:{metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/usage"}]}),s.ping=r({url:{fmt:"/"},method:"HEAD"}),s.putScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},context:{type:"string"}},urls:[{fmt:"/_scripts/<%=id%>/<%=context%>",req:{id:{type:"string"},context:{type:"string"}}},{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}],needBody:!0,method:"PUT"}),s.rankEval=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_rank_eval",req:{index:{type:"list"}}},{fmt:"/_rank_eval"}],needBody:!0,method:"POST"}),s.reindex=r({params:{refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},scroll:{type:"time",default:"5m"},slices:{type:"number",default:1},maxDocs:{type:"number",name:"max_docs"}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),s.reindexRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.renderSearchTemplate=r({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),s.scriptsPainlessExecute=r({url:{fmt:"/_scripts/painless/_execute"},method:"POST"}),s.scroll=r({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"POST"}),s.search=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum",default:"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},trackTotalHits:{type:"boolean",name:"track_total_hits"},allowPartialSearchResults:{type:"boolean",default:!0,name:"allow_partial_search_results"},typedKeys:{type:"boolean",name:"typed_keys"},version:{type:"boolean"},seqNoPrimaryTerm:{type:"boolean",name:"seq_no_primary_term"},requestCache:{type:"boolean",name:"request_cache"},batchedReduceSize:{type:"number",default:512,name:"batched_reduce_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},urls:[{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),s.searchShards=r({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),s.searchTemplate=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},explain:{type:"boolean"},profile:{type:"boolean"},typedKeys:{type:"boolean",name:"typed_keys"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],needBody:!0,method:"POST"}),s.snapshot=i(),s.snapshot.prototype.create=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.createRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),s.snapshot.prototype["delete"]=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),s.snapshot.prototype.deleteRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),s.snapshot.prototype.get=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},verbose:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),s.snapshot.prototype.getRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),s.snapshot.prototype.restore=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.status=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),s.snapshot.prototype.verifyRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),s.tasks=i(),s.tasks.prototype.cancel=r({params:{nodes:{type:"list"},actions:{type:"list"},parentTaskId:{type:"string",name:"parent_task_id"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),s.tasks.prototype.get=r({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"},timeout:{type:"time"}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),s.tasks.prototype.list=r({params:{nodes:{type:"list"},actions:{type:"list"},detailed:{type:"boolean"},parentTaskId:{type:"string",name:"parent_task_id"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum",default:"nodes",options:["nodes","parents","none"],name:"group_by"},timeout:{type:"time"}},url:{fmt:"/_tasks"}}),s.termvectors=r({params:{termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_termvectors/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_termvectors",req:{index:{type:"string"}}}],method:"POST"}),s.update=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},lang:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"}},url:{fmt:"/<%=index%>/_update/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s.updateByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}},method:"POST"}),s.updateByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_update_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"})},"1bac":function(e,t,n){var r=n("7d1f"),i=n("a029"),s=n("9934");function o(e){return r(e,s,i)}e.exports=o},"1c3c":function(e,t,n){var r=n("9e69"),i=n("2474"),s=n("9638"),o=n("a2be"),a=n("edfa"),l=n("ac41"),u=1,c=2,h="[object Boolean]",p="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",y="[object RegExp]",g="[object Set]",_="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",w=r?r.prototype:void 0,S=w?w.valueOf:void 0;function C(e,t,n,r,w,C,E){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!C(new i(e),new i(t)));case h:case p:case m:return s(+e,+t);case d:return e.name==t.name&&e.message==t.message;case y:case _:return e==t+"";case f:var T=a;case g:var A=r&u;if(T||(T=l),e.size!=t.size&&!A)return!1;var P=E.get(e);if(P)return P==t;r|=c,E.set(e,t);var I=o(T(e),T(t),r,w,C,E);return E["delete"](e),I;case v:if(S)return S.call(e)==S.call(t)}return!1}e.exports=C},"1cec":function(e,t,n){var r=n("0b07"),i=n("2b3e"),s=r(i,"Promise");e.exports=s},"1d41":function(e,t,n){var r=n("bbb4").makeFactoryWithModifier((function(e){return n("2ef0").merge(e,{params:{filterPath:{type:"list",name:"filter_path"}}})})),i=n("bbb4").namespaceFactory,s=e.exports={};s._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],s.bulk=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),s.cat=i(),s.cat.prototype.aliases=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),s.cat.prototype.allocation=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),s.cat.prototype.count=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),s.cat.prototype.fielddata=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),s.cat.prototype.health=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},ts:{type:"boolean",default:!0},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/health"}}),s.cat.prototype.help=r({params:{help:{type:"boolean",default:!1},s:{type:"list"}},url:{fmt:"/_cat"}}),s.cat.prototype.indices=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum",default:null,options:["green","yellow","red"]},help:{type:"boolean",default:!1},pri:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),s.cat.prototype.master=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/master"}}),s.cat.prototype.nodeattrs=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodeattrs"}}),s.cat.prototype.nodes=r({params:{format:{type:"string"},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodes"}}),s.cat.prototype.pendingTasks=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/pending_tasks"}}),s.cat.prototype.plugins=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/plugins"}}),s.cat.prototype.recovery=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),s.cat.prototype.repositories=r({params:{format:{type:"string"},local:{type:"boolean",default:!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/repositories"}}),s.cat.prototype.segments=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),s.cat.prototype.shards=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),s.cat.prototype.snapshots=r({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean",default:!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),s.cat.prototype.tasks=r({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/tasks"}}),s.cat.prototype.templates=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/templates/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_cat/templates"}]}),s.cat.prototype.threadPool=r({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),s.clearScroll=r({url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"DELETE"}),s.cluster=i(),s.cluster.prototype.allocationExplain=r({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),s.cluster.prototype.getSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),s.cluster.prototype.health=r({params:{expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},level:{type:"enum",default:"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForNoInitializingShards:{type:"boolean",name:"wait_for_no_initializing_shards"},waitForStatus:{type:"enum",default:null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),s.cluster.prototype.pendingTasks=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),s.cluster.prototype.putSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},needBody:!0,method:"PUT"}),s.cluster.prototype.remoteInfo=r({url:{fmt:"/_remote/info"}}),s.cluster.prototype.reroute=r({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),s.cluster.prototype.state=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},waitForMetadataVersion:{type:"number",name:"wait_for_metadata_version"},waitForTimeout:{type:"time",name:"wait_for_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),s.cluster.prototype.stats=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),s.count=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"list"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},terminateAfter:{type:"number",name:"terminate_after"}},urls:[{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),s.create=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/_create/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s["delete"]=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"DELETE"}),s.deleteByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}},needBody:!0,method:"POST"}),s.deleteByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_delete_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.deleteScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.exists=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.existsSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.explain=r({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},url:{fmt:"/<%=index%>/_explain/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"POST"}),s.fieldCaps=r({params:{fields:{type:"list"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},includeUnmapped:{type:"boolean",default:!1,name:"include_unmapped"}},urls:[{fmt:"/<%=index%>/_field_caps",req:{index:{type:"list"}}},{fmt:"/_field_caps"}],method:"POST"}),s.get=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.getScript=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}}),s.getSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.index=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum",default:"index",options:["index","create"],name:"op_type"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_doc",req:{index:{type:"string"}}}],needBody:!0,method:"POST"}),s.indices=i(),s.indices.prototype.analyze=r({params:{index:{type:"string"}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),s.indices.prototype.clearCache=r({params:{fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),s.indices.prototype.clone=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_clone/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.close=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.create=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),s.indices.prototype["delete"]=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteTemplate=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),s.indices.prototype.exists=r({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}}],method:"HEAD"}),s.indices.prototype.existsTemplate=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsType=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),s.indices.prototype.flush=r({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),s.indices.prototype.flushSynced=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),s.indices.prototype.forcemerge=r({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),s.indices.prototype.get=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}}}),s.indices.prototype.getAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),s.indices.prototype.getFieldMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),s.indices.prototype.getMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping"}]}),s.indices.prototype.getSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),s.indices.prototype.getTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),s.indices.prototype.getUpgrade=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),s.indices.prototype.open=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"closed",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.putAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),s.indices.prototype.putMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},needBody:!0,method:"PUT"}),s.indices.prototype.putSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),s.indices.prototype.putTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},order:{type:"number"},create:{type:"boolean",default:!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),s.indices.prototype.recovery=r({params:{detailed:{type:"boolean",default:!1},activeOnly:{type:"boolean",default:!1,name:"active_only"}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),s.indices.prototype.refresh=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),s.indices.prototype.rollover=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),s.indices.prototype.segments=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},verbose:{type:"boolean",default:!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),s.indices.prototype.shardStores=r({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),s.indices.prototype.shrink=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.split=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_split/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},level:{type:"enum",default:"indices",options:["cluster","indices","shards"]},types:{type:"list"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},forbidClosedIndices:{type:"boolean",default:!0,name:"forbid_closed_indices"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),s.indices.prototype.updateAliases=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),s.indices.prototype.upgrade=r({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),s.indices.prototype.validateQuery=r({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},rewrite:{type:"boolean"},allShards:{type:"boolean",name:"all_shards"}},urls:[{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),s.info=r({url:{fmt:"/"}}),s.ingest=i(),s.ingest.prototype.deletePipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.ingest.prototype.getPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),s.ingest.prototype.processorGrok=r({url:{fmt:"/_ingest/processor/grok"}}),s.ingest.prototype.putPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),s.ingest.prototype.simulate=r({params:{verbose:{type:"boolean",default:!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),s.mget=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},urls:[{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),s.msearch=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},typedKeys:{type:"boolean",name:"typed_keys"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),s.msearchTemplate=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},typedKeys:{type:"boolean",name:"typed_keys"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),s.mtermvectors=r({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),s.nodes=i(),s.nodes.prototype.hotThreads=r({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},url:{}}),s.nodes.prototype.info=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),s.nodes.prototype.reloadSecureSettings=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/reload_secure_settings",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/reload_secure_settings"}],method:"POST"}),s.nodes.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},level:{type:"enum",default:"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),s.nodes.prototype.usage=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/usage/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/<%=nodeId%>/usage",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/usage/<%=metric%>",req:{metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/usage"}]}),s.ping=r({url:{fmt:"/"},method:"HEAD"}),s.putScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},context:{type:"string"}},urls:[{fmt:"/_scripts/<%=id%>/<%=context%>",req:{id:{type:"string"},context:{type:"string"}}},{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}],needBody:!0,method:"PUT"}),s.rankEval=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_rank_eval",req:{index:{type:"list"}}},{fmt:"/_rank_eval"}],needBody:!0,method:"POST"}),s.reindex=r({params:{refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},scroll:{type:"time",default:"5m"},slices:{type:"number",default:1},maxDocs:{type:"number",name:"max_docs"}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),s.reindexRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.renderSearchTemplate=r({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),s.scriptsPainlessExecute=r({url:{fmt:"/_scripts/painless/_execute"},method:"POST"}),s.scroll=r({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"POST"}),s.search=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum",default:"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},trackTotalHits:{type:"boolean",name:"track_total_hits"},allowPartialSearchResults:{type:"boolean",default:!0,name:"allow_partial_search_results"},typedKeys:{type:"boolean",name:"typed_keys"},version:{type:"boolean"},seqNoPrimaryTerm:{type:"boolean",name:"seq_no_primary_term"},requestCache:{type:"boolean",name:"request_cache"},batchedReduceSize:{type:"number",default:512,name:"batched_reduce_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},urls:[{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),s.searchShards=r({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),s.searchTemplate=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},explain:{type:"boolean"},profile:{type:"boolean"},typedKeys:{type:"boolean",name:"typed_keys"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],needBody:!0,method:"POST"}),s.snapshot=i(),s.snapshot.prototype.create=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.createRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),s.snapshot.prototype["delete"]=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),s.snapshot.prototype.deleteRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),s.snapshot.prototype.get=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},verbose:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),s.snapshot.prototype.getRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),s.snapshot.prototype.restore=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.status=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),s.snapshot.prototype.verifyRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),s.tasks=i(),s.tasks.prototype.cancel=r({params:{nodes:{type:"list"},actions:{type:"list"},parentTaskId:{type:"string",name:"parent_task_id"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),s.tasks.prototype.get=r({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"},timeout:{type:"time"}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),s.tasks.prototype.list=r({params:{nodes:{type:"list"},actions:{type:"list"},detailed:{type:"boolean"},parentTaskId:{type:"string",name:"parent_task_id"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum",default:"nodes",options:["nodes","parents","none"],name:"group_by"},timeout:{type:"time"}},url:{fmt:"/_tasks"}}),s.termvectors=r({params:{termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_termvectors/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_termvectors",req:{index:{type:"string"}}}],method:"POST"}),s.update=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},lang:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"}},url:{fmt:"/<%=index%>/_update/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s.updateByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}},method:"POST"}),s.updateByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_update_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"})},"1dfc":function(e,t,n){"use strict";var r=n("c674");function i(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(s,this,t)}function s(e,t,n){1==e?t.id=n.readVarint():2==e?o(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function o(e,t){var n=e.readVarint()+e.pos;while(e.pos<n){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}function a(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],s=0;s<t;s++){var o=l(e[s]);0!==o&&(void 0===r&&(r=o<0),r===o<0?(n&&i.push(n),n=[e[s]]):n.push(e[s]))}return n&&i.push(n),i}function l(e){for(var t,n,r=0,i=0,s=e.length,o=s-1;i<s;o=i++)t=e[i],n=e[o],r+=(n.x-t.x)*(t.y+n.y);return r}e.exports=i,i.types=["Unknown","Point","LineString","Polygon"],i.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;var t,n=e.readVarint()+e.pos,i=1,s=0,o=0,a=0,l=[];while(e.pos<n){if(s<=0){var u=e.readVarint();i=7&u,s=u>>3}if(s--,1===i||2===i)o+=e.readSVarint(),a+=e.readSVarint(),1===i&&(t&&l.push(t),t=[]),t.push(new r(o,a));else{if(7!==i)throw new Error("unknown command "+i);t&&t.push(t[0].clone())}}return t&&l.push(t),l},i.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;var t=e.readVarint()+e.pos,n=1,r=0,i=0,s=0,o=1/0,a=-1/0,l=1/0,u=-1/0;while(e.pos<t){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)i+=e.readSVarint(),s+=e.readSVarint(),i<o&&(o=i),i>a&&(a=i),s<l&&(l=s),s>u&&(u=s);else if(7!==n)throw new Error("unknown command "+n)}return[o,l,a,u]},i.prototype.toGeoJSON=function(e,t,n){var r,s,o=this.extent*Math.pow(2,n),l=this.extent*e,u=this.extent*t,c=this.loadGeometry(),h=i.types[this.type];function p(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+u)/o;e[t]=[360*(n.x+l)/o-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(r=0;r<c.length;r++)d[r]=c[r][0];c=d,p(c);break;case 2:for(r=0;r<c.length;r++)p(c[r]);break;case 3:for(c=a(c),r=0;r<c.length;r++)for(s=0;s<c[r].length;s++)p(c[r][s]);break}1===c.length?c=c[0]:h="Multi"+h;var f={type:"Feature",geometry:{type:h,coordinates:c},properties:this.properties};return"id"in this&&(f.id=this.id),f}},"1efc":function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},"1fb5c":function(e,t,n){"use strict";t.byteLength=c,t.toByteArray=p,t.fromByteArray=m;for(var r=[],i=[],s="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function c(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function h(e,t,n){return 3*(t+n)/4-n}function p(e){var t,n,r=u(e),o=r[0],a=r[1],l=new s(h(e,o,a)),c=0,p=a>0?o-4:o;for(n=0;n<p;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l}function d(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function f(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(d(r));return i.join("")}function m(e){for(var t,n=e.length,i=n%3,s=[],o=16383,a=0,l=n-i;a<l;a+=o)s.push(f(e,a,a+o>l?l:a+o));return 1===i?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"1fc8":function(e,t,n){var r=n("4245");function i(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}e.exports=i},2:function(e,t){},2035:function(e,t,n){(function(t){e.exports=o;var r=n("2ef0"),i=n("9eab"),s=n("7d33");function o(e){e=e||{},i.makeBoundMethods(this),e.log?this.log=e.log:(this.log=new s,e.log=this.log),this._config=e,this.selector=i.funcEnum(e,"selector",o.selectors,o.defaultSelector),this.Connection=i.funcEnum(e,"connectionClass",o.connectionClasses,o.defaultConnectionClass),this.deadTimeout=e.hasOwnProperty("deadTimeout")?e.deadTimeout:6e4,this.maxDeadTimeout=e.hasOwnProperty("maxDeadTimeout")?e.maxDeadTimeout:18e5,this.calcDeadTimeout=i.funcEnum(e,"calcDeadTimeout",o.calcDeadTimeoutOptions,"exponential"),this.index={},this._conns={alive:[],dead:[]},this._timeouts=[]}o.selectors=n("4c87"),o.defaultSelector="roundRobin",o.connectionClasses=n("ff05"),o.defaultConnectionClass=o.connectionClasses._default,delete o.connectionClasses._default,o.calcDeadTimeoutOptions={flat:function(e,t){return t},exponential:function(e,t){return Math.min(2*t*Math.pow(2,.5*e-1),this.maxDeadTimeout)}},o.prototype.select=function(e){if(this._conns.alive.length)if(this.selector.length>1)this.selector(this._conns.alive,e);else try{i.nextTick(e,void 0,this.selector(this._conns.alive))}catch(t){e(t)}else this._timeouts.length?this._selectDeadConnection(e):i.nextTick(e,void 0)},o.prototype.onStatusSet=i.handler((function(e,t,n){var i,s="dead"===e,o=s&&"dead"===t,a=!s&&"dead"===t,l=t===e,u=this._conns[t],c=this._conns[e];if(l&&!s)return!0;u!==c&&(r.isArray(u)&&(i=u.indexOf(n),-1!==i&&u.splice(i,1)),r.isArray(c)&&(i=c.indexOf(n),-1===i&&c.push(n))),s&&this._onConnectionDied(n,o),a&&this._onConnectionRevived(n)})),o.prototype._onConnectionRevived=function(e){for(var t,n=0;n<this._timeouts.length;n++)if(this._timeouts[n].conn===e){t=this._timeouts[n],t.id&&clearTimeout(t.id),this._timeouts.splice(n,1);break}},o.prototype._onConnectionDied=function(e,t){var n;if(t){for(var r=0;r<this._timeouts.length;r++)if(this._timeouts[r].conn===e){n=this._timeouts[r];break}}else n={conn:e,attempt:0,revive:function(t){n.attempt++,e.ping((function(n){e.setStatus(n?"dead":"alive"),t&&"function"===typeof t&&t(n)}))}},this._timeouts.push(n);n.id&&clearTimeout(n.id);var s=this.calcDeadTimeout(n.attempt,this.deadTimeout);n.id=setTimeout(n.revive,s),n.runAt=i.now()+s},o.prototype._selectDeadConnection=function(e){var n=r.sortBy(this._timeouts,"runAt"),i=this.log;t.nextTick((function r(){var s=n.shift();s?s.conn?"dead"===s.conn.status?s.revive((function(n){n?(i.warning("Unable to revive connection: "+s.conn.id),t.nextTick(r)):e(void 0,s.conn)})):e(void 0,s.conn):r():e(void 0)}))},o.prototype.getConnections=function(e,t){var n;return n=e?this._conns[e]:this._conns[this._conns.alive.length?"alive":"dead"],null==t?n.slice(0):r.shuffle(n).slice(0,t)},o.prototype.addConnection=function(e){e.id||(e.id=e.host.toString()),this.index[e.id]||(this.log.info("Adding connection to",e.id),this.index[e.id]=e,e.on("status set",this.bound.onStatusSet),e.setStatus("alive"))},o.prototype.removeConnection=function(e){e.id||(e.id=e.host.toString()),this.index[e.id]&&(delete this.index[e.id],e.setStatus("closed"),e.removeListener("status set",this.bound.onStatusSet))},o.prototype.setHosts=function(e){var t,n,i,s,o=r.clone(this.index);for(n=0;n<e.length;n++)s=e[n],i=s.toString(),this.index[i]?delete o[i]:(t=new this.Connection(s,this._config),t.id=i,this.addConnection(t));var a=r.keys(o);for(n=0;n<a.length;n++)this.removeConnection(this.index[a[n]])},o.prototype.getAllHosts=function(){return r.values(this.index).map((function(e){return e.host}))},o.prototype.close=function(){this.setHosts([])},o.prototype.empty=o.prototype.close}).call(this,n("4362"))},"20ec":function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},2244:function(e,t,n){(function(t){var n={version:"1.14.0"};n[437]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[620]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[737]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[850]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[852]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[857]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[861]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[865]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[866]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[874]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[895]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[932]=function(){var e,t=[],n={},r=[];for(r[0]="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".split(""),e=0;e!=r[0].length;++e)65533!==r[0][e].charCodeAt(0)&&(n[r[0][e]]=0+e,t[0+e]=r[0][e]);for(r[129]="".split(""),e=0;e!=r[129].length;++e)65533!==r[129][e].charCodeAt(0)&&(n[r[129][e]]=33024+e,t[33024+e]=r[129][e]);for(r[130]="".split(""),e=0;e!=r[130].length;++e)65533!==r[130][e].charCodeAt(0)&&(n[r[130][e]]=33280+e,t[33280+e]=r[130][e]);for(r[131]="".split(""),e=0;e!=r[131].length;++e)65533!==r[131][e].charCodeAt(0)&&(n[r[131][e]]=33536+e,t[33536+e]=r[131][e]);for(r[132]="".split(""),e=0;e!=r[132].length;++e)65533!==r[132][e].charCodeAt(0)&&(n[r[132][e]]=33792+e,t[33792+e]=r[132][e]);for(r[135]="".split(""),e=0;e!=r[135].length;++e)65533!==r[135][e].charCodeAt(0)&&(n[r[135][e]]=34560+e,t[34560+e]=r[135][e]);for(r[136]="".split(""),e=0;e!=r[136].length;++e)65533!==r[136][e].charCodeAt(0)&&(n[r[136][e]]=34816+e,t[34816+e]=r[136][e]);for(r[137]="".split(""),e=0;e!=r[137].length;++e)65533!==r[137][e].charCodeAt(0)&&(n[r[137][e]]=35072+e,t[35072+e]=r[137][e]);for(r[138]="".split(""),e=0;e!=r[138].length;++e)65533!==r[138][e].charCodeAt(0)&&(n[r[138][e]]=35328+e,t[35328+e]=r[138][e]);for(r[139]="".split(""),e=0;e!=r[139].length;++e)65533!==r[139][e].charCodeAt(0)&&(n[r[139][e]]=35584+e,t[35584+e]=r[139][e]);for(r[140]="".split(""),e=0;e!=r[140].length;++e)65533!==r[140][e].charCodeAt(0)&&(n[r[140][e]]=35840+e,t[35840+e]=r[140][e]);for(r[141]="".split(""),e=0;e!=r[141].length;++e)65533!==r[141][e].charCodeAt(0)&&(n[r[141][e]]=36096+e,t[36096+e]=r[141][e]);for(r[142]="".split(""),e=0;e!=r[142].length;++e)65533!==r[142][e].charCodeAt(0)&&(n[r[142][e]]=36352+e,t[36352+e]=r[142][e]);for(r[143]="".split(""),e=0;e!=r[143].length;++e)65533!==r[143][e].charCodeAt(0)&&(n[r[143][e]]=36608+e,t[36608+e]=r[143][e]);for(r[144]="".split(""),e=0;e!=r[144].length;++e)65533!==r[144][e].charCodeAt(0)&&(n[r[144][e]]=36864+e,t[36864+e]=r[144][e]);for(r[145]="".split(""),e=0;e!=r[145].length;++e)65533!==r[145][e].charCodeAt(0)&&(n[r[145][e]]=37120+e,t[37120+e]=r[145][e]);for(r[146]="".split(""),e=0;e!=r[146].length;++e)65533!==r[146][e].charCodeAt(0)&&(n[r[146][e]]=37376+e,t[37376+e]=r[146][e]);for(r[147]="".split(""),e=0;e!=r[147].length;++e)65533!==r[147][e].charCodeAt(0)&&(n[r[147][e]]=37632+e,t[37632+e]=r[147][e]);for(r[148]="".split(""),e=0;e!=r[148].length;++e)65533!==r[148][e].charCodeAt(0)&&(n[r[148][e]]=37888+e,t[37888+e]=r[148][e]);for(r[149]="".split(""),e=0;e!=r[149].length;++e)65533!==r[149][e].charCodeAt(0)&&(n[r[149][e]]=38144+e,t[38144+e]=r[149][e]);for(r[150]="".split(""),e=0;e!=r[150].length;++e)65533!==r[150][e].charCodeAt(0)&&(n[r[150][e]]=38400+e,t[38400+e]=r[150][e]);for(r[151]="".split(""),e=0;e!=r[151].length;++e)65533!==r[151][e].charCodeAt(0)&&(n[r[151][e]]=38656+e,t[38656+e]=r[151][e]);for(r[152]="".split(""),e=0;e!=r[152].length;++e)65533!==r[152][e].charCodeAt(0)&&(n[r[152][e]]=38912+e,t[38912+e]=r[152][e]);for(r[153]="".split(""),e=0;e!=r[153].length;++e)65533!==r[153][e].charCodeAt(0)&&(n[r[153][e]]=39168+e,t[39168+e]=r[153][e]);for(r[154]="".split(""),e=0;e!=r[154].length;++e)65533!==r[154][e].charCodeAt(0)&&(n[r[154][e]]=39424+e,t[39424+e]=r[154][e]);for(r[155]="".split(""),e=0;e!=r[155].length;++e)65533!==r[155][e].charCodeAt(0)&&(n[r[155][e]]=39680+e,t[39680+e]=r[155][e]);for(r[156]="".split(""),e=0;e!=r[156].length;++e)65533!==r[156][e].charCodeAt(0)&&(n[r[156][e]]=39936+e,t[39936+e]=r[156][e]);for(r[157]="".split(""),e=0;e!=r[157].length;++e)65533!==r[157][e].charCodeAt(0)&&(n[r[157][e]]=40192+e,t[40192+e]=r[157][e]);for(r[158]="".split(""),e=0;e!=r[158].length;++e)65533!==r[158][e].charCodeAt(0)&&(n[r[158][e]]=40448+e,t[40448+e]=r[158][e]);for(r[159]="".split(""),e=0;e!=r[159].length;++e)65533!==r[159][e].charCodeAt(0)&&(n[r[159][e]]=40704+e,t[40704+e]=r[159][e]);for(r[224]="".split(""),e=0;e!=r[224].length;++e)65533!==r[224][e].charCodeAt(0)&&(n[r[224][e]]=57344+e,t[57344+e]=r[224][e]);for(r[225]="".split(""),e=0;e!=r[225].length;++e)65533!==r[225][e].charCodeAt(0)&&(n[r[225][e]]=57600+e,t[57600+e]=r[225][e]);for(r[226]="".split(""),e=0;e!=r[226].length;++e)65533!==r[226][e].charCodeAt(0)&&(n[r[226][e]]=57856+e,t[57856+e]=r[226][e]);for(r[227]="".split(""),e=0;e!=r[227].length;++e)65533!==r[227][e].charCodeAt(0)&&(n[r[227][e]]=58112+e,t[58112+e]=r[227][e]);for(r[228]="".split(""),e=0;e!=r[228].length;++e)65533!==r[228][e].charCodeAt(0)&&(n[r[228][e]]=58368+e,t[58368+e]=r[228][e]);for(r[229]="".split(""),e=0;e!=r[229].length;++e)65533!==r[229][e].charCodeAt(0)&&(n[r[229][e]]=58624+e,t[58624+e]=r[229][e]);for(r[230]="".split(""),e=0;e!=r[230].length;++e)65533!==r[230][e].charCodeAt(0)&&(n[r[230][e]]=58880+e,t[58880+e]=r[230][e]);for(r[231]="".split(""),e=0;e!=r[231].length;++e)65533!==r[231][e].charCodeAt(0)&&(n[r[231][e]]=59136+e,t[59136+e]=r[231][e]);for(r[232]="".split(""),e=0;e!=r[232].length;++e)65533!==r[232][e].charCodeAt(0)&&(n[r[232][e]]=59392+e,t[59392+e]=r[232][e]);for(r[233]="".split(""),e=0;e!=r[233].length;++e)65533!==r[233][e].charCodeAt(0)&&(n[r[233][e]]=59648+e,t[59648+e]=r[233][e]);for(r[234]="".split(""),e=0;e!=r[234].length;++e)65533!==r[234][e].charCodeAt(0)&&(n[r[234][e]]=59904+e,t[59904+e]=r[234][e]);for(r[237]="".split(""),e=0;e!=r[237].length;++e)65533!==r[237][e].charCodeAt(0)&&(n[r[237][e]]=60672+e,t[60672+e]=r[237][e]);for(r[238]="".split(""),e=0;e!=r[238].length;++e)65533!==r[238][e].charCodeAt(0)&&(n[r[238][e]]=60928+e,t[60928+e]=r[238][e]);for(r[250]="".split(""),e=0;e!=r[250].length;++e)65533!==r[250][e].charCodeAt(0)&&(n[r[250][e]]=64e3+e,t[64e3+e]=r[250][e]);for(r[251]="".split(""),e=0;e!=r[251].length;++e)65533!==r[251][e].charCodeAt(0)&&(n[r[251][e]]=64256+e,t[64256+e]=r[251][e]);for(r[252]="".split(""),e=0;e!=r[252].length;++e)65533!==r[252][e].charCodeAt(0)&&(n[r[252][e]]=64512+e,t[64512+e]=r[252][e]);return{enc:n,dec:t}}(),n[936]=function(){var e,t=[],n={},r=[];for(r[0]="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".split(""),e=0;e!=r[0].length;++e)65533!==r[0][e].charCodeAt(0)&&(n[r[0][e]]=0+e,t[0+e]=r[0][e]);for(r[129]="".split(""),e=0;e!=r[129].length;++e)65533!==r[129][e].charCodeAt(0)&&(n[r[129][e]]=33024+e,t[33024+e]=r[129][e]);for(r[130]="".split(""),e=0;e!=r[130].length;++e)65533!==r[130][e].charCodeAt(0)&&(n[r[130][e]]=33280+e,t[33280+e]=r[130][e]);for(r[131]="".split(""),e=0;e!=r[131].length;++e)65533!==r[131][e].charCodeAt(0)&&(n[r[131][e]]=33536+e,t[33536+e]=r[131][e]);for(r[132]="".split(""),e=0;e!=r[132].length;++e)65533!==r[132][e].charCodeAt(0)&&(n[r[132][e]]=33792+e,t[33792+e]=r[132][e]);for(r[133]="".split(""),e=0;e!=r[133].length;++e)65533!==r[133][e].charCodeAt(0)&&(n[r[133][e]]=34048+e,t[34048+e]=r[133][e]);for(r[134]="".split(""),e=0;e!=r[134].length;++e)65533!==r[134][e].charCodeAt(0)&&(n[r[134][e]]=34304+e,t[34304+e]=r[134][e]);for(r[135]="".split(""),e=0;e!=r[135].length;++e)65533!==r[135][e].charCodeAt(0)&&(n[r[135][e]]=34560+e,t[34560+e]=r[135][e]);for(r[136]="".split(""),e=0;e!=r[136].length;++e)65533!==r[136][e].charCodeAt(0)&&(n[r[136][e]]=34816+e,t[34816+e]=r[136][e]);for(r[137]="".split(""),e=0;e!=r[137].length;++e)65533!==r[137][e].charCodeAt(0)&&(n[r[137][e]]=35072+e,t[35072+e]=r[137][e]);for(r[138]="".split(""),e=0;e!=r[138].length;++e)65533!==r[138][e].charCodeAt(0)&&(n[r[138][e]]=35328+e,t[35328+e]=r[138][e]);for(r[139]="".split(""),e=0;e!=r[139].length;++e)65533!==r[139][e].charCodeAt(0)&&(n[r[139][e]]=35584+e,t[35584+e]=r[139][e]);for(r[140]="".split(""),e=0;e!=r[140].length;++e)65533!==r[140][e].charCodeAt(0)&&(n[r[140][e]]=35840+e,t[35840+e]=r[140][e]);for(r[141]="".split(""),e=0;e!=r[141].length;++e)65533!==r[141][e].charCodeAt(0)&&(n[r[141][e]]=36096+e,t[36096+e]=r[141][e]);for(r[142]="".split(""),e=0;e!=r[142].length;++e)65533!==r[142][e].charCodeAt(0)&&(n[r[142][e]]=36352+e,t[36352+e]=r[142][e]);for(r[143]="".split(""),e=0;e!=r[143].length;++e)65533!==r[143][e].charCodeAt(0)&&(n[r[143][e]]=36608+e,t[36608+e]=r[143][e]);for(r[144]="".split(""),e=0;e!=r[144].length;++e)65533!==r[144][e].charCodeAt(0)&&(n[r[144][e]]=36864+e,t[36864+e]=r[144][e]);for(r[145]="".split(""),e=0;e!=r[145].length;++e)65533!==r[145][e].charCodeAt(0)&&(n[r[145][e]]=37120+e,t[37120+e]=r[145][e]);for(r[146]="".split(""),e=0;e!=r[146].length;++e)65533!==r[146][e].charCodeAt(0)&&(n[r[146][e]]=37376+e,t[37376+e]=r[146][e]);for(r[147]="".split(""),e=0;e!=r[147].length;++e)65533!==r[147][e].charCodeAt(0)&&(n[r[147][e]]=37632+e,t[37632+e]=r[147][e]);for(r[148]="".split(""),e=0;e!=r[148].length;++e)65533!==r[148][e].charCodeAt(0)&&(n[r[148][e]]=37888+e,t[37888+e]=r[148][e]);for(r[149]="".split(""),e=0;e!=r[149].length;++e)65533!==r[149][e].charCodeAt(0)&&(n[r[149][e]]=38144+e,t[38144+e]=r[149][e]);for(r[150]="".split(""),e=0;e!=r[150].length;++e)65533!==r[150][e].charCodeAt(0)&&(n[r[150][e]]=38400+e,t[38400+e]=r[150][e]);for(r[151]="".split(""),e=0;e!=r[151].length;++e)65533!==r[151][e].charCodeAt(0)&&(n[r[151][e]]=38656+e,t[38656+e]=r[151][e]);for(r[152]="".split(""),e=0;e!=r[152].length;++e)65533!==r[152][e].charCodeAt(0)&&(n[r[152][e]]=38912+e,t[38912+e]=r[152][e]);for(r[153]="".split(""),e=0;e!=r[153].length;++e)65533!==r[153][e].charCodeAt(0)&&(n[r[153][e]]=39168+e,t[39168+e]=r[153][e]);for(r[154]="".split(""),e=0;e!=r[154].length;++e)65533!==r[154][e].charCodeAt(0)&&(n[r[154][e]]=39424+e,t[39424+e]=r[154][e]);for(r[155]="".split(""),e=0;e!=r[155].length;++e)65533!==r[155][e].charCodeAt(0)&&(n[r[155][e]]=39680+e,t[39680+e]=r[155][e]);for(r[156]="".split(""),e=0;e!=r[156].length;++e)65533!==r[156][e].charCodeAt(0)&&(n[r[156][e]]=39936+e,t[39936+e]=r[156][e]);for(r[157]="".split(""),e=0;e!=r[157].length;++e)65533!==r[157][e].charCodeAt(0)&&(n[r[157][e]]=40192+e,t[40192+e]=r[157][e]);for(r[158]="".split(""),e=0;e!=r[158].length;++e)65533!==r[158][e].charCodeAt(0)&&(n[r[158][e]]=40448+e,t[40448+e]=r[158][e]);for(r[159]="".split(""),e=0;e!=r[159].length;++e)65533!==r[159][e].charCodeAt(0)&&(n[r[159][e]]=40704+e,t[40704+e]=r[159][e]);for(r[160]="".split(""),e=0;e!=r[160].length;++e)65533!==r[160][e].charCodeAt(0)&&(n[r[160][e]]=40960+e,t[40960+e]=r[160][e]);for(r[161]="".split(""),e=0;e!=r[161].length;++e)65533!==r[161][e].charCodeAt(0)&&(n[r[161][e]]=41216+e,t[41216+e]=r[161][e]);for(r[162]="".split(""),e=0;e!=r[162].length;++e)65533!==r[162][e].charCodeAt(0)&&(n[r[162][e]]=41472+e,t[41472+e]=r[162][e]);for(r[163]="".split(""),e=0;e!=r[163].length;++e)65533!==r[163][e].charCodeAt(0)&&(n[r[163][e]]=41728+e,t[41728+e]=r[163][e]);for(r[164]="".split(""),e=0;e!=r[164].length;++e)65533!==r[164][e].charCodeAt(0)&&(n[r[164][e]]=41984+e,t[41984+e]=r[164][e]);for(r[165]="".split(""),e=0;e!=r[165].length;++e)65533!==r[165][e].charCodeAt(0)&&(n[r[165][e]]=42240+e,t[42240+e]=r[165][e]);for(r[166]="".split(""),e=0;e!=r[166].length;++e)65533!==r[166][e].charCodeAt(0)&&(n[r[166][e]]=42496+e,t[42496+e]=r[166][e]);for(r[167]="".split(""),e=0;e!=r[167].length;++e)65533!==r[167][e].charCodeAt(0)&&(n[r[167][e]]=42752+e,t[42752+e]=r[167][e]);for(r[168]="".split(""),e=0;e!=r[168].length;++e)65533!==r[168][e].charCodeAt(0)&&(n[r[168][e]]=43008+e,t[43008+e]=r[168][e]);for(r[169]="".split(""),e=0;e!=r[169].length;++e)65533!==r[169][e].charCodeAt(0)&&(n[r[169][e]]=43264+e,t[43264+e]=r[169][e]);for(r[170]="".split(""),e=0;e!=r[170].length;++e)65533!==r[170][e].charCodeAt(0)&&(n[r[170][e]]=43520+e,t[43520+e]=r[170][e]);for(r[171]="".split(""),e=0;e!=r[171].length;++e)65533!==r[171][e].charCodeAt(0)&&(n[r[171][e]]=43776+e,t[43776+e]=r[171][e]);for(r[172]="".split(""),e=0;e!=r[172].length;++e)65533!==r[172][e].charCodeAt(0)&&(n[r[172][e]]=44032+e,t[44032+e]=r[172][e]);for(r[173]="".split(""),e=0;e!=r[173].length;++e)65533!==r[173][e].charCodeAt(0)&&(n[r[173][e]]=44288+e,t[44288+e]=r[173][e]);for(r[174]="".split(""),e=0;e!=r[174].length;++e)65533!==r[174][e].charCodeAt(0)&&(n[r[174][e]]=44544+e,t[44544+e]=r[174][e]);for(r[175]="".split(""),e=0;e!=r[175].length;++e)65533!==r[175][e].charCodeAt(0)&&(n[r[175][e]]=44800+e,t[44800+e]=r[175][e]);for(r[176]="".split(""),e=0;e!=r[176].length;++e)65533!==r[176][e].charCodeAt(0)&&(n[r[176][e]]=45056+e,t[45056+e]=r[176][e]);for(r[177]="".split(""),e=0;e!=r[177].length;++e)65533!==r[177][e].charCodeAt(0)&&(n[r[177][e]]=45312+e,t[45312+e]=r[177][e]);for(r[178]="".split(""),e=0;e!=r[178].length;++e)65533!==r[178][e].charCodeAt(0)&&(n[r[178][e]]=45568+e,t[45568+e]=r[178][e]);for(r[179]="".split(""),e=0;e!=r[179].length;++e)65533!==r[179][e].charCodeAt(0)&&(n[r[179][e]]=45824+e,t[45824+e]=r[179][e]);for(r[180]="".split(""),e=0;e!=r[180].length;++e)65533!==r[180][e].charCodeAt(0)&&(n[r[180][e]]=46080+e,t[46080+e]=r[180][e]);for(r[181]="".split(""),e=0;e!=r[181].length;++e)65533!==r[181][e].charCodeAt(0)&&(n[r[181][e]]=46336+e,t[46336+e]=r[181][e]);for(r[182]="".split(""),e=0;e!=r[182].length;++e)65533!==r[182][e].charCodeAt(0)&&(n[r[182][e]]=46592+e,t[46592+e]=r[182][e]);for(r[183]="".split(""),e=0;e!=r[183].length;++e)65533!==r[183][e].charCodeAt(0)&&(n[r[183][e]]=46848+e,t[46848+e]=r[183][e]);for(r[184]="".split(""),e=0;e!=r[184].length;++e)65533!==r[184][e].charCodeAt(0)&&(n[r[184][e]]=47104+e,t[47104+e]=r[184][e]);for(r[185]="".split(""),e=0;e!=r[185].length;++e)65533!==r[185][e].charCodeAt(0)&&(n[r[185][e]]=47360+e,t[47360+e]=r[185][e]);for(r[186]="".split(""),e=0;e!=r[186].length;++e)65533!==r[186][e].charCodeAt(0)&&(n[r[186][e]]=47616+e,t[47616+e]=r[186][e]);for(r[187]="".split(""),e=0;e!=r[187].length;++e)65533!==r[187][e].charCodeAt(0)&&(n[r[187][e]]=47872+e,t[47872+e]=r[187][e]);for(r[188]="".split(""),e=0;e!=r[188].length;++e)65533!==r[188][e].charCodeAt(0)&&(n[r[188][e]]=48128+e,t[48128+e]=r[188][e]);for(r[189]="".split(""),e=0;e!=r[189].length;++e)65533!==r[189][e].charCodeAt(0)&&(n[r[189][e]]=48384+e,t[48384+e]=r[189][e]);for(r[190]="".split(""),e=0;e!=r[190].length;++e)65533!==r[190][e].charCodeAt(0)&&(n[r[190][e]]=48640+e,t[48640+e]=r[190][e]);for(r[191]="".split(""),e=0;e!=r[191].length;++e)65533!==r[191][e].charCodeAt(0)&&(n[r[191][e]]=48896+e,t[48896+e]=r[191][e]);for(r[192]="".split(""),e=0;e!=r[192].length;++e)65533!==r[192][e].charCodeAt(0)&&(n[r[192][e]]=49152+e,t[49152+e]=r[192][e]);for(r[193]="".split(""),e=0;e!=r[193].length;++e)65533!==r[193][e].charCodeAt(0)&&(n[r[193][e]]=49408+e,t[49408+e]=r[193][e]);for(r[194]="".split(""),e=0;e!=r[194].length;++e)65533!==r[194][e].charCodeAt(0)&&(n[r[194][e]]=49664+e,t[49664+e]=r[194][e]);for(r[195]="".split(""),e=0;e!=r[195].length;++e)65533!==r[195][e].charCodeAt(0)&&(n[r[195][e]]=49920+e,t[49920+e]=r[195][e]);for(r[196]="".split(""),e=0;e!=r[196].length;++e)65533!==r[196][e].charCodeAt(0)&&(n[r[196][e]]=50176+e,t[50176+e]=r[196][e]);for(r[197]="".split(""),e=0;e!=r[197].length;++e)65533!==r[197][e].charCodeAt(0)&&(n[r[197][e]]=50432+e,t[50432+e]=r[197][e]);for(r[198]="".split(""),e=0;e!=r[198].length;++e)65533!==r[198][e].charCodeAt(0)&&(n[r[198][e]]=50688+e,t[50688+e]=r[198][e]);for(r[199]="".split(""),e=0;e!=r[199].length;++e)65533!==r[199][e].charCodeAt(0)&&(n[r[199][e]]=50944+e,t[50944+e]=r[199][e]);for(r[200]="".split(""),e=0;e!=r[200].length;++e)65533!==r[200][e].charCodeAt(0)&&(n[r[200][e]]=51200+e,t[51200+e]=r[200][e]);for(r[201]="".split(""),e=0;e!=r[201].length;++e)65533!==r[201][e].charCodeAt(0)&&(n[r[201][e]]=51456+e,t[51456+e]=r[201][e]);for(r[202]="".split(""),e=0;e!=r[202].length;++e)65533!==r[202][e].charCodeAt(0)&&(n[r[202][e]]=51712+e,t[51712+e]=r[202][e]);for(r[203]="".split(""),e=0;e!=r[203].length;++e)65533!==r[203][e].charCodeAt(0)&&(n[r[203][e]]=51968+e,t[51968+e]=r[203][e]);for(r[204]="".split(""),e=0;e!=r[204].length;++e)65533!==r[204][e].charCodeAt(0)&&(n[r[204][e]]=52224+e,t[52224+e]=r[204][e]);for(r[205]="".split(""),e=0;e!=r[205].length;++e)65533!==r[205][e].charCodeAt(0)&&(n[r[205][e]]=52480+e,t[52480+e]=r[205][e]);for(r[206]="".split(""),e=0;e!=r[206].length;++e)65533!==r[206][e].charCodeAt(0)&&(n[r[206][e]]=52736+e,t[52736+e]=r[206][e]);for(r[207]="".split(""),e=0;e!=r[207].length;++e)65533!==r[207][e].charCodeAt(0)&&(n[r[207][e]]=52992+e,t[52992+e]=r[207][e]);for(r[208]="".split(""),e=0;e!=r[208].length;++e)65533!==r[208][e].charCodeAt(0)&&(n[r[208][e]]=53248+e,t[53248+e]=r[208][e]);for(r[209]="".split(""),e=0;e!=r[209].length;++e)65533!==r[209][e].charCodeAt(0)&&(n[r[209][e]]=53504+e,t[53504+e]=r[209][e]);for(r[210]="".split(""),e=0;e!=r[210].length;++e)65533!==r[210][e].charCodeAt(0)&&(n[r[210][e]]=53760+e,t[53760+e]=r[210][e]);for(r[211]="".split(""),e=0;e!=r[211].length;++e)65533!==r[211][e].charCodeAt(0)&&(n[r[211][e]]=54016+e,t[54016+e]=r[211][e]);for(r[212]="".split(""),e=0;e!=r[212].length;++e)65533!==r[212][e].charCodeAt(0)&&(n[r[212][e]]=54272+e,t[54272+e]=r[212][e]);for(r[213]="".split(""),e=0;e!=r[213].length;++e)65533!==r[213][e].charCodeAt(0)&&(n[r[213][e]]=54528+e,t[54528+e]=r[213][e]);for(r[214]="".split(""),e=0;e!=r[214].length;++e)65533!==r[214][e].charCodeAt(0)&&(n[r[214][e]]=54784+e,t[54784+e]=r[214][e]);for(r[215]="".split(""),e=0;e!=r[215].length;++e)65533!==r[215][e].charCodeAt(0)&&(n[r[215][e]]=55040+e,t[55040+e]=r[215][e]);for(r[216]="".split(""),e=0;e!=r[216].length;++e)65533!==r[216][e].charCodeAt(0)&&(n[r[216][e]]=55296+e,t[55296+e]=r[216][e]);for(r[217]="".split(""),e=0;e!=r[217].length;++e)65533!==r[217][e].charCodeAt(0)&&(n[r[217][e]]=55552+e,t[55552+e]=r[217][e]);for(r[218]="".split(""),e=0;e!=r[218].length;++e)65533!==r[218][e].charCodeAt(0)&&(n[r[218][e]]=55808+e,t[55808+e]=r[218][e]);for(r[219]="".split(""),e=0;e!=r[219].length;++e)65533!==r[219][e].charCodeAt(0)&&(n[r[219][e]]=56064+e,t[56064+e]=r[219][e]);for(r[220]="".split(""),e=0;e!=r[220].length;++e)65533!==r[220][e].charCodeAt(0)&&(n[r[220][e]]=56320+e,t[56320+e]=r[220][e]);for(r[221]="".split(""),e=0;e!=r[221].length;++e)65533!==r[221][e].charCodeAt(0)&&(n[r[221][e]]=56576+e,t[56576+e]=r[221][e]);for(r[222]="".split(""),e=0;e!=r[222].length;++e)65533!==r[222][e].charCodeAt(0)&&(n[r[222][e]]=56832+e,t[56832+e]=r[222][e]);for(r[223]="".split(""),e=0;e!=r[223].length;++e)65533!==r[223][e].charCodeAt(0)&&(n[r[223][e]]=57088+e,t[57088+e]=r[223][e]);for(r[224]="".split(""),e=0;e!=r[224].length;++e)65533!==r[224][e].charCodeAt(0)&&(n[r[224][e]]=57344+e,t[57344+e]=r[224][e]);for(r[225]="".split(""),e=0;e!=r[225].length;++e)65533!==r[225][e].charCodeAt(0)&&(n[r[225][e]]=57600+e,t[57600+e]=r[225][e]);for(r[226]="".split(""),e=0;e!=r[226].length;++e)65533!==r[226][e].charCodeAt(0)&&(n[r[226][e]]=57856+e,t[57856+e]=r[226][e]);for(r[227]="".split(""),e=0;e!=r[227].length;++e)65533!==r[227][e].charCodeAt(0)&&(n[r[227][e]]=58112+e,t[58112+e]=r[227][e]);for(r[228]="".split(""),e=0;e!=r[228].length;++e)65533!==r[228][e].charCodeAt(0)&&(n[r[228][e]]=58368+e,t[58368+e]=r[228][e]);for(r[229]="".split(""),e=0;e!=r[229].length;++e)65533!==r[229][e].charCodeAt(0)&&(n[r[229][e]]=58624+e,t[58624+e]=r[229][e]);for(r[230]="".split(""),e=0;e!=r[230].length;++e)65533!==r[230][e].charCodeAt(0)&&(n[r[230][e]]=58880+e,t[58880+e]=r[230][e]);for(r[231]="".split(""),e=0;e!=r[231].length;++e)65533!==r[231][e].charCodeAt(0)&&(n[r[231][e]]=59136+e,t[59136+e]=r[231][e]);for(r[232]="".split(""),e=0;e!=r[232].length;++e)65533!==r[232][e].charCodeAt(0)&&(n[r[232][e]]=59392+e,t[59392+e]=r[232][e]);for(r[233]="".split(""),e=0;e!=r[233].length;++e)65533!==r[233][e].charCodeAt(0)&&(n[r[233][e]]=59648+e,t[59648+e]=r[233][e]);for(r[234]="".split(""),e=0;e!=r[234].length;++e)65533!==r[234][e].charCodeAt(0)&&(n[r[234][e]]=59904+e,t[59904+e]=r[234][e]);for(r[235]="".split(""),e=0;e!=r[235].length;++e)65533!==r[235][e].charCodeAt(0)&&(n[r[235][e]]=60160+e,t[60160+e]=r[235][e]);for(r[236]="".split(""),e=0;e!=r[236].length;++e)65533!==r[236][e].charCodeAt(0)&&(n[r[236][e]]=60416+e,t[60416+e]=r[236][e]);for(r[237]="".split(""),e=0;e!=r[237].length;++e)65533!==r[237][e].charCodeAt(0)&&(n[r[237][e]]=60672+e,t[60672+e]=r[237][e]);for(r[238]="".split(""),e=0;e!=r[238].length;++e)65533!==r[238][e].charCodeAt(0)&&(n[r[238][e]]=60928+e,t[60928+e]=r[238][e]);for(r[239]="".split(""),e=0;e!=r[239].length;++e)65533!==r[239][e].charCodeAt(0)&&(n[r[239][e]]=61184+e,t[61184+e]=r[239][e]);for(r[240]="".split(""),e=0;e!=r[240].length;++e)65533!==r[240][e].charCodeAt(0)&&(n[r[240][e]]=61440+e,t[61440+e]=r[240][e]);for(r[241]="".split(""),e=0;e!=r[241].length;++e)65533!==r[241][e].charCodeAt(0)&&(n[r[241][e]]=61696+e,t[61696+e]=r[241][e]);for(r[242]="".split(""),e=0;e!=r[242].length;++e)65533!==r[242][e].charCodeAt(0)&&(n[r[242][e]]=61952+e,t[61952+e]=r[242][e]);for(r[243]="".split(""),e=0;e!=r[243].length;++e)65533!==r[243][e].charCodeAt(0)&&(n[r[243][e]]=62208+e,t[62208+e]=r[243][e]);for(r[244]="".split(""),e=0;e!=r[244].length;++e)65533!==r[244][e].charCodeAt(0)&&(n[r[244][e]]=62464+e,t[62464+e]=r[244][e]);for(r[245]="".split(""),e=0;e!=r[245].length;++e)65533!==r[245][e].charCodeAt(0)&&(n[r[245][e]]=62720+e,t[62720+e]=r[245][e]);for(r[246]="".split(""),e=0;e!=r[246].length;++e)65533!==r[246][e].charCodeAt(0)&&(n[r[246][e]]=62976+e,t[62976+e]=r[246][e]);for(r[247]="".split(""),e=0;e!=r[247].length;++e)65533!==r[247][e].charCodeAt(0)&&(n[r[247][e]]=63232+e,t[63232+e]=r[247][e]);for(r[248]="".split(""),e=0;e!=r[248].length;++e)65533!==r[248][e].charCodeAt(0)&&(n[r[248][e]]=63488+e,t[63488+e]=r[248][e]);for(r[249]="".split(""),e=0;e!=r[249].length;++e)65533!==r[249][e].charCodeAt(0)&&(n[r[249][e]]=63744+e,t[63744+e]=r[249][e]);for(r[250]="".split(""),e=0;e!=r[250].length;++e)65533!==r[250][e].charCodeAt(0)&&(n[r[250][e]]=64e3+e,t[64e3+e]=r[250][e]);for(r[251]="".split(""),e=0;e!=r[251].length;++e)65533!==r[251][e].charCodeAt(0)&&(n[r[251][e]]=64256+e,t[64256+e]=r[251][e]);for(r[252]="".split(""),e=0;e!=r[252].length;++e)65533!==r[252][e].charCodeAt(0)&&(n[r[252][e]]=64512+e,t[64512+e]=r[252][e]);for(r[253]="".split(""),e=0;e!=r[253].length;++e)65533!==r[253][e].charCodeAt(0)&&(n[r[253][e]]=64768+e,t[64768+e]=r[253][e]);for(r[254]="".split(""),e=0;e!=r[254].length;++e)65533!==r[254][e].charCodeAt(0)&&(n[r[254][e]]=65024+e,t[65024+e]=r[254][e]);return{enc:n,dec:t}}(),n[949]=function(){var e,t=[],n={},r=[];for(r[0]="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".split(""),e=0;e!=r[0].length;++e)65533!==r[0][e].charCodeAt(0)&&(n[r[0][e]]=0+e,t[0+e]=r[0][e]);for(r[129]="".split(""),e=0;e!=r[129].length;++e)65533!==r[129][e].charCodeAt(0)&&(n[r[129][e]]=33024+e,t[33024+e]=r[129][e]);for(r[130]="".split(""),e=0;e!=r[130].length;++e)65533!==r[130][e].charCodeAt(0)&&(n[r[130][e]]=33280+e,t[33280+e]=r[130][e]);for(r[131]="".split(""),e=0;e!=r[131].length;++e)65533!==r[131][e].charCodeAt(0)&&(n[r[131][e]]=33536+e,t[33536+e]=r[131][e]);for(r[132]="".split(""),e=0;e!=r[132].length;++e)65533!==r[132][e].charCodeAt(0)&&(n[r[132][e]]=33792+e,t[33792+e]=r[132][e]);for(r[133]="".split(""),e=0;e!=r[133].length;++e)65533!==r[133][e].charCodeAt(0)&&(n[r[133][e]]=34048+e,t[34048+e]=r[133][e]);for(r[134]="".split(""),e=0;e!=r[134].length;++e)65533!==r[134][e].charCodeAt(0)&&(n[r[134][e]]=34304+e,t[34304+e]=r[134][e]);for(r[135]="".split(""),e=0;e!=r[135].length;++e)65533!==r[135][e].charCodeAt(0)&&(n[r[135][e]]=34560+e,t[34560+e]=r[135][e]);for(r[136]="".split(""),e=0;e!=r[136].length;++e)65533!==r[136][e].charCodeAt(0)&&(n[r[136][e]]=34816+e,t[34816+e]=r[136][e]);for(r[137]="".split(""),e=0;e!=r[137].length;++e)65533!==r[137][e].charCodeAt(0)&&(n[r[137][e]]=35072+e,t[35072+e]=r[137][e]);for(r[138]="".split(""),e=0;e!=r[138].length;++e)65533!==r[138][e].charCodeAt(0)&&(n[r[138][e]]=35328+e,t[35328+e]=r[138][e]);for(r[139]="".split(""),e=0;e!=r[139].length;++e)65533!==r[139][e].charCodeAt(0)&&(n[r[139][e]]=35584+e,t[35584+e]=r[139][e]);for(r[140]="".split(""),e=0;e!=r[140].length;++e)65533!==r[140][e].charCodeAt(0)&&(n[r[140][e]]=35840+e,t[35840+e]=r[140][e]);for(r[141]="".split(""),e=0;e!=r[141].length;++e)65533!==r[141][e].charCodeAt(0)&&(n[r[141][e]]=36096+e,t[36096+e]=r[141][e]);for(r[142]="".split(""),e=0;e!=r[142].length;++e)65533!==r[142][e].charCodeAt(0)&&(n[r[142][e]]=36352+e,t[36352+e]=r[142][e]);for(r[143]="".split(""),e=0;e!=r[143].length;++e)65533!==r[143][e].charCodeAt(0)&&(n[r[143][e]]=36608+e,t[36608+e]=r[143][e]);for(r[144]="".split(""),e=0;e!=r[144].length;++e)65533!==r[144][e].charCodeAt(0)&&(n[r[144][e]]=36864+e,t[36864+e]=r[144][e]);for(r[145]="".split(""),e=0;e!=r[145].length;++e)65533!==r[145][e].charCodeAt(0)&&(n[r[145][e]]=37120+e,t[37120+e]=r[145][e]);for(r[146]="".split(""),e=0;e!=r[146].length;++e)65533!==r[146][e].charCodeAt(0)&&(n[r[146][e]]=37376+e,t[37376+e]=r[146][e]);for(r[147]="".split(""),e=0;e!=r[147].length;++e)65533!==r[147][e].charCodeAt(0)&&(n[r[147][e]]=37632+e,t[37632+e]=r[147][e]);for(r[148]="".split(""),e=0;e!=r[148].length;++e)65533!==r[148][e].charCodeAt(0)&&(n[r[148][e]]=37888+e,t[37888+e]=r[148][e]);for(r[149]="".split(""),e=0;e!=r[149].length;++e)65533!==r[149][e].charCodeAt(0)&&(n[r[149][e]]=38144+e,t[38144+e]=r[149][e]);for(r[150]="".split(""),e=0;e!=r[150].length;++e)65533!==r[150][e].charCodeAt(0)&&(n[r[150][e]]=38400+e,t[38400+e]=r[150][e]);for(r[151]="".split(""),e=0;e!=r[151].length;++e)65533!==r[151][e].charCodeAt(0)&&(n[r[151][e]]=38656+e,t[38656+e]=r[151][e]);for(r[152]="".split(""),e=0;e!=r[152].length;++e)65533!==r[152][e].charCodeAt(0)&&(n[r[152][e]]=38912+e,t[38912+e]=r[152][e]);for(r[153]="".split(""),e=0;e!=r[153].length;++e)65533!==r[153][e].charCodeAt(0)&&(n[r[153][e]]=39168+e,t[39168+e]=r[153][e]);for(r[154]="".split(""),e=0;e!=r[154].length;++e)65533!==r[154][e].charCodeAt(0)&&(n[r[154][e]]=39424+e,t[39424+e]=r[154][e]);for(r[155]="".split(""),e=0;e!=r[155].length;++e)65533!==r[155][e].charCodeAt(0)&&(n[r[155][e]]=39680+e,t[39680+e]=r[155][e]);for(r[156]="".split(""),e=0;e!=r[156].length;++e)65533!==r[156][e].charCodeAt(0)&&(n[r[156][e]]=39936+e,t[39936+e]=r[156][e]);for(r[157]="".split(""),e=0;e!=r[157].length;++e)65533!==r[157][e].charCodeAt(0)&&(n[r[157][e]]=40192+e,t[40192+e]=r[157][e]);for(r[158]="".split(""),e=0;e!=r[158].length;++e)65533!==r[158][e].charCodeAt(0)&&(n[r[158][e]]=40448+e,t[40448+e]=r[158][e]);for(r[159]="".split(""),e=0;e!=r[159].length;++e)65533!==r[159][e].charCodeAt(0)&&(n[r[159][e]]=40704+e,t[40704+e]=r[159][e]);for(r[160]="".split(""),e=0;e!=r[160].length;++e)65533!==r[160][e].charCodeAt(0)&&(n[r[160][e]]=40960+e,t[40960+e]=r[160][e]);for(r[161]="".split(""),e=0;e!=r[161].length;++e)65533!==r[161][e].charCodeAt(0)&&(n[r[161][e]]=41216+e,t[41216+e]=r[161][e]);for(r[162]="".split(""),e=0;e!=r[162].length;++e)65533!==r[162][e].charCodeAt(0)&&(n[r[162][e]]=41472+e,t[41472+e]=r[162][e]);for(r[163]="".split(""),e=0;e!=r[163].length;++e)65533!==r[163][e].charCodeAt(0)&&(n[r[163][e]]=41728+e,t[41728+e]=r[163][e]);for(r[164]="".split(""),e=0;e!=r[164].length;++e)65533!==r[164][e].charCodeAt(0)&&(n[r[164][e]]=41984+e,t[41984+e]=r[164][e]);for(r[165]="".split(""),e=0;e!=r[165].length;++e)65533!==r[165][e].charCodeAt(0)&&(n[r[165][e]]=42240+e,t[42240+e]=r[165][e]);for(r[166]="".split(""),e=0;e!=r[166].length;++e)65533!==r[166][e].charCodeAt(0)&&(n[r[166][e]]=42496+e,t[42496+e]=r[166][e]);for(r[167]="".split(""),e=0;e!=r[167].length;++e)65533!==r[167][e].charCodeAt(0)&&(n[r[167][e]]=42752+e,t[42752+e]=r[167][e]);for(r[168]="".split(""),e=0;e!=r[168].length;++e)65533!==r[168][e].charCodeAt(0)&&(n[r[168][e]]=43008+e,t[43008+e]=r[168][e]);for(r[169]="".split(""),e=0;e!=r[169].length;++e)65533!==r[169][e].charCodeAt(0)&&(n[r[169][e]]=43264+e,t[43264+e]=r[169][e]);for(r[170]="".split(""),e=0;e!=r[170].length;++e)65533!==r[170][e].charCodeAt(0)&&(n[r[170][e]]=43520+e,t[43520+e]=r[170][e]);for(r[171]="".split(""),e=0;e!=r[171].length;++e)65533!==r[171][e].charCodeAt(0)&&(n[r[171][e]]=43776+e,t[43776+e]=r[171][e]);for(r[172]="".split(""),e=0;e!=r[172].length;++e)65533!==r[172][e].charCodeAt(0)&&(n[r[172][e]]=44032+e,t[44032+e]=r[172][e]);for(r[173]="".split(""),e=0;e!=r[173].length;++e)65533!==r[173][e].charCodeAt(0)&&(n[r[173][e]]=44288+e,t[44288+e]=r[173][e]);for(r[174]="".split(""),e=0;e!=r[174].length;++e)65533!==r[174][e].charCodeAt(0)&&(n[r[174][e]]=44544+e,t[44544+e]=r[174][e]);for(r[175]="".split(""),e=0;e!=r[175].length;++e)65533!==r[175][e].charCodeAt(0)&&(n[r[175][e]]=44800+e,t[44800+e]=r[175][e]);for(r[176]="".split(""),e=0;e!=r[176].length;++e)65533!==r[176][e].charCodeAt(0)&&(n[r[176][e]]=45056+e,t[45056+e]=r[176][e]);for(r[177]="".split(""),e=0;e!=r[177].length;++e)65533!==r[177][e].charCodeAt(0)&&(n[r[177][e]]=45312+e,t[45312+e]=r[177][e]);for(r[178]="".split(""),e=0;e!=r[178].length;++e)65533!==r[178][e].charCodeAt(0)&&(n[r[178][e]]=45568+e,t[45568+e]=r[178][e]);for(r[179]="".split(""),e=0;e!=r[179].length;++e)65533!==r[179][e].charCodeAt(0)&&(n[r[179][e]]=45824+e,t[45824+e]=r[179][e]);for(r[180]="".split(""),e=0;e!=r[180].length;++e)65533!==r[180][e].charCodeAt(0)&&(n[r[180][e]]=46080+e,t[46080+e]=r[180][e]);for(r[181]="".split(""),e=0;e!=r[181].length;++e)65533!==r[181][e].charCodeAt(0)&&(n[r[181][e]]=46336+e,t[46336+e]=r[181][e]);for(r[182]="".split(""),e=0;e!=r[182].length;++e)65533!==r[182][e].charCodeAt(0)&&(n[r[182][e]]=46592+e,t[46592+e]=r[182][e]);for(r[183]="".split(""),e=0;e!=r[183].length;++e)65533!==r[183][e].charCodeAt(0)&&(n[r[183][e]]=46848+e,t[46848+e]=r[183][e]);for(r[184]="".split(""),e=0;e!=r[184].length;++e)65533!==r[184][e].charCodeAt(0)&&(n[r[184][e]]=47104+e,t[47104+e]=r[184][e]);for(r[185]="".split(""),e=0;e!=r[185].length;++e)65533!==r[185][e].charCodeAt(0)&&(n[r[185][e]]=47360+e,t[47360+e]=r[185][e]);for(r[186]="".split(""),e=0;e!=r[186].length;++e)65533!==r[186][e].charCodeAt(0)&&(n[r[186][e]]=47616+e,t[47616+e]=r[186][e]);for(r[187]="".split(""),e=0;e!=r[187].length;++e)65533!==r[187][e].charCodeAt(0)&&(n[r[187][e]]=47872+e,t[47872+e]=r[187][e]);for(r[188]="".split(""),e=0;e!=r[188].length;++e)65533!==r[188][e].charCodeAt(0)&&(n[r[188][e]]=48128+e,t[48128+e]=r[188][e]);for(r[189]="".split(""),e=0;e!=r[189].length;++e)65533!==r[189][e].charCodeAt(0)&&(n[r[189][e]]=48384+e,t[48384+e]=r[189][e]);for(r[190]="".split(""),e=0;e!=r[190].length;++e)65533!==r[190][e].charCodeAt(0)&&(n[r[190][e]]=48640+e,t[48640+e]=r[190][e]);for(r[191]="".split(""),e=0;e!=r[191].length;++e)65533!==r[191][e].charCodeAt(0)&&(n[r[191][e]]=48896+e,t[48896+e]=r[191][e]);for(r[192]="".split(""),e=0;e!=r[192].length;++e)65533!==r[192][e].charCodeAt(0)&&(n[r[192][e]]=49152+e,t[49152+e]=r[192][e]);for(r[193]="".split(""),e=0;e!=r[193].length;++e)65533!==r[193][e].charCodeAt(0)&&(n[r[193][e]]=49408+e,t[49408+e]=r[193][e]);for(r[194]="".split(""),e=0;e!=r[194].length;++e)65533!==r[194][e].charCodeAt(0)&&(n[r[194][e]]=49664+e,t[49664+e]=r[194][e]);for(r[195]="".split(""),e=0;e!=r[195].length;++e)65533!==r[195][e].charCodeAt(0)&&(n[r[195][e]]=49920+e,t[49920+e]=r[195][e]);for(r[196]="".split(""),e=0;e!=r[196].length;++e)65533!==r[196][e].charCodeAt(0)&&(n[r[196][e]]=50176+e,t[50176+e]=r[196][e]);for(r[197]="".split(""),e=0;e!=r[197].length;++e)65533!==r[197][e].charCodeAt(0)&&(n[r[197][e]]=50432+e,t[50432+e]=r[197][e]);for(r[198]="".split(""),e=0;e!=r[198].length;++e)65533!==r[198][e].charCodeAt(0)&&(n[r[198][e]]=50688+e,t[50688+e]=r[198][e]);for(r[199]="".split(""),e=0;e!=r[199].length;++e)65533!==r[199][e].charCodeAt(0)&&(n[r[199][e]]=50944+e,t[50944+e]=r[199][e]);for(r[200]="".split(""),e=0;e!=r[200].length;++e)65533!==r[200][e].charCodeAt(0)&&(n[r[200][e]]=51200+e,t[51200+e]=r[200][e]);for(r[202]="".split(""),e=0;e!=r[202].length;++e)65533!==r[202][e].charCodeAt(0)&&(n[r[202][e]]=51712+e,t[51712+e]=r[202][e]);for(r[203]="".split(""),e=0;e!=r[203].length;++e)65533!==r[203][e].charCodeAt(0)&&(n[r[203][e]]=51968+e,t[51968+e]=r[203][e]);for(r[204]="".split(""),e=0;e!=r[204].length;++e)65533!==r[204][e].charCodeAt(0)&&(n[r[204][e]]=52224+e,t[52224+e]=r[204][e]);for(r[205]="".split(""),e=0;e!=r[205].length;++e)65533!==r[205][e].charCodeAt(0)&&(n[r[205][e]]=52480+e,t[52480+e]=r[205][e]);for(r[206]="".split(""),e=0;e!=r[206].length;++e)65533!==r[206][e].charCodeAt(0)&&(n[r[206][e]]=52736+e,t[52736+e]=r[206][e]);for(r[207]="".split(""),e=0;e!=r[207].length;++e)65533!==r[207][e].charCodeAt(0)&&(n[r[207][e]]=52992+e,t[52992+e]=r[207][e]);for(r[208]="".split(""),e=0;e!=r[208].length;++e)65533!==r[208][e].charCodeAt(0)&&(n[r[208][e]]=53248+e,t[53248+e]=r[208][e]);for(r[209]="".split(""),e=0;e!=r[209].length;++e)65533!==r[209][e].charCodeAt(0)&&(n[r[209][e]]=53504+e,t[53504+e]=r[209][e]);for(r[210]="".split(""),e=0;e!=r[210].length;++e)65533!==r[210][e].charCodeAt(0)&&(n[r[210][e]]=53760+e,t[53760+e]=r[210][e]);for(r[211]="".split(""),e=0;e!=r[211].length;++e)65533!==r[211][e].charCodeAt(0)&&(n[r[211][e]]=54016+e,t[54016+e]=r[211][e]);for(r[212]="".split(""),e=0;e!=r[212].length;++e)65533!==r[212][e].charCodeAt(0)&&(n[r[212][e]]=54272+e,t[54272+e]=r[212][e]);for(r[213]="".split(""),e=0;e!=r[213].length;++e)65533!==r[213][e].charCodeAt(0)&&(n[r[213][e]]=54528+e,t[54528+e]=r[213][e]);for(r[214]="".split(""),e=0;e!=r[214].length;++e)65533!==r[214][e].charCodeAt(0)&&(n[r[214][e]]=54784+e,t[54784+e]=r[214][e]);for(r[215]="".split(""),e=0;e!=r[215].length;++e)65533!==r[215][e].charCodeAt(0)&&(n[r[215][e]]=55040+e,t[55040+e]=r[215][e]);for(r[216]="".split(""),e=0;e!=r[216].length;++e)65533!==r[216][e].charCodeAt(0)&&(n[r[216][e]]=55296+e,t[55296+e]=r[216][e]);for(r[217]="".split(""),e=0;e!=r[217].length;++e)65533!==r[217][e].charCodeAt(0)&&(n[r[217][e]]=55552+e,t[55552+e]=r[217][e]);for(r[218]="".split(""),e=0;e!=r[218].length;++e)65533!==r[218][e].charCodeAt(0)&&(n[r[218][e]]=55808+e,t[55808+e]=r[218][e]);for(r[219]="".split(""),e=0;e!=r[219].length;++e)65533!==r[219][e].charCodeAt(0)&&(n[r[219][e]]=56064+e,t[56064+e]=r[219][e]);for(r[220]="".split(""),e=0;e!=r[220].length;++e)65533!==r[220][e].charCodeAt(0)&&(n[r[220][e]]=56320+e,t[56320+e]=r[220][e]);for(r[221]="".split(""),e=0;e!=r[221].length;++e)65533!==r[221][e].charCodeAt(0)&&(n[r[221][e]]=56576+e,t[56576+e]=r[221][e]);for(r[222]="".split(""),e=0;e!=r[222].length;++e)65533!==r[222][e].charCodeAt(0)&&(n[r[222][e]]=56832+e,t[56832+e]=r[222][e]);for(r[223]="".split(""),e=0;e!=r[223].length;++e)65533!==r[223][e].charCodeAt(0)&&(n[r[223][e]]=57088+e,t[57088+e]=r[223][e]);for(r[224]="".split(""),e=0;e!=r[224].length;++e)65533!==r[224][e].charCodeAt(0)&&(n[r[224][e]]=57344+e,t[57344+e]=r[224][e]);for(r[225]="".split(""),e=0;e!=r[225].length;++e)65533!==r[225][e].charCodeAt(0)&&(n[r[225][e]]=57600+e,t[57600+e]=r[225][e]);for(r[226]="".split(""),e=0;e!=r[226].length;++e)65533!==r[226][e].charCodeAt(0)&&(n[r[226][e]]=57856+e,t[57856+e]=r[226][e]);for(r[227]="".split(""),e=0;e!=r[227].length;++e)65533!==r[227][e].charCodeAt(0)&&(n[r[227][e]]=58112+e,t[58112+e]=r[227][e]);for(r[228]="".split(""),e=0;e!=r[228].length;++e)65533!==r[228][e].charCodeAt(0)&&(n[r[228][e]]=58368+e,t[58368+e]=r[228][e]);for(r[229]="".split(""),e=0;e!=r[229].length;++e)65533!==r[229][e].charCodeAt(0)&&(n[r[229][e]]=58624+e,t[58624+e]=r[229][e]);for(r[230]="".split(""),e=0;e!=r[230].length;++e)65533!==r[230][e].charCodeAt(0)&&(n[r[230][e]]=58880+e,t[58880+e]=r[230][e]);for(r[231]="".split(""),e=0;e!=r[231].length;++e)65533!==r[231][e].charCodeAt(0)&&(n[r[231][e]]=59136+e,t[59136+e]=r[231][e]);for(r[232]="".split(""),e=0;e!=r[232].length;++e)65533!==r[232][e].charCodeAt(0)&&(n[r[232][e]]=59392+e,t[59392+e]=r[232][e]);for(r[233]="".split(""),e=0;e!=r[233].length;++e)65533!==r[233][e].charCodeAt(0)&&(n[r[233][e]]=59648+e,t[59648+e]=r[233][e]);for(r[234]="".split(""),e=0;e!=r[234].length;++e)65533!==r[234][e].charCodeAt(0)&&(n[r[234][e]]=59904+e,t[59904+e]=r[234][e]);for(r[235]="".split(""),e=0;e!=r[235].length;++e)65533!==r[235][e].charCodeAt(0)&&(n[r[235][e]]=60160+e,t[60160+e]=r[235][e]);for(r[236]="".split(""),e=0;e!=r[236].length;++e)65533!==r[236][e].charCodeAt(0)&&(n[r[236][e]]=60416+e,t[60416+e]=r[236][e]);for(r[237]="".split(""),e=0;e!=r[237].length;++e)65533!==r[237][e].charCodeAt(0)&&(n[r[237][e]]=60672+e,t[60672+e]=r[237][e]);for(r[238]="".split(""),e=0;e!=r[238].length;++e)65533!==r[238][e].charCodeAt(0)&&(n[r[238][e]]=60928+e,t[60928+e]=r[238][e]);for(r[239]="".split(""),e=0;e!=r[239].length;++e)65533!==r[239][e].charCodeAt(0)&&(n[r[239][e]]=61184+e,t[61184+e]=r[239][e]);for(r[240]="".split(""),e=0;e!=r[240].length;++e)65533!==r[240][e].charCodeAt(0)&&(n[r[240][e]]=61440+e,t[61440+e]=r[240][e]);for(r[241]="".split(""),e=0;e!=r[241].length;++e)65533!==r[241][e].charCodeAt(0)&&(n[r[241][e]]=61696+e,t[61696+e]=r[241][e]);for(r[242]="".split(""),e=0;e!=r[242].length;++e)65533!==r[242][e].charCodeAt(0)&&(n[r[242][e]]=61952+e,t[61952+e]=r[242][e]);for(r[243]="".split(""),e=0;e!=r[243].length;++e)65533!==r[243][e].charCodeAt(0)&&(n[r[243][e]]=62208+e,t[62208+e]=r[243][e]);for(r[244]="".split(""),e=0;e!=r[244].length;++e)65533!==r[244][e].charCodeAt(0)&&(n[r[244][e]]=62464+e,t[62464+e]=r[244][e]);for(r[245]="".split(""),e=0;e!=r[245].length;++e)65533!==r[245][e].charCodeAt(0)&&(n[r[245][e]]=62720+e,t[62720+e]=r[245][e]);for(r[246]="".split(""),e=0;e!=r[246].length;++e)65533!==r[246][e].charCodeAt(0)&&(n[r[246][e]]=62976+e,t[62976+e]=r[246][e]);for(r[247]="".split(""),e=0;e!=r[247].length;++e)65533!==r[247][e].charCodeAt(0)&&(n[r[247][e]]=63232+e,t[63232+e]=r[247][e]);for(r[248]="".split(""),e=0;e!=r[248].length;++e)65533!==r[248][e].charCodeAt(0)&&(n[r[248][e]]=63488+e,t[63488+e]=r[248][e]);for(r[249]="".split(""),e=0;e!=r[249].length;++e)65533!==r[249][e].charCodeAt(0)&&(n[r[249][e]]=63744+e,t[63744+e]=r[249][e]);for(r[250]="".split(""),e=0;e!=r[250].length;++e)65533!==r[250][e].charCodeAt(0)&&(n[r[250][e]]=64e3+e,t[64e3+e]=r[250][e]);for(r[251]="".split(""),e=0;e!=r[251].length;++e)65533!==r[251][e].charCodeAt(0)&&(n[r[251][e]]=64256+e,t[64256+e]=r[251][e]);for(r[252]="".split(""),e=0;e!=r[252].length;++e)65533!==r[252][e].charCodeAt(0)&&(n[r[252][e]]=64512+e,t[64512+e]=r[252][e]);for(r[253]="".split(""),e=0;e!=r[253].length;++e)65533!==r[253][e].charCodeAt(0)&&(n[r[253][e]]=64768+e,t[64768+e]=r[253][e]);return{enc:n,dec:t}}(),n[950]=function(){var e,t=[],n={},r=[];for(r[0]="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".split(""),e=0;e!=r[0].length;++e)65533!==r[0][e].charCodeAt(0)&&(n[r[0][e]]=0+e,t[0+e]=r[0][e]);for(r[161]="".split(""),e=0;e!=r[161].length;++e)65533!==r[161][e].charCodeAt(0)&&(n[r[161][e]]=41216+e,t[41216+e]=r[161][e]);for(r[162]="".split(""),e=0;e!=r[162].length;++e)65533!==r[162][e].charCodeAt(0)&&(n[r[162][e]]=41472+e,t[41472+e]=r[162][e]);for(r[163]="".split(""),e=0;e!=r[163].length;++e)65533!==r[163][e].charCodeAt(0)&&(n[r[163][e]]=41728+e,t[41728+e]=r[163][e]);for(r[164]="".split(""),e=0;e!=r[164].length;++e)65533!==r[164][e].charCodeAt(0)&&(n[r[164][e]]=41984+e,t[41984+e]=r[164][e]);for(r[165]="".split(""),e=0;e!=r[165].length;++e)65533!==r[165][e].charCodeAt(0)&&(n[r[165][e]]=42240+e,t[42240+e]=r[165][e]);for(r[166]="".split(""),e=0;e!=r[166].length;++e)65533!==r[166][e].charCodeAt(0)&&(n[r[166][e]]=42496+e,t[42496+e]=r[166][e]);for(r[167]="".split(""),e=0;e!=r[167].length;++e)65533!==r[167][e].charCodeAt(0)&&(n[r[167][e]]=42752+e,t[42752+e]=r[167][e]);for(r[168]="".split(""),e=0;e!=r[168].length;++e)65533!==r[168][e].charCodeAt(0)&&(n[r[168][e]]=43008+e,t[43008+e]=r[168][e]);for(r[169]="".split(""),e=0;e!=r[169].length;++e)65533!==r[169][e].charCodeAt(0)&&(n[r[169][e]]=43264+e,t[43264+e]=r[169][e]);for(r[170]="".split(""),e=0;e!=r[170].length;++e)65533!==r[170][e].charCodeAt(0)&&(n[r[170][e]]=43520+e,t[43520+e]=r[170][e]);for(r[171]="".split(""),e=0;e!=r[171].length;++e)65533!==r[171][e].charCodeAt(0)&&(n[r[171][e]]=43776+e,t[43776+e]=r[171][e]);for(r[172]="".split(""),e=0;e!=r[172].length;++e)65533!==r[172][e].charCodeAt(0)&&(n[r[172][e]]=44032+e,t[44032+e]=r[172][e]);for(r[173]="".split(""),e=0;e!=r[173].length;++e)65533!==r[173][e].charCodeAt(0)&&(n[r[173][e]]=44288+e,t[44288+e]=r[173][e]);for(r[174]="".split(""),e=0;e!=r[174].length;++e)65533!==r[174][e].charCodeAt(0)&&(n[r[174][e]]=44544+e,t[44544+e]=r[174][e]);for(r[175]="".split(""),e=0;e!=r[175].length;++e)65533!==r[175][e].charCodeAt(0)&&(n[r[175][e]]=44800+e,t[44800+e]=r[175][e]);for(r[176]="".split(""),e=0;e!=r[176].length;++e)65533!==r[176][e].charCodeAt(0)&&(n[r[176][e]]=45056+e,t[45056+e]=r[176][e]);for(r[177]="".split(""),e=0;e!=r[177].length;++e)65533!==r[177][e].charCodeAt(0)&&(n[r[177][e]]=45312+e,t[45312+e]=r[177][e]);for(r[178]="".split(""),e=0;e!=r[178].length;++e)65533!==r[178][e].charCodeAt(0)&&(n[r[178][e]]=45568+e,t[45568+e]=r[178][e]);for(r[179]="".split(""),e=0;e!=r[179].length;++e)65533!==r[179][e].charCodeAt(0)&&(n[r[179][e]]=45824+e,t[45824+e]=r[179][e]);for(r[180]="".split(""),e=0;e!=r[180].length;++e)65533!==r[180][e].charCodeAt(0)&&(n[r[180][e]]=46080+e,t[46080+e]=r[180][e]);for(r[181]="".split(""),e=0;e!=r[181].length;++e)65533!==r[181][e].charCodeAt(0)&&(n[r[181][e]]=46336+e,t[46336+e]=r[181][e]);for(r[182]="".split(""),e=0;e!=r[182].length;++e)65533!==r[182][e].charCodeAt(0)&&(n[r[182][e]]=46592+e,t[46592+e]=r[182][e]);for(r[183]="".split(""),e=0;e!=r[183].length;++e)65533!==r[183][e].charCodeAt(0)&&(n[r[183][e]]=46848+e,t[46848+e]=r[183][e]);for(r[184]="".split(""),e=0;e!=r[184].length;++e)65533!==r[184][e].charCodeAt(0)&&(n[r[184][e]]=47104+e,t[47104+e]=r[184][e]);for(r[185]="".split(""),e=0;e!=r[185].length;++e)65533!==r[185][e].charCodeAt(0)&&(n[r[185][e]]=47360+e,t[47360+e]=r[185][e]);for(r[186]="".split(""),e=0;e!=r[186].length;++e)65533!==r[186][e].charCodeAt(0)&&(n[r[186][e]]=47616+e,t[47616+e]=r[186][e]);for(r[187]="".split(""),e=0;e!=r[187].length;++e)65533!==r[187][e].charCodeAt(0)&&(n[r[187][e]]=47872+e,t[47872+e]=r[187][e]);for(r[188]="".split(""),e=0;e!=r[188].length;++e)65533!==r[188][e].charCodeAt(0)&&(n[r[188][e]]=48128+e,t[48128+e]=r[188][e]);for(r[189]="".split(""),e=0;e!=r[189].length;++e)65533!==r[189][e].charCodeAt(0)&&(n[r[189][e]]=48384+e,t[48384+e]=r[189][e]);for(r[190]="".split(""),e=0;e!=r[190].length;++e)65533!==r[190][e].charCodeAt(0)&&(n[r[190][e]]=48640+e,t[48640+e]=r[190][e]);for(r[191]="".split(""),e=0;e!=r[191].length;++e)65533!==r[191][e].charCodeAt(0)&&(n[r[191][e]]=48896+e,t[48896+e]=r[191][e]);for(r[192]="".split(""),e=0;e!=r[192].length;++e)65533!==r[192][e].charCodeAt(0)&&(n[r[192][e]]=49152+e,t[49152+e]=r[192][e]);for(r[193]="".split(""),e=0;e!=r[193].length;++e)65533!==r[193][e].charCodeAt(0)&&(n[r[193][e]]=49408+e,t[49408+e]=r[193][e]);for(r[194]="".split(""),e=0;e!=r[194].length;++e)65533!==r[194][e].charCodeAt(0)&&(n[r[194][e]]=49664+e,t[49664+e]=r[194][e]);for(r[195]="".split(""),e=0;e!=r[195].length;++e)65533!==r[195][e].charCodeAt(0)&&(n[r[195][e]]=49920+e,t[49920+e]=r[195][e]);for(r[196]="".split(""),e=0;e!=r[196].length;++e)65533!==r[196][e].charCodeAt(0)&&(n[r[196][e]]=50176+e,t[50176+e]=r[196][e]);for(r[197]="".split(""),e=0;e!=r[197].length;++e)65533!==r[197][e].charCodeAt(0)&&(n[r[197][e]]=50432+e,t[50432+e]=r[197][e]);for(r[198]="".split(""),e=0;e!=r[198].length;++e)65533!==r[198][e].charCodeAt(0)&&(n[r[198][e]]=50688+e,t[50688+e]=r[198][e]);for(r[201]="".split(""),e=0;e!=r[201].length;++e)65533!==r[201][e].charCodeAt(0)&&(n[r[201][e]]=51456+e,t[51456+e]=r[201][e]);for(r[202]="".split(""),e=0;e!=r[202].length;++e)65533!==r[202][e].charCodeAt(0)&&(n[r[202][e]]=51712+e,t[51712+e]=r[202][e]);for(r[203]="".split(""),e=0;e!=r[203].length;++e)65533!==r[203][e].charCodeAt(0)&&(n[r[203][e]]=51968+e,t[51968+e]=r[203][e]);for(r[204]="".split(""),e=0;e!=r[204].length;++e)65533!==r[204][e].charCodeAt(0)&&(n[r[204][e]]=52224+e,t[52224+e]=r[204][e]);for(r[205]="".split(""),e=0;e!=r[205].length;++e)65533!==r[205][e].charCodeAt(0)&&(n[r[205][e]]=52480+e,t[52480+e]=r[205][e]);for(r[206]="".split(""),e=0;e!=r[206].length;++e)65533!==r[206][e].charCodeAt(0)&&(n[r[206][e]]=52736+e,t[52736+e]=r[206][e]);for(r[207]="".split(""),e=0;e!=r[207].length;++e)65533!==r[207][e].charCodeAt(0)&&(n[r[207][e]]=52992+e,t[52992+e]=r[207][e]);for(r[208]="".split(""),e=0;e!=r[208].length;++e)65533!==r[208][e].charCodeAt(0)&&(n[r[208][e]]=53248+e,t[53248+e]=r[208][e]);for(r[209]="".split(""),e=0;e!=r[209].length;++e)65533!==r[209][e].charCodeAt(0)&&(n[r[209][e]]=53504+e,t[53504+e]=r[209][e]);for(r[210]="".split(""),e=0;e!=r[210].length;++e)65533!==r[210][e].charCodeAt(0)&&(n[r[210][e]]=53760+e,t[53760+e]=r[210][e]);for(r[211]="".split(""),e=0;e!=r[211].length;++e)65533!==r[211][e].charCodeAt(0)&&(n[r[211][e]]=54016+e,t[54016+e]=r[211][e]);for(r[212]="".split(""),e=0;e!=r[212].length;++e)65533!==r[212][e].charCodeAt(0)&&(n[r[212][e]]=54272+e,t[54272+e]=r[212][e]);for(r[213]="".split(""),e=0;e!=r[213].length;++e)65533!==r[213][e].charCodeAt(0)&&(n[r[213][e]]=54528+e,t[54528+e]=r[213][e]);for(r[214]="".split(""),e=0;e!=r[214].length;++e)65533!==r[214][e].charCodeAt(0)&&(n[r[214][e]]=54784+e,t[54784+e]=r[214][e]);for(r[215]="".split(""),e=0;e!=r[215].length;++e)65533!==r[215][e].charCodeAt(0)&&(n[r[215][e]]=55040+e,t[55040+e]=r[215][e]);for(r[216]="".split(""),e=0;e!=r[216].length;++e)65533!==r[216][e].charCodeAt(0)&&(n[r[216][e]]=55296+e,t[55296+e]=r[216][e]);for(r[217]="".split(""),e=0;e!=r[217].length;++e)65533!==r[217][e].charCodeAt(0)&&(n[r[217][e]]=55552+e,t[55552+e]=r[217][e]);for(r[218]="".split(""),e=0;e!=r[218].length;++e)65533!==r[218][e].charCodeAt(0)&&(n[r[218][e]]=55808+e,t[55808+e]=r[218][e]);for(r[219]="".split(""),e=0;e!=r[219].length;++e)65533!==r[219][e].charCodeAt(0)&&(n[r[219][e]]=56064+e,t[56064+e]=r[219][e]);for(r[220]="".split(""),e=0;e!=r[220].length;++e)65533!==r[220][e].charCodeAt(0)&&(n[r[220][e]]=56320+e,t[56320+e]=r[220][e]);for(r[221]="".split(""),e=0;e!=r[221].length;++e)65533!==r[221][e].charCodeAt(0)&&(n[r[221][e]]=56576+e,t[56576+e]=r[221][e]);for(r[222]="".split(""),e=0;e!=r[222].length;++e)65533!==r[222][e].charCodeAt(0)&&(n[r[222][e]]=56832+e,t[56832+e]=r[222][e]);for(r[223]="".split(""),e=0;e!=r[223].length;++e)65533!==r[223][e].charCodeAt(0)&&(n[r[223][e]]=57088+e,t[57088+e]=r[223][e]);for(r[224]="".split(""),e=0;e!=r[224].length;++e)65533!==r[224][e].charCodeAt(0)&&(n[r[224][e]]=57344+e,t[57344+e]=r[224][e]);for(r[225]="".split(""),e=0;e!=r[225].length;++e)65533!==r[225][e].charCodeAt(0)&&(n[r[225][e]]=57600+e,t[57600+e]=r[225][e]);for(r[226]="".split(""),e=0;e!=r[226].length;++e)65533!==r[226][e].charCodeAt(0)&&(n[r[226][e]]=57856+e,t[57856+e]=r[226][e]);for(r[227]="".split(""),e=0;e!=r[227].length;++e)65533!==r[227][e].charCodeAt(0)&&(n[r[227][e]]=58112+e,t[58112+e]=r[227][e]);for(r[228]="".split(""),e=0;e!=r[228].length;++e)65533!==r[228][e].charCodeAt(0)&&(n[r[228][e]]=58368+e,t[58368+e]=r[228][e]);for(r[229]="".split(""),e=0;e!=r[229].length;++e)65533!==r[229][e].charCodeAt(0)&&(n[r[229][e]]=58624+e,t[58624+e]=r[229][e]);for(r[230]="".split(""),e=0;e!=r[230].length;++e)65533!==r[230][e].charCodeAt(0)&&(n[r[230][e]]=58880+e,t[58880+e]=r[230][e]);for(r[231]="".split(""),e=0;e!=r[231].length;++e)65533!==r[231][e].charCodeAt(0)&&(n[r[231][e]]=59136+e,t[59136+e]=r[231][e]);for(r[232]="".split(""),e=0;e!=r[232].length;++e)65533!==r[232][e].charCodeAt(0)&&(n[r[232][e]]=59392+e,t[59392+e]=r[232][e]);for(r[233]="".split(""),e=0;e!=r[233].length;++e)65533!==r[233][e].charCodeAt(0)&&(n[r[233][e]]=59648+e,t[59648+e]=r[233][e]);for(r[234]="".split(""),e=0;e!=r[234].length;++e)65533!==r[234][e].charCodeAt(0)&&(n[r[234][e]]=59904+e,t[59904+e]=r[234][e]);for(r[235]="".split(""),e=0;e!=r[235].length;++e)65533!==r[235][e].charCodeAt(0)&&(n[r[235][e]]=60160+e,t[60160+e]=r[235][e]);for(r[236]="".split(""),e=0;e!=r[236].length;++e)65533!==r[236][e].charCodeAt(0)&&(n[r[236][e]]=60416+e,t[60416+e]=r[236][e]);for(r[237]="".split(""),e=0;e!=r[237].length;++e)65533!==r[237][e].charCodeAt(0)&&(n[r[237][e]]=60672+e,t[60672+e]=r[237][e]);for(r[238]="".split(""),e=0;e!=r[238].length;++e)65533!==r[238][e].charCodeAt(0)&&(n[r[238][e]]=60928+e,t[60928+e]=r[238][e]);for(r[239]="".split(""),e=0;e!=r[239].length;++e)65533!==r[239][e].charCodeAt(0)&&(n[r[239][e]]=61184+e,t[61184+e]=r[239][e]);for(r[240]="".split(""),e=0;e!=r[240].length;++e)65533!==r[240][e].charCodeAt(0)&&(n[r[240][e]]=61440+e,t[61440+e]=r[240][e]);for(r[241]="".split(""),e=0;e!=r[241].length;++e)65533!==r[241][e].charCodeAt(0)&&(n[r[241][e]]=61696+e,t[61696+e]=r[241][e]);for(r[242]="".split(""),e=0;e!=r[242].length;++e)65533!==r[242][e].charCodeAt(0)&&(n[r[242][e]]=61952+e,t[61952+e]=r[242][e]);for(r[243]="".split(""),e=0;e!=r[243].length;++e)65533!==r[243][e].charCodeAt(0)&&(n[r[243][e]]=62208+e,t[62208+e]=r[243][e]);for(r[244]="".split(""),e=0;e!=r[244].length;++e)65533!==r[244][e].charCodeAt(0)&&(n[r[244][e]]=62464+e,t[62464+e]=r[244][e]);for(r[245]="".split(""),e=0;e!=r[245].length;++e)65533!==r[245][e].charCodeAt(0)&&(n[r[245][e]]=62720+e,t[62720+e]=r[245][e]);for(r[246]="".split(""),e=0;e!=r[246].length;++e)65533!==r[246][e].charCodeAt(0)&&(n[r[246][e]]=62976+e,t[62976+e]=r[246][e]);for(r[247]="".split(""),e=0;e!=r[247].length;++e)65533!==r[247][e].charCodeAt(0)&&(n[r[247][e]]=63232+e,t[63232+e]=r[247][e]);for(r[248]="".split(""),e=0;e!=r[248].length;++e)65533!==r[248][e].charCodeAt(0)&&(n[r[248][e]]=63488+e,t[63488+e]=r[248][e]);for(r[249]="".split(""),e=0;e!=r[249].length;++e)65533!==r[249][e].charCodeAt(0)&&(n[r[249][e]]=63744+e,t[63744+e]=r[249][e]);return{enc:n,dec:t}}(),n[1250]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[1251]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[1252]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[1253]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[1254]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[1255]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[1256]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[1257]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[1258]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[1e4]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[10006]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[10007]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[10008]=function(){var e,t=[],n={},r=[];for(r[0]="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".split(""),e=0;e!=r[0].length;++e)65533!==r[0][e].charCodeAt(0)&&(n[r[0][e]]=0+e,t[0+e]=r[0][e]);for(r[161]="".split(""),e=0;e!=r[161].length;++e)65533!==r[161][e].charCodeAt(0)&&(n[r[161][e]]=41216+e,t[41216+e]=r[161][e]);for(r[162]="".split(""),e=0;e!=r[162].length;++e)65533!==r[162][e].charCodeAt(0)&&(n[r[162][e]]=41472+e,t[41472+e]=r[162][e]);for(r[163]="".split(""),e=0;e!=r[163].length;++e)65533!==r[163][e].charCodeAt(0)&&(n[r[163][e]]=41728+e,t[41728+e]=r[163][e]);for(r[164]="".split(""),e=0;e!=r[164].length;++e)65533!==r[164][e].charCodeAt(0)&&(n[r[164][e]]=41984+e,t[41984+e]=r[164][e]);for(r[165]="".split(""),e=0;e!=r[165].length;++e)65533!==r[165][e].charCodeAt(0)&&(n[r[165][e]]=42240+e,t[42240+e]=r[165][e]);for(r[166]="".split(""),e=0;e!=r[166].length;++e)65533!==r[166][e].charCodeAt(0)&&(n[r[166][e]]=42496+e,t[42496+e]=r[166][e]);for(r[167]="".split(""),e=0;e!=r[167].length;++e)65533!==r[167][e].charCodeAt(0)&&(n[r[167][e]]=42752+e,t[42752+e]=r[167][e]);for(r[168]="".split(""),e=0;e!=r[168].length;++e)65533!==r[168][e].charCodeAt(0)&&(n[r[168][e]]=43008+e,t[43008+e]=r[168][e]);for(r[169]="".split(""),e=0;e!=r[169].length;++e)65533!==r[169][e].charCodeAt(0)&&(n[r[169][e]]=43264+e,t[43264+e]=r[169][e]);for(r[176]="".split(""),e=0;e!=r[176].length;++e)65533!==r[176][e].charCodeAt(0)&&(n[r[176][e]]=45056+e,t[45056+e]=r[176][e]);for(r[177]="".split(""),e=0;e!=r[177].length;++e)65533!==r[177][e].charCodeAt(0)&&(n[r[177][e]]=45312+e,t[45312+e]=r[177][e]);for(r[178]="".split(""),e=0;e!=r[178].length;++e)65533!==r[178][e].charCodeAt(0)&&(n[r[178][e]]=45568+e,t[45568+e]=r[178][e]);for(r[179]="".split(""),e=0;e!=r[179].length;++e)65533!==r[179][e].charCodeAt(0)&&(n[r[179][e]]=45824+e,t[45824+e]=r[179][e]);for(r[180]="".split(""),e=0;e!=r[180].length;++e)65533!==r[180][e].charCodeAt(0)&&(n[r[180][e]]=46080+e,t[46080+e]=r[180][e]);for(r[181]="".split(""),e=0;e!=r[181].length;++e)65533!==r[181][e].charCodeAt(0)&&(n[r[181][e]]=46336+e,t[46336+e]=r[181][e]);for(r[182]="".split(""),e=0;e!=r[182].length;++e)65533!==r[182][e].charCodeAt(0)&&(n[r[182][e]]=46592+e,t[46592+e]=r[182][e]);for(r[183]="".split(""),e=0;e!=r[183].length;++e)65533!==r[183][e].charCodeAt(0)&&(n[r[183][e]]=46848+e,t[46848+e]=r[183][e]);for(r[184]="".split(""),e=0;e!=r[184].length;++e)65533!==r[184][e].charCodeAt(0)&&(n[r[184][e]]=47104+e,t[47104+e]=r[184][e]);for(r[185]="".split(""),e=0;e!=r[185].length;++e)65533!==r[185][e].charCodeAt(0)&&(n[r[185][e]]=47360+e,t[47360+e]=r[185][e]);for(r[186]="".split(""),e=0;e!=r[186].length;++e)65533!==r[186][e].charCodeAt(0)&&(n[r[186][e]]=47616+e,t[47616+e]=r[186][e]);for(r[187]="".split(""),e=0;e!=r[187].length;++e)65533!==r[187][e].charCodeAt(0)&&(n[r[187][e]]=47872+e,t[47872+e]=r[187][e]);for(r[188]="".split(""),e=0;e!=r[188].length;++e)65533!==r[188][e].charCodeAt(0)&&(n[r[188][e]]=48128+e,t[48128+e]=r[188][e]);for(r[189]="".split(""),e=0;e!=r[189].length;++e)65533!==r[189][e].charCodeAt(0)&&(n[r[189][e]]=48384+e,t[48384+e]=r[189][e]);for(r[190]="".split(""),e=0;e!=r[190].length;++e)65533!==r[190][e].charCodeAt(0)&&(n[r[190][e]]=48640+e,t[48640+e]=r[190][e]);for(r[191]="".split(""),e=0;e!=r[191].length;++e)65533!==r[191][e].charCodeAt(0)&&(n[r[191][e]]=48896+e,t[48896+e]=r[191][e]);for(r[192]="".split(""),e=0;e!=r[192].length;++e)65533!==r[192][e].charCodeAt(0)&&(n[r[192][e]]=49152+e,t[49152+e]=r[192][e]);for(r[193]="".split(""),e=0;e!=r[193].length;++e)65533!==r[193][e].charCodeAt(0)&&(n[r[193][e]]=49408+e,t[49408+e]=r[193][e]);for(r[194]="".split(""),e=0;e!=r[194].length;++e)65533!==r[194][e].charCodeAt(0)&&(n[r[194][e]]=49664+e,t[49664+e]=r[194][e]);for(r[195]="".split(""),e=0;e!=r[195].length;++e)65533!==r[195][e].charCodeAt(0)&&(n[r[195][e]]=49920+e,t[49920+e]=r[195][e]);for(r[196]="".split(""),e=0;e!=r[196].length;++e)65533!==r[196][e].charCodeAt(0)&&(n[r[196][e]]=50176+e,t[50176+e]=r[196][e]);for(r[197]="".split(""),e=0;e!=r[197].length;++e)65533!==r[197][e].charCodeAt(0)&&(n[r[197][e]]=50432+e,t[50432+e]=r[197][e]);for(r[198]="".split(""),e=0;e!=r[198].length;++e)65533!==r[198][e].charCodeAt(0)&&(n[r[198][e]]=50688+e,t[50688+e]=r[198][e]);for(r[199]="".split(""),e=0;e!=r[199].length;++e)65533!==r[199][e].charCodeAt(0)&&(n[r[199][e]]=50944+e,t[50944+e]=r[199][e]);for(r[200]="".split(""),e=0;e!=r[200].length;++e)65533!==r[200][e].charCodeAt(0)&&(n[r[200][e]]=51200+e,t[51200+e]=r[200][e]);for(r[201]="".split(""),e=0;e!=r[201].length;++e)65533!==r[201][e].charCodeAt(0)&&(n[r[201][e]]=51456+e,t[51456+e]=r[201][e]);for(r[202]="".split(""),e=0;e!=r[202].length;++e)65533!==r[202][e].charCodeAt(0)&&(n[r[202][e]]=51712+e,t[51712+e]=r[202][e]);for(r[203]="".split(""),e=0;e!=r[203].length;++e)65533!==r[203][e].charCodeAt(0)&&(n[r[203][e]]=51968+e,t[51968+e]=r[203][e]);for(r[204]="".split(""),e=0;e!=r[204].length;++e)65533!==r[204][e].charCodeAt(0)&&(n[r[204][e]]=52224+e,t[52224+e]=r[204][e]);for(r[205]="".split(""),e=0;e!=r[205].length;++e)65533!==r[205][e].charCodeAt(0)&&(n[r[205][e]]=52480+e,t[52480+e]=r[205][e]);for(r[206]="".split(""),e=0;e!=r[206].length;++e)65533!==r[206][e].charCodeAt(0)&&(n[r[206][e]]=52736+e,t[52736+e]=r[206][e]);for(r[207]="".split(""),e=0;e!=r[207].length;++e)65533!==r[207][e].charCodeAt(0)&&(n[r[207][e]]=52992+e,t[52992+e]=r[207][e]);for(r[208]="".split(""),e=0;e!=r[208].length;++e)65533!==r[208][e].charCodeAt(0)&&(n[r[208][e]]=53248+e,t[53248+e]=r[208][e]);for(r[209]="".split(""),e=0;e!=r[209].length;++e)65533!==r[209][e].charCodeAt(0)&&(n[r[209][e]]=53504+e,t[53504+e]=r[209][e]);for(r[210]="".split(""),e=0;e!=r[210].length;++e)65533!==r[210][e].charCodeAt(0)&&(n[r[210][e]]=53760+e,t[53760+e]=r[210][e]);for(r[211]="".split(""),e=0;e!=r[211].length;++e)65533!==r[211][e].charCodeAt(0)&&(n[r[211][e]]=54016+e,t[54016+e]=r[211][e]);for(r[212]="".split(""),e=0;e!=r[212].length;++e)65533!==r[212][e].charCodeAt(0)&&(n[r[212][e]]=54272+e,t[54272+e]=r[212][e]);for(r[213]="".split(""),e=0;e!=r[213].length;++e)65533!==r[213][e].charCodeAt(0)&&(n[r[213][e]]=54528+e,t[54528+e]=r[213][e]);for(r[214]="".split(""),e=0;e!=r[214].length;++e)65533!==r[214][e].charCodeAt(0)&&(n[r[214][e]]=54784+e,t[54784+e]=r[214][e]);for(r[215]="".split(""),e=0;e!=r[215].length;++e)65533!==r[215][e].charCodeAt(0)&&(n[r[215][e]]=55040+e,t[55040+e]=r[215][e]);for(r[216]="".split(""),e=0;e!=r[216].length;++e)65533!==r[216][e].charCodeAt(0)&&(n[r[216][e]]=55296+e,t[55296+e]=r[216][e]);for(r[217]="".split(""),e=0;e!=r[217].length;++e)65533!==r[217][e].charCodeAt(0)&&(n[r[217][e]]=55552+e,t[55552+e]=r[217][e]);for(r[218]="".split(""),e=0;e!=r[218].length;++e)65533!==r[218][e].charCodeAt(0)&&(n[r[218][e]]=55808+e,t[55808+e]=r[218][e]);for(r[219]="".split(""),e=0;e!=r[219].length;++e)65533!==r[219][e].charCodeAt(0)&&(n[r[219][e]]=56064+e,t[56064+e]=r[219][e]);for(r[220]="".split(""),e=0;e!=r[220].length;++e)65533!==r[220][e].charCodeAt(0)&&(n[r[220][e]]=56320+e,t[56320+e]=r[220][e]);for(r[221]="".split(""),e=0;e!=r[221].length;++e)65533!==r[221][e].charCodeAt(0)&&(n[r[221][e]]=56576+e,t[56576+e]=r[221][e]);for(r[222]="".split(""),e=0;e!=r[222].length;++e)65533!==r[222][e].charCodeAt(0)&&(n[r[222][e]]=56832+e,t[56832+e]=r[222][e]);for(r[223]="".split(""),e=0;e!=r[223].length;++e)65533!==r[223][e].charCodeAt(0)&&(n[r[223][e]]=57088+e,t[57088+e]=r[223][e]);for(r[224]="".split(""),e=0;e!=r[224].length;++e)65533!==r[224][e].charCodeAt(0)&&(n[r[224][e]]=57344+e,t[57344+e]=r[224][e]);for(r[225]="".split(""),e=0;e!=r[225].length;++e)65533!==r[225][e].charCodeAt(0)&&(n[r[225][e]]=57600+e,t[57600+e]=r[225][e]);for(r[226]="".split(""),e=0;e!=r[226].length;++e)65533!==r[226][e].charCodeAt(0)&&(n[r[226][e]]=57856+e,t[57856+e]=r[226][e]);for(r[227]="".split(""),e=0;e!=r[227].length;++e)65533!==r[227][e].charCodeAt(0)&&(n[r[227][e]]=58112+e,t[58112+e]=r[227][e]);for(r[228]="".split(""),e=0;e!=r[228].length;++e)65533!==r[228][e].charCodeAt(0)&&(n[r[228][e]]=58368+e,t[58368+e]=r[228][e]);for(r[229]="".split(""),e=0;e!=r[229].length;++e)65533!==r[229][e].charCodeAt(0)&&(n[r[229][e]]=58624+e,t[58624+e]=r[229][e]);for(r[230]="".split(""),e=0;e!=r[230].length;++e)65533!==r[230][e].charCodeAt(0)&&(n[r[230][e]]=58880+e,t[58880+e]=r[230][e]);for(r[231]="".split(""),e=0;e!=r[231].length;++e)65533!==r[231][e].charCodeAt(0)&&(n[r[231][e]]=59136+e,t[59136+e]=r[231][e]);for(r[232]="".split(""),e=0;e!=r[232].length;++e)65533!==r[232][e].charCodeAt(0)&&(n[r[232][e]]=59392+e,t[59392+e]=r[232][e]);for(r[233]="".split(""),e=0;e!=r[233].length;++e)65533!==r[233][e].charCodeAt(0)&&(n[r[233][e]]=59648+e,t[59648+e]=r[233][e]);for(r[234]="".split(""),e=0;e!=r[234].length;++e)65533!==r[234][e].charCodeAt(0)&&(n[r[234][e]]=59904+e,t[59904+e]=r[234][e]);for(r[235]="".split(""),e=0;e!=r[235].length;++e)65533!==r[235][e].charCodeAt(0)&&(n[r[235][e]]=60160+e,t[60160+e]=r[235][e]);for(r[236]="".split(""),e=0;e!=r[236].length;++e)65533!==r[236][e].charCodeAt(0)&&(n[r[236][e]]=60416+e,t[60416+e]=r[236][e]);for(r[237]="".split(""),e=0;e!=r[237].length;++e)65533!==r[237][e].charCodeAt(0)&&(n[r[237][e]]=60672+e,t[60672+e]=r[237][e]);for(r[238]="".split(""),e=0;e!=r[238].length;++e)65533!==r[238][e].charCodeAt(0)&&(n[r[238][e]]=60928+e,t[60928+e]=r[238][e]);for(r[239]="".split(""),e=0;e!=r[239].length;++e)65533!==r[239][e].charCodeAt(0)&&(n[r[239][e]]=61184+e,t[61184+e]=r[239][e]);for(r[240]="".split(""),e=0;e!=r[240].length;++e)65533!==r[240][e].charCodeAt(0)&&(n[r[240][e]]=61440+e,t[61440+e]=r[240][e]);for(r[241]="".split(""),e=0;e!=r[241].length;++e)65533!==r[241][e].charCodeAt(0)&&(n[r[241][e]]=61696+e,t[61696+e]=r[241][e]);for(r[242]="".split(""),e=0;e!=r[242].length;++e)65533!==r[242][e].charCodeAt(0)&&(n[r[242][e]]=61952+e,t[61952+e]=r[242][e]);for(r[243]="".split(""),e=0;e!=r[243].length;++e)65533!==r[243][e].charCodeAt(0)&&(n[r[243][e]]=62208+e,t[62208+e]=r[243][e]);for(r[244]="".split(""),e=0;e!=r[244].length;++e)65533!==r[244][e].charCodeAt(0)&&(n[r[244][e]]=62464+e,t[62464+e]=r[244][e]);for(r[245]="".split(""),e=0;e!=r[245].length;++e)65533!==r[245][e].charCodeAt(0)&&(n[r[245][e]]=62720+e,t[62720+e]=r[245][e]);for(r[246]="".split(""),e=0;e!=r[246].length;++e)65533!==r[246][e].charCodeAt(0)&&(n[r[246][e]]=62976+e,t[62976+e]=r[246][e]);for(r[247]="".split(""),e=0;e!=r[247].length;++e)65533!==r[247][e].charCodeAt(0)&&(n[r[247][e]]=63232+e,t[63232+e]=r[247][e]);return{enc:n,dec:t}}(),n[10029]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[10079]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),n[10081]=function(){for(var e="\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",t=[],n={},r=0;r!=e.length;++r)65533!==e.charCodeAt(r)&&(n[e.charAt(r)]=r),t[r]=e.charAt(r);return{enc:n,dec:t}}(),e.exports&&"undefined"===typeof DO_NOT_EXPORT_CODEPAGE&&(e.exports=n),function(t,r){"use strict";if("undefined"===typeof n){var i=n;e.exports&&"undefined"===typeof DO_NOT_EXPORT_CODEPAGE?e.exports=r(i):t.cptable=r(i)}else n=r(n)}(this,(function(e){"use strict";var n={1200:"utf16le",1201:"utf16be",12e3:"utf32le",12001:"utf32be",16969:"utf64le",20127:"ascii",65e3:"utf7",65001:"utf8"},r=[874,1250,1251,1252,1253,1254,1255,1256,1e4],i=[932,936,949,950],s=[65001],o={},a={},l={},u={},c=function(e){return String.fromCharCode(e)},h=function(e){return e.charCodeAt(0)},p="undefined"!==typeof t,d=function(){};if(p){var f=!t.from;if(!f)try{t.from("foo","utf8")}catch(N){f=!0}d=f?function(e,n){return n?new t(e,n):new t(e)}:t.from.bind(t),t.allocUnsafe||(t.allocUnsafe=function(e){return new t(e)});var m=1024,y=t.allocUnsafe(m),g=function(e){for(var n=t.allocUnsafe(65536),r=0;r<65536;++r)n[r]=0;for(var i=Object.keys(e),s=i.length,o=0,a=i[o];o<s;++o)(a=i[o])&&(n[a.charCodeAt(0)]=e[a]);return n},_=function(n){var r=g(e[n].enc);return function(e,n){var i,s=e.length,o=0,a=0,l=0,u=0;if("string"===typeof e)for(i=t.allocUnsafe(s),o=0;o<s;++o)i[o]=r[e.charCodeAt(o)];else if(t.isBuffer(e)){for(i=t.allocUnsafe(2*s),a=0,o=0;o<s;++o)l=e[o],l<128?i[a++]=r[l]:l<224?(i[a++]=r[((31&l)<<6)+(63&e[o+1])],++o):l<240?(i[a++]=r[((15&l)<<12)+((63&e[o+1])<<6)+(63&e[o+2])],o+=2):(u=((7&l)<<18)+((63&e[o+1])<<12)+((63&e[o+2])<<6)+(63&e[o+3]),o+=3,u<65536?i[a++]=r[u]:(u-=65536,i[a++]=r[55296+(u>>10&1023)],i[a++]=r[56320+(1023&u)]));i=i.slice(0,a)}else for(i=t.allocUnsafe(s),o=0;o<s;++o)i[o]=r[e[o].charCodeAt(0)];return n&&"buf"!==n?"arr"!==n?i.toString("binary"):[].slice.call(i):i}},v=function(n){var r=e[n].dec,i=t.allocUnsafe(131072),s=0,o="";for(s=0;s<r.length;++s)if(o=r[s]){var a=o.charCodeAt(0);i[2*s]=255&a,i[2*s+1]=a>>8}return function(e){var n=e.length,r=0,s=0;if(2*n>m&&(m=2*n,y=t.allocUnsafe(m)),t.isBuffer(e))for(r=0;r<n;r++)s=2*e[r],y[2*r]=i[s],y[2*r+1]=i[s+1];else if("string"===typeof e)for(r=0;r<n;r++)s=2*e.charCodeAt(r),y[2*r]=i[s],y[2*r+1]=i[s+1];else for(r=0;r<n;r++)s=2*e[r],y[2*r]=i[s],y[2*r+1]=i[s+1];return y.slice(0,2*n).toString("ucs2")}},b=function(n){for(var r=e[n].enc,i=t.allocUnsafe(131072),s=0;s<131072;++s)i[s]=0;for(var o=Object.keys(r),a=0,l=o[a];a<o.length;++a)if(l=o[a]){var u=l.charCodeAt(0);i[2*u]=255&r[l],i[2*u+1]=r[l]>>8}return function(e,n){var r=e.length,s=t.allocUnsafe(2*r),o=0,a=0,l=0,u=0,c=0;if("string"===typeof e){for(o=u=0;o<r;++o)a=2*e.charCodeAt(o),s[u++]=i[a+1]||i[a],i[a+1]>0&&(s[u++]=i[a]);s=s.slice(0,u)}else if(t.isBuffer(e)){for(o=u=0;o<r;++o)c=e[o],c<128?a=c:c<224?(a=((31&c)<<6)+(63&e[o+1]),++o):c<240?(a=((15&c)<<12)+((63&e[o+1])<<6)+(63&e[o+2]),o+=2):(a=((7&c)<<18)+((63&e[o+1])<<12)+((63&e[o+2])<<6)+(63&e[o+3]),o+=3),a<65536?(a*=2,s[u++]=i[a+1]||i[a],i[a+1]>0&&(s[u++]=i[a])):(l=a-65536,a=2*(55296+(l>>10&1023)),s[u++]=i[a+1]||i[a],i[a+1]>0&&(s[u++]=i[a]),a=2*(56320+(1023&l)),s[u++]=i[a+1]||i[a],i[a+1]>0&&(s[u++]=i[a]));s=s.slice(0,u)}else for(o=u=0;o<r;o++)a=2*e[o].charCodeAt(0),s[u++]=i[a+1]||i[a],i[a+1]>0&&(s[u++]=i[a]);return n&&"buf"!==n?"arr"!==n?s.toString("binary"):[].slice.call(s):s}},x=function(n){var r,i=e[n].dec,s=t.allocUnsafe(131072),o=0,a=0,l=0,u=0;for(u=0;u<65536;++u)s[2*u]=255,s[2*u+1]=253;for(o=0;o<i.length;++o)(r=i[o])&&(a=r.charCodeAt(0),l=2*o,s[l]=255&a,s[l+1]=a>>8);return function(e){var n=e.length,r=t.allocUnsafe(2*n),i=0,o=0,a=0;if(t.isBuffer(e))for(i=0;i<n;i++)o=2*e[i],255===s[o]&&253===s[o+1]&&(o=2*((e[i]<<8)+e[i+1]),++i),r[a++]=s[o],r[a++]=s[o+1];else if("string"===typeof e)for(i=0;i<n;i++)o=2*e.charCodeAt(i),255===s[o]&&253===s[o+1]&&(o=2*((e.charCodeAt(i)<<8)+e.charCodeAt(i+1)),++i),r[a++]=s[o],r[a++]=s[o+1];else for(i=0;i<n;i++)o=2*e[i],255===s[o]&&253===s[o+1]&&(o=2*((e[i]<<8)+e[i+1]),++i),r[a++]=s[o],r[a++]=s[o+1];return r.slice(0,a).toString("ucs2")}};o[65001]=function e(n){if("string"===typeof n)return e(n.split("").map(h));var r=n.length,i=0,s=0;4*r>m&&(m=4*r,y=t.allocUnsafe(m));var o=0;r>=3&&239==n[0]&&187==n[1]&&191==n[2]&&(o=3);for(var a=1,l=0,u=0;o<r;o+=a)a=1,u=n[o],u<128?i=u:u<224?(i=64*(31&u)+(63&n[o+1]),a=2):u<240?(i=((15&u)<<12)+64*(63&n[o+1])+(63&n[o+2]),a=3):(i=262144*(7&u)+((63&n[o+1])<<12)+64*(63&n[o+2])+(63&n[o+3]),a=4),i<65536?(y[l++]=255&i,y[l++]=i>>8):(i-=65536,s=55296+(i>>10&1023),i=56320+(1023&i),y[l++]=255&s,y[l++]=s>>>8,y[l++]=255&i,y[l++]=i>>>8&255);return y.slice(0,l).toString("ucs2")},a[65001]=function(e,n){if(p&&t.isBuffer(e))return n&&"buf"!==n?"arr"!==n?e.toString("binary"):[].slice.call(e):e;var r=e.length,i=0,s=0,o=0,a="string"===typeof e;4*r>m&&(m=4*r,y=t.allocUnsafe(m));for(var l=0;l<r;++l)i=a?e.charCodeAt(l):e[l].charCodeAt(0),i<=127?y[o++]=i:i<=2047?(y[o++]=192+(i>>6),y[o++]=128+(63&i)):i>=55296&&i<=57343?(i-=55296,++l,s=(a?e.charCodeAt(l):e[l].charCodeAt(0))-56320+(i<<10),y[o++]=240+(s>>>18&7),y[o++]=144+(s>>>12&63),y[o++]=128+(s>>>6&63),y[o++]=128+(63&s)):(y[o++]=224+(i>>12),y[o++]=128+(i>>6&63),y[o++]=128+(63&i));return n&&"buf"!==n?"arr"!==n?y.slice(0,o).toString("binary"):[].slice.call(y,0,o):y.slice(0,o)}}var w=function(){if(p){if(l[r[0]])return;var t=0,n=0;for(t=0;t<r.length;++t)n=r[t],e[n]&&(l[n]=v(n),u[n]=_(n));for(t=0;t<i.length;++t)n=i[t],e[n]&&(l[n]=x(n),u[n]=b(n));for(t=0;t<s.length;++t)n=s[t],o[n]&&(l[n]=o[n]),a[n]&&(u[n]=a[n])}},S=function(e,t){return""},C=function(e){delete l[e],delete u[e]},E=function(){if(p){if(!l[r[0]])return;r.forEach(C),i.forEach(C),s.forEach(C)}I=S,L=0},T={encache:w,decache:E,sbcs:r,dbcs:i};w();var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'(),-./:?",I=S,L=0,M=function r(i,s,o){if(i===L&&I)return I(s,o);if(u[i])return I=u[L=i],I(s,o);p&&t.isBuffer(s)&&(s=s.toString("utf8"));var a,l=s.length,h=p?t.allocUnsafe(4*l):[],f=0,m=0,y=0,g=0,_=e[i],v="",b="string"===typeof s;if(_&&(a=_.enc))for(m=0;m<l;++m,++y)f=a[b?s.charAt(m):s[m]],f>255?(h[y]=f>>8,h[++y]=255&f):h[y]=255&f;else{if(!(v=n[i]))throw new Error("Unrecognized CP: "+i);switch(v){case"utf8":if(p&&b){h=d(s,v),y=h.length;break}for(m=0;m<l;++m,++y)f=b?s.charCodeAt(m):s[m].charCodeAt(0),f<=127?h[y]=f:f<=2047?(h[y]=192+(f>>6),h[++y]=128+(63&f)):f>=55296&&f<=57343?(f-=55296,g=(b?s.charCodeAt(++m):s[++m].charCodeAt(0))-56320+(f<<10),h[y]=240+(g>>>18&7),h[++y]=144+(g>>>12&63),h[++y]=128+(g>>>6&63),h[++y]=128+(63&g)):(h[y]=224+(f>>12),h[++y]=128+(f>>6&63),h[++y]=128+(63&f));break;case"ascii":if(p&&"string"===typeof s){h=d(s,v),y=h.length;break}for(m=0;m<l;++m,++y){if(f=b?s.charCodeAt(m):s[m].charCodeAt(0),!(f<=127))throw new Error("bad ascii "+f);h[y]=f}break;case"utf16le":if(p&&"string"===typeof s){h=d(s,v),y=h.length;break}for(m=0;m<l;++m)f=b?s.charCodeAt(m):s[m].charCodeAt(0),h[y++]=255&f,h[y++]=f>>8;break;case"utf16be":for(m=0;m<l;++m)f=b?s.charCodeAt(m):s[m].charCodeAt(0),h[y++]=f>>8,h[y++]=255&f;break;case"utf32le":for(m=0;m<l;++m)f=b?s.charCodeAt(m):s[m].charCodeAt(0),f>=55296&&f<=57343&&(f=65536+(f-55296<<10)+(s[++m].charCodeAt(0)-56320)),h[y++]=255&f,f>>=8,h[y++]=255&f,f>>=8,h[y++]=255&f,f>>=8,h[y++]=255&f;break;case"utf32be":for(m=0;m<l;++m)f=b?s.charCodeAt(m):s[m].charCodeAt(0),f>=55296&&f<=57343&&(f=65536+(f-55296<<10)+(s[++m].charCodeAt(0)-56320)),h[y+3]=255&f,f>>=8,h[y+2]=255&f,f>>=8,h[y+1]=255&f,f>>=8,h[y]=255&f,y+=4;break;case"utf7":for(m=0;m<l;m++){var x=b?s.charAt(m):s[m].charAt(0);if("+"!==x)if(P.indexOf(x)>-1)h[y++]=x.charCodeAt(0);else{var w=r(1201,x);h[y++]=43,h[y++]=A.charCodeAt(w[0]>>2),h[y++]=A.charCodeAt(((3&w[0])<<4)+((w[1]||0)>>4)),h[y++]=A.charCodeAt(((15&w[1])<<2)+((w[2]||0)>>6)),h[y++]=45}else h[y++]=43,h[y++]=45}break;default:throw new Error("Unsupported magic: "+i+" "+n[i])}}return h=h.slice(0,y),p?o&&"buf"!==o?"arr"!==o?h.toString("binary"):[].slice.call(h):h:"str"==o?h.map(c).join(""):h},O=function r(i,s){var o;if(o=l[i])return o(s);if("string"===typeof s)return r(i,s.split("").map(h));var a,u=s.length,c=new Array(u),d="",f=0,m=0,y=1,g=0,_=0,v=e[i],b="";if(v&&(a=v.dec))for(m=0;m<u;m+=y){if(y=2,d=a[(s[m]<<8)+s[m+1]],d||(y=1,d=a[s[m]]),!d)throw new Error("Unrecognized code: "+s[m]+" "+s[m+y-1]+" "+m+" "+y+" "+a[s[m]]);c[g++]=d}else{if(!(b=n[i]))throw new Error("Unrecognized CP: "+i);switch(b){case"utf8":for(u>=3&&239==s[0]&&187==s[1]&&191==s[2]&&(m=3);m<u;m+=y)y=1,s[m]<128?f=s[m]:s[m]<224?(f=64*(31&s[m])+(63&s[m+1]),y=2):s[m]<240?(f=((15&s[m])<<12)+64*(63&s[m+1])+(63&s[m+2]),y=3):(f=262144*(7&s[m])+((63&s[m+1])<<12)+64*(63&s[m+2])+(63&s[m+3]),y=4),f<65536||(f-=65536,_=55296+(f>>10&1023),f=56320+(1023&f),c[g++]=String.fromCharCode(_)),c[g++]=String.fromCharCode(f);break;case"ascii":if(p&&t.isBuffer(s))return s.toString(b);for(m=0;m<u;m++)c[m]=String.fromCharCode(s[m]);g=u;break;case"utf16le":if(u>=2&&255==s[0]&&254==s[1]&&(m=2),p&&t.isBuffer(s))return s.toString(b);for(y=2;m+1<u;m+=y)c[g++]=String.fromCharCode((s[m+1]<<8)+s[m]);break;case"utf16be":for(u>=2&&254==s[0]&&255==s[1]&&(m=2),y=2;m+1<u;m+=y)c[g++]=String.fromCharCode((s[m]<<8)+s[m+1]);break;case"utf32le":for(u>=4&&255==s[0]&&254==s[1]&&0===s[2]&&0===s[3]&&(m=4),y=4;m<u;m+=y)f=(s[m+3]<<24)+(s[m+2]<<16)+(s[m+1]<<8)+s[m],f>65535?(f-=65536,c[g++]=String.fromCharCode(55296+(f>>10&1023)),c[g++]=String.fromCharCode(56320+(1023&f))):c[g++]=String.fromCharCode(f);break;case"utf32be":for(u>=4&&255==s[3]&&254==s[2]&&0===s[1]&&0===s[0]&&(m=4),y=4;m<u;m+=y)f=(s[m]<<24)+(s[m+1]<<16)+(s[m+2]<<8)+s[m+3],f>65535?(f-=65536,c[g++]=String.fromCharCode(55296+(f>>10&1023)),c[g++]=String.fromCharCode(56320+(1023&f))):c[g++]=String.fromCharCode(f);break;case"utf7":for(u>=4&&43==s[0]&&47==s[1]&&118==s[2]&&(u>=5&&56==s[3]&&45==s[4]?m=5:56!=s[3]&&57!=s[3]&&43!=s[3]&&47!=s[3]||(m=4));m<u;m+=y)if(43===s[m])if(y=1,45!==s[m+1]){while(String.fromCharCode(s[m+y]).match(/[A-Za-z0-9+\/]/))y++;var x=0;45===s[m+y]&&(++y,x=1);for(var w=[],S="",C=0,E=0,T=0,P=0,I=0,L=0,M=0,O=1;O<y-x;){if(P=A.indexOf(String.fromCharCode(s[m+O++])),I=A.indexOf(String.fromCharCode(s[m+O++])),C=P<<2|I>>4,w.push(C),L=A.indexOf(String.fromCharCode(s[m+O++])),-1===L)break;if(E=(15&I)<<4|L>>2,w.push(E),M=A.indexOf(String.fromCharCode(s[m+O++])),-1===M)break;T=(3&L)<<6|M,M<64&&w.push(T)}for(S=r(1201,w),O=0;O<S.length;++O)c[g++]=S.charAt(O)}else y=2,c[g++]="+";else y=1,c[g++]=String.fromCharCode(s[m]);break;default:throw new Error("Unsupported magic: "+i+" "+n[i])}}return c.slice(0,g).join("")},k=function(t){return!(!e[t]&&!n[t])};return e.utils={decode:O,encode:M,hascp:k,magic:n,cache:T},e}))}).call(this,n("b639").Buffer)},2286:function(e,t,n){var r=n("85e3"),i=Math.max;function s(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){var s=arguments,o=-1,a=i(s.length-t,0),l=Array(a);while(++o<a)l[o]=s[t+o];o=-1;var u=Array(t+1);while(++o<t)u[o]=s[o];return u[t]=n(l),r(e,this,u)}}e.exports=s},"234d":function(e,t,n){var r=n("e380"),i=500;function s(e){var t=r(e,(function(e){return n.size===i&&n.clear(),e})),n=t.cache;return t}e.exports=s},"23e2":function(e,t,n){var r=n("242e");function i(e,t,n,i){return r(e,(function(e,r,s){t(i,n(e),r,s)})),i}e.exports=i},2411:function(e,t,n){var r=n("f909"),i=n("2ec1"),s=i((function(e,t,n,i){r(e,t,n,i)}));e.exports=s},"242e":function(e,t,n){var r=n("72af"),i=n("ec69");function s(e,t){return e&&r(e,t,i)}e.exports=s},2474:function(e,t,n){var r=n("2b3e"),i=r.Uint8Array;e.exports=i},2478:function(e,t,n){var r=n("4245");function i(e){return r(this,e).get(e)}e.exports=i},2524:function(e,t,n){var r=n("6044"),i="__lodash_hash_undefined__";function s(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}e.exports=s},"253c":function(e,t,n){var r=n("3729"),i=n("1310"),s="[object Arguments]";function o(e){return i(e)&&r(e)==s}e.exports=o},2593:function(e,t,n){var r=n("15f3"),i=n("c6cf"),s=i((function(e,t){return null==e?{}:r(e,t)}));e.exports=s},"266a":function(e,t,n){var r=n("7948");function i(e,t){return r(t,(function(t){return e[t]}))}e.exports=i},"26e8":function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},"26fa":function(e,t,n){e.exports=a;var r=n("dc1f"),i=n("bbb4"),s=n("2ef0"),o=n("9eab");function a(e){if(e=e||{},e.__reused)throw new Error("Do not reuse objects to configure the elasticsearch Client class: https://github.com/elasticsearch/elasticsearch-js/issues/33");function t(){e.hasOwnProperty("log")||(e.log="warning"),e.hosts||e.host||(e.host="http://localhost:9200"),this.close=function(){this.transport.close()},this.transport=new r(e),s.each(t.prototype,s.bind((function(e,t){e.prototype instanceof i.ApiNamespace&&(this[t]=new e(this.transport,this))}),this)),delete this._namespaces}e.__reused=!0,t.prototype=o.funcEnum(e,"apiVersion",a.apis,"_default"),e.sniffEndpoint||t.prototype!==a.apis["0.90"]||(e.sniffEndpoint="/_cluster/nodes");var l=t;return e.plugins&&(l.prototype=s.cloneDeep(l.prototype),s.each(e.plugins,(function(t){l=t(l,e,{apis:n("726c"),connectors:n("ff05"),loggers:n("5823"),selectors:n("4c87"),serializers:n("793d"),Client:n("26fa"),clientAction:i,Connection:n("0074"),ConnectionPool:n("2035"),Errors:n("de57"),Host:n("4d67"),Log:n("7d33"),Logger:n("270d"),NodesToHost:n("72ce"),Transport:n("dc1f")})||l}))),new l}a.apis=n("726c")},"270d":function(e,t,n){var r=n("2ef0"),i=n("9eab");function s(e,t){this.log=e,this.listeningLevels=[],i.makeBoundMethods(this),this.log.once("closing",this.bound.cleanUpListeners),this.setupListeners(t.levels)}function o(e){return e<10?"0"+e.toString(10):e.toString(10)}function a(e,t){var n=i.repeat(" ",t||2);return(e||"").split(/\r?\n/).map((function(e){return n+e})).join("\n")}s.prototype.timestamp=function(){var e=new Date;return e.getUTCFullYear()+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"Z"},s.prototype.format=function(e,t){return e+": "+this.timestamp()+"\n"+a(t)+"\n\n"},s.prototype.write=function(){throw new Error("This should be overwritten by the logger")},s.prototype.setupListeners=function(e){this.cleanUpListeners(),this.listeningLevels=[],r.each(e,r.bind((function(e){var t="on"+i.ucfirst(e);if(!this.bound[t])throw new Error('Unable to listen for level "'+e+'"');this.listeningLevels.push(e),this.log.on(e,this.bound[t])}),this))},s.prototype.cleanUpListeners=i.handler((function(){r.each(this.listeningLevels,r.bind((function(e){this.log.removeListener(e,this.bound["on"+i.ucfirst(e)])}),this))})),s.prototype.onError=i.handler((function(e){this.write("Error"===e.name?"ERROR":e.name,e.stack)})),s.prototype.onWarning=i.handler((function(e){this.write("WARNING",e)})),s.prototype.onInfo=i.handler((function(e){this.write("INFO",e)})),s.prototype.onDebug=i.handler((function(e){this.write("DEBUG",e)})),s.prototype.onTrace=i.handler((function(e){this.write("TRACE",this._formatTraceMessage(e))})),s.prototype._formatTraceMessage=function(e){return"-> "+e.method+" "+e.url+"\n"+this._prettyJson(e.body)+"\n<- "+e.status+"\n"+this._prettyJson(e.response)},s.prototype._prettyJson=function(e){try{return"string"===typeof e&&(e=JSON.parse(e)),JSON.stringify(e,null,"  ").replace(/'/g,"\\u0027")}catch(t){return"string"===typeof e?e:""}},e.exports=s},"27f3c":function(e,t,n){var r=n("72f0"),i=n("43ad"),s=n("cd9d"),o=Object.prototype,a=o.toString,l=i((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=a.call(t)),e[t]=n}),r(s));e.exports=l},"28a0":function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},"28c9":function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},"29f3":function(e,t){var n=Object.prototype,r=n.toString;function i(e){return r.call(e)}e.exports=i},"2b10":function(e,t){function n(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;var s=Array(i);while(++r<i)s[r]=e[r+t];return s}e.exports=n},"2b3e":function(e,t,n){var r=n("585a"),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();e.exports=s},"2d2d":function(e,t,n){"use strict";var r=n("3fdd"),i=n.n(r);i.a},"2d7c":function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length,i=0,s=[];while(++n<r){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}e.exports=n},"2dcb":function(e,t,n){var r=n("91e9"),i=r(Object.getPrototypeOf,Object);e.exports=i},"2ec1":function(e,t,n){var r=n("100e"),i=n("9aff");function s(e){return r((function(t,n){var r=-1,s=n.length,o=s>1?n[s-1]:void 0,a=s>2?n[2]:void 0;o=e.length>3&&"function"==typeof o?(s--,o):void 0,a&&i(n[0],n[1],a)&&(o=s<3?void 0:o,s=1),t=Object(t);while(++r<s){var l=n[r];l&&e(t,l,r,o)}return t}))}e.exports=s},"2fcc":function(e,t){function n(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}e.exports=n},3:function(e,t){},3022:function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,s=r.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=s)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),l=r[n];n<s;l=r[++n])v(l)||!T(l)?o+=" "+l:o+=" "+a(l);return o},t.deprecate=function(n,r){if("undefined"!==typeof e&&!0===e.noDeprecation)return n;if("undefined"===typeof e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;function s(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}return s};var s,o={};function a(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),_(n)?r.showHidden=n:n&&t._extend(r,n),C(r.showHidden)&&(r.showHidden=!1),C(r.depth)&&(r.depth=2),C(r.colors)&&(r.colors=!1),C(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),h(r,e,r.depth)}function l(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function u(e,t){return e}function c(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}function h(e,n,r){if(e.customInspect&&n&&I(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return w(i)||(i=h(e,i,r)),i}var s=p(e,n);if(s)return s;var o=Object.keys(n),a=c(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),P(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return d(n);if(0===o.length){if(I(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(E(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return e.stylize(Date.prototype.toString.call(n),"date");if(P(n))return d(n)}var u,_="",v=!1,b=["{","}"];if(g(n)&&(v=!0,b=["[","]"]),I(n)){var x=n.name?": "+n.name:"";_=" [Function"+x+"]"}return E(n)&&(_=" "+RegExp.prototype.toString.call(n)),A(n)&&(_=" "+Date.prototype.toUTCString.call(n)),P(n)&&(_=" "+d(n)),0!==o.length||v&&0!=n.length?r<0?E(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=v?f(e,n,r,a,o):o.map((function(t){return m(e,n,r,a,t,v)})),e.seen.pop(),y(u,_,b)):b[0]+_+b[1]}function p(e,t){if(C(t))return e.stylize("undefined","undefined");if(w(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return x(t)?e.stylize(""+t,"number"):_(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var s=[],o=0,a=t.length;o<a;++o)R(t,String(o))?s.push(m(e,t,n,r,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(m(e,t,n,r,i,!0))})),s}function m(e,t,n,r,i,s){var o,a,l;if(l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},l.get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),R(r,i)||(o="["+i+"]"),a||(e.seen.indexOf(l.value)<0?(a=v(n)?h(e,l.value,null):h(e,l.value,n-1),a.indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n"))):a=e.stylize("[Circular]","special")),C(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function y(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function g(e){return Array.isArray(e)}function _(e){return"boolean"===typeof e}function v(e){return null===e}function b(e){return null==e}function x(e){return"number"===typeof e}function w(e){return"string"===typeof e}function S(e){return"symbol"===typeof e}function C(e){return void 0===e}function E(e){return T(e)&&"[object RegExp]"===M(e)}function T(e){return"object"===typeof e&&null!==e}function A(e){return T(e)&&"[object Date]"===M(e)}function P(e){return T(e)&&("[object Error]"===M(e)||e instanceof Error)}function I(e){return"function"===typeof e}function L(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function M(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(C(s)&&(s=Object({NODE_ENV:"production",VUE_APP_BASE_URL:"http://10.10.50.194:20087",VUE_APP_IMAGE_ROOT:"cimage",BASE_URL:"/dist/static/"}).NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(s)){var r=e.pid;o[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else o[n]=function(){};return o[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=g,t.isBoolean=_,t.isNull=v,t.isNullOrUndefined=b,t.isNumber=x,t.isString=w,t.isSymbol=S,t.isUndefined=C,t.isRegExp=E,t.isObject=T,t.isDate=A,t.isError=P,t.isFunction=I,t.isPrimitive=L,t.isBuffer=n("d60a");var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",N(),t.format.apply(t,arguments))},t.inherits=n("28a0"),t._extend=function(e,t){if(!t||!T(t))return e;var n=Object.keys(t),r=n.length;while(r--)e[n[r]]=t[n[r]];return e};var D="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function F(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function B(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};t.apply(this,n).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(F,t,o)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(D&&e[D]){var t=e[D];if("function"!==typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,D,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(o){n(o)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),D&&Object.defineProperty(t,D,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=D,t.callbackify=B}).call(this,n("4362"))},"30c9":function(e,t,n){var r=n("9520"),i=n("b218");function s(e){return null!=e&&i(e.length)&&!r(e)}e.exports=s},"30e0":function(e,t,n){var r=n("99cd"),i=r(!0);e.exports=i},"31cb":function(e,t,n){var r=n("bbb4").makeFactoryWithModifier((function(e){return n("2ef0").merge(e,{params:{filterPath:{type:"list",name:"filter_path"}}})})),i=n("bbb4").namespaceFactory,s=e.exports={};s._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],s.bulk=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),s.cat=i(),s.cat.prototype.aliases=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),s.cat.prototype.allocation=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),s.cat.prototype.count=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),s.cat.prototype.fielddata=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),s.cat.prototype.health=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},ts:{type:"boolean",default:!0},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/health"}}),s.cat.prototype.help=r({params:{help:{type:"boolean",default:!1},s:{type:"list"}},url:{fmt:"/_cat"}}),s.cat.prototype.indices=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum",default:null,options:["green","yellow","red"]},help:{type:"boolean",default:!1},pri:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),s.cat.prototype.master=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/master"}}),s.cat.prototype.nodeattrs=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodeattrs"}}),s.cat.prototype.nodes=r({params:{format:{type:"string"},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodes"}}),s.cat.prototype.pendingTasks=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/pending_tasks"}}),s.cat.prototype.plugins=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/plugins"}}),s.cat.prototype.recovery=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),s.cat.prototype.repositories=r({params:{format:{type:"string"},local:{type:"boolean",default:!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/repositories"}}),s.cat.prototype.segments=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),s.cat.prototype.shards=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),s.cat.prototype.snapshots=r({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean",default:!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),s.cat.prototype.tasks=r({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/tasks"}}),s.cat.prototype.templates=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/templates/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_cat/templates"}]}),s.cat.prototype.threadPool=r({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),s.clearScroll=r({url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"DELETE"}),s.cluster=i(),s.cluster.prototype.allocationExplain=r({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),s.cluster.prototype.getSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),s.cluster.prototype.health=r({params:{expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},level:{type:"enum",default:"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForNoInitializingShards:{type:"boolean",name:"wait_for_no_initializing_shards"},waitForStatus:{type:"enum",default:null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),s.cluster.prototype.pendingTasks=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),s.cluster.prototype.putSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},needBody:!0,method:"PUT"}),s.cluster.prototype.remoteInfo=r({url:{fmt:"/_remote/info"}}),s.cluster.prototype.reroute=r({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),s.cluster.prototype.state=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},waitForMetadataVersion:{type:"number",name:"wait_for_metadata_version"},waitForTimeout:{type:"time",name:"wait_for_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),s.cluster.prototype.stats=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),s.count=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"list"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},terminateAfter:{type:"number",name:"terminate_after"}},urls:[{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),s.create=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/_create/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s["delete"]=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"DELETE"}),s.deleteByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}},needBody:!0,method:"POST"}),s.deleteByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_delete_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.deleteScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.exists=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.existsSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.explain=r({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},url:{fmt:"/<%=index%>/_explain/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"POST"}),s.fieldCaps=r({params:{fields:{type:"list"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},includeUnmapped:{type:"boolean",default:!1,name:"include_unmapped"}},urls:[{fmt:"/<%=index%>/_field_caps",req:{index:{type:"list"}}},{fmt:"/_field_caps"}],method:"POST"}),s.get=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.getScript=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}}),s.getSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.index=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum",default:"index",options:["index","create"],name:"op_type"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_doc",req:{index:{type:"string"}}}],needBody:!0,method:"POST"}),s.indices=i(),s.indices.prototype.analyze=r({params:{index:{type:"string"}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),s.indices.prototype.clearCache=r({params:{fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),s.indices.prototype.clone=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_clone/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.close=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.create=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),s.indices.prototype["delete"]=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteTemplate=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),s.indices.prototype.exists=r({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}}],method:"HEAD"}),s.indices.prototype.existsTemplate=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsType=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),s.indices.prototype.flush=r({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),s.indices.prototype.flushSynced=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),s.indices.prototype.forcemerge=r({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),s.indices.prototype.get=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}}}),s.indices.prototype.getAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),s.indices.prototype.getFieldMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),s.indices.prototype.getMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping"}]}),s.indices.prototype.getSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),s.indices.prototype.getTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),s.indices.prototype.getUpgrade=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),s.indices.prototype.open=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"closed",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.putAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),s.indices.prototype.putMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},needBody:!0,method:"PUT"}),s.indices.prototype.putSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),s.indices.prototype.putTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},order:{type:"number"},create:{type:"boolean",default:!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),s.indices.prototype.recovery=r({params:{detailed:{type:"boolean",default:!1},activeOnly:{type:"boolean",default:!1,name:"active_only"}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),s.indices.prototype.refresh=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),s.indices.prototype.rollover=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),s.indices.prototype.segments=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},verbose:{type:"boolean",default:!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),s.indices.prototype.shardStores=r({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),s.indices.prototype.shrink=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.split=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_split/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},level:{type:"enum",default:"indices",options:["cluster","indices","shards"]},types:{type:"list"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},forbidClosedIndices:{type:"boolean",default:!0,name:"forbid_closed_indices"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),s.indices.prototype.updateAliases=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),s.indices.prototype.upgrade=r({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),s.indices.prototype.validateQuery=r({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},rewrite:{type:"boolean"},allShards:{type:"boolean",name:"all_shards"}},urls:[{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),s.info=r({url:{fmt:"/"}}),s.ingest=i(),s.ingest.prototype.deletePipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.ingest.prototype.getPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),s.ingest.prototype.processorGrok=r({url:{fmt:"/_ingest/processor/grok"}}),s.ingest.prototype.putPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),s.ingest.prototype.simulate=r({params:{verbose:{type:"boolean",default:!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),s.mget=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},urls:[{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),s.msearch=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},typedKeys:{type:"boolean",name:"typed_keys"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),s.msearchTemplate=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},typedKeys:{type:"boolean",name:"typed_keys"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),s.mtermvectors=r({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),s.nodes=i(),s.nodes.prototype.hotThreads=r({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},url:{}}),s.nodes.prototype.info=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),s.nodes.prototype.reloadSecureSettings=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/reload_secure_settings",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/reload_secure_settings"}],method:"POST"}),s.nodes.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},level:{type:"enum",default:"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),s.nodes.prototype.usage=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/usage/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/<%=nodeId%>/usage",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/usage/<%=metric%>",req:{metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/usage"}]}),s.ping=r({url:{fmt:"/"},method:"HEAD"}),s.putScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},context:{type:"string"}},urls:[{fmt:"/_scripts/<%=id%>/<%=context%>",req:{id:{type:"string"},context:{type:"string"}}},{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}],needBody:!0,method:"PUT"}),s.rankEval=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_rank_eval",req:{index:{type:"list"}}},{fmt:"/_rank_eval"}],needBody:!0,method:"POST"}),s.reindex=r({params:{refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},scroll:{type:"time",default:"5m"},slices:{type:"number",default:1},maxDocs:{type:"number",name:"max_docs"}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),s.reindexRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.renderSearchTemplate=r({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),s.scriptsPainlessExecute=r({url:{fmt:"/_scripts/painless/_execute"},method:"POST"}),s.scroll=r({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"POST"}),s.search=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum",default:"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},trackTotalHits:{type:"boolean",name:"track_total_hits"},allowPartialSearchResults:{type:"boolean",default:!0,name:"allow_partial_search_results"},typedKeys:{type:"boolean",name:"typed_keys"},version:{type:"boolean"},seqNoPrimaryTerm:{type:"boolean",name:"seq_no_primary_term"},requestCache:{type:"boolean",name:"request_cache"},batchedReduceSize:{type:"number",default:512,name:"batched_reduce_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},urls:[{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),s.searchShards=r({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),s.searchTemplate=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},explain:{type:"boolean"},profile:{type:"boolean"},typedKeys:{type:"boolean",name:"typed_keys"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],needBody:!0,method:"POST"}),s.snapshot=i(),s.snapshot.prototype.create=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.createRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),s.snapshot.prototype["delete"]=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),s.snapshot.prototype.deleteRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),s.snapshot.prototype.get=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},verbose:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),s.snapshot.prototype.getRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),s.snapshot.prototype.restore=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.status=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),s.snapshot.prototype.verifyRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),s.tasks=i(),s.tasks.prototype.cancel=r({params:{nodes:{type:"list"},actions:{type:"list"},parentTaskId:{type:"string",name:"parent_task_id"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),s.tasks.prototype.get=r({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"},timeout:{type:"time"}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),s.tasks.prototype.list=r({params:{nodes:{type:"list"},actions:{type:"list"},detailed:{type:"boolean"},parentTaskId:{type:"string",name:"parent_task_id"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum",default:"nodes",options:["nodes","parents","none"],name:"group_by"},timeout:{type:"time"}},url:{fmt:"/_tasks"}}),s.termvectors=r({params:{termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_termvectors/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_termvectors",req:{index:{type:"string"}}}],method:"POST"}),s.update=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},lang:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"}},url:{fmt:"/<%=index%>/_update/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s.updateByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}},method:"POST"}),s.updateByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_update_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"})},"32b3":function(e,t,n){var r=n("872a"),i=n("9638"),s=Object.prototype,o=s.hasOwnProperty;function a(e,t,n){var s=e[t];o.call(e,t)&&i(s,n)&&(void 0!==n||t in e)||r(e,t,n)}e.exports=a},"32c1":function(e,t,n){var r=n("bbb4").makeFactoryWithModifier((function(e){return n("2ef0").merge(e,{params:{filterPath:{type:"list",name:"filter_path"}}})})),i=n("bbb4").namespaceFactory,s=e.exports={};s._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],s.bulk=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),s.cat=i(),s.cat.prototype.aliases=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),s.cat.prototype.allocation=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),s.cat.prototype.count=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),s.cat.prototype.fielddata=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),s.cat.prototype.health=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},ts:{type:"boolean",default:!0},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/health"}}),s.cat.prototype.help=r({params:{help:{type:"boolean",default:!1},s:{type:"list"}},url:{fmt:"/_cat"}}),s.cat.prototype.indices=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum",default:null,options:["green","yellow","red"]},help:{type:"boolean",default:!1},pri:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),s.cat.prototype.master=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/master"}}),s.cat.prototype.nodeattrs=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodeattrs"}}),s.cat.prototype.nodes=r({params:{format:{type:"string"},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodes"}}),s.cat.prototype.pendingTasks=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/pending_tasks"}}),s.cat.prototype.plugins=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/plugins"}}),s.cat.prototype.recovery=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),s.cat.prototype.repositories=r({params:{format:{type:"string"},local:{type:"boolean",default:!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/repositories"}}),s.cat.prototype.segments=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),s.cat.prototype.shards=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),s.cat.prototype.snapshots=r({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean",default:!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),s.cat.prototype.tasks=r({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/tasks"}}),s.cat.prototype.templates=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/templates/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_cat/templates"}]}),s.cat.prototype.threadPool=r({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),s.clearScroll=r({url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"DELETE"}),s.cluster=i(),s.cluster.prototype.allocationExplain=r({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),s.cluster.prototype.getSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),s.cluster.prototype.health=r({params:{expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},level:{type:"enum",default:"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForNoInitializingShards:{type:"boolean",name:"wait_for_no_initializing_shards"},waitForStatus:{type:"enum",default:null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),s.cluster.prototype.pendingTasks=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),s.cluster.prototype.putSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},needBody:!0,method:"PUT"}),s.cluster.prototype.remoteInfo=r({url:{fmt:"/_remote/info"}}),s.cluster.prototype.reroute=r({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),s.cluster.prototype.state=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},waitForMetadataVersion:{type:"number",name:"wait_for_metadata_version"},waitForTimeout:{type:"time",name:"wait_for_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),s.cluster.prototype.stats=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),s.count=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"list"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},terminateAfter:{type:"number",name:"terminate_after"}},urls:[{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),s.create=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/_create/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s["delete"]=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"DELETE"}),s.deleteByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}},needBody:!0,method:"POST"}),s.deleteByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_delete_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.deleteScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.exists=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.existsSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.explain=r({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},url:{fmt:"/<%=index%>/_explain/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"POST"}),s.fieldCaps=r({params:{fields:{type:"list"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},includeUnmapped:{type:"boolean",default:!1,name:"include_unmapped"}},urls:[{fmt:"/<%=index%>/_field_caps",req:{index:{type:"list"}}},{fmt:"/_field_caps"}],method:"POST"}),s.get=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.getScript=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}}),s.getSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.index=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum",default:"index",options:["index","create"],name:"op_type"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_doc",req:{index:{type:"string"}}}],needBody:!0,method:"POST"}),s.indices=i(),s.indices.prototype.analyze=r({params:{index:{type:"string"}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),s.indices.prototype.clearCache=r({params:{fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),s.indices.prototype.clone=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_clone/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.close=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.create=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),s.indices.prototype["delete"]=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteTemplate=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),s.indices.prototype.exists=r({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}}],method:"HEAD"}),s.indices.prototype.existsTemplate=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsType=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),s.indices.prototype.flush=r({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),s.indices.prototype.flushSynced=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),s.indices.prototype.forcemerge=r({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),s.indices.prototype.get=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}}}),s.indices.prototype.getAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),s.indices.prototype.getFieldMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),s.indices.prototype.getMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping"}]}),s.indices.prototype.getSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),s.indices.prototype.getTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),s.indices.prototype.getUpgrade=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),s.indices.prototype.open=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"closed",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.putAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),s.indices.prototype.putMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},needBody:!0,method:"PUT"}),s.indices.prototype.putSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),s.indices.prototype.putTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},order:{type:"number"},create:{type:"boolean",default:!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),s.indices.prototype.recovery=r({params:{detailed:{type:"boolean",default:!1},activeOnly:{type:"boolean",default:!1,name:"active_only"}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),s.indices.prototype.refresh=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),s.indices.prototype.rollover=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),s.indices.prototype.segments=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},verbose:{type:"boolean",default:!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),s.indices.prototype.shardStores=r({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),s.indices.prototype.shrink=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.split=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_split/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},level:{type:"enum",default:"indices",options:["cluster","indices","shards"]},types:{type:"list"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},forbidClosedIndices:{type:"boolean",default:!0,name:"forbid_closed_indices"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),s.indices.prototype.updateAliases=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),s.indices.prototype.upgrade=r({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),s.indices.prototype.validateQuery=r({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},rewrite:{type:"boolean"},allShards:{type:"boolean",name:"all_shards"}},urls:[{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),s.info=r({url:{fmt:"/"}}),s.ingest=i(),s.ingest.prototype.deletePipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.ingest.prototype.getPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),s.ingest.prototype.processorGrok=r({url:{fmt:"/_ingest/processor/grok"}}),s.ingest.prototype.putPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),s.ingest.prototype.simulate=r({params:{verbose:{type:"boolean",default:!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),s.mget=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},urls:[{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),s.msearch=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},typedKeys:{type:"boolean",name:"typed_keys"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),s.msearchTemplate=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},typedKeys:{type:"boolean",name:"typed_keys"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),s.mtermvectors=r({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),s.nodes=i(),s.nodes.prototype.hotThreads=r({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},url:{}}),s.nodes.prototype.info=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),s.nodes.prototype.reloadSecureSettings=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/reload_secure_settings",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/reload_secure_settings"}],method:"POST"}),s.nodes.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},level:{type:"enum",default:"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),s.nodes.prototype.usage=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/usage/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/<%=nodeId%>/usage",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/usage/<%=metric%>",req:{metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/usage"}]}),s.ping=r({url:{fmt:"/"},method:"HEAD"}),s.putScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},context:{type:"string"}},urls:[{fmt:"/_scripts/<%=id%>/<%=context%>",req:{id:{type:"string"},context:{type:"string"}}},{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}],needBody:!0,method:"PUT"}),s.rankEval=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_rank_eval",req:{index:{type:"list"}}},{fmt:"/_rank_eval"}],needBody:!0,method:"POST"}),s.reindex=r({params:{refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},scroll:{type:"time",default:"5m"},slices:{type:"number",default:1},maxDocs:{type:"number",name:"max_docs"}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),s.reindexRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.renderSearchTemplate=r({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),s.scriptsPainlessExecute=r({url:{fmt:"/_scripts/painless/_execute"},method:"POST"}),s.scroll=r({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"POST"}),s.search=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum",default:"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},trackTotalHits:{type:"boolean",name:"track_total_hits"},allowPartialSearchResults:{type:"boolean",default:!0,name:"allow_partial_search_results"},typedKeys:{type:"boolean",name:"typed_keys"},version:{type:"boolean"},seqNoPrimaryTerm:{type:"boolean",name:"seq_no_primary_term"},requestCache:{type:"boolean",name:"request_cache"},batchedReduceSize:{type:"number",default:512,name:"batched_reduce_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},urls:[{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),s.searchShards=r({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),s.searchTemplate=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},explain:{type:"boolean"},profile:{type:"boolean"},typedKeys:{type:"boolean",name:"typed_keys"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],needBody:!0,method:"POST"}),s.snapshot=i(),s.snapshot.prototype.create=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.createRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),s.snapshot.prototype["delete"]=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),s.snapshot.prototype.deleteRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),s.snapshot.prototype.get=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},verbose:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),s.snapshot.prototype.getRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),s.snapshot.prototype.restore=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.status=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),s.snapshot.prototype.verifyRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),s.tasks=i(),s.tasks.prototype.cancel=r({params:{nodes:{type:"list"},actions:{type:"list"},parentTaskId:{type:"string",name:"parent_task_id"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),s.tasks.prototype.get=r({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"},timeout:{type:"time"}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),s.tasks.prototype.list=r({params:{nodes:{type:"list"},actions:{type:"list"},detailed:{type:"boolean"},parentTaskId:{type:"string",name:"parent_task_id"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum",default:"nodes",options:["nodes","parents","none"],name:"group_by"},timeout:{type:"time"}},url:{fmt:"/_tasks"}}),s.termvectors=r({params:{termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_termvectors/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_termvectors",req:{index:{type:"string"}}}],method:"POST"}),s.update=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},lang:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"}},url:{fmt:"/<%=index%>/_update/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s.updateByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}},method:"POST"}),s.updateByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_update_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"})},"32f4":function(e,t,n){var r=n("2d7c"),i=n("d327"),s=Object.prototype,o=s.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=l},"34ac":function(e,t,n){var r=n("9520"),i=n("1368"),s=n("1a8c"),o=n("dc57"),a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,h=u.toString,p=c.hasOwnProperty,d=RegExp("^"+h.call(p).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(e){if(!s(e)||i(e))return!1;var t=r(e)?d:l;return t.test(o(e))}e.exports=f},"35be":function(e,t,n){var r=n("bbb4").makeFactoryWithModifier((function(e){return n("2ef0").merge(e,{params:{filterPath:{type:"list",name:"filter_path"}}})})),i=n("bbb4").namespaceFactory,s=e.exports={};s._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],s.bulk=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),s.cat=i(),s.cat.prototype.aliases=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),s.cat.prototype.allocation=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),s.cat.prototype.count=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),s.cat.prototype.fielddata=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),s.cat.prototype.health=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},ts:{type:"boolean",default:!0},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/health"}}),s.cat.prototype.help=r({params:{help:{type:"boolean",default:!1},s:{type:"list"}},url:{fmt:"/_cat"}}),s.cat.prototype.indices=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum",default:null,options:["green","yellow","red"]},help:{type:"boolean",default:!1},pri:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),s.cat.prototype.master=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/master"}}),s.cat.prototype.nodeattrs=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodeattrs"}}),s.cat.prototype.nodes=r({params:{format:{type:"string"},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodes"}}),s.cat.prototype.pendingTasks=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/pending_tasks"}}),s.cat.prototype.plugins=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/plugins"}}),s.cat.prototype.recovery=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),s.cat.prototype.repositories=r({params:{format:{type:"string"},local:{type:"boolean",default:!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/repositories"}}),s.cat.prototype.segments=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),s.cat.prototype.shards=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),s.cat.prototype.snapshots=r({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean",default:!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),s.cat.prototype.tasks=r({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/tasks"}}),s.cat.prototype.templates=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/templates/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_cat/templates"}]}),s.cat.prototype.threadPool=r({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),s.clearScroll=r({url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"DELETE"}),s.cluster=i(),s.cluster.prototype.allocationExplain=r({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),s.cluster.prototype.getSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),s.cluster.prototype.health=r({params:{expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},level:{type:"enum",default:"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForNoInitializingShards:{type:"boolean",name:"wait_for_no_initializing_shards"},waitForStatus:{type:"enum",default:null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),s.cluster.prototype.pendingTasks=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),s.cluster.prototype.putSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},needBody:!0,method:"PUT"}),s.cluster.prototype.remoteInfo=r({url:{fmt:"/_remote/info"}}),s.cluster.prototype.reroute=r({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),s.cluster.prototype.state=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},waitForMetadataVersion:{type:"number",name:"wait_for_metadata_version"},waitForTimeout:{type:"time",name:"wait_for_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),s.cluster.prototype.stats=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),s.count=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"list"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},terminateAfter:{type:"number",name:"terminate_after"}},urls:[{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),s.create=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/_create/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s["delete"]=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"DELETE"}),s.deleteByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}},needBody:!0,method:"POST"}),s.deleteByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_delete_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.deleteScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.exists=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.existsSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.explain=r({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},url:{fmt:"/<%=index%>/_explain/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"POST"}),s.fieldCaps=r({params:{fields:{type:"list"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},includeUnmapped:{type:"boolean",default:!1,name:"include_unmapped"}},urls:[{fmt:"/<%=index%>/_field_caps",req:{index:{type:"list"}}},{fmt:"/_field_caps"}],method:"POST"}),s.get=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.getScript=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}}),s.getSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.index=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum",default:"index",options:["index","create"],name:"op_type"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_doc",req:{index:{type:"string"}}}],needBody:!0,method:"POST"}),s.indices=i(),s.indices.prototype.analyze=r({params:{index:{type:"string"}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),s.indices.prototype.clearCache=r({params:{fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),s.indices.prototype.clone=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_clone/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.close=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.create=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),s.indices.prototype["delete"]=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteTemplate=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),s.indices.prototype.exists=r({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}}],method:"HEAD"}),s.indices.prototype.existsTemplate=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsType=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),s.indices.prototype.flush=r({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),s.indices.prototype.flushSynced=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),s.indices.prototype.forcemerge=r({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),s.indices.prototype.get=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}}}),s.indices.prototype.getAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),s.indices.prototype.getFieldMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),s.indices.prototype.getMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping"}]}),s.indices.prototype.getSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),s.indices.prototype.getTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),s.indices.prototype.getUpgrade=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),s.indices.prototype.open=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"closed",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.putAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),s.indices.prototype.putMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},needBody:!0,method:"PUT"}),s.indices.prototype.putSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),s.indices.prototype.putTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},order:{type:"number"},create:{type:"boolean",default:!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),s.indices.prototype.recovery=r({params:{detailed:{type:"boolean",default:!1},activeOnly:{type:"boolean",default:!1,name:"active_only"}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),s.indices.prototype.refresh=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),s.indices.prototype.rollover=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),s.indices.prototype.segments=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},verbose:{type:"boolean",default:!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),s.indices.prototype.shardStores=r({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),s.indices.prototype.shrink=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.split=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_split/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},level:{type:"enum",default:"indices",options:["cluster","indices","shards"]},types:{type:"list"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},forbidClosedIndices:{type:"boolean",default:!0,name:"forbid_closed_indices"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),s.indices.prototype.updateAliases=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),s.indices.prototype.upgrade=r({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),s.indices.prototype.validateQuery=r({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},rewrite:{type:"boolean"},allShards:{type:"boolean",name:"all_shards"}},urls:[{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),s.info=r({url:{fmt:"/"}}),s.ingest=i(),s.ingest.prototype.deletePipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.ingest.prototype.getPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),s.ingest.prototype.processorGrok=r({url:{fmt:"/_ingest/processor/grok"}}),s.ingest.prototype.putPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),s.ingest.prototype.simulate=r({params:{verbose:{type:"boolean",default:!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),s.mget=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},urls:[{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),s.msearch=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},typedKeys:{type:"boolean",name:"typed_keys"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),s.msearchTemplate=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},typedKeys:{type:"boolean",name:"typed_keys"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),s.mtermvectors=r({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),s.nodes=i(),s.nodes.prototype.hotThreads=r({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},url:{}}),s.nodes.prototype.info=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),s.nodes.prototype.reloadSecureSettings=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/reload_secure_settings",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/reload_secure_settings"}],method:"POST"}),s.nodes.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},level:{type:"enum",default:"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),s.nodes.prototype.usage=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/usage/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/<%=nodeId%>/usage",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/usage/<%=metric%>",req:{metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/usage"}]}),s.ping=r({url:{fmt:"/"},method:"HEAD"}),s.putScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},context:{type:"string"}},urls:[{fmt:"/_scripts/<%=id%>/<%=context%>",req:{id:{type:"string"},context:{type:"string"}}},{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}],needBody:!0,method:"PUT"}),s.rankEval=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_rank_eval",req:{index:{type:"list"}}},{fmt:"/_rank_eval"}],needBody:!0,method:"POST"}),s.reindex=r({params:{refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},scroll:{type:"time",default:"5m"},slices:{type:"number",default:1},maxDocs:{type:"number",name:"max_docs"}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),s.reindexRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.renderSearchTemplate=r({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),s.scriptsPainlessExecute=r({url:{fmt:"/_scripts/painless/_execute"},method:"POST"}),s.scroll=r({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"POST"}),s.search=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum",default:"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},trackTotalHits:{type:"boolean",name:"track_total_hits"},allowPartialSearchResults:{type:"boolean",default:!0,name:"allow_partial_search_results"},typedKeys:{type:"boolean",name:"typed_keys"},version:{type:"boolean"},seqNoPrimaryTerm:{type:"boolean",name:"seq_no_primary_term"},requestCache:{type:"boolean",name:"request_cache"},batchedReduceSize:{type:"number",default:512,name:"batched_reduce_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},urls:[{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),s.searchShards=r({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),s.searchTemplate=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},explain:{type:"boolean"},profile:{type:"boolean"},typedKeys:{type:"boolean",name:"typed_keys"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],needBody:!0,method:"POST"}),s.snapshot=i(),s.snapshot.prototype.create=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.createRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),s.snapshot.prototype["delete"]=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),s.snapshot.prototype.deleteRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),s.snapshot.prototype.get=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},verbose:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),s.snapshot.prototype.getRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),s.snapshot.prototype.restore=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.status=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),s.snapshot.prototype.verifyRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),s.tasks=i(),s.tasks.prototype.cancel=r({params:{nodes:{type:"list"},actions:{type:"list"},parentTaskId:{type:"string",name:"parent_task_id"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),s.tasks.prototype.get=r({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"},timeout:{type:"time"}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),s.tasks.prototype.list=r({params:{nodes:{type:"list"},actions:{type:"list"},detailed:{type:"boolean"},parentTaskId:{type:"string",name:"parent_task_id"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum",default:"nodes",options:["nodes","parents","none"],name:"group_by"},timeout:{type:"time"}},url:{fmt:"/_tasks"}}),s.termvectors=r({params:{termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_termvectors/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_termvectors",req:{index:{type:"string"}}}],method:"POST"}),s.update=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},lang:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"}},url:{fmt:"/<%=index%>/_update/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s.updateByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}},method:"POST"}),s.updateByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_update_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"})},"35e8":function(e,t,n){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},3698:function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},3729:function(e,t,n){var r=n("9e69"),i=n("00fd"),s=n("29f3"),o="[object Null]",a="[object Undefined]",l=r?r.toStringTag:void 0;function u(e){return null==e?void 0===e?a:o:l&&l in Object(e)?i(e):s(e)}e.exports=u},3818:function(e,t,n){var r=n("7e64"),i=n("8057"),s=n("32b3"),o=n("5b01"),a=n("0f0f"),l=n("e5383"),u=n("4359"),c=n("54eb"),h=n("1041"),p=n("a994"),d=n("1bac"),f=n("42a2"),m=n("c87c"),y=n("c2b6"),g=n("fa21"),_=n("6747"),v=n("0d24"),b=n("cc45"),x=n("1a8c"),w=n("d7ee"),S=n("ec69"),C=n("9934"),E=1,T=2,A=4,P="[object Arguments]",I="[object Array]",L="[object Boolean]",M="[object Date]",O="[object Error]",k="[object Function]",N="[object GeneratorFunction]",R="[object Map]",D="[object Number]",F="[object Object]",B="[object RegExp]",q="[object Set]",z="[object String]",U="[object Symbol]",G="[object WeakMap]",j="[object ArrayBuffer]",V="[object DataView]",W="[object Float32Array]",H="[object Float64Array]",J="[object Int8Array]",X="[object Int16Array]",Z="[object Int32Array]",Y="[object Uint8Array]",K="[object Uint8ClampedArray]",Q="[object Uint16Array]",$="[object Uint32Array]",ee={};function te(e,t,n,I,L,M){var O,R=t&E,D=t&T,B=t&A;if(n&&(O=L?n(e,I,L,M):n(e)),void 0!==O)return O;if(!x(e))return e;var q=_(e);if(q){if(O=m(e),!R)return u(e,O)}else{var z=f(e),U=z==k||z==N;if(v(e))return l(e,R);if(z==F||z==P||U&&!L){if(O=D||U?{}:g(e),!R)return D?h(e,a(O,e)):c(e,o(O,e))}else{if(!ee[z])return L?e:{};O=y(e,z,R)}}M||(M=new r);var G=M.get(e);if(G)return G;M.set(e,O),w(e)?e.forEach((function(r){O.add(te(r,t,n,r,e,M))})):b(e)&&e.forEach((function(r,i){O.set(i,te(r,t,n,i,e,M))}));var j=B?D?d:p:D?C:S,V=q?void 0:j(e);return i(V||e,(function(r,i){V&&(i=r,r=e[i]),s(O,i,te(r,t,n,i,e,M))})),O}ee[P]=ee[I]=ee[j]=ee[V]=ee[L]=ee[M]=ee[W]=ee[H]=ee[J]=ee[X]=ee[Z]=ee[R]=ee[D]=ee[F]=ee[B]=ee[q]=ee[z]=ee[U]=ee[Y]=ee[K]=ee[Q]=ee[$]=!0,ee[O]=ee[k]=ee[G]=!1,e.exports=te},3852:function(e,t,n){var r=n("96f3"),i=n("e2c0");function s(e,t){return null!=e&&i(e,t,r)}e.exports=s},"39ff":function(e,t,n){var r=n("0b07"),i=n("2b3e"),s=r(i,"WeakMap");e.exports=s},"3a0e":function(e,t,n){var r=n("86e1"),i=n("100e"),s=i(r);e.exports=s},"3ac1":function(e,t,n){},"3b4a":function(e,t,n){var r=n("0b07"),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},"3bb4":function(e,t,n){var r=n("08cc"),i=n("ec69");function s(e){var t=i(e),n=t.length;while(n--){var s=t[n],o=e[s];t[n]=[s,o,r(o)]}return t}e.exports=s},"3cfe":function(e,t,n){var r=n("4bb5");function i(e,t){return null==e||r(e,t)}e.exports=i},"3ede":function(e,t,n){e.exports=l;var r=n("2ef0"),i=n("9eab"),s=n("0074"),o=n("de57").ConnectionFault,a=!(navigator&&/PhantomJS/i.test(navigator.userAgent));function l(e,t){s.call(this,e,t)}i.inherits(l,s);var u=r.noop;if(u="undefined"!==typeof XMLHttpRequest?function(){return new XMLHttpRequest}:r(["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"]).map((function(e){try{new window.ActiveXObject(e);return function(){return new window.ActiveXObject(e)}}catch(t){return!1}})).compact().head(),!u)throw new Error("getXhr(): XMLHttpRequest not available");l.prototype.request=function(e,t){var n,r=u(),i=this.host,s=this.log,l=i.makeUrl(e),c=i.getHeaders(e.headers),h=!1!==e.async&&a;if(r.open(e.method||"GET",l,h),c)for(var p in c)void 0!==c[p]&&r.setRequestHeader(p,c[p]);return r.onreadystatechange=function(){if(4===r.readyState){clearTimeout(n),s.trace(e.method,l,e.body,r.responseText,r.status);var i=r.status?void 0:new o(r.statusText||"Request failed to complete.");t(i,r.responseText,r.status)}},r.send(e.body||void 0),function(){r.abort()}}},"3eea":function(e,t,n){var r=n("7948"),i=n("3818"),s=n("4bb5"),o=n("e2e4"),a=n("8eeb"),l=n("e0e7b"),u=n("c6cf"),c=n("1bac"),h=1,p=2,d=4,f=u((function(e,t){var n={};if(null==e)return n;var u=!1;t=r(t,(function(t){return t=o(t,e),u||(u=t.length>1),t})),a(e,c(e),n),u&&(n=i(n,h|p|d,l));var f=t.length;while(f--)s(n,t[f]);return n}));e.exports=f},"3f84":function(e,t,n){var r=n("85e3"),i=n("100e"),s=n("e031"),o=n("2411"),a=i((function(e){return e.push(void 0,s),r(o,void 0,e)}));e.exports=a},"3fdd":function(e,t,n){},"3ff1":function(e,t,n){var r=n("266a"),i=n("ec69");function s(e){return null==e?[]:r(e,i(e))}e.exports=s},"41c3":function(e,t,n){var r=n("1a8c"),i=n("eac5"),s=n("ec8c"),o=Object.prototype,a=o.hasOwnProperty;function l(e){if(!r(e))return s(e);var t=i(e),n=[];for(var o in e)("constructor"!=o||!t&&a.call(e,o))&&n.push(o);return n}e.exports=l},4245:function(e,t,n){var r=n("1290");function i(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=i},42454:function(e,t,n){var r=n("f909"),i=n("2ec1"),s=i((function(e,t,n){r(e,t,n)}));e.exports=s},4284:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}e.exports=n},"42a2":function(e,t,n){var r=n("b5a7"),i=n("79bc"),s=n("1cec"),o=n("c869"),a=n("39ff"),l=n("3729"),u=n("dc57"),c="[object Map]",h="[object Object]",p="[object Promise]",d="[object Set]",f="[object WeakMap]",m="[object DataView]",y=u(r),g=u(i),_=u(s),v=u(o),b=u(a),x=l;(r&&x(new r(new ArrayBuffer(1)))!=m||i&&x(new i)!=c||s&&x(s.resolve())!=p||o&&x(new o)!=d||a&&x(new a)!=f)&&(x=function(e){var t=l(e),n=t==h?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case y:return m;case g:return c;case _:return p;case v:return d;case b:return f}return t}),e.exports=x},4359:function(e,t){function n(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}e.exports=n},"43ad":function(e,t,n){var r=n("23e2");function i(e,t){return function(n,i){return r(n,e,t(i),{})}}e.exports=i},"43da":function(e,t){function n(e){return Object.prototype.toString.call(e)}function r(e){return"[object Date]"===n(e)}function i(e){return"[object String]"===n(e)}function s(e){return i(e)&&!isNaN(Date.parse(e))}function o(e){return"number"===typeof e}function a(e){return Date.parse(e)}e.exports={getObjectType:n,isDate:r,isString:i,isDateString:s,parseDateFromString:a,isNumber:o}},4416:function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},44677:function(e,t,n){var r=n("e2e4"),i=n("9520"),s=n("f4d6");function o(e,t,n){t=r(t,e);var o=-1,a=t.length;a||(a=1,e=void 0);while(++o<a){var l=null==e?void 0:e[s(t[o])];void 0===l&&(o=a,l=n),e=i(l)?l.call(e):l}return e}e.exports=o},4472:function(e,t,n){var r=n("872a"),i=n("242e"),s=n("badf");function o(e,t){var n={};return t=s(t,3),i(e,(function(e,i,s){r(n,t(e,i,s),e)})),n}e.exports=o},"49f4":function(e,t,n){var r=n("6044");function i(){this.__data__=r?r(null):{},this.size=0}e.exports=i},"4bb5":function(e,t,n){var r=n("e2e4"),i=n("4416"),s=n("8296"),o=n("f4d6");function a(e,t){return t=r(t,e),e=s(e,t),null==e||delete e[o(i(t))]}e.exports=a},"4be8":function(e,t,n){var r=n("30e0"),i=n("ec69");function s(e,t){return e&&r(e,t,i)}e.exports=s},"4c87":function(e,t,n){e.exports={random:n("dc6a"),roundRobin:n("bde6")}},"4d67":function(e,t,n){(function(t){e.exports=d;var r,i=n("0b16"),s=n("b383"),o=n("2ef0"),a=n("9eab"),l=/^([a-z]+:)?\/\//,u="http:";"undefined"!==typeof window&&"undefined"!==typeof window.location&&(u=window.location.protocol,r=window.btoa),r=r||function(e){return new t(e,"utf8").toString("base64")};var c=["protocol","hostname","pathname","port","auth","query"],h=["host","path"],p={pfx:null,key:null,passphrase:null,cert:null,ca:null,ciphers:null,rejectUnauthorized:!1,secureProtocol:null};function d(e,t){if(e=o.clone(e||{}),t=t||{},this.protocol="http",this.host="localhost",this.path="",this.port=9200,this.query=null,this.headers=null,this.suggestCompression=!!t.suggestCompression,this.ssl=o.defaults({},e.ssl||{},t.ssl||{},p),"string"===typeof e){var n=e.indexOf(":"),f=e.indexOf("/"),m=-1===f,y=n>-1&&m,g=!y&&n<f;if((m||y||g)&&!l.test(e)&&(e=u+"//"+e),e=o.pick(i.parse(e,!1,!0),c),!e.port){var _=e.protocol||"http";":"===_.charAt(_.length-1)&&(_=_.substring(0,_.length-1)),d.defaultPorts[_]&&(e.port=d.defaultPorts[_])}}o.isObject(e)?o.each(h,(function(t){var n=t+"name";e[n]&&e[t]?0===e[t].indexOf(e[n])&&(e[t]=e[n]):e[n]&&(e[t]=e[n]),delete e[n]})):e={},!e.auth&&t.httpAuth&&(e.auth=t.httpAuth),e.auth&&(e.headers=e.headers||{},e.headers.Authorization="Basic "+r(e.auth),delete e.auth),o.forOwn(e,o.bind((function(e,t){null!=e&&(this[t]=o.clone(e))}),this)),null===this.query?this.query={}:o.isPlainObject(this.query)||(this.query=s.parse(this.query)),a.isNumeric(this.port)?this.port=parseInt(this.port,10):this.port=9200,"/"===this.path?this.path="":this.path&&"/"!==this.path.charAt(0)&&(this.path="/"+(this.path||"")),":"===this.protocol.substr(-1)&&(this.protocol=this.protocol.substring(0,this.protocol.length-1))}function f(e,t){return function(n){t&&(n=t.call(this,n));var r=this[e];return r||n?(n&&(r=o.assign({},r,n)),o.size(r)?r:null):null}}d.defaultPorts={http:80,https:443},d.prototype.makeUrl=function(e){e=e||{};var t="";this.port!==d.defaultPorts[this.protocol]&&(t=":"+this.port);var n=""+(this.path||"")+(e.path||"");"/"!==n.charAt(0)&&(n="/"+n);var r=s.stringify(this.getQuery(e.query));return this.host?this.protocol+"://"+this.host+t+n+(r?"?"+r:""):n+(r?"?"+r:"")},d.prototype.getHeaders=f("headers",(function(e){return this.suggestCompression?o.defaults(e||{},{"Accept-Encoding":"gzip,deflate"}):e})),d.prototype.getQuery=f("query",(function(e){return"string"===typeof e?s.parse(e):e})),d.prototype.toString=function(){return this.makeUrl()}}).call(this,n("b639").Buffer)},"4d8b":function(e,t,n){var r=n("9b02");function i(e,t){var n=-1,i=t.length,s=Array(i),o=null==e;while(++n<i)s[n]=o?void 0:r(e,t[n]);return s}e.exports=i},"4d8c":function(e,t,n){var r=n("5c69");function i(e){var t=null==e?0:e.length;return t?r(e,1):[]}e.exports=i},"4f50":function(e,t,n){var r=n("b760"),i=n("e5383"),s=n("c8fe"),o=n("4359"),a=n("fa21"),l=n("d370"),u=n("6747"),c=n("dcbe"),h=n("0d24"),p=n("9520"),d=n("1a8c"),f=n("60ed"),m=n("73ac"),y=n("8adb"),g=n("8de2");function _(e,t,n,_,v,b,x){var w=y(e,n),S=y(t,n),C=x.get(S);if(C)r(e,n,C);else{var E=b?b(w,S,n+"",e,t,x):void 0,T=void 0===E;if(T){var A=u(S),P=!A&&h(S),I=!A&&!P&&m(S);E=S,A||P||I?u(w)?E=w:c(w)?E=o(w):P?(T=!1,E=i(S,!0)):I?(T=!1,E=s(S,!0)):E=[]:f(S)||l(S)?(E=w,l(w)?E=g(w):d(w)&&!p(w)||(E=a(S))):T=!1}T&&(x.set(S,E),v(E,S,_,b,x),x["delete"](S)),r(e,n,E)}}e.exports=_},"50ca":function(e,t,n){var r=n("8057"),i=n("7530"),s=n("242e"),o=n("badf"),a=n("2dcb"),l=n("6747"),u=n("0d24"),c=n("9520"),h=n("1a8c"),p=n("73ac");function d(e,t,n){var d=l(e),f=d||u(e)||p(e);if(t=o(t,4),null==n){var m=e&&e.constructor;n=f?d?new m:[]:h(e)&&c(m)?i(a(e)):{}}return(f?r:s)(e,(function(e,r,i){return t(n,e,r,i)})),n}e.exports=d},"50d8":function(e,t){function n(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}e.exports=n},"54eb":function(e,t,n){var r=n("8eeb"),i=n("32f4");function s(e,t){return r(e,i(e),t)}e.exports=s},"55a3":function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},"57a5":function(e,t,n){var r=n("91e9"),i=r(Object.keys,Object);e.exports=i},5823:function(e,t,n){e.exports={console:n("812f")}},"585a":function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("c8ba"))},"595b":function(e,t,n){!function(e,n){n(t)}(0,(function(e){"use strict";function t(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");r&&E(r),i&&T(i);var s={type:"Feature"};return i&&(s.id=i),r&&(s.bbox=r),s.properties=t||{},s.geometry=e,s}function n(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var i,o=n.bbox;if(!e)throw new Error("type is required");if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");switch(o&&E(o),e){case"Point":i=r(t).geometry;break;case"LineString":i=a(t).geometry;break;case"Polygon":i=s(t).geometry;break;case"MultiPoint":i=h(t).geometry;break;case"MultiLineString":i=c(t).geometry;break;case"MultiPolygon":i=p(t).geometry;break;default:throw new Error(e+" is invalid")}return o&&(i.bbox=o),i}function r(e,n,r){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(e[0])||!S(e[1]))throw new Error("coordinates must contain numbers");return t({type:"Point",coordinates:e},n,r)}function i(e,t,n){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");return u(e.map((function(e){return r(e,t)})),n)}function s(e,n,r){if(!e)throw new Error("coordinates is required");for(var i=0;i<e.length;i++){var s=e[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<s[s.length-1].length;o++){if(0===i&&0===o&&!S(s[0][0])||!S(s[0][1]))throw new Error("coordinates must contain numbers");if(s[s.length-1][o]!==s[0][o])throw new Error("First and last Position are not equivalent.")}}return t({type:"Polygon",coordinates:e},n,r)}function o(e,t,n){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");return u(e.map((function(e){return s(e,t)})),n)}function a(e,n,r){if(!e)throw new Error("coordinates is required");if(e.length<2)throw new Error("coordinates must be an array of two or more positions");if(!S(e[0][1])||!S(e[0][1]))throw new Error("coordinates must contain numbers");return t({type:"LineString",coordinates:e},n,r)}function l(e,t,n){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");return u(e.map((function(e){return a(e,t)})),n)}function u(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.bbox,r=t.id;if(!e)throw new Error("No features passed");if(!Array.isArray(e))throw new Error("features must be an Array");n&&E(n),r&&T(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=e,i}function c(e,n,r){if(!e)throw new Error("coordinates is required");return t({type:"MultiLineString",coordinates:e},n,r)}function h(e,n,r){if(!e)throw new Error("coordinates is required");return t({type:"MultiPoint",coordinates:e},n,r)}function p(e,n,r){if(!e)throw new Error("coordinates is required");return t({type:"MultiPolygon",coordinates:e},n,r)}function d(e,n,r){if(!e)throw new Error("geometries is required");if(!Array.isArray(e))throw new Error("geometries must be an Array");return t({type:"GeometryCollection",geometries:e},n,r)}function f(e,t){if(void 0===e||null===e||isNaN(e))throw new Error("num is required");if(t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n}function m(e,t){if(void 0===e||null===e)throw new Error("radians is required");if(t&&"string"!=typeof t)throw new Error("units must be a string");var n=Ds[t||"kilometers"];if(!n)throw new Error(t+" units is invalid");return e*n}function y(e,t){if(void 0===e||null===e)throw new Error("distance is required");if(t&&"string"!=typeof t)throw new Error("units must be a string");var n=Ds[t||"kilometers"];if(!n)throw new Error(t+" units is invalid");return e/n}function g(e,t){return v(y(e,t))}function _(e){if(null===e||void 0===e)throw new Error("bearing is required");var t=e%360;return t<0&&(t+=360),t}function v(e){if(null===e||void 0===e)throw new Error("radians is required");return e%(2*Math.PI)*180/Math.PI}function b(e){if(null===e||void 0===e)throw new Error("degrees is required");return e%360*Math.PI/180}function x(e,t,n){if(null===e||void 0===e)throw new Error("length is required");if(!(e>=0))throw new Error("length must be a positive number");return m(y(e,t),n||"kilometers")}function w(e,t,n){if(null===e||void 0===e)throw new Error("area is required");if(!(e>=0))throw new Error("area must be a positive number");var r=Bs[t||"meters"];if(!r)throw new Error("invalid original units");var i=Bs[n||"kilometers"];if(!i)throw new Error("invalid final units");return e/r*i}function S(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function C(e){return!!e&&e.constructor===Object}function E(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!S(e))throw new Error("bbox must only contain numbers")}))}function T(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}function A(e,t,n){if(null!==e)for(var r,i,s,o,a,l,u,c,h=0,p=0,d=e.type,f="FeatureCollection"===d,m="Feature"===d,y=f?e.features.length:1,g=0;g<y;g++){a=(c=!!(u=f?e.features[g].geometry:m?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var _=0;_<a;_++){var v=0,b=0;if(null!==(o=c?u.geometries[_]:u)){l=o.coordinates;var x=o.type;switch(h=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":t(l,p,g,v,b),p++,v++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++)t(l[r],p,g,v,b),p++,"MultiPoint"===x&&v++;"LineString"===x&&v++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-h;i++)t(l[r][i],p,g,v,b),p++;"MultiLineString"===x&&v++,"Polygon"===x&&b++}"Polygon"===x&&v++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for("MultiPolygon"===x&&(b=0),i=0;i<l[r].length;i++){for(s=0;s<l[r][i].length-h;s++)t(l[r][i][s],p,g,v,b),p++;b++}v++}break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)A(o.geometries[r],t,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function P(e,t,n,r){var i=n;return A(e,(function(e,r,s,o,a){i=0===r&&void 0===n?e:t(i,e,r,s,o,a)}),r),i}function I(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length;n++)t(e.features[n].properties,n);break;case"Feature":t(e.properties,0)}}function L(e,t,n){var r=n;return I(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r}function M(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)t(e.features[n],n)}function O(e,t,n){var r=n;return M(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r}function k(e){var t=[];return A(e,(function(e){t.push(e)})),t}function N(e,t){var n,r,i,s,o,a,l,u,c,h,p=0,d="FeatureCollection"===e.type,f="Feature"===e.type,m=d?e.features.length:1;for(n=0;n<m;n++){for(a=d?e.features[n].geometry:f?e.geometry:e,u=d?e.features[n].properties:f?e.properties:{},c=d?e.features[n].bbox:f?e.bbox:void 0,h=d?e.features[n].id:f?e.id:void 0,o=(l=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<o;i++)if(null!==(s=l?a.geometries[i]:a))switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":t(s,p,u,c,h);break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)t(s.geometries[r],p,u,c,h);break;default:throw new Error("Unknown Geometry Type")}else t(null,p,u,c,h);p++}}function R(e,t,n){var r=n;return N(e,(function(e,i,s,o,a){r=0===i&&void 0===n?e:t(r,e,i,s,o,a)})),r}function D(e,n){N(e,(function(e,r,i,s,o){var a,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return void n(t(e,i,{bbox:s,id:o}),r,0)}switch(l){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}e.coordinates.forEach((function(e,s){n(t({type:a,coordinates:e},i),r,s)}))}))}function F(e,t,n){var r=n;return D(e,(function(e,i,s){r=0===i&&0===s&&void 0===n?e:t(r,e,i,s)})),r}function B(e,t){D(e,(function(e,n,r){var i=0;if(e.geometry){var s=e.geometry.type;"Point"!==s&&"MultiPoint"!==s&&P(e,(function(s,o,l,u,c,h){var p=a([s,o],e.properties);return t(p,n,r,h,i),i++,o}))}}))}function q(e,t,n){var r=n,i=!1;return B(e,(function(e,s,o,a,l){r=!1===i&&void 0===n?e:t(r,e,s,o,a,l),i=!0})),r}function z(e,t){if(!e)throw new Error("geojson is required");D(e,(function(e,n,r){if(null!==e.geometry){var i=e.geometry.type,s=e.geometry.coordinates;switch(i){case"LineString":t(e,n,r,0,0);break;case"Polygon":for(var o=0;o<s.length;o++)t(a(s[o],e.properties),n,r,o)}}}))}function U(e,t,n){var r=n;return z(e,(function(e,i,s,o){r=0===i&&void 0===n?e:t(r,e,i,s,o)})),r}function G(e){var t=[1/0,1/0,-1/0,-1/0];return A(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}function j(e){if(!e)throw new Error("obj is required");var t=V(e);if(t.length>1&&S(t[0])&&S(t[1]))return t;throw new Error("Coordinate is not a valid Point")}function V(e){if(!e)throw new Error("obj is required");var t;if(e.length?t=e:e.coordinates?t=e.coordinates:e.geometry&&e.geometry.coordinates&&(t=e.geometry.coordinates),t)return W(t),t;throw new Error("No valid coordinates")}function W(e){if(e.length>1&&S(e[0])&&S(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return W(e[0]);throw new Error("coordinates must only contain numbers")}function H(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)}function J(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)}function X(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<e.features.length;r++){var i=e.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+i.geometry.type)}}function Z(e){if(!e)throw new Error("geojson is required");if(void 0!==e.geometry)return e.geometry;if(e.coordinates||e.geometries)return e;throw new Error("geojson must be a valid Feature or Geometry Object")}function Y(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function K(e,t){if(!e)throw new Error((t||"geojson")+" is required");if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error((t||"geojson")+" is invalid")}function Q(e,t,n){n=n||{};for(var r=Object.keys(Gs),i=0;i<r.length;i++){var s=r[i],o=n[s];o=void 0!==o&&null!==o?o:Gs[s],js[s]=o}js.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+t);var a=function(e){var t=[],n=0;return e.rows,e.cols,e.cells.forEach((function(r,i){r.forEach((function(r,s){if(void 0!==r&&!function(e){return 5===e.cval||10===e.cval}(r)&&!ee(r)){var o=function(e,t,n){var r,i,s,o=e.length,a=[],l=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],u=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],h=(e[t][n],e[t][n]),p=h.cval,d=ne(h,s=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][p]);a.push([n+d[0],t+d[1]]),d=ne(h,s=c[p]),a.push([n+d[0],t+d[1]]),te(h);for(var f=n+l[p],m=t+u[p],y=p;f>=0&&m>=0&&m<o&&(f!=n||m!=t)&&void 0!==(h=e[m][f]);){if(0===(p=h.cval)||15===p)return{path:a,info:"mergeable"};s=c[p],r=l[p],i=u[p],5!==p&&10!==p||(5===p?h.flipped?-1===u[y]?(s="left",r=-1,i=0):(s="right",r=1,i=0):-1===l[y]&&(s="bottom",r=0,i=-1):10===p&&(h.flipped?-1===l[y]?(s="top",r=0,i=1):(s="bottom",r=0,i=-1):1===u[y]&&(s="left",r=-1,i=0))),d=ne(h,s),a.push([f+d[0],m+d[1]]),te(h),f+=r,m+=i,y=p}return{path:a,info:"closed"}}(e.cells,i,s),a=!1;if("mergeable"===o.info)for(var l=o.path[o.path.length-1][0],u=o.path[o.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(t[c][0][0]-l)<=1e-7&&Math.abs(t[c][0][1]-u)<=1e-7){for(var h=o.path.length-2;h>=0;--h)t[c].unshift(o.path[h]);a=!0;break}a||(t[n++]=o.path)}}))})),t}(function(e,t){for(var n=e.length-1,r=e[0].length-1,i={rows:n,cols:r,cells:[]},s=0;s<n;++s){i.cells[s]=[];for(var o=0;o<r;++o){var a=0,l=e[s+1][o],u=e[s+1][o+1],c=e[s][o+1],h=e[s][o];if(!(isNaN(l)||isNaN(u)||isNaN(c)||isNaN(h))){a|=l>=t?8:0,a|=u>=t?4:0,a|=c>=t?2:0;var p,d,f,m,y=!1;if(5===(a|=h>=t?1:0)||10===a){var g=(l+u+c+h)/4;5===a&&g<t?(a=10,y=!0):10===a&&g<t&&(a=5,y=!0)}if(0!==a&&15!==a)p=d=f=m=.5,1===a?(f=1-$(t,l,h),d=1-$(t,c,h)):2===a?(d=$(t,h,c),m=1-$(t,u,c)):3===a?(f=1-$(t,l,h),m=1-$(t,u,c)):4===a?(p=$(t,l,u),m=$(t,c,u)):5===a?(p=$(t,l,u),m=$(t,c,u),d=1-$(t,c,h),f=1-$(t,l,h)):6===a?(d=$(t,h,c),p=$(t,l,u)):7===a?(f=1-$(t,l,h),p=$(t,l,u)):8===a?(f=$(t,h,l),p=1-$(t,u,l)):9===a?(d=1-$(t,c,h),p=1-$(t,u,l)):10===a?(p=1-$(t,u,l),m=1-$(t,u,c),d=$(t,h,c),f=$(t,h,l)):11===a?(p=1-$(t,u,l),m=1-$(t,u,c)):12===a?(f=$(t,h,l),m=$(t,c,u)):13===a?(d=1-$(t,c,h),m=$(t,c,u)):14===a?(f=$(t,h,l),d=$(t,h,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),i.cells[s][o]={cval:a,flipped:y,top:p,right:m,bottom:d,left:f}}}}return i}(e,t));return"function"==typeof js.successCallback&&js.successCallback(a),a}function $(e,t,n){return(e-t)/(n-t)}function ee(e){return 0===e.cval||15===e.cval}function te(e){ee(e)||5===e.cval||10===e.cval||(e.cval=15)}function ne(e,t){return"top"===t?[e.top,1]:"bottom"===t?[e.bottom,0]:"right"===t?[1,e.right]:"left"===t?[0,e.left]:void 0}function re(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.zProperty||"elevation",r=t.flip,i=t.flags;X(e,"Point","input must contain Points");for(var s=function(e,t){var n={};return M(e,(function(e){var t=V(e)[1];n[t]||(n[t]=[]),n[t].push(e)})),Object.keys(n).map((function(e){var t=n[e],r=t.sort((function(e,t){return V(e)[0]-V(t)[0]}));return r})).sort((function(e,n){return t?V(e[0])[1]-V(n[0])[1]:V(n[0])[1]-V(e[0])[1]}))}(e,r),o=[],a=0;a<s.length;a++){for(var l=s[a],u=[],c=0;c<l.length;c++){var h=l[c];h.properties[n]?u.push(h.properties[n]):u.push(0),!0===i&&(h.properties.matrixPosition=[a,c])}o.push(u)}return o}function ie(e,t,n,r,i){for(n=n||0,r=r||e.length-1,i=i||function(e,t){return e<t?-1:e>t?1:0};r>n;){if(r-n>600){var s=r-n+1,o=t-n+1,a=Math.log(s),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(s-l)/s)*(o-s/2<0?-1:1);ie(e,t,Math.max(n,Math.floor(t-o*l/s+u)),Math.min(r,Math.floor(t+(s-o)*l/s+u)),i)}var c=e[t],h=n,p=r;for(se(e,n,t),i(e[r],c)>0&&se(e,n,r);h<p;){for(se(e,h,p),h++,p--;i(e[h],c)<0;)h++;for(;i(e[p],c)>0;)p--}0===i(e[n],c)?se(e,n,p):se(e,++p,r),p<=t&&(n=p+1),t<=p&&(r=p-1)}}function se(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function oe(e,t){if(!(this instanceof oe))return new oe(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function ae(e,t){le(e,0,e.children.length,t,e)}function le(e,t,n,r,i){i||(i=ye(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var s,o=t;o<n;o++)s=e.children[o],ue(i,e.leaf?r(s):s);return i}function ue(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function ce(e,t){return e.minX-t.minX}function he(e,t){return e.minY-t.minY}function pe(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function de(e){return e.maxX-e.minX+(e.maxY-e.minY)}function fe(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function me(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function ye(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function ge(e,t,n,r,i){for(var s,o=[t,n];o.length;)(n=o.pop())-(t=o.pop())<=r||(s=t+Math.ceil((n-t)/r/2)*r,Vs(e,s,t,n,i),o.push(t,s,s,n))}function _e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||function(e,t){return e<t?-1:e>t?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function be(e,t,n){t=Math.max(0,void 0===t?2:t),n=n||0;for(var r,i=function(e){for(var t=e[0],n=e[0],r=e[0],i=e[0],s=0;s<e.length;s++){var o=e[s];o[0]<t[0]&&(t=o),o[0]>r[0]&&(r=o),o[1]<n[1]&&(n=o),o[1]>i[1]&&(i=o)}var a=[t,n,r,i],l=a.slice();for(s=0;s<e.length;s++)ro(e[s],a)||l.push(e[s]);var u=$s(l),c=[];for(s=0;s<u.length;s++)c.push(l[u[s]]);return c}(e),s=Ws(16,["[0]","[1]","[0]","[1]"]).load(e),o=[],a=0;a<i.length;a++){var l=i[a];s.remove(l),r=Ee(l,r),o.push(r)}var u=Ws(16);for(a=0;a<o.length;a++)u.insert(Ce(o[a]));for(var c=t*t,h=n*n;o.length;){var p=o.shift(),d=p.p,f=p.next.p,m=Te(d,f);if(!(m<h)){var y=m/c;(l=function(e,t,n,r,i,s,o){for(var a=new to(null,xe),l=e.data;l;){for(var u=0;u<l.children.length;u++){var c=l.children[u],h=l.leaf?Ae(c,n,r):function(e,t,n){if(we(e,n)||we(t,n))return 0;var r=Pe(e[0],e[1],t[0],t[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=Pe(e[0],e[1],t[0],t[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var s=Pe(e[0],e[1],t[0],t[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===s)return 0;var o=Pe(e[0],e[1],t[0],t[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===o?0:Math.min(r,i,s,o)}(n,r,c);h>s||a.push({node:c,dist:h})}for(;a.length&&!a.peek().node.children;){var p=a.pop(),d=p.node,f=Ae(d,t,n),m=Ae(d,r,i);if(p.dist<f&&p.dist<m&&Se(n,d,o)&&Se(r,d,o))return d}(l=a.pop())&&(l=l.node)}return null}(s,p.prev.p,d,f,p.next.next.p,y,u))&&Math.min(Te(l,d),Te(l,f))<=y&&(o.push(p),o.push(Ee(l,p)),s.remove(l),u.remove(p),u.insert(Ce(p)),u.insert(Ce(p.next)))}}p=r;var g=[];do{g.push(p.p),p=p.next}while(p!==r);return g.push(p.p),g}function xe(e,t){return e.dist-t.dist}function we(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function Se(e,t,n){for(var r=Math.min(e[0],t[0]),i=Math.min(e[1],t[1]),s=Math.max(e[0],t[0]),o=Math.max(e[1],t[1]),a=n.search({minX:r,minY:i,maxX:s,maxY:o}),l=0;l<a.length;l++)if(function(e,t,n,r){return e!==r&&t!==n&&io(e,t,n)>0!=io(e,t,r)>0&&io(n,r,e)>0!=io(n,r,t)>0}(a[l].p,a[l].next.p,e,t))return!1;return!0}function Ce(e){var t=e.p,n=e.next.p;return e.minX=Math.min(t[0],n[0]),e.minY=Math.min(t[1],n[1]),e.maxX=Math.max(t[0],n[0]),e.maxY=Math.max(t[1],n[1]),e}function Ee(e,t){var n={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(n.next=t.next,n.prev=t,t.next.prev=n,t.next=n):(n.prev=n,n.next=n),n}function Te(e,t){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function Ae(e,t,n){var r=t[0],i=t[1],s=n[0]-r,o=n[1]-i;if(0!==s||0!==o){var a=((e[0]-r)*s+(e[1]-i)*o)/(s*s+o*o);a>1?(r=n[0],i=n[1]):a>0&&(r+=s*a,i+=o*a)}return s=e[0]-r,o=e[1]-i,s*s+o*o}function Pe(e,t,n,r,i,s,o,a){var l,u,c,h,p=n-e,d=r-t,f=o-i,m=a-s,y=e-i,g=t-s,_=p*p+d*d,v=p*f+d*m,b=f*f+m*m,x=p*y+d*g,w=f*y+m*g,S=_*b-v*v,C=S,E=S;0===S?(u=0,C=1,h=w,E=b):(h=_*w-v*x,(u=v*w-b*x)<0?(u=0,h=w,E=b):u>C&&(u=C,h=w+v,E=b)),h<0?(h=0,-x<0?u=0:-x>_?u=C:(u=-x,C=_)):h>E&&(h=E,-x+v<0?u=0:-x+v>_?u=C:(u=-x+v,C=_)),l=0===u?0:u/C;var T=(1-(c=0===h?0:h/E))*i+c*o-((1-l)*e+l*n),A=(1-c)*s+c*a-((1-l)*t+l*r);return T*T+A*A}function Ie(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.concavity||1/0,r=[];if(A(e,(function(e){r.push([e[0],e[1]])})),!r.length)return null;var i=so(r,n);return i.length>3?s([i]):null}function Le(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var i=j(e),s=V(t),o=t.geometry?t.geometry.type:t.type,a=t.bbox;if(a&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(i,a))return!1;"Polygon"===o&&(s=[s]);for(var l=0,u=!1;l<s.length&&!u;l++)if(Me(i,s[l][0],r)){for(var c=!1,h=1;h<s[l].length&&!c;)Me(i,s[l][h],!r)&&(c=!0),h++;c||(u=!0)}return u}function Me(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,s=t.length-1;i<t.length;s=i++){var o=t[i][0],a=t[i][1],l=t[s][0],u=t[s][1];if(e[1]*(o-l)+a*(l-e[0])+u*(e[0]-o)==0&&(o-e[0])*(l-e[0])<=0&&(a-e[1])*(u-e[1])<=0)return!n;a>e[1]!=u>e[1]&&e[0]<(l-o)*(e[1]-a)/(u-a)+o&&(r=!r)}return r}function Oe(e,t){var n=[];return N(t,(function(t){M(e,(function(e){Le(e,t)&&n.push(e)}))})),u(n)}function ke(e,t){if("FeatureCollection"!==e.type)throw new Error("points must be a FeatureCollection");var n=!1;return u(function(e){if(e.length<3)return[];e.sort(Re);for(var t,n,r,i,s,o,a=e.length-1,l=e[a].x,u=e[0].x,c=e[a].y,h=c;a--;)e[a].y<c&&(c=e[a].y),e[a].y>h&&(h=e[a].y);var p,d=u-l,f=h-c,m=d>f?d:f,y=.5*(u+l),g=.5*(h+c),_=[new Ne({x:y-20*m,y:g-m,__sentinel:!0},{x:y,y:g+20*m,__sentinel:!0},{x:y+20*m,y:g-m,__sentinel:!0})],v=[],b=[];for(a=e.length;a--;){for(b.length=0,p=_.length;p--;)(d=e[a].x-_[p].x)>0&&d*d>_[p].r?(v.push(_[p]),_.splice(p,1)):(f=e[a].y-_[p].y,d*d+f*f>_[p].r||(b.push(_[p].a,_[p].b,_[p].b,_[p].c,_[p].c,_[p].a),_.splice(p,1)));for(De(b),p=b.length;p;)n=b[--p],t=b[--p],r=e[a],i=n.x-t.x,s=n.y-t.y,o=2*(i*(r.y-n.y)-s*(r.x-n.x)),Math.abs(o)>1e-12&&_.push(new Ne(t,n,r))}for(Array.prototype.push.apply(v,_),a=v.length;a--;)(v[a].a.__sentinel||v[a].b.__sentinel||v[a].c.__sentinel)&&v.splice(a,1);return v}(e.features.map((function(e){var r={x:e.geometry.coordinates[0],y:e.geometry.coordinates[1]};return t?r.z=e.properties[t]:3===e.geometry.coordinates.length&&(n=!0,r.z=e.geometry.coordinates[2]),r}))).map((function(e){var t=[e.a.x,e.a.y],r=[e.b.x,e.b.y],i=[e.c.x,e.c.y],o={};return n?(t.push(e.a.z),r.push(e.b.z),i.push(e.c.z)):o={a:e.a.z,b:e.b.z,c:e.c.z},s([[t,r,i,t]],o)})))}function Ne(e,t,n){this.a=e,this.b=t,this.c=n;var r,i,s=t.x-e.x,o=t.y-e.y,a=n.x-e.x,l=n.y-e.y,u=s*(e.x+t.x)+o*(e.y+t.y),c=a*(e.x+n.x)+l*(e.y+n.y),h=2*(s*(n.y-t.y)-o*(n.x-t.x));this.x=(l*u-o*c)/h,this.y=(s*c-a*u)/h,r=this.x-e.x,i=this.y-e.y,this.r=r*r+i*i}function Re(e,t){return t.x-e.x}function De(e){var t,n,r,i,s,o=e.length;e:for(;o;)for(n=e[--o],t=e[--o],r=o;r;)if(s=e[--r],i=e[--r],t===i&&n===s||t===s&&n===i){e.splice(o,2),e.splice(r,2),o-=2;continue e}}function Fe(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units,i=j(e),s=j(t),o=b(s[1]-i[1]),a=b(s[0]-i[0]),l=b(i[1]),u=b(s[1]),c=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(l)*Math.cos(u);return m(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),r)}function Be(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return qe(e);case"FeatureCollection":return function(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"features":return;default:t[n]=e[n]}})),t.features=e.features.map((function(e){return qe(e)})),t}(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ue(e);default:throw new Error("unknown GeoJSON type")}}function qe(e){var t={type:"Feature"};return Object.keys(e).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}})),t.properties=ze(e.properties),t.geometry=Ue(e.geometry),t}function ze(e){var t={};return e?(Object.keys(e).forEach((function(n){var r=e[n];"object"==typeof r?null===r?t[n]=null:r.length?t[n]=r.map((function(e){return e})):t[n]=ze(r):t[n]=r})),t):t}function Ue(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),"GeometryCollection"===e.type?(t.geometries=e.geometries.map((function(e){return Ue(e)})),t):(t.coordinates=Ge(e.coordinates),t)}function Ge(e){return"object"!=typeof e[0]?e.slice():e.map((function(e){return Ge(e)}))}function je(e,t){function n(e,t){t.length&&t.pop();for(var n=u[e<0?~e:e],r=0,i=n.length;r<i;++r)t.push(l(n[r],r));e<0&&uo(t,i)}function r(e){return l(e)}function i(e){for(var t=[],r=0,i=e.length;r<i;++r)n(e[r],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=i(e);t.length<4;)t.push(t[0]);return t}function o(e){return e.map(s)}function a(e){var t,n=e.type;switch(n){case"GeometryCollection":return{type:n,geometries:e.geometries.map(a)};case"Point":t=r(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(r);break;case"LineString":t=i(e.arcs);break;case"MultiLineString":t=e.arcs.map(i);break;case"Polygon":t=o(e.arcs);break;case"MultiPolygon":t=e.arcs.map(o);break;default:return null}return{type:n,coordinates:t}}var l=lo(e.transform),u=e.arcs;return a(t)}function Ve(e,t){function n(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(n);break;case"Polygon":r(e.arcs);break;case"MultiPolygon":e.arcs.forEach(r)}}function r(e){e.forEach((function(t){t.forEach((function(t){(s[t=t<0?~t:t]||(s[t]=[])).push(e)}))})),o.push(e)}function i(t){return function(e){for(var t,n=-1,r=e.length,i=e[r-1],s=0;++n<r;)t=i,i=e[n],s+=t[0]*i[1]-t[1]*i[0];return Math.abs(s)}(je(e,{type:"Polygon",arcs:[t]}).coordinates[0])}var s={},o=[],a=[];return t.forEach(n),o.forEach((function(e){if(!e._){var t=[],n=[e];for(e._=1,a.push(t);e=n.pop();)t.push(e),e.forEach((function(e){e.forEach((function(e){s[e<0?~e:e].forEach((function(e){e._||(e._=1,n.push(e))}))}))}))}})),o.forEach((function(e){delete e._})),{type:"MultiPolygon",arcs:a.map((function(t){var n,r=[];if(t.forEach((function(e){e.forEach((function(e){e.forEach((function(e){s[e<0?~e:e].length<2&&r.push(e)}))}))})),r=co(e,r),(n=r.length)>1)for(var o,a,l=1,u=i(r[0]);l<n;++l)(o=i(r[l]))>u&&(a=r[0],r[0]=r[l],r[l]=a,u=o);return r}))}}function We(e,t,n){for(var r,i=t+(n---t>>1);t<i;++t,--n)r=e[t],e[t]=e[n],e[n]=r}function He(e){return null==e?{type:null}:("FeatureCollection"===e.type?function(e){var t={type:"GeometryCollection",geometries:e.features.map(Je)};return null!=e.bbox&&(t.bbox=e.bbox),t}:"Feature"===e.type?Je:Xe)(e)}function Je(e){var t,n=Xe(e.geometry);for(t in null!=e.id&&(n.id=e.id),null!=e.bbox&&(n.bbox=e.bbox),e.properties){n.properties=e.properties;break}return n}function Xe(e){if(null==e)return{type:null};var t="GeometryCollection"===e.type?{type:"GeometryCollection",geometries:e.geometries.map(Xe)}:"Point"===e.type||"MultiPoint"===e.type?{type:e.type,coordinates:e.coordinates}:{type:e.type,arcs:e.coordinates};return null!=e.bbox&&(t.bbox=e.bbox),t}function Ze(e){var t,n=e[0],r=e[1];return r<n&&(t=n,n=r,r=t),n+31*r}function Ye(e,t){var n,r=e[0],i=e[1],s=t[0],o=t[1];return i<r&&(n=r,r=i,i=n),o<s&&(n=s,s=o,o=n),r===s&&i===o}function Ke(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.mutate;if("FeatureCollection"!==K(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(e=Be(e));var r=[],i=U(e,(function(e,t){var n=function(e,t){var n,r=e.geometry.coordinates,i=t.geometry.coordinates,s=Qe(r[0]),o=Qe(r[r.length-1]),l=Qe(i[0]),u=Qe(i[i.length-1]);if(s===u)n=i.concat(r.slice(1));else if(l===o)n=r.concat(i.slice(1));else if(s===l)n=r.slice(1).reverse().concat(i);else{if(o!==u)return null;n=r.concat(i.reverse().slice(1))}return a(n)}(e,t);return n||(r.push(e),t)}));return i&&r.push(i),r.length?1===r.length?r[0]:c(r.map((function(e){return e.coordinates}))):null}function Qe(e){return e[0].toString()+","+e[1].toString()}function $e(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.mutate;if("FeatureCollection"!==K(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(e=Be(e));var r=function(e){var t={};D(e,(function(e){t[e.geometry.type]=!0}));var n=Object.keys(t);return 1===n.length?n[0]:null}(e);if(!r)throw new Error("geojson must be homogenous");switch(r){case"LineString":return Ke(e,t);case"Polygon":return function(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.mutate;if("FeatureCollection"!==K(e))throw new Error("geojson must be a FeatureCollection");if(!e.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(e=Be(e));var r=[];D(e,(function(e){r.push(e.geometry)}));var i=wo({geoms:d(r).geometry});return ho(i,i.objects.geoms.geometries)}(e,t);default:throw new Error(r+" is not supported")}}function et(e,n){var r="object"==typeof n?n.mutate:n;if(!e)throw new Error("geojson is required");var i=K(e),s=[];switch(i){case"LineString":s=tt(e);break;case"MultiLineString":case"Polygon":V(e).forEach((function(e){s.push(tt(e))}));break;case"MultiPolygon":V(e).forEach((function(e){var t=[];e.forEach((function(e){t.push(tt(e))})),s.push(t)}));break;case"Point":return e;case"MultiPoint":var o={};V(e).forEach((function(e){var t=e.join("-");o.hasOwnProperty(t)||(s.push(e),o[t]=!0)}));break;default:throw new Error(i+" geometry not supported")}return e.coordinates?!0===r?(e.coordinates=s,e):{type:i,coordinates:s}:!0===r?(e.geometry.coordinates=s,e):t({type:i,coordinates:s},e.properties,e.bbox,e.id)}function tt(e){var t=V(e);if(2===t.length&&!function(e,t){return e[0]===t[0]&&e[1]===t[1]}(t[0],t[1]))return t;var n,r,i,s=[],o=t.length-1;s.push(t[0]);for(var a=1;a<o;a++)n=t[a-1],r=t[a],function(e,t,n){var r=n[0],i=n[1],s=e[0],o=e[1],a=t[0],l=t[1],u=a-s,c=l-o;return(r-s)*c-(i-o)*u==0&&(Math.abs(u)>=Math.abs(c)?u>0?s<=r&&r<=a:a<=r&&r<=s:c>0?o<=i&&i<=l:l<=i&&i<=o)}(n,i=t[a+1],r)||s.push(r);return s.push(i),s}function nt(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function rt(e,t,n){var r=t.x,i=t.y,s=n.x-r,o=n.y-i;if(0!==s||0!==o){var a=((e.x-r)*s+(e.y-i)*o)/(s*s+o*o);a>1?(r=n.x,i=n.y):a>0&&(r+=s*a,i+=o*a)}return s=e.x-r,o=e.y-i,s*s+o*o}function it(e,t,n,r,i){for(var s,o=r,a=t+1;a<n;a++){var l=rt(e[a],e[t],e[n]);l>o&&(s=a,o=l)}o>r&&(s-t>1&&it(e,t,s,r,i),i.push(e[s]),n-s>1&&it(e,s,n,r,i))}function st(e,t,n){if(e.length<=2)return e;var r=void 0!==t?t*t:1;return e=n?e:function(e,t){for(var n,r=e[0],i=[r],s=1,o=e.length;s<o;s++)nt(n=e[s],r)>t&&(i.push(n),r=n);return r!==n&&i.push(n),i}(e,r),function(e,t){var n=e.length-1,r=[e[0]];return it(e,0,n,t,r),r.push(e[n]),r}(e,r)}function ot(e,t,n){return st(e.map((function(e){return{x:e[0],y:e[1],z:e[2]}})),t,n).map((function(e){return e.z?[e.x,e.y,e.z]:[e.x,e.y]}))}function at(e,t,n){return e.map((function(e){var r=e.map((function(e){return{x:e[0],y:e[1]}}));if(r.length<4)throw new Error("invalid polygon");for(var i=st(r,t,n).map((function(e){return[e.x,e.y]}));!function(e){return!(e.length<3||3===e.length&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}(i);)i=st(r,t-=.01*t,n).map((function(e){return[e.x,e.y]}));return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i}))}function lt(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.resolution||1e4,r=t.sharpness||.85;if(!e)throw new Error("line is required");if(!S(n))throw new Error("resolution must be an number");if(!S(r))throw new Error("sharpness must be an number");for(var i=[],s=new So({points:Z(e).coordinates.map((function(e){return{x:e[0],y:e[1]}})),duration:n,sharpness:r}),o=0;o<s.duration;o+=10){var l=s.pos(o);Math.floor(o/100)%2==0&&i.push([l.x,l.y])}return a(i,e.properties)}function ut(e){E(e);var t=Number(e[0]),n=Number(e[1]),r=Number(e[2]),i=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var o=[t,n];return s([[o,[r,n],[r,i],[t,i],o]])}function ct(e){return ut(G(e))}function ht(e){var t=e[0],n=e[1],r=e[2],i=e[3];if(Fe(e.slice(0,2),[r,n])>=Fe(e.slice(0,2),[t,i])){var s=(n+i)/2;return[t,s-(r-t)/2,r,s+(r-t)/2]}var o=(t+r)/2;return[o-(i-n)/2,n,o+(i-n)/2,i]}function pt(e,t,n,i){if(i=i||{},!C(i))throw new Error("options is invalid");var s=i.units,o=i.properties,a=j(e),l=b(a[0]),u=b(a[1]),c=b(n),h=y(t,s),p=Math.asin(Math.sin(u)*Math.cos(h)+Math.cos(u)*Math.sin(h)*Math.cos(c));return r([v(l+Math.atan2(Math.sin(c)*Math.sin(h)*Math.cos(u),Math.cos(h)-Math.sin(u)*Math.sin(p))),v(p)],o)}function dt(e,t,n){var r=(n=n||{}).steps||64,i=n.properties;if(!e)throw new Error("center is required");if(!t)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be a number");r=r||64,i=i||e.properties||{};for(var o=[],a=0;a<r;a++)o.push(pt(e,t,-360*a/r,n).geometry.coordinates);return o.push(o[0]),s([o],i)}function ft(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");if(!0===n.final)return function(e,t){var n=ft(t,e);return(n+180)%360}(e,t);var r=j(e),i=j(t),s=b(r[0]),o=b(i[0]),a=b(r[1]),l=b(i[1]),u=Math.sin(o-s)*Math.cos(l),c=Math.cos(a)*Math.sin(l)-Math.sin(a)*Math.cos(l)*Math.cos(o-s);return v(Math.atan2(u,c))}function mt(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.properties;if(!e)throw new Error("geojson is required");var i=G(e);return r([(i[0]+i[2])/2,(i[1]+i[3])/2],n)}function yt(e,t){var n=0,i=0,s=0;return A(e,(function(e){n+=e[0],i+=e[1],s++}),!0),r([n/s,i/s],t)}function gt(e,t){switch(K(e)){case"Point":return e;case"Polygon":var n=[];A(e,(function(e){n.push(e)}));var i,s,o,a,l,u,c,h,p=yt(e,t),d=p.geometry.coordinates,f=0,m=0,y=0,g=n.map((function(e){return[e[0]-d[0],e[1]-d[1]]}));for(i=0;i<n.length-1;i++)a=(s=g[i])[0],u=s[1],l=(o=g[i+1])[0],y+=h=a*(c=o[1])-l*u,f+=(a+l)*h,m+=(u+c)*h;if(0===y)return p;var _=1/(.5*y*6);return r([d[0]+_*f,d[1]+_*m],t);default:var v=Ie(e);return v?gt(v,t):yt(e,t)}}function _t(e){var t=[];return"FeatureCollection"===e.type?M(e,(function(e){A(e,(function(n){t.push(r(n,e.properties))}))})):A(e,(function(n){t.push(r(n,e.properties))})),u(t)}function vt(e,t,n){n=n||2;var r,i,s,o,a,l,u,c=t&&t.length,h=c?t[0]*n:e.length,p=bt(e,0,h,n,!0),d=[];if(!p)return d;if(c&&(p=function(e,t,n,r){var i,s,o,a,l,u=[];for(i=0,s=t.length;i<s;i++)o=t[i]*r,a=i<s-1?t[i+1]*r:e.length,(l=bt(e,o,a,r,!1))===l.next&&(l.steiner=!0),u.push(function(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}(l));for(u.sort(St),i=0;i<u.length;i++)!function(e,t){if(t=function(e,t){var n,r=t,i=e.x,s=e.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>o){if(o=a,a===i){if(s===r.y)return r;if(s===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n.prev;var l,u=n,c=n.x,h=n.y,p=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=c&&i!==r.x&&Et(s<h?i:o,s,c,h,s<h?o:i,s,r.x,r.y)&&((l=Math.abs(s-r.y)/(i-r.x))<p||l===p&&r.x>n.x)&&It(r,e)&&(n=r,p=l),r=r.next;return n}(e,t)){var n=Lt(t,e);xt(n,n.next)}}(u[i],n),n=xt(n,n.next);return n}(e,t,p,n)),e.length>80*n){r=s=e[0],i=o=e[1];for(var f=n;f<h;f+=n)a=e[f],l=e[f+1],a<r&&(r=a),l<i&&(i=l),a>s&&(s=a),l>o&&(o=l);u=0!==(u=Math.max(s-r,o-i))?1/u:0}return wt(p,d,n,r,i,u),d}function bt(e,t,n,r,i){var s,o;if(i===Nt(e,t,n,r)>0)for(s=t;s<n;s+=r)o=Mt(s,e[s],e[s+1],o);else for(s=n-r;s>=t;s-=r)o=Mt(s,e[s],e[s+1],o);return o&&At(o,o.next)&&(Ot(o),o=o.next),o}function xt(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!At(r,r.next)&&0!==Tt(r.prev,r,r.next))r=r.next;else{if(Ot(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function wt(e,t,n,r,i,s,o){if(e){!o&&s&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Ct(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,s,o,a,l,u=1;do{for(n=e,e=null,s=null,o=0;n;){for(o++,r=n,a=0,t=0;t<u&&(a++,r=r.nextZ);t++);for(l=u;a>0||l>0&&r;)0!==a&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1)}(i)}(e,r,i,s);for(var a,l,u=e;e.prev!==e.next;)if(a=e.prev,l=e.next,s?function(e,t,n,r){var i=e.prev,s=e,o=e.next;if(Tt(i,s,o)>=0)return!1;for(var a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,u=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,c=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,h=Ct(a,l,t,n,r),p=Ct(u,c,t,n,r),d=e.nextZ;d&&d.z<=p;){if(d!==e.prev&&d!==e.next&&Et(i.x,i.y,s.x,s.y,o.x,o.y,d.x,d.y)&&Tt(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=e.prevZ;d&&d.z>=h;){if(d!==e.prev&&d!==e.next&&Et(i.x,i.y,s.x,s.y,o.x,o.y,d.x,d.y)&&Tt(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}(e,r,i,s):function(e){var t=e.prev,n=e,r=e.next;if(Tt(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Et(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Tt(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}(e))t.push(a.i/n),t.push(e.i/n),t.push(l.i/n),Ot(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?wt(e=function(e,t,n){var r=e;do{var i=r.prev,s=r.next.next;!At(i,s)&&Pt(i,r,r.next,s)&&It(i,s)&&It(s,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(s.i/n),Ot(r),Ot(r.next),r=e=s),r=r.next}while(r!==e);return r}(e,t,n),t,n,r,i,s,2):2===o&&function(e,t,n,r,i,s){var o=e;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Pt(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&It(e,t)&&It(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}(o,a)){var l=Lt(o,a);return o=xt(o,o.next),l=xt(l,l.next),wt(o,t,n,r,i,s),void wt(l,t,n,r,i,s)}a=a.next}o=o.next}while(o!==e)}(e,t,n,r,i,s):wt(xt(e),t,n,r,i,s,1);break}}}function St(e,t){return e.x-t.x}function Ct(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function Et(e,t,n,r,i,s,o,a){return(i-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(r-a)-(n-o)*(t-a)>=0&&(n-o)*(s-a)-(i-o)*(r-a)>=0}function Tt(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function At(e,t){return e.x===t.x&&e.y===t.y}function Pt(e,t,n,r){return!!(At(e,t)&&At(n,r)||At(e,r)&&At(n,t))||Tt(e,t,n)>0!=Tt(e,t,r)>0&&Tt(n,r,e)>0!=Tt(n,r,t)>0}function It(e,t){return Tt(e.prev,e,e.next)<0?Tt(e,t,e.next)>=0&&Tt(e,e.prev,t)>=0:Tt(e,t,e.prev)<0||Tt(e,e.next,t)<0}function Lt(e,t){var n=new kt(e.i,e.x,e.y),r=new kt(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function Mt(e,t,n,r){var i=new kt(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ot(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function kt(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Nt(e,t,n,r){for(var i=0,s=t,o=n-r;s<n;s+=r)i+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return i}function Rt(e){var t=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var s=0;s<e[i].length;s++)for(var o=0;o<t;o++)n.vertices.push(e[i][s][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}(e),n=Co(t.vertices,t.holes,2),r=[],i=[];n.forEach((function(e,r){var s=n[r];i.push([t.vertices[2*s],t.vertices[2*s+1]])}));for(var o=0;o<i.length;o+=3){var a=i.slice(o,o+3);a.push(i[o]),r.push(s([a]))}return r}function Dt(e,t){if(!e)throw new Error("targetPoint is required");if(!t)throw new Error("points is required");var n,r=1/0;return M(t,(function(t,i){var s=Fe(e,t);s<r&&((n=Be(t)).properties.featureIndex=i,n.properties.distanceToPoint=s,r=s)})),n}function Ft(e,t,n,r,i){Bt(e,t,n||0,r||e.length-1,i||function(e,t){return e<t?-1:e>t?1:0})}function Bt(e,t,n,r,i){for(;r>n;){if(r-n>600){var s=r-n+1,o=t-n+1,a=Math.log(s),l=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*l*(s-l)/s)*(o-s/2<0?-1:1);Bt(e,t,Math.max(n,Math.floor(t-o*l/s+u)),Math.min(r,Math.floor(t+(s-o)*l/s+u)),i)}var c=e[t],h=n,p=r;for(qt(e,n,t),i(e[r],c)>0&&qt(e,n,r);h<p;){for(qt(e,h,p),h++,p--;i(e[h],c)<0;)h++;for(;i(e[p],c)>0;)p--}0===i(e[n],c)?qt(e,n,p):qt(e,++p,r),p<=t&&(n=p+1),t<=p&&(r=p-1)}}function qt(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function zt(e,t){if(!(this instanceof zt))return new zt(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function Ut(e,t){Gt(e,0,e.children.length,t,e)}function Gt(e,t,n,r,i){i||(i=Yt(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var s,o=t;o<n;o++)s=e.children[o],jt(i,e.leaf?r(s):s);return i}function jt(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function Vt(e,t){return e.minX-t.minX}function Wt(e,t){return e.minY-t.minY}function Ht(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Jt(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Xt(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function Zt(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Yt(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Kt(e,t,n,r,i){for(var s,o=[t,n];o.length;)(n=o.pop())-(t=o.pop())<=r||(Ft(e,s=t+Math.ceil((n-t)/r/2)*r,t,n,i),o.push(t,s,s,n))}function Qt(e){var t=zt(e);return t.insert=function(e){if(Array.isArray(e)){var t=e;(e=$t(t)).bbox=t}else e.bbox=e.bbox?e.bbox:en(e);return zt.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach((function(e){var n=$t(e);n.bbox=e,t.push(n)})):M(e,(function(e){e.bbox=e.bbox?e.bbox:en(e),t.push(e)})),zt.prototype.load.call(this,t)},t.remove=function(e){if(Array.isArray(e)){var t=e;(e=$t(t)).bbox=t}return zt.prototype.remove.call(this,e)},t.clear=function(){return zt.prototype.clear.call(this)},t.search=function(e){return{type:"FeatureCollection",features:zt.prototype.search.call(this,this.toBBox(e))}},t.collides=function(e){return zt.prototype.collides.call(this,this.toBBox(e))},t.all=function(){return{type:"FeatureCollection",features:zt.prototype.all.call(this)}},t.toJSON=function(){return zt.prototype.toJSON.call(this)},t.fromJSON=function(e){return zt.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;return t=e.bbox?e.bbox:Array.isArray(e)&&4===e.length?e:en(e),{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}function $t(e){var t=[e[0],e[1]],n=[e[0],e[3]],r=[e[2],e[3]];return{type:"Feature",bbox:e,properties:{},geometry:{type:"Polygon",coordinates:[[t,[e[2],e[1]],r,n,t]]}}}function en(e){var t=[1/0,1/0,-1/0,-1/0];return A(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}function tn(e){if(!e)throw new Error("geojson is required");var t=[];return D(e,(function(e){!function(e,t){var n=[],r=e.geometry;switch(r.type){case"Polygon":n=V(r);break;case"LineString":n=[V(r)]}n.forEach((function(n){var r=function(e,t){var n=[];return e.reduce((function(e,r){var i=a([e,r],t);return i.bbox=function(e,t){var n=e[0],r=e[1],i=t[0],s=t[1];return[n<i?n:i,r<s?r:s,n>i?n:i,r>s?r:s]}(e,r),n.push(i),r})),n}(n,e.properties);r.forEach((function(e){e.id=t.length,t.push(e)}))}))}(e,t)})),u(t)}function nn(e,n){var r={},i=[];if("LineString"===e.type&&(e=t(e)),"LineString"===n.type&&(n=t(n)),"Feature"===e.type&&"Feature"===n.type&&"LineString"===e.geometry.type&&"LineString"===n.geometry.type&&2===e.geometry.coordinates.length&&2===n.geometry.coordinates.length){var s=rn(e,n);return s&&i.push(s),u(i)}var o=Qt();return o.load(tn(n)),M(tn(e),(function(e){M(o.search(e),(function(t){var n=rn(e,t);if(n){var s=V(n).join(",");r[s]||(r[s]=!0,i.push(n))}}))})),u(i)}function rn(e,t){var n=V(e),i=V(t);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var s=n[0][0],o=n[0][1],a=n[1][0],l=n[1][1],u=i[0][0],c=i[0][1],h=i[1][0],p=i[1][1],d=(p-c)*(a-s)-(h-u)*(l-o),f=(h-u)*(o-c)-(p-c)*(s-u),m=(a-s)*(o-c)-(l-o)*(s-u);if(0===d)return null;var y=f/d,g=m/d;return y>=0&&y<=1&&g>=0&&g<=1?r([s+y*(a-s),o+y*(l-o)]):null}function sn(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var i=e.geometry?e.geometry.type:e.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var s=r([1/0,1/0],{dist:1/0}),o=0;return D(e,(function(e){for(var i=V(e),l=0;l<i.length-1;l++){var u=r(i[l]);u.properties.dist=Fe(t,u,n);var c=r(i[l+1]);c.properties.dist=Fe(t,c,n);var h=Fe(u,c,n),p=Math.max(u.properties.dist,c.properties.dist),d=ft(u,c),f=pt(t,p,d+90,n),m=pt(t,p,d-90,n),y=nn(a([f.geometry.coordinates,m.geometry.coordinates]),a([u.geometry.coordinates,c.geometry.coordinates])),g=null;y.features.length>0&&((g=y.features[0]).properties.dist=Fe(t,g,n),g.properties.location=o+Fe(u,g,n)),u.properties.dist<s.properties.dist&&((s=u).properties.index=l,s.properties.location=o),c.properties.dist<s.properties.dist&&((s=c).properties.index=l+1,s.properties.location=o+h),g&&g.properties.dist<s.properties.dist&&((s=g).properties.index=l),o+=h}})),s}function on(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r,i=n.final;if(!e)throw new Error("start point is required");if(!t)throw new Error("end point is required");return(r=i?an(j(t),j(e)):an(j(e),j(t)))>180?-(360-r):r}function an(e,t){var n=b(e[1]),r=b(t[1]),i=b(t[0]-e[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var s=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(v(Math.atan2(i,s))+360)%360}function ln(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units;if(!e)throw new Error("from point is required");if(!t)throw new Error("to point is required");var i=j(e),s=j(t);return s[0]+=s[0]-i[0]>180?-360:i[0]-s[0]>180?360:0,x(function(e,t,n){var r=n=void 0===n?Rs:Number(n),i=e[1]*Math.PI/180,s=t[1]*Math.PI/180,o=s-i,a=Math.abs(t[0]-e[0])*Math.PI/180;a>Math.PI&&(a-=2*Math.PI);var l=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),u=Math.abs(l)>1e-11?o/l:Math.cos(i);return Math.sqrt(o*o+u*u*a*a)*r}(i,s),"meters",r)}function un(e,t){return hn(e,"mercator",t)}function cn(e,t){return hn(e,"wgs84",t)}function hn(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.mutate;if(!e)throw new Error("geojson is required");return Array.isArray(e)&&S(e[0])?e="mercator"===t?pn(e):dn(e):(!0!==r&&(e=Be(e)),A(e,(function(e){var n="mercator"===t?pn(e):dn(e);e[0]=n[0],e[1]=n[1]}))),e}function pn(e){var t=Math.PI/180,n=20037508.342789244,r=[6378137*(Math.abs(e[0])<=180?e[0]:e[0]-360*function(e){return e<0?-1:e>0?1:0}(e[0]))*t,6378137*Math.log(Math.tan(.25*Math.PI+.5*e[1]*t))];return r[0]>n&&(r[0]=n),r[0]<-n&&(r[0]=-n),r[1]>n&&(r[1]=n),r[1]<-n&&(r[1]=-n),r}function dn(e){var t=180/Math.PI;return[e[0]*t/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-e[1]/6378137)))*t]}function fn(e,n,i){if(i=i||{},!C(i))throw new Error("options is invalid");if(!e)throw new Error("pt is required");if(Array.isArray(e)?e=r(e):"Point"===e.type?e=t(e):J(e,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=a(n):"LineString"===n.type?n=t(n):J(n,"LineString","line");var s=1/0,o=e.geometry.coordinates;return B(n,(function(e){var t=e.geometry.coordinates[0],n=e.geometry.coordinates[1],a=function(e,t,n,i){var s=i.mercator,o=!0!==s?Fe(t,e,i):mn(t,e,i),a=_(!0!==s?ft(t,e):on(t,e)),l=_(!0!==s?ft(t,n):on(t,n)),u=Math.abs(a-l);if(u>90)return o;var c=(l+180)%360,h=_(!0!==s?ft(n,e):on(n,e)),p=Math.abs(h-c);return p>180&&(p=Math.abs(p-360)),p>90?!0!==s?Fe(e,n,i):mn(e,n,i):!0!==s?o*Math.sin(b(u)):function(e,t,n,i){var s=0;(Math.abs(e[0])>=180||Math.abs(t[0])>=180||Math.abs(n[0])>=180)&&(s=e[0]>0||t[0]>0||n[0]>0?-180:180);var o=r(n),a=un([e[0]+s,e[1]]),l=un([t[0]+s,t[1]]),u=un([n[0]+s,n[1]]),c=cn(function(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1],a=n[0],l=n[1],u=s-r,c=o-i,h=((a-r)*u+(l-i)*c)/(u*u+c*c);return[r+h*u,i+h*c]}(a,l,u));return 0!==s&&(c[0]-=s),ln(o,c,i)}(t,n,e,i)}(o,t,n,i);s>a&&(s=a)})),s}function mn(e,t,n){var r=n.units,i=0;Math.abs(e[0])>=180&&(i=e[0]>0?-180:180),Math.abs(t[0])>=180&&(i=t[0]>0?-180:180);var s=un([e[0]+i,e[1]]),o=un([t[0]+i,t[1]]),a=function(e){return e*e},l=a(s[0]-o[0])+a(s[1]-o[1]);return x(Math.sqrt(l),"meters",r)}function yn(e){for(var n=function(e){return"FeatureCollection"!==e.type?"Feature"!==e.type?u([t(e)]):u([e]):e}(e),i=mt(n),s=!1,o=0;!s&&o<n.features.length;){var a,l=n.features[o].geometry,c=!1;if("Point"===l.type)i.geometry.coordinates[0]===l.coordinates[0]&&i.geometry.coordinates[1]===l.coordinates[1]&&(s=!0);else if("MultiPoint"===l.type){var h=!1;for(a=0;!h&&a<l.coordinates.length;)i.geometry.coordinates[0]===l.coordinates[a][0]&&i.geometry.coordinates[1]===l.coordinates[a][1]&&(s=!0,h=!0),a++}else if("LineString"===l.type)for(a=0;!c&&a<l.coordinates.length-1;)gn(i.geometry.coordinates[0],i.geometry.coordinates[1],l.coordinates[a][0],l.coordinates[a][1],l.coordinates[a+1][0],l.coordinates[a+1][1])&&(c=!0,s=!0),a++;else if("MultiLineString"===l.type)for(var p=0;p<l.coordinates.length;){c=!1,a=0;for(var d=l.coordinates[p];!c&&a<d.length-1;)gn(i.geometry.coordinates[0],i.geometry.coordinates[1],d[a][0],d[a][1],d[a+1][0],d[a+1][1])&&(c=!0,s=!0),a++;p++}else"Polygon"!==l.type&&"MultiPolygon"!==l.type||Le(i,l)&&(s=!0);o++}if(s)return i;var f=u([]);for(o=0;o<n.features.length;o++)f.features=f.features.concat(_t(n.features[o]).features);return r(Dt(i,f).geometry.coordinates)}function gn(e,t,n,r,i,s){return Math.sqrt((i-n)*(i-n)+(s-r)*(s-r))===Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))+Math.sqrt((i-e)*(i-e)+(s-t)*(s-t))}function _n(e){return R(e,(function(e,t){return e+vn(t)}),0)}function vn(e){var t,n=0;switch(e.type){case"Polygon":return bn(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)n+=bn(e.coordinates[t]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(t=0;t<e.geometries.length;t++)n+=vn(e.geometries[t]);return n}}function bn(e){var t=0;if(e&&e.length>0){t+=Math.abs(xn(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(xn(e[n]))}return t}function xn(e){var t,n,r,i,s,o,a=0,l=e.length;if(l>2){for(o=0;o<l;o++)o===l-2?(r=l-2,i=l-1,s=0):o===l-1?(r=l-1,i=0,s=1):(r=o,i=o+1,s=o+2),t=e[r],n=e[i],a+=(wn(e[s][0])-wn(t[0]))*Math.sin(wn(n[1]));a=a*Ao*Ao/2}return a}function wn(e){return e*Math.PI/180}function Sn(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");if(!e)throw new Error("geojson is required");return q(e,(function(e,n){var r=n.geometry.coordinates;return e+Fe(r[0],r[1],t)}),0)}function Cn(e,t,n,r){if(r=r||{},!C(r))throw new Error("options is invalid");var i,s=[];if("Feature"===e.type)i=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");i=e.coordinates}for(var o,l,u,c=0,h=0;h<i.length&&!(t>=c&&h===i.length-1);h++){if(c>t&&0===s.length){if(!(o=t-c))return s.push(i[h]),a(s);l=ft(i[h],i[h-1])-180,u=pt(i[h],o,l,r),s.push(u.geometry.coordinates)}if(c>=n)return(o=n-c)?(l=ft(i[h],i[h-1])-180,u=pt(i[h],o,l,r),s.push(u.geometry.coordinates),a(s)):(s.push(i[h]),a(s));if(c>=t&&s.push(i[h]),h===i.length-1)return a(s);c+=Fe(i[h],i[h+1],r)}return a(i[i.length-1])}function En(e,t,n){var r=(n=n||{}).ignoreEndVertices;if(!C(n))throw new Error("invalid options");if(!e)throw new Error("pt is required");if(!t)throw new Error("line is required");for(var i=j(e),s=V(t),o=0;o<s.length-1;o++){var a=!1;if(r&&(0===o&&(a="start"),o===s.length-2&&(a="end"),0===o&&o+1===s.length-1&&(a="both")),function(e,t,n,r){var i=n[0],s=n[1],o=e[0],a=e[1],l=t[0],u=t[1],c=n[0]-o,h=n[1]-a,p=l-o,d=u-a;return c*d-h*p==0&&(r?"start"===r?Math.abs(p)>=Math.abs(d)?p>0?o<i&&i<=l:l<=i&&i<o:d>0?a<s&&s<=u:u<=s&&s<a:"end"===r?Math.abs(p)>=Math.abs(d)?p>0?o<=i&&i<l:l<i&&i<=o:d>0?a<=s&&s<u:u<s&&s<=a:"both"===r?Math.abs(p)>=Math.abs(d)?p>0?o<i&&i<l:l<i&&i<o:d>0?a<s&&s<u:u<s&&s<a:void 0:Math.abs(p)>=Math.abs(d)?p>0?o<=i&&i<=l:l<=i&&i<=o:d>0?a<=s&&s<=u:u<=s&&s<=a)}(s[o],s[o+1],i,a))return!0}return!1}function Tn(e,t){var n=K(e),r=K(t),i=Z(e),s=Z(t);switch(n){case"Point":switch(r){case"MultiPoint":return function(e,t){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(Pn(t.coordinates[n],e.coordinates)){r=!0;break}return r}(i,s);case"LineString":return En(i,s,{ignoreEndVertices:!0});case"Polygon":return Le(i,s,{ignoreBoundary:!0});default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return function(e,t){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,i=0;i<t.coordinates.length;i++)Pn(e.coordinates[n],t.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(i,s);case"LineString":return function(e,t){for(var n=!1,r=0;r<e.coordinates.length;r++){if(!En(e.coordinates[r],t))return!1;n||(n=En(e.coordinates[r],t,{ignoreEndVertices:!0}))}return n}(i,s);case"Polygon":return function(e,t){for(var n=!0,r=0;r<e.coordinates.length;r++){var i=Le(e.coordinates[1],t);if(!i){n=!1;break}i=Le(e.coordinates[1],t,{ignoreBoundary:!0})}return n&&i}(i,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return function(e,t){for(var n=0;n<e.coordinates.length;n++)if(!En(e.coordinates[n],t))return!1;return!0}(i,s);case"Polygon":return function(e,t){var n=G(t),r=G(e);if(!An(n,r))return!1;for(var i=!1,s=0;s<e.coordinates.length-1;s++){if(!Le(e.coordinates[s],t))return!1;if(i||(i=Le(e.coordinates[s],t,{ignoreBoundary:!0})),!i){var o=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}(e.coordinates[s],e.coordinates[s+1]);i=Le(o,t,{ignoreBoundary:!0})}}return i}(i,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":return function(e,t){var n=G(e);if(!An(G(t),n))return!1;for(var r=0;r<e.coordinates[0].length;r++)if(!Le(e.coordinates[0][r],t))return!1;return!0}(i,s);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function An(e,t){return!(e[0]>t[0])&&!(e[2]<t[2])&&!(e[1]>t[1])&&!(e[3]<t[3])}function Pn(e,t){return e[0]===t[0]&&e[1]===t[1]}function In(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var i=n.mask,s=n.properties,o=[];if(null===t||void 0===t)throw new Error("cellSide is required");if(!S(t))throw new Error("cellSide is invalid");if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be array");if(4!==e.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(K(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=e[0],l=e[1],c=e[2],h=e[3],p=t/Fe([a,l],[c,l],n)*(c-a),d=t/Fe([a,l],[a,h],n)*(h-l),f=c-a,m=h-l,y=Math.floor(f/p),g=(m-Math.floor(m/d)*d)/2,_=a+(f-y*p)/2;_<=c;){for(var v=l+g;v<=h;){var b=r([_,v],s);i?Tn(b,i)&&o.push(b):o.push(b),v+=d}_+=p}return u(o)}function Ln(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.precision,r=t.coordinates,i=t.mutate;if(n=void 0===n||null===n||isNaN(n)?6:n,r=void 0===r||null===r||isNaN(r)?3:r,!e)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(e=JSON.parse(JSON.stringify(e)));var s=Math.pow(10,n);return A(e,(function(e){!function(e,t,n){e.length>n&&e.splice(n,e.length);for(var r=0;r<e.length;r++)e[r]=Math.round(e[r]*t)/t}(e,s,r)})),e}function Mn(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!Mn(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function On(e,t){if(void 0===t&&(t=!0),3!=e.length)throw new Error("This function requires an array of three points [x,y]");return(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0])>=0==t}function kn(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!kn(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}function Nn(e,t){var n=[],r=Qt();return D(t,(function(t){if(n.forEach((function(e,t){e.id=t})),n.length){var i=r.search(t);if(i.features.length){var s=Dn(t,i);n=n.filter((function(e){return e.id!==s.id})),r.remove(s),M(Rn(s,t),(function(e){n.push(e),r.insert(e)}))}}else(n=Rn(e,t).features).forEach((function(e){e.bbox||(e.bbox=ht(G(e)))})),r.load(u(n))})),u(n)}function Rn(e,t){var n=[],r=V(e)[0],i=V(e)[e.geometry.coordinates.length-1];if(Fn(r,j(t))||Fn(i,j(t)))return u([e]);var s=Qt(),o=tn(e);s.load(o);var l=s.search(t);if(!l.features.length)return u([e]);var c=Dn(t,l),h=O(o,(function(e,r,i){var s=V(r)[1],o=j(t);return i===c.id?(e.push(o),n.push(a(e)),Fn(o,s)?[o]:[o,s]):(e.push(s),e)}),[r]);return h.length>1&&n.push(a(h)),u(n)}function Dn(e,t){if(!t.features.length)throw new Error("lines must contain features");if(1===t.features.length)return t.features[0];var n,r=1/0;return M(t,(function(t){var i=sn(t,e).properties.dist;i<r&&(n=t,r=i)})),n}function Fn(e,t){return e[0]===t[0]&&e[1]===t[1]}function Bn(e,t,n,r,i){if(i=i||{},!C(i))throw new Error("options is invalid");var s=i.steps,o=i.units;if(!e)throw new Error("center is required");if(!t)throw new Error("radius is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===r||null===r)throw new Error("bearing2 is required");if("object"!=typeof i)throw new Error("options must be an object");s=s||64;var l=qn(n),u=qn(r),c=e.properties;if(l===u)return a(dt(e,t,i).geometry.coordinates[0],c);for(var h=l,p=l<u?u:u+360,d=h,f=[],m=0;d<p;)f.push(pt(e,t,d,o).geometry.coordinates),d=h+360*++m/s;return d>p&&f.push(pt(e,t,p,o).geometry.coordinates),a(f,c)}function qn(e){var t=e%360;return t<0&&(t+=360),t}function zn(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.properties,r=K(e),i=V(e);if(n=n||e.properties||{},!i.length)throw new Error("polygon must contain coordinates");switch(r){case"Polygon":return Un(i,n);case"MultiPolygon":var s=[];return i.forEach((function(e){s.push(Un(e,n))})),u(s);default:throw new Error("geom "+r+" not supported")}}function Un(e,t){return e.length>1?c(e,t):a(e[0],t)}function Gn(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.properties,r=t.autoComplete,i=t.orderCoords;if(!e)throw new Error("lines is required");switch(r=void 0===r||r,i=void 0===i||i,K(e)){case"FeatureCollection":case"GeometryCollection":var s=[];return(e.features?e.features:e.geometries).forEach((function(e){s.push(V(jn(e,{},r,i)))})),p(s,n)}return jn(e,n,r,i)}function jn(e,t,n,r){t=t||e.properties||{};var i=V(e),o=K(e);if(!i.length)throw new Error("line must contain coordinates");switch(o){case"LineString":return n&&(i=Vn(i)),s([i],t);case"MultiLineString":var l=[],u=0;return i.forEach((function(e){if(n&&(e=Vn(e)),r){var t=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.abs(t-r)*Math.abs(n-i)}(G(a(e)));t>u?(l.unshift(e),u=t):l.push(e)}else l.push(e)})),s(l,t);default:throw new Error("geometry type "+o+" is not supported")}}function Vn(e){var t=e[0],n=t[0],r=t[1],i=e[e.length-1],s=i[0],o=i[1];return n===s&&r===o||e.push(t),e}function Wn(e,t,n){var r,i,s,o,a,l=e.length,u=Jn(e[0],t),c=[];for(n||(n=[]),r=1;r<l;r++){for(i=e[r-1],o=a=Jn(s=e[r],t);;){if(!(u|o)){c.push(i),o!==a?(c.push(s),r<l-1&&(n.push(c),c=[])):r===l-1&&c.push(s);break}if(u&o)break;u?u=Jn(i=Hn(i,s,u,t),t):o=Jn(s=Hn(i,s,o,t),t)}u=a}return c.length&&n.push(c),n}function Hn(e,t,n,r){return 8&n?[e[0]+(t[0]-e[0])*(r[3]-e[1])/(t[1]-e[1]),r[3]]:4&n?[e[0]+(t[0]-e[0])*(r[1]-e[1])/(t[1]-e[1]),r[1]]:2&n?[r[2],e[1]+(t[1]-e[1])*(r[2]-e[0])/(t[0]-e[0])]:1&n?[r[0],e[1]+(t[1]-e[1])*(r[0]-e[0])/(t[0]-e[0])]:null}function Jn(e,t){var n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}function Xn(e,t){for(var n=[],r=0;r<e.length;r++){var i=Bo.polygon(e[r],t);i.length>0&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),i.length>=4&&n.push(i))}return n}function Zn(e){return"[object Arguments]"===Object.prototype.toString.call(e)}function Yn(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?(n.strict,e===t):function(e,t,n){var r,i;if(Kn(e)||Kn(t))return!1;if(e.prototype!==t.prototype)return!1;if(Zn(e))return!!Zn(t)&&(e=qo.call(e),t=qo.call(t),Yn(e,t,n));if(Qn(e)){if(!Qn(t))return!1;if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}try{var s=Object.keys(e),o=Object.keys(t)}catch(e){return!1}if(s.length!==o.length)return!1;for(s.sort(),o.sort(),r=s.length-1;r>=0;r--)if(s[r]!==o[r])return!1;for(r=s.length-1;r>=0;r--)if(i=s[r],!Yn(e[i],t[i],n))return!1;return typeof e==typeof t}(e,t,n))}function Kn(e){return null===e||void 0===e}function Qn(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&"function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0])}function $n(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r,i=n.tolerance||0,s=[],o=Qt();return o.load(tn(e)),B(t,(function(e){var t=!1;M(o.search(e),(function(n){if(!1===t){var s=V(e).sort(),o=V(n).sort();Yn(s,o)||(0===i?En(s[0],n)&&En(s[1],n):sn(n,s[0]).properties.dist<=i&&sn(n,s[1]).properties.dist<=i)?(t=!0,r=r?er(r,e):e):(0===i?En(o[0],e)&&En(o[1],e):sn(e,o[0]).properties.dist<=i&&sn(e,o[1]).properties.dist<=i)&&(r=r?er(r,n):n)}})),!1===t&&r&&(s.push(r),r=void 0)})),r&&s.push(r),u(s)}function er(e,t){var n=V(t),r=V(e),i=r[0],s=r[r.length-1],o=e.geometry.coordinates;return Yn(n[0],i)?o.unshift(n[1]):Yn(n[0],s)?o.push(n[1]):Yn(n[1],i)?o.unshift(n[0]):Yn(n[1],s)&&o.push(n[0]),e}function tr(e){var t=e%360;return t<0&&(t+=360),t}function nr(e,t,n,i){if(i=i||{},!C(i))throw new Error("options is invalid");var s=i.units,o=i.properties;if(!e)throw new Error("origin is required");if(void 0===t||null===t)throw new Error("distance is required");if(void 0===n||null===n)throw new Error("bearing is required");if(!(t>=0))throw new Error("distance must be greater than 0");var a=x(t,s,"meters"),l=j(e),u=function(e,t,n,r){r=void 0===r?Rs:Number(r);var i=t/r,s=e[0]*Math.PI/180,o=b(e[1]),a=b(n),l=i*Math.cos(a),u=o+l;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);var c=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),h=Math.abs(c)>1e-11?l/c:Math.cos(o),p=i*Math.sin(a)/h;return[(180*(s+p)/Math.PI+540)%360-180,180*u/Math.PI]}(l,a,n);return u[0]+=u[0]-l[0]>180?-360:l[0]-u[0]>180?360:0,r(u,o)}function rr(e,t,n,r,i,s){for(var o=0;o<e.length;o++){var a=e[o],l=e[o+1];o===e.length-1&&(l=e[0]),r=ir(a,l,t),n<=0&&r>0?function(e,t,n){return ir(e,t,n)<0}(t,a,i)||(i=a):n>0&&r<=0&&(function(e,t,n){return ir(e,t,n)>0}(t,a,s)||(s=a)),n=r}return[i,s]}function ir(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function sr(e){if(!e)throw new Error("line is required");var t=e.geometry?e.geometry.type:e.type;if(!Array.isArray(e)&&"LineString"!==t)throw new Error("geometry must be a LineString");for(var n,r,i=V(e),s=0,o=1;o<i.length;)n=r||i[0],s+=((r=i[o])[0]-n[0])*(r[1]+n[1]),o++;return s>0}function or(e,t){switch("Feature"===e.type?e.geometry.type:e.type){case"GeometryCollection":return N(e,(function(e){or(e,t)})),e;case"LineString":return ar(V(e),t),e;case"Polygon":return lr(V(e),t),e;case"MultiLineString":return V(e).forEach((function(e){ar(e,t)})),e;case"MultiPolygon":return V(e).forEach((function(e){lr(e,t)})),e;case"Point":case"MultiPoint":return e}}function ar(e,t){sr(e)===t&&e.reverse()}function lr(e,t){sr(e[0])!==t&&e[0].reverse();for(var n=1;n<e.length;n++)sr(e[n])===t&&e[n].reverse()}function ur(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.zProperty||"elevation",r=t.flip,i=t.flags;X(e,"Point","input must contain Points");for(var s=function(e,t){var n={};return M(e,(function(e){var t=V(e)[1];n[t]||(n[t]=[]),n[t].push(e)})),Object.keys(n).map((function(e){var t=n[e],r=t.sort((function(e,t){return V(e)[0]-V(t)[0]}));return r})).sort((function(e,n){return t?V(e[0])[1]-V(n[0])[1]:V(n[0])[1]-V(e[0])[1]}))}(e,r),o=[],a=0;a<s.length;a++){for(var l=s[a],u=[],c=0;c<l.length;c++){var h=l[c];h.properties[n]?u.push(h.properties[n]):u.push(0),!0===i&&(h.properties.matrixPosition=[a,c])}o.push(u)}return o}function cr(e,t,n,r){r=r||{};for(var i=Object.keys(zo),s=0;s<i.length;s++){var o=i[s],a=r[o];a=void 0!==a&&null!==a?a:zo[o],Uo[o]=a}Uo.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+t+":"+(t+n)+"]");var l,u=function(e,t,n){for(var r=e.length-1,i=e[0].length-1,s={rows:r,cols:i,cells:[]},o=t+Math.abs(n),a=0;a<r;++a){s.cells[a]=[];for(var l=0;l<i;++l){var u=0,c=e[a+1][l],h=e[a+1][l+1],p=e[a][l+1],d=e[a][l];if(!(isNaN(c)||isNaN(h)||isNaN(p)||isNaN(d))){u|=c<t?0:c>o?128:64,u|=h<t?0:h>o?32:16,u|=p<t?0:p>o?8:4;var f=+(u|=d<t?0:d>o?2:1),m=0;if(17===u||18===u||33===u||34===u||38===u||68===u||72===u||98===u||102===u||132===u||136===u||137===u||152===u||153===u){var y=(c+h+p+d)/4;m=y>o?2:y<t?0:1,34===u?1===m?u=35:0===m&&(u=136):136===u?1===m?(u=35,m=4):0===m&&(u=34):17===u?1===m?(u=155,m=4):0===m&&(u=153):68===u?1===m?(u=103,m=4):0===m&&(u=102):153===u?1===m&&(u=155):102===u?1===m&&(u=103):152===u?m<2&&(u=156,m=1):137===u?m<2&&(u=139,m=1):98===u?m<2&&(u=99,m=1):38===u?m<2&&(u=39,m=1):18===u?m>0?(u=156,m=4):u=152:33===u?m>0?(u=139,m=4):u=137:72===u?m>0?(u=99,m=4):u=98:132===u&&(m>0?(u=39,m=4):u=38)}if(0!=u&&170!=u){var g,_,v,b,x,w,S,C;g=_=v=b=x=w=S=C=.5;var E=[];1===u?(v=1-hr(t,p,d),C=1-hr(t,c,d),E.push(Aa[u])):169===u?(v=hr(o,d,p),C=hr(o,d,c),E.push(Aa[u])):4===u?(w=1-hr(t,h,p),b=hr(t,d,p),E.push(Ea[u])):166===u?(w=hr(o,p,h),b=1-hr(o,p,d),E.push(Ea[u])):16===u?(x=hr(t,p,h),_=hr(t,c,h),E.push(Ca[u])):154===u?(x=1-hr(o,h,p),_=1-hr(o,h,c),E.push(Ca[u])):64===u?(S=hr(t,d,c),g=1-hr(t,h,c),E.push(Ia[u])):106===u?(S=1-hr(o,c,d),g=hr(o,c,h),E.push(Ia[u])):168===u?(b=hr(o,d,p),v=hr(t,d,p),C=hr(t,d,c),S=hr(o,d,c),E.push(Ta[u]),E.push(Aa[u])):2===u?(b=1-hr(t,p,d),v=1-hr(o,p,d),C=1-hr(o,c,d),S=1-hr(t,c,d),E.push(Ta[u]),E.push(Aa[u])):162===u?(x=hr(o,p,h),w=hr(t,p,h),b=1-hr(t,p,d),v=1-hr(o,p,d),E.push(Ta[u]),E.push(Aa[u])):8===u?(x=1-hr(t,h,p),w=1-hr(o,h,p),b=hr(o,d,p),v=hr(t,d,p),E.push(Ca[u]),E.push(Ea[u])):138===u?(x=1-hr(t,h,p),w=1-hr(o,h,p),g=1-hr(o,h,c),_=1-hr(t,h,c),E.push(Ca[u]),E.push(Ea[u])):32===u?(x=hr(o,p,h),w=hr(t,p,h),g=hr(t,c,h),_=hr(o,c,h),E.push(Ca[u]),E.push(Ea[u])):42===u?(C=1-hr(o,c,d),S=1-hr(t,c,d),g=hr(t,c,h),_=hr(o,c,h),E.push(Pa[u]),E.push(Ia[u])):128===u&&(C=hr(t,d,c),S=hr(o,d,c),g=1-hr(o,h,c),_=1-hr(t,h,c),E.push(Pa[u]),E.push(Ia[u])),5===u?(w=1-hr(t,h,p),C=1-hr(t,c,d),E.push(Ea[u])):165===u?(w=hr(o,p,h),C=hr(o,d,c),E.push(Ea[u])):20===u?(b=hr(t,d,p),_=hr(t,c,h),E.push(Ta[u])):150===u?(b=1-hr(o,p,d),_=1-hr(o,h,c),E.push(Ta[u])):80===u?(x=hr(t,p,h),S=hr(t,d,c),E.push(Ca[u])):90===u?(x=1-hr(o,h,p),S=1-hr(o,c,d),E.push(Ca[u])):65===u?(v=1-hr(t,p,d),g=1-hr(t,h,c),E.push(Aa[u])):105===u?(v=hr(o,d,p),g=hr(o,c,h),E.push(Aa[u])):160===u?(x=hr(o,p,h),w=hr(t,p,h),C=hr(t,d,c),S=hr(o,d,c),E.push(Ca[u]),E.push(Ea[u])):10===u?(x=1-hr(t,h,p),w=1-hr(o,h,p),C=1-hr(o,c,d),S=1-hr(t,c,d),E.push(Ca[u]),E.push(Ea[u])):130===u?(b=1-hr(t,p,d),v=1-hr(o,p,d),g=1-hr(o,h,c),_=1-hr(t,h,c),E.push(Ta[u]),E.push(Aa[u])):40===u?(b=hr(o,d,p),v=hr(t,d,p),g=hr(t,c,h),_=hr(o,c,h),E.push(Ta[u]),E.push(Aa[u])):101===u?(w=hr(o,p,h),g=hr(o,c,h),E.push(Ea[u])):69===u?(w=1-hr(t,h,p),g=1-hr(t,h,c),E.push(Ea[u])):149===u?(C=hr(o,d,c),_=1-hr(o,h,c),E.push(Pa[u])):21===u?(C=1-hr(t,c,d),_=hr(t,c,h),E.push(Pa[u])):86===u?(b=1-hr(o,p,d),S=1-hr(o,c,d),E.push(Ta[u])):84===u?(b=hr(t,d,p),S=hr(t,d,c),E.push(Ta[u])):89===u?(x=1-hr(o,h,p),v=hr(o,d,p),E.push(Aa[u])):81===u?(x=hr(t,p,h),v=1-hr(t,p,d),E.push(Aa[u])):96===u?(x=hr(o,p,h),w=hr(t,p,h),S=hr(t,d,c),g=hr(o,c,h),E.push(Ca[u]),E.push(Ea[u])):74===u?(x=1-hr(t,h,p),w=1-hr(o,h,p),S=1-hr(o,c,d),g=1-hr(t,h,c),E.push(Ca[u]),E.push(Ea[u])):24===u?(x=1-hr(o,h,p),b=hr(o,d,p),v=hr(t,d,p),_=hr(t,c,h),E.push(Ca[u]),E.push(Aa[u])):146===u?(x=hr(t,p,h),b=1-hr(t,p,d),v=1-hr(o,p,d),_=1-hr(o,h,c),E.push(Ca[u]),E.push(Aa[u])):6===u?(w=1-hr(t,h,p),b=1-hr(o,p,d),C=1-hr(o,c,d),S=1-hr(t,c,d),E.push(Ea[u]),E.push(Ta[u])):164===u?(w=hr(o,p,h),b=hr(t,d,p),C=hr(t,d,c),S=hr(o,d,c),E.push(Ea[u]),E.push(Ta[u])):129===u?(v=1-hr(t,p,d),C=hr(o,d,c),g=1-hr(o,h,c),_=1-hr(t,h,c),E.push(Aa[u]),E.push(Pa[u])):41===u?(v=hr(o,d,p),C=1-hr(t,c,d),g=hr(t,c,h),_=hr(o,c,h),E.push(Aa[u]),E.push(Pa[u])):66===u?(b=1-hr(t,p,d),v=1-hr(o,p,d),S=1-hr(o,c,d),g=1-hr(t,h,c),E.push(Ta[u]),E.push(Aa[u])):104===u?(b=hr(o,d,p),v=hr(t,d,p),S=hr(t,d,c),g=hr(o,c,h),E.push(Aa[u]),E.push(La[u])):144===u?(x=hr(t,p,h),C=hr(t,d,c),S=hr(o,d,c),_=1-hr(o,h,c),E.push(Ca[u]),E.push(Ia[u])):26===u?(x=1-hr(o,h,p),C=1-hr(o,c,d),S=1-hr(t,c,d),_=hr(t,c,h),E.push(Ca[u]),E.push(Ia[u])):36===u?(w=hr(o,p,h),b=hr(t,d,p),g=hr(t,c,h),_=hr(o,c,h),E.push(Ea[u]),E.push(Ta[u])):134===u?(w=1-hr(t,h,p),b=1-hr(o,p,d),g=1-hr(o,h,c),_=1-hr(t,h,c),E.push(Ea[u]),E.push(Ta[u])):9===u?(x=1-hr(t,h,p),w=1-hr(o,h,p),v=hr(o,d,p),C=1-hr(t,c,d),E.push(Ca[u]),E.push(Ea[u])):161===u?(x=hr(o,p,h),w=hr(t,p,h),v=1-hr(t,p,d),C=hr(o,d,c),E.push(Ca[u]),E.push(Ea[u])):37===u?(w=hr(o,p,h),C=1-hr(t,c,d),g=hr(t,c,h),_=hr(o,c,h),E.push(Ea[u]),E.push(Pa[u])):133===u?(w=1-hr(t,h,p),C=hr(o,d,c),g=1-hr(o,h,c),_=1-hr(t,h,c),E.push(Ea[u]),E.push(Pa[u])):148===u?(b=hr(t,d,p),C=hr(t,d,c),S=hr(o,d,c),_=1-hr(o,h,c),E.push(Ta[u]),E.push(Ia[u])):22===u?(b=1-hr(o,p,d),C=1-hr(o,c,d),S=1-hr(t,c,d),_=hr(t,c,h),E.push(Ta[u]),E.push(Ia[u])):82===u?(x=hr(t,p,h),b=1-hr(t,p,d),v=1-hr(o,p,d),S=1-hr(o,c,d),E.push(Ca[u]),E.push(Aa[u])):88===u?(x=1-hr(o,h,p),b=hr(o,d,p),v=hr(t,d,p),S=hr(t,d,c),E.push(Ca[u]),E.push(Aa[u])):73===u?(x=1-hr(t,h,p),w=1-hr(o,h,p),v=hr(o,d,p),g=1-hr(t,h,c),E.push(Ca[u]),E.push(Ea[u])):97===u?(x=hr(o,p,h),w=hr(t,p,h),v=1-hr(t,p,d),g=hr(o,c,h),E.push(Ca[u]),E.push(Ea[u])):145===u?(x=hr(t,p,h),v=1-hr(t,p,d),C=hr(o,d,c),_=1-hr(o,h,c),E.push(Ca[u]),E.push(Pa[u])):25===u?(x=1-hr(o,h,p),v=hr(o,d,p),C=1-hr(t,c,d),_=hr(t,c,h),E.push(Ca[u]),E.push(Pa[u])):70===u?(w=1-hr(t,h,p),b=1-hr(o,p,d),S=1-hr(o,c,d),g=1-hr(t,h,c),E.push(Ea[u]),E.push(Ta[u])):100===u?(w=hr(o,p,h),b=hr(t,d,p),S=hr(t,d,c),g=hr(o,c,h),E.push(Ea[u]),E.push(Ta[u])):34===u?(0===m?(x=1-hr(t,h,p),w=1-hr(o,h,p),b=hr(o,d,p),v=hr(t,d,p),C=hr(t,d,c),S=hr(o,d,c),g=1-hr(o,h,c),_=1-hr(t,h,c)):(x=hr(o,p,h),w=hr(t,p,h),b=1-hr(t,p,d),v=1-hr(o,p,d),C=1-hr(o,c,d),S=1-hr(t,c,d),g=hr(t,c,h),_=hr(o,c,h)),E.push(Ca[u]),E.push(Ea[u]),E.push(Pa[u]),E.push(Ia[u])):35===u?(4===m?(x=1-hr(t,h,p),w=1-hr(o,h,p),b=hr(o,d,p),v=hr(t,d,p),C=hr(t,d,c),S=hr(o,d,c),g=1-hr(o,h,c),_=1-hr(t,h,c)):(x=hr(o,p,h),w=hr(t,p,h),b=1-hr(t,p,d),v=1-hr(o,p,d),C=1-hr(o,c,d),S=1-hr(t,c,d),g=hr(t,c,h),_=hr(o,c,h)),E.push(Ca[u]),E.push(Ea[u]),E.push(Aa[u]),E.push(Ia[u])):136===u?(0===m?(x=hr(o,p,h),w=hr(t,p,h),b=1-hr(t,p,d),v=1-hr(o,p,d),C=1-hr(o,c,d),S=1-hr(t,c,d),g=hr(t,c,h),_=hr(o,c,h)):(x=1-hr(t,h,p),w=1-hr(o,h,p),b=hr(o,d,p),v=hr(t,d,p),C=hr(t,d,c),S=hr(o,d,c),g=1-hr(o,h,c),_=1-hr(t,h,c)),E.push(Ca[u]),E.push(Ea[u]),E.push(Pa[u]),E.push(Ia[u])):153===u?(0===m?(x=hr(t,p,h),v=1-hr(t,p,d),C=1-hr(t,c,d),_=hr(t,c,h)):(x=1-hr(o,h,p),v=hr(o,d,p),C=hr(o,d,c),_=1-hr(o,h,c)),E.push(Ca[u]),E.push(Aa[u])):102===u?(0===m?(w=1-hr(t,h,p),b=hr(t,d,p),S=hr(t,d,c),g=1-hr(t,h,c)):(w=hr(o,p,h),b=1-hr(o,p,d),S=1-hr(o,c,d),g=hr(o,c,h)),E.push(Ea[u]),E.push(Ia[u])):155===u?(4===m?(x=hr(t,p,h),v=1-hr(t,p,d),C=1-hr(t,c,d),_=hr(t,c,h)):(x=1-hr(o,h,p),v=hr(o,d,p),C=hr(o,d,c),_=1-hr(o,h,c)),E.push(Ca[u]),E.push(Pa[u])):103===u?(4===m?(w=1-hr(t,h,p),b=hr(t,d,p),S=hr(t,d,c),g=1-hr(t,h,c)):(w=hr(o,p,h),b=1-hr(o,p,d),S=1-hr(o,c,d),g=hr(o,c,h)),E.push(Ea[u]),E.push(Ta[u])):152===u?(0===m?(x=hr(t,p,h),b=1-hr(t,p,d),v=1-hr(o,p,d),C=1-hr(o,c,d),S=1-hr(t,c,d),_=hr(t,c,h)):(x=1-hr(o,h,p),b=hr(o,d,p),v=hr(t,d,p),C=hr(t,d,c),S=hr(o,d,c),_=1-hr(o,h,c)),E.push(Ca[u]),E.push(Ta[u]),E.push(Aa[u])):156===u?(4===m?(x=hr(t,p,h),b=1-hr(t,p,d),v=1-hr(o,p,d),C=1-hr(o,c,d),S=1-hr(t,c,d),_=hr(t,c,h)):(x=1-hr(o,h,p),b=hr(o,d,p),v=hr(t,d,p),C=hr(t,d,c),S=hr(o,d,c),_=1-hr(o,h,c)),E.push(Ca[u]),E.push(Aa[u]),E.push(Ia[u])):137===u?(0===m?(x=hr(o,p,h),w=hr(t,p,h),v=1-hr(t,p,d),C=1-hr(t,c,d),g=hr(t,c,h),_=hr(o,c,h)):(x=1-hr(t,h,p),w=1-hr(o,h,p),v=hr(o,d,p),C=hr(o,d,c),g=1-hr(o,h,c),_=1-hr(t,h,c)),E.push(Ca[u]),E.push(Ea[u]),E.push(Aa[u])):139===u?(4===m?(x=hr(o,p,h),w=hr(t,p,h),v=1-hr(t,p,d),C=1-hr(t,c,d),g=hr(t,c,h),_=hr(o,c,h)):(x=1-hr(t,h,p),w=1-hr(o,h,p),v=hr(o,d,p),C=hr(o,d,c),g=1-hr(o,h,c),_=1-hr(t,h,c)),E.push(Ca[u]),E.push(Ea[u]),E.push(Pa[u])):98===u?(0===m?(x=1-hr(t,h,p),w=1-hr(o,h,p),b=hr(o,d,p),v=hr(t,d,p),S=hr(t,d,c),g=1-hr(t,h,c)):(x=hr(o,p,h),w=hr(t,p,h),b=1-hr(t,p,d),v=1-hr(o,p,d),S=1-hr(o,c,d),g=hr(o,c,h)),E.push(Ca[u]),E.push(Ea[u]),E.push(Ia[u])):99===u?(4===m?(x=1-hr(t,h,p),w=1-hr(o,h,p),b=hr(o,d,p),v=hr(t,d,p),S=hr(t,d,c),g=1-hr(t,h,c)):(x=hr(o,p,h),w=hr(t,p,h),b=1-hr(t,p,d),v=1-hr(o,p,d),S=1-hr(o,c,d),g=hr(o,c,h)),E.push(Ca[u]),E.push(Ea[u]),E.push(Aa[u])):38===u?(0===m?(w=1-hr(t,h,p),b=hr(t,d,p),C=hr(t,d,c),S=hr(o,d,c),g=1-hr(o,h,c),_=1-hr(t,h,c)):(w=hr(o,p,h),b=1-hr(o,p,d),C=1-hr(o,c,d),S=1-hr(t,c,d),g=hr(t,c,h),_=hr(o,c,h)),E.push(Ea[u]),E.push(Pa[u]),E.push(Ia[u])):39===u?(4===m?(w=1-hr(t,h,p),b=hr(t,d,p),C=hr(t,d,c),S=hr(o,d,c),g=1-hr(o,h,c),_=1-hr(t,h,c)):(w=hr(o,p,h),b=1-hr(o,p,d),C=1-hr(o,c,d),S=1-hr(t,c,d),g=hr(t,c,h),_=hr(o,c,h)),E.push(Ea[u]),E.push(Ta[u]),E.push(Ia[u])):85===u&&(x=1,w=0,b=1,v=0,C=0,S=1,g=0,_=1),(g<0||g>1||_<0||_>1||x<0||x>1||b<0||b>1||C<0||C>1||S<0||S>1)&&console.log("MarchingSquaresJS-isoBands: "+u+" "+f+" "+c+","+h+","+p+","+d+" "+m+" "+g+" "+_+" "+x+" "+w+" "+b+" "+v+" "+C+" "+S),s.cells[a][l]={cval:u,cval_real:f,flipped:m,topleft:g,topright:_,righttop:x,rightbottom:w,bottomright:b,bottomleft:v,leftbottom:C,lefttop:S,edges:E}}}}}return s}(e,t,n);return Uo.polygons?(Uo.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),l=function(e){var t=[],n=0;return e.cells.forEach((function(e,r){e.forEach((function(e,i){if(void 0!==e){var s=Oa[e.cval](e);"object"==typeof s&&pr(s)?"object"==typeof s[0]&&pr(s[0])?"object"==typeof s[0][0]&&pr(s[0][0])?s.forEach((function(e){e.forEach((function(e){e[0]+=i,e[1]+=r})),t[n++]=e})):(s.forEach((function(e){e[0]+=i,e[1]+=r})),t[n++]=s):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),t}(u)):(Uo.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),l=function(e){for(var t=[],n=e.rows,r=e.cols,i=[],s=0;s<n;s++)for(var o=0;o<r;o++)if(void 0!==e.cells[s][o]&&e.cells[s][o].edges.length>0){var a=e.cells[s][o],l=function(e){if(e.edges.length>0){var t=e.edges[e.edges.length-1],n=e.cval_real;switch(t){case 0:return n&jo?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 1:return n&Vo?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 2:return n&Vo?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topleft,1],x:0,y:-1,o:0};case 3:return n&Wo?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 4:return n&jo?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 5:return n&Vo?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 6:return n&Vo?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};case 7:return n&Wo?{p:[e.topright,1],x:0,y:-1,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 8:return n&Vo?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.righttop],x:-1,y:0,o:1};case 9:return n&Wo?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 10:return n&Wo?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.righttop],x:-1,y:0,o:1};case 11:return n&Go?{p:[1,e.righttop],x:-1,y:0,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 12:return n&Vo?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 13:return n&Wo?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 14:return n&Wo?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[1,e.rightbottom],x:-1,y:0,o:0};case 15:return n&Go?{p:[1,e.rightbottom],x:-1,y:0,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 16:return n&Vo?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 17:return n&Go?{p:[e.bottomright,0],x:0,y:1,o:1}:{p:[0,e.lefttop],x:1,y:0,o:1};case 18:return n&Wo?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.bottomleft,0],x:0,y:1,o:0};case 19:return n&Go?{p:[e.bottomleft,0],x:0,y:1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 20:return n&Go?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.leftbottom],x:1,y:0,o:0};case 21:return n&jo?{p:[0,e.leftbottom],x:1,y:0,o:0}:{p:[e.topright,1],x:0,y:-1,o:1};case 22:return n&Go?{p:[e.topleft,1],x:0,y:-1,o:0}:{p:[0,e.lefttop],x:1,y:0,o:1};case 23:return n&jo?{p:[0,e.lefttop],x:1,y:0,o:1}:{p:[e.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e)}}return null}(a),u=null,c=o,h=s;null!==l&&i.push([l.p[0]+c,l.p[1]+h]);do{if(null===(u=function(e,t,n,r){var i,s,o,a,l,u=e.cval;switch(t){case-1:switch(r){case 0:i=Ea[u],o=ta[u],a=na[u],l=ra[u];break;default:i=Ca[u],o=Qo[u],a=$o[u],l=ea[u]}break;case 1:switch(r){case 0:i=Pa[u],o=da[u],a=fa[u],l=ma[u];break;default:i=Ia[u],o=ca[u],a=ha[u],l=pa[u]}break;default:switch(n){case-1:switch(r){case 0:i=La[u],o=Ho[u],a=Jo[u],l=Xo[u];break;default:i=Ma[u],o=Zo[u],a=Yo[u],l=Ko[u]}break;case 1:switch(r){case 0:i=Aa[u],o=ia[u],a=sa[u],l=oa[u];break;default:i=Ta[u],o=aa[u],a=la[u],l=ua[u]}}}if(s=e.edges.indexOf(i),void 0===e.edges[s])return null;switch(function(e,t){delete e.edges[t];for(var n=t+1;n<e.edges.length;n++)e.edges[n-1]=e.edges[n];e.edges.pop()}(e,s),u=e.cval_real,i){case 0:u&jo?(t=e.topleft,n=1):(t=1,n=e.righttop);break;case 1:u&Vo?(t=1,n=e.rightbottom):(t=e.topleft,n=1);break;case 2:u&Vo?(t=e.topleft,n=1):(t=e.bottomright,n=0);break;case 3:u&Wo?(t=e.bottomleft,n=0):(t=e.topleft,n=1);break;case 4:u&jo?(t=e.topright,n=1):(t=1,n=e.righttop);break;case 5:u&Vo?(t=1,n=e.rightbottom):(t=e.topright,n=1);break;case 6:u&Vo?(t=e.topright,n=1):(t=e.bottomright,n=0);break;case 7:u&Wo?(t=e.bottomleft,n=0):(t=e.topright,n=1);break;case 8:u&Vo?(t=1,n=e.righttop):(t=e.bottomright,n=0);break;case 9:u&Wo?(t=e.bottomleft,n=0):(t=1,n=e.righttop);break;case 10:u&Wo?(t=1,n=e.righttop):(t=0,n=e.leftbottom);break;case 11:u&Go?(t=0,n=e.lefttop):(t=1,n=e.righttop);break;case 12:u&Vo?(t=1,n=e.rightbottom):(t=e.bottomright,n=0);break;case 13:u&Wo?(t=e.bottomleft,n=0):(t=1,n=e.rightbottom);break;case 14:u&Wo?(t=1,n=e.rightbottom):(t=0,n=e.leftbottom);break;case 15:u&Go?(t=0,n=e.lefttop):(t=1,n=e.rightbottom);break;case 16:u&Vo?(t=0,n=e.leftbottom):(t=e.bottomright,n=0);break;case 17:u&Go?(t=0,n=e.lefttop):(t=e.bottomright,n=0);break;case 18:u&Wo?(t=e.bottomleft,n=0):(t=0,n=e.leftbottom);break;case 19:u&Go?(t=0,n=e.lefttop):(t=e.bottomleft,n=0);break;case 20:u&Go?(t=0,n=e.leftbottom):(t=e.topleft,n=1);break;case 21:u&jo?(t=e.topright,n=1):(t=0,n=e.leftbottom);break;case 22:u&Go?(t=0,n=e.lefttop):(t=e.topleft,n=1);break;case 23:u&jo?(t=e.topright,n=1):(t=0,n=e.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(e),null}return void 0!==t&&void 0!==n&&void 0!==o&&void 0!==a&&void 0!==l||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(e),console.log(t+" "+n+" "+o+" "+a+" "+l)),{p:[t,n],x:o,y:a,o:l}}(e.cells[h][c],l.x,l.y,l.o)))break;if(i.push([u.p[0]+c,u.p[1]+h]),c+=u.x,h+=u.y,l=u,h<0||h>=n||c<0||c>=r||void 0===e.cells[h][c]){c-=u.x,h-=u.y;var p=function(e,t,n,r,i,s){for(var o=e.cells[n][t],a=o.cval_real,l=t+r,u=n+i,c=[],h=!1;!h;){if(void 0===e.cells[u]||void 0===e.cells[u][l])if(u-=i,l-=r,o=e.cells[u][l],a=o.cval_real,-1===i)if(0===s)if(a&Wo)c.push([l,u]),r=-1,i=0,s=0;else{if(!(a&Vo)){c.push([l+o.bottomright,u]),r=0,i=1,s=1,h=!0;break}c.push([l+1,u]),r=1,i=0,s=0}else{if(!(a&Wo)){if(a&Vo){c.push([l+o.bottomright,u]),r=0,i=1,s=1,h=!0;break}c.push([l+o.bottomleft,u]),r=0,i=1,s=0,h=!0;break}c.push([l,u]),r=-1,i=0,s=0}else if(1===i)if(0===s){if(!(a&jo)){if(a&Go){c.push([l+o.topleft,u+1]),r=0,i=-1,s=0,h=!0;break}c.push([l+o.topright,u+1]),r=0,i=-1,s=1,h=!0;break}c.push([l+1,u+1]),r=1,i=0,s=1}else c.push([l+1,u+1]),r=1,i=0,s=1;else if(-1===r)if(0===s){if(!(a&Go)){if(a&Wo){c.push([l,u+o.leftbottom]),r=1,i=0,s=0,h=!0;break}c.push([l,u+o.lefttop]),r=1,i=0,s=1,h=!0;break}c.push([l,u+1]),r=0,i=1,s=0}else{if(!(a&Go)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([l,u+1]),r=0,i=1,s=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===s){if(!(a&Vo)){c.push([l+1,u+o.rightbottom]),r=-1,i=0,s=0,h=!0;break}c.push([l+1,u]),r=0,i=-1,s=1}else{if(!(a&Vo)){if(a&jo){c.push([l+1,u+o.righttop]),r=-1,i=0,s=1;break}c.push([l+1,u+o.rightbottom]),r=-1,i=0,s=0,h=!0;break}c.push([l+1,u]),r=0,i=-1,s=1}}else if(o=e.cells[u][l],a=o.cval_real,-1===r)if(0===s)if(void 0!==e.cells[u-1]&&void 0!==e.cells[u-1][l])r=0,i=-1,s=1;else{if(!(a&Wo)){c.push([l+o.bottomright,u]),r=0,i=1,s=1,h=!0;break}c.push([l,u])}else{if(!(a&Go)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+l+","+u);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===s){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[u+1]&&void 0!==e.cells[u+1][l])r=0,i=1,s=0;else{if(!(a&jo)){c.push([l+o.topleft,u+1]),r=0,i=-1,s=0,h=!0;break}c.push([l+1,u+1]),r=1,i=0,s=1}}else if(-1===i){if(1!==s){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[u][l+1])r=1,i=0,s=1;else{if(!(a&Vo)){c.push([l+1,u+o.righttop]),r=-1,i=0,s=1,h=!0;break}c.push([l+1,u]),r=0,i=-1,s=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==s){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==e.cells[u][l-1])r=-1,i=0,s=0;else{if(!(a&Go)){c.push([l,u+o.leftbottom]),r=1,i=0,s=0,h=!0;break}c.push([l,u+1]),r=0,i=1,s=0}}if(l+=r,u+=i,l===t&&u===n)break}return{path:c,i:l,j:u,x:r,y:i,o:s}}(e,c,h,u.x,u.y,u.o);if(null===p)break;p.path.forEach((function(e){i.push(e)})),c=p.i,h=p.j,l=p}}while(void 0!==e.cells[h][c]&&e.cells[h][c].edges.length>0);t.push(i),i=[],e.cells[s][o].edges.length>0&&o--}return t}(u)),"function"==typeof Uo.successCallback&&Uo.successCallback(l),l}function hr(e,t,n){return(e-t)/(n-t)}function pr(e){return e.constructor.toString().indexOf("Array")>-1}function dr(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!e)throw new Error("geojson is required");if(void 0===t||null===t||isNaN(t))throw new Error("angle is required");return 0===t||(r||(r=yt(e)),!1!==i&&void 0!==i||(e=Be(e)),A(e,(function(e){var n=on(r,e)+t,i=ln(r,e),s=V(nr(r,i,n));e[0]=s[0],e[1]=s[1]}))),e}function fr(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!e)throw new Error("geojson required");if("number"!=typeof t||0===t)throw new Error("invalid factor");var s=Array.isArray(r)||"object"==typeof r;return!0!==i&&(e=Be(e)),"FeatureCollection"!==e.type||s?mr(e,t,r):(M(e,(function(n,i){e.features[i]=mr(n,t,r)})),e)}function mr(e,t,n){var i="Point"===K(e);return n=function(e,t){if(void 0!==t&&null!==t||(t="centroid"),Array.isArray(t)||"object"==typeof t)return j(t);var n=e.bbox?e.bbox:G(e),i=n[0],s=n[1],o=n[2],a=n[3];switch(t){case"sw":case"southwest":case"westsouth":case"bottomleft":return r([i,s]);case"se":case"southeast":case"eastsouth":case"bottomright":return r([o,s]);case"nw":case"northwest":case"westnorth":case"topleft":return r([i,a]);case"ne":case"northeast":case"eastnorth":case"topright":return r([o,a]);case"center":return mt(e);case void 0:case null:case"centroid":return yt(e);default:throw new Error("invalid origin")}}(e,n),1===t||i||A(e,(function(e){var r=ln(n,e),i=on(n,e),s=V(nr(n,r*t,i));e[0]=s[0],e[1]=s[1],3===e.length&&(e[2]*=t)})),e}function yr(e){var t=e[0],n=e[1];return[n[0]-t[0],n[1]-t[1]]}function gr(e,t){return e[0]*t[1]-t[0]*e[1]}function _r(e,t){return!function(e,t){return 0===gr(yr(e),yr(t))}(e,t)&&function(e,t){var n=e[0],r=yr(e),i=t[0],s=yr(t),o=gr(r,s);return function(e,t){return[e[0]+t[0],e[1]+t[1]]}(n,function(e,t){return[e*t[0],e*t[1]]}(gr(function(e,t){return[e[0]-t[0],e[1]-t[1]]}(i,n),s)/o,r))}(e,t)}function vr(e,t,n){var r=[],i=g(t,n),s=V(e),o=[];return s.forEach((function(e,t){if(t!==s.length-1){var n=function(e,t,n){var r=Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])),i=e[0]+n*(t[1]-e[1])/r,s=t[0]+n*(t[1]-e[1])/r,o=e[1]+n*(e[0]-t[0])/r,a=t[1]+n*(e[0]-t[0])/r;return[[i,o],[s,a]]}(e,s[t+1],i);if(r.push(n),t>0){var a=r[t-1],l=_r(n,a);!1!==l&&(a[1]=l,n[0]=l),o.push(a[0]),t===s.length-2&&(o.push(n[0]),o.push(n[1]))}2===s.length&&(o.push(n[0]),o.push(n[1]))}})),a(o,e.properties)}function br(e,t,n){var r=t[0]-e[0],i=t[1]-e[1],s=n[0]-t[0],o=n[1]-t[1];return Math.sign(r*o-s*i)}function xr(e,t){return t.geometry.coordinates[0].every((function(t){return Le(r(t),e)}))}function wr(e,t){for(var n=0;n<e.coordinates.length-1;n++)if(function(e,t,n){var r=n[0]-e[0],i=n[1]-e[1],s=t[0]-e[0],o=t[1]-e[1];return r*o-i*s==0&&(Math.abs(s)>=Math.abs(o)?s>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:o>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1])}(e.coordinates[n],e.coordinates[n+1],t.coordinates))return!0;return!1}function Sr(e,t){return nn(t,zn(e)).features.length>0}function Cr(e,t){return!(e[0]>t[0])&&!(e[2]<t[2])&&!(e[1]>t[1])&&!(e[3]<t[3])}function Er(e,t){return e[0]===t[0]&&e[1]===t[1]}function Tr(e,t){for(var n=!1,r=!1,i=e.coordinates.length,s=0;s<i&&!n&&!r;){for(var o=0;o<t.coordinates.length-1;o++){var a=!0;0!==o&&o!==t.coordinates.length-2||(a=!1),Ir(t.coordinates[o],t.coordinates[o+1],e.coordinates[s],a)?n=!0:r=!0}s++}return n&&r}function Ar(e,t){return nn(e,zn(t)).features.length>0}function Pr(e,t){for(var n=!1,i=!1,s=e.coordinates[0].length,o=0;o<s&&n&&i;)Le(r(e.coordinates[0][o]),t)?n=!0:i=!0,o++;return i&&i}function Ir(e,t,n,r){var i=n[0]-e[0],s=n[1]-e[1],o=t[0]-e[0],a=t[1]-e[1];return 0==i*a-s*o&&(r?Math.abs(o)>=Math.abs(a)?o>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:a>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1]:Math.abs(o)>=Math.abs(a)?o>0?e[0]<n[0]&&n[0]<t[0]:t[0]<n[0]&&n[0]<e[0]:a>0?e[1]<n[1]&&n[1]<t[1]:t[1]<n[1]&&n[1]<e[1])}function Lr(e){return e.coordinates.map((function(t){return{type:e.type.replace("Multi",""),coordinates:t}}))}function Mr(e,t){return e.hasOwnProperty("coordinates")?e.coordinates.length===t.coordinates.length:e.length===t.length}function Or(e,t){return za(e,t,{strict:!0})}function kr(e,t){if(!e)throw new Error("feature1 is required");if(!t)throw new Error("feature2 is required");var n=K(e);if(n!==K(t))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new Ga({precision:6}).compare(e,t))return!1;var r=0;switch(n){case"MultiPoint":var i=k(e),s=k(t);i.forEach((function(e){s.forEach((function(t){e[0]===t[0]&&e[1]===t[1]&&r++}))}));break;case"LineString":case"MultiLineString":B(e,(function(e){B(t,(function(t){$n(e,t).features.length&&r++}))}));break;case"Polygon":case"MultiPolygon":B(e,(function(e){B(t,(function(t){nn(e,t).features.length&&r++}))}))}return r>0}function Nr(e,t,n){n=n||[];for(var r=0;r<e;r++)n[r]=t;return n}function Rr(e,t){if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error("Invalid GeoJSON object for "+t)}function Dr(e){for(var t=e,n=[];t.parent;)n.unshift(t),t=t.parent;return n}function Fr(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var n=0;n<e.length;n++){this.grid[n]=[];for(var r=0,i=e[n];r<i.length;r++){var s=new Br(n,r,i[r]);this.grid[n][r]=s,this.nodes.push(s)}}this.init()}function Br(e,t,n){this.x=e,this.y=t,this.weight=n}function qr(e){this.content=[],this.scoreFunction=e}function zr(e){return e[0]}function Ur(e){return e[1]}function Gr(){this._=null}function jr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Vr(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Wr(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Hr(e){for(;e.L;)e=e.L;return e}function Jr(e,t,n,r){var i=[null,null],s=ll.push(i)-1;return i.left=e,i.right=t,n&&Zr(i,e,t,n),r&&Zr(i,t,e,r),ol[e.index].halfedges.push(s),ol[t.index].halfedges.push(s),i}function Xr(e,t,n){var r=[t,n];return r.left=e,r}function Zr(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function Yr(e,t,n,r,i){var s,o=e[0],a=e[1],l=o[0],u=o[1],c=0,h=1,p=a[0]-l,d=a[1]-u;if(s=t-l,p||!(s>0)){if(s/=p,p<0){if(s<c)return;s<h&&(h=s)}else if(p>0){if(s>h)return;s>c&&(c=s)}if(s=r-l,p||!(s<0)){if(s/=p,p<0){if(s>h)return;s>c&&(c=s)}else if(p>0){if(s<c)return;s<h&&(h=s)}if(s=n-u,d||!(s>0)){if(s/=d,d<0){if(s<c)return;s<h&&(h=s)}else if(d>0){if(s>h)return;s>c&&(c=s)}if(s=i-u,d||!(s<0)){if(s/=d,d<0){if(s>h)return;s>c&&(c=s)}else if(d>0){if(s<c)return;s<h&&(h=s)}return!(c>0||h<1)||(c>0&&(e[0]=[l+c*p,u+c*d]),h<1&&(e[1]=[l+h*p,u+h*d]),!0)}}}}}function Kr(e,t,n,r,i){var s=e[1];if(s)return!0;var o,a,l=e[0],u=e.left,c=e.right,h=u[0],p=u[1],d=c[0],f=c[1],m=(h+d)/2,y=(p+f)/2;if(f===p){if(m<t||m>=r)return;if(h>d){if(l){if(l[1]>=i)return}else l=[m,n];s=[m,i]}else{if(l){if(l[1]<n)return}else l=[m,i];s=[m,n]}}else if(o=(h-d)/(f-p),a=y-o*m,o<-1||o>1)if(h>d){if(l){if(l[1]>=i)return}else l=[(n-a)/o,n];s=[(i-a)/o,i]}else{if(l){if(l[1]<n)return}else l=[(i-a)/o,i];s=[(n-a)/o,n]}else if(p<f){if(l){if(l[0]>=r)return}else l=[t,o*t+a];s=[r,o*r+a]}else{if(l){if(l[0]<t)return}else l=[r,o*r+a];s=[t,o*t+a]}return e[0]=l,e[1]=s,!0}function Qr(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function $r(e,t){return t[+(t.left!==e.site)]}function ei(e,t){return t[+(t.left===e.site)]}function ti(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,s=n.site;if(r!==s){var o=i[0],a=i[1],l=r[0]-o,u=r[1]-a,c=s[0]-o,h=s[1]-a,p=2*(l*h-u*c);if(!(p>=-pl)){var d=l*l+u*u,f=c*c+h*h,m=(h*d-u*f)/p,y=(l*f-c*d)/p,g=ul.pop()||new function(){jr(this),this.x=this.y=this.arc=this.site=this.cy=null};g.arc=e,g.site=i,g.x=m+o,g.y=(g.cy=y+a)+Math.sqrt(m*m+y*y),e.circle=g;for(var _=null,v=al._;v;)if(g.y<v.y||g.y===v.y&&g.x<=v.x){if(!v.L){_=v.P;break}v=v.L}else{if(!v.R){_=v;break}v=v.R}al.insert(_,g),_||(il=g)}}}}function ni(e){var t=e.circle;t&&(t.P||(il=t.N),al.remove(t),ul.push(t),jr(t),e.circle=null)}function ri(e){var t=cl.pop()||new function(){jr(this),this.edge=this.site=this.circle=null};return t.site=e,t}function ii(e){ni(e),sl.remove(e),cl.push(e),jr(e)}function si(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],s=e.P,o=e.N,a=[e];ii(e);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<hl&&Math.abs(r-l.circle.cy)<hl;)s=l.P,a.unshift(l),ii(l),l=s;a.unshift(l),ni(l);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<hl&&Math.abs(r-u.circle.cy)<hl;)o=u.N,a.push(u),ii(u),u=o;a.push(u),ni(u);var c,h=a.length;for(c=1;c<h;++c)u=a[c],l=a[c-1],Zr(u.edge,l.site,u.site,i);l=a[0],(u=a[h-1]).edge=Jr(l.site,u.site,null,i),ti(l),ti(u)}function oi(e){for(var t,n,r,i,s=e[0],o=e[1],a=sl._;a;)if((r=ai(a,o)-s)>hl)a=a.L;else{if(!((i=s-function(e,t){var n=e.N;if(n)return ai(n,t);var r=e.site;return r[1]===t?r[0]:1/0}(a,o))>hl)){r>-hl?(t=a.P,n=a):i>-hl?(t=a,n=a.N):t=n=a;break}if(!a.R){t=a;break}a=a.R}!function(e){ol[e.index]={site:e,halfedges:[]}}(e);var l=ri(e);if(sl.insert(t,l),t||n){if(t===n)return ni(t),n=ri(t.site),sl.insert(l,n),l.edge=n.edge=Jr(t.site,l.site),ti(t),void ti(n);if(n){ni(t),ni(n);var u=t.site,c=u[0],h=u[1],p=e[0]-c,d=e[1]-h,f=n.site,m=f[0]-c,y=f[1]-h,g=2*(p*y-d*m),_=p*p+d*d,v=m*m+y*y,b=[(y*_-d*v)/g+c,(p*v-m*_)/g+h];Zr(n.edge,u,f,b),l.edge=Jr(u,e,null,b),n.edge=Jr(e,f,null,b),ti(t),ti(n)}else l.edge=Jr(t.site,l.site)}}function ai(e,t){var n=e.site,r=n[0],i=n[1],s=i-t;if(!s)return r;var o=e.P;if(!o)return-1/0;var a=(n=o.site)[0],l=n[1],u=l-t;if(!u)return a;var c=a-r,h=1/s-1/u,p=c/u;return h?(-p+Math.sqrt(p*p-2*h*(c*c/(-2*u)-l+u/2+i-s/2)))/h+r:(r+a)/2}function li(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function ui(e,t){return t[1]-e[1]||t[0]-e[0]}function ci(e,t){var n,r,i,s=e.sort(ui).pop();for(ll=[],ol=new Array(e.length),sl=new Gr,al=new Gr;;)if(i=il,s&&(!i||s[1]<i.y||s[1]===i.y&&s[0]<i.x))s[0]===n&&s[1]===r||(oi(s),n=s[0],r=s[1]),s=e.pop();else{if(!i)break;si(i.arc)}if(function(){for(var e,t,n,r,i=0,s=ol.length;i<s;++i)if((e=ol[i])&&(r=(t=e.halfedges).length)){var o=new Array(r),a=new Array(r);for(n=0;n<r;++n)o[n]=n,a[n]=Qr(e,ll[t[n]]);for(o.sort((function(e,t){return a[t]-a[e]})),n=0;n<r;++n)a[n]=t[o[n]];for(n=0;n<r;++n)t[n]=a[n]}}(),t){var o=+t[0][0],a=+t[0][1],l=+t[1][0],u=+t[1][1];!function(e,t,n,r){for(var i,s=ll.length;s--;)Kr(i=ll[s],e,t,n,r)&&Yr(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>hl||Math.abs(i[0][1]-i[1][1])>hl)||delete ll[s]}(o,a,l,u),function(e,t,n,r){var i,s,o,a,l,u,c,h,p,d,f,m,y=ol.length,g=!0;for(i=0;i<y;++i)if(s=ol[i]){for(o=s.site,a=(l=s.halfedges).length;a--;)ll[l[a]]||l.splice(a,1);for(a=0,u=l.length;a<u;)f=(d=ei(s,ll[l[a]]))[0],m=d[1],h=(c=$r(s,ll[l[++a%u]]))[0],p=c[1],(Math.abs(f-h)>hl||Math.abs(m-p)>hl)&&(l.splice(a,0,ll.push(Xr(o,d,Math.abs(f-e)<hl&&r-m>hl?[e,Math.abs(h-e)<hl?p:r]:Math.abs(m-r)<hl&&n-f>hl?[Math.abs(p-r)<hl?h:n,r]:Math.abs(f-n)<hl&&m-t>hl?[n,Math.abs(h-n)<hl?p:t]:Math.abs(m-t)<hl&&f-e>hl?[Math.abs(p-t)<hl?h:e,t]:null))-1),++u);u&&(g=!1)}if(g){var _,v,b,x=1/0;for(i=0,g=null;i<y;++i)(s=ol[i])&&(b=(_=(o=s.site)[0]-e)*_+(v=o[1]-t)*v)<x&&(x=b,g=s);if(g){var w=[e,t],S=[e,r],C=[n,r],E=[n,t];g.halfedges.push(ll.push(Xr(o=g.site,w,S))-1,ll.push(Xr(o,S,C))-1,ll.push(Xr(o,C,E))-1,ll.push(Xr(o,E,w))-1)}}for(i=0;i<y;++i)(s=ol[i])&&(s.halfedges.length||delete ol[i])}(o,a,l,u)}this.edges=ll,this.cells=ol,sl=al=ll=ol=null}function hi(e){return(e=e.slice()).push(e[0]),s([e])}function pi(e,t,n,r){var i=(r=r||{}).steps||64,o=r.units||"kilometers",a=r.angle||0,l=r.pivot||e,u=r.properties||e.properties||{};if(!e)throw new Error("center is required");if(!t)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!C(r))throw new Error("options must be an object");if(!S(i))throw new Error("steps must be a number");if(!S(a))throw new Error("angle must be a number");var c=j(e);if("degrees"===o)var h=b(a);else t=nr(e,t,90,{units:o}),n=nr(e,n,0,{units:o}),t=j(t)[0]-c[0],n=j(n)[1]-c[1];for(var p=[],d=0;d<i;d+=1){var f=-360*d/i,m=t*n/Math.sqrt(Math.pow(n,2)+Math.pow(t,2)*Math.pow(di(f),2)),y=t*n/Math.sqrt(Math.pow(t,2)+Math.pow(n,2)/Math.pow(di(f),2));if(f<-90&&f>=-270&&(m=-m),f<-180&&f>=-360&&(y=-y),"degrees"===o){var g=m*Math.cos(h)+y*Math.sin(h),_=y*Math.cos(h)-m*Math.sin(h);m=g,y=_}p.push([m+c[0],y+c[1]])}return p.push(p[0]),"degrees"===o?s([p],u):dr(s([p],u),a,{pivot:l})}function di(e){var t=e*Math.PI/180;return Math.tan(t)}function fi(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.properties,i=t.weight;if(!e)throw new Error("geojson is required");var s=0,o=0,a=0;return N(e,(function(e,t,n){var r=n[i];if(r=void 0===r||null===r?1:r,!S(r))throw new Error("weight value must be a number for feature index "+t);(r=Number(r))>0&&A(e,(function(e){s+=e[0]*r,o+=e[1]*r,a+=r}))})),r([s/a,o/a],n)}function mi(e,t,n,i){var s=n.properties.tolerance||.001,o=0,a=0,l=0,u=0;if(M(n,(function(t){var n=t.properties.weight,r=void 0===n||null===n?1:n;if(r=Number(r),!S(r))throw new Error("weight value must be a number");if(r>0){u+=1;var i=r*Fe(t,e);0===i&&(i=1);var s=r/i;o+=t.geometry.coordinates[0]*s,a+=t.geometry.coordinates[1]*s,l+=s}})),u<1)throw new Error("no features to measure");var c=o/l,h=a/l;return 1===u||0===i||Math.abs(c-t[0])<s&&Math.abs(h-t[1])<s?r([c,h],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([c,h]),mi([c,h],e,n,i-1))}function yi(e,t){return{x:e[0]-t[0],y:e[1]-t[1]}}function gi(e){if(C(e)&&(e=e.bbox),e&&!Array.isArray(e))throw new Error("bbox is invalid");return e?function(e){return[Math.random()*(e[2]-e[0])+e[0],Math.random()*(e[3]-e[1])+e[1]]}(e):[360*xi(),180*xi()]}function _i(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.bbox;void 0!==e&&null!==e||(e=1);for(var i=[],s=0;s<e;s++)i.push(r(gi(n)));return u(i)}function vi(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.bbox,r=t.num_vertices,i=t.max_radial_length;void 0!==e&&null!==e||(e=1),S(r)||(r=10),S(i)||(i=10);for(var o=[],a=0;a<e;a++){var l=[],c=Array.apply(null,new Array(r+1)).map(Math.random);c.forEach((function(e,t,n){n[t]=t>0?e+n[t-1]:e})),c.forEach((function(e){e=2*e*Math.PI/c[c.length-1];var t=Math.random();l.push([t*i*Math.sin(e),t*i*Math.cos(e)])})),l[l.length-1]=l[0],l=l.map(function(e){return function(t){return[t[0]+e[0],t[1]+e[1]]}}(gi(n))),o.push(s([l]))}return u(o)}function bi(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.bbox,r=t.num_vertices,i=t.max_length,s=t.max_rotation;void 0!==e&&null!==e||(e=1),(!S(r)||r<2)&&(r=10),S(i)||(i=1e-4),S(s)||(s=Math.PI/8);for(var o=[],l=0;l<e;l++){for(var c=[gi(n)],h=0;h<r-1;h++){var p=(0===h?2*Math.random()*Math.PI:Math.tan((c[h][1]-c[h-1][1])/(c[h][0]-c[h-1][0])))+(Math.random()-.5)*s*2,d=Math.random()*i;c.push([c[h][0]+d*Math.cos(p),c[h][1]+d*Math.sin(p)])}o.push(a(c))}return u(o)}function xi(){return Math.random()-.5}function wi(e,t){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(void 0===t||null===t)throw new Error("filter is required");var n=[];return M(e,(function(e){Ti(e.properties,t)&&n.push(e)})),u(n)}function Si(e,t,n){if(!e)throw new Error("geojson is required");if("FeatureCollection"!==e.type)throw new Error("geojson must be a FeatureCollection");if(void 0===t||null===t)throw new Error("property is required");for(var r=Ei(e,t),i=Object.keys(r),s=0;s<i.length;s++){for(var o=i[s],a=r[o],l=[],c=0;c<a.length;c++)l.push(e.features[a[c]]);n(u(l),o,s)}}function Ci(e,t,n,r){var i=r;return Si(e,t,(function(e,t,s){i=0===s&&void 0===r?e:n(i,e,t,s)})),i}function Ei(e,t){var n={};return M(e,(function(e,r){var i=e.properties||{};if(i.hasOwnProperty(t)){var s=i[t];n.hasOwnProperty(s)?n[s].push(r):n[s]=[r]}})),n}function Ti(e,t){if(void 0===e)return!1;var n=typeof t;if("number"===n||"string"===n)return e.hasOwnProperty(t);if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(!Ti(e,t[r]))return!1;return!0}return Ai(e,t)}function Ai(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];if(e[i]!==t[i])return!1}return!0}function Pi(e,t){if(!t)return{};if(!t.length)return{};for(var n={},r=0;r<t.length;r++){var i=t[r];e.hasOwnProperty(i)&&(n[i]=e[i])}return n}function Ii(){}function Li(e){this.message=e||""}function Mi(e){this.message=e||""}function Oi(){}function ki(e){return null===e?Nu:e.color}function Ni(e){return null===e?null:e.parent}function Ri(e,t){null!==e&&(e.color=t)}function Di(e){return null===e?null:e.left}function Fi(e){return null===e?null:e.right}function Bi(){this.root_=null,this.size_=0}function qi(){}function zi(){this.array_=[],arguments[0]instanceof vu&&this.addAll(arguments[0])}function Ui(){}function Gi(e){this.message=e||""}function ji(){this.array_=[]}function Vi(e){switch(e.type){case"Polygon":return _n(e)>1?e:null;case"MultiPolygon":var t=[];if(D(e,(function(e){_n(e)>1&&t.push(e.geometry.coordinates)})),t.length)return{type:"MultiPolygon",coordinates:t}}}function Wi(){this.reset()}function Hi(e,t,n){var r=e.s=t+n,i=r-t,s=r-i;e.t=t-s+(n-i)}function Ji(e){return e>1?qd:e<-1?-qd:Math.asin(e)}function Xi(){}function Zi(e,t){e&&ef.hasOwnProperty(e.type)&&ef[e.type](e,t)}function Yi(e,t,n){var r,i=-1,s=e.length-n;for(t.lineStart();++i<s;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Ki(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Yi(e[n],t,1);t.polygonEnd()}function Qi(e){return[Hd(e[1],e[0]),Ji(e[2])]}function $i(e){var t=e[0],n=e[1],r=Jd(n);return[r*Jd(t),r*Yd(t),Yd(n)]}function es(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ts(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ns(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function rs(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function is(e){var t=Kd(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function ss(e,t){return[e>Bd?e-Ud:e<-Bd?e+Ud:e,t]}function os(e,t,n){return(e%=Ud)?t||n?nf(ls(e),us(t,n)):ls(e):t||n?us(t,n):ss}function as(e){return function(t,n){return t+=e,[t>Bd?t-Ud:t<-Bd?t+Ud:t,n]}}function ls(e){var t=as(e);return t.invert=as(-e),t}function us(e,t){function n(e,t){var n=Jd(t),a=Jd(e)*n,l=Yd(e)*n,u=Yd(t),c=u*r+a*i;return[Hd(l*s-c*o,a*r-u*i),Ji(c*s+l*o)]}var r=Jd(e),i=Yd(e),s=Jd(t),o=Yd(t);return n.invert=function(e,t){var n=Jd(t),a=Jd(e)*n,l=Yd(e)*n,u=Yd(t),c=u*s-l*o;return[Hd(l*s+u*o,a*r+c*i),Ji(c*r-a*i)]},n}function cs(e,t){(t=$i(t))[0]-=e,is(t);var n=function(e){return e>1?0:e<-1?Bd:Math.acos(e)}(-t[1]);return((-t[2]<0?-n:n)+Ud-Fd)%Ud}function hs(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ps(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function ds(e,t,n,r){function i(i,s){return e<=i&&i<=n&&t<=s&&s<=r}function s(i,s,a,u){var c=0,h=0;if(null==i||(c=o(i,a))!==(h=o(s,a))||l(i,s)<0^a>0)do{u.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+a+4)%4)!==h);else u.point(s[0],s[1])}function o(r,i){return Vd(r[0]-e)<Fd?i>0?0:3:Vd(r[0]-n)<Fd?i>0?2:1:Vd(r[1]-t)<Fd?i>0?1:0:i>0?3:2}function a(e,t){return l(e.x,t.x)}function l(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){function l(e,t){i(e,t)&&x.point(e,t)}function u(s,o){var a=i(s,o);if(h&&p.push([s,o]),v)d=s,f=o,m=a,v=!1,a&&(x.lineStart(),x.point(s,o));else if(a&&_)x.point(s,o);else{var l=[y=Math.max(pf,Math.min(hf,y)),g=Math.max(pf,Math.min(hf,g))],u=[s=Math.max(pf,Math.min(hf,s)),o=Math.max(pf,Math.min(hf,o))];of(l,u,e,t,n,r)?(_||(x.lineStart(),x.point(l[0],l[1])),x.point(u[0],u[1]),a||x.lineEnd(),b=!1):a&&(x.lineStart(),x.point(s,o),b=!1)}y=s,g=o,_=a}var c,h,p,d,f,m,y,g,_,v,b,x=o,w=sf(),S={point:l,lineStart:function(){S.point=u,h&&h.push(p=[]),v=!0,_=!1,y=g=NaN},lineEnd:function(){c&&(u(d,f),m&&_&&w.rejoin(),c.push(w.result())),S.point=l,_&&x.lineEnd()},polygonStart:function(){x=w,c=[],h=[],b=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=h.length;n<i;++n)for(var s,o,a=h[n],l=1,u=a.length,c=a[0],p=c[0],d=c[1];l<u;++l)s=p,o=d,p=(c=a[l])[0],d=c[1],o<=r?d>r&&(p-s)*(r-o)>(d-o)*(e-s)&&++t:d<=r&&(p-s)*(r-o)<(d-o)*(e-s)&&--t;return t}(),n=b&&t,i=(c=cf(c)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),s(null,null,1,o),o.lineEnd()),i&&lf(c,a,t,s,o),o.polygonEnd()),x=o,c=h=p=null}};return S}}function fs(e){return e.length>1}function ms(e,t){return((e=e.x)[0]<0?e[1]-qd-Fd:qd-e[1])-((t=t.x)[0]<0?t[1]-qd-Fd:qd-t[1])}function ys(e){return function(t){var n=new gs;for(var r in e)n[r]=e[r];return n.stream=t,n}}function gs(){}function _s(e,t,n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],s=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=s&&e.clipExtent(null),tf(n,e.stream(vf));var o=vf.result(),a=Math.min(r/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),l=+t[0][0]+(r-a*(o[1][0]+o[0][0]))/2,u=+t[0][1]+(i-a*(o[1][1]+o[0][1]))/2;return null!=s&&e.clipExtent(s),e.scale(150*a).translate([l,u])}function vs(e){return function(e){function t(e){return e=u(e[0]*jd,e[1]*jd),[e[0]*m+o,a-e[1]*m]}function n(e,t){return e=s(e,t),[e[0]*m+o,a-e[1]*m]}function r(){u=nf(l=os(b,x,w),s);var e=s(_,v);return o=y-e[0]*m,a=g+e[1]*m,i()}function i(){return d=f=null,t}var s,o,a,l,u,c,h,p,d,f,m=150,y=480,g=250,_=0,v=0,b=0,x=0,w=0,S=null,C=xf,E=null,T=ff,A=.5,P=Ef(n,A);return t.stream=function(e){return d&&f===e?d:d=Tf(C(l,P(T(f=e))))},t.clipAngle=function(e){return arguments.length?(C=+e?wf(S=e*jd,6*jd):(S=null,xf),i()):S*Gd},t.clipExtent=function(e){return arguments.length?(T=null==e?(E=c=h=p=null,ff):ds(E=+e[0][0],c=+e[0][1],h=+e[1][0],p=+e[1][1]),i()):null==E?null:[[E,c],[h,p]]},t.scale=function(e){return arguments.length?(m=+e,r()):m},t.translate=function(e){return arguments.length?(y=+e[0],g=+e[1],r()):[y,g]},t.center=function(e){return arguments.length?(_=e[0]%360*jd,v=e[1]%360*jd,r()):[_*Gd,v*Gd]},t.rotate=function(e){return arguments.length?(b=e[0]%360*jd,x=e[1]%360*jd,w=e.length>2?e[2]%360*jd:0,r()):[b*Gd,x*Gd,w*Gd]},t.precision=function(e){return arguments.length?(P=Ef(n,A=e*e),i()):Kd(A)},t.fitExtent=function(e,n){return _s(t,e,n)},t.fitSize=function(e,n){return function(e,t,n){return _s(e,[[0,0],t],n)}(t,e,n)},function(){return s=e.apply(this,arguments),t.invert=s.invert&&function(e){return(e=u.invert((e[0]-o)/m,(a-e[1])/m))&&[e[0]*Gd,e[1]*Gd]},r()}}((function(){return e}))()}function bs(e,t){return[e,Zd(Qd((qd+t)/2))]}function xs(e,t){return[Zd(Qd((qd+t)/2)),-e]}function ws(e,n,r,i){var s=e.properties||{},o="Feature"===e.type?e.geometry:e;if("GeometryCollection"===o.type){var a=[];return N(e,(function(e){var t=ws(e,n,r,i);t&&a.push(t)})),u(a)}var l,c=G(e),h=c[1]>50&&c[3]>50;l=h?{type:o.type,coordinates:Cs(o.coordinates,Ts(o))}:un(o);var p,d=(new Sc).read(l),f=m(y(n,r),"meters"),g=fp.bufferOp(d,f);if(g=(new Cc).write(g),!Ss(g.coordinates))return(p=h?{type:g.type,coordinates:Es(g.coordinates,Ts(o))}:cn(g)).geometry?p:t(p,s)}function Ss(e){return Array.isArray(e[0])?Ss(e[0]):isNaN(e[0])}function Cs(e,t){return"object"!=typeof e[0]?t(e):e.map((function(e){return Cs(e,t)}))}function Es(e,t){return"object"!=typeof e[0]?t.invert(e):e.map((function(e){return Es(e,t)}))}function Ts(e){var t=mt(e).geometry.coordinates.reverse(),n=t.map((function(e){return-e}));return Af().center(t).rotate(n).scale(Rs)}function As(){for(var e=new Sc,t=e.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)t=Nd.union(t,e.read(JSON.stringify(arguments[n].geometry)));return t=(new Cc).write(t),{type:"Feature",geometry:t,properties:arguments[0].properties}}function Ps(e,n){var r=Z(e),i=Z(n);if(et(Ln(i,{precision:4})).coordinates[0].length<4)return null;if(et(Ln(r,{precision:4})).coordinates[0].length<4)return null;var s=new Sc,o=s.read(Ln(r)),a=s.read(Ln(i)),l=Ed.intersection(o,a);return l.isEmpty()?null:t((new Cc).write(l))}function Is(e,t){return function(e,t,n){var r,i;if(!Array.isArray(t))throw new Error("Get closest expects an array as second argument");return t.forEach((function(t,s){var o=n(t,e);o>=0&&(void 0===i||o<i)&&(i=o,r=s)})),r}(e,t,(function(e,t){return e-t}))}function Ls(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.properties||{},i=n.triangles,o=n.mask;if(null===t||void 0===t)throw new Error("cellSide is required");if(!S(t))throw new Error("cellSide is invalid");if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be array");if(4!==e.length)throw new Error("bbox must contain 4 numbers");if(o&&-1===["Polygon","MultiPolygon"].indexOf(K(o)))throw new Error("options.mask must be a (Multi)Polygon");var a=e[0],l=e[1],c=e[2],h=e[3],p=(l+h)/2,d=(a+c)/2,f=2*t/Fe([a,p],[c,p],n)*(c-a),m=2*t/Fe([d,l],[d,h],n)*(h-l),y=f/2,g=2*y,_=Math.sqrt(3)/2*m,v=c-a,b=h-l,x=.75*g,w=_,E=(v-g)/(g-y/2),T=Math.floor(E),A=(T*x-y/2-v)/2-y/2+x/2,P=Math.floor((b-_)/_),I=(b-P*_)/2,L=P*_-b>_/2;L&&(I-=_/4);for(var M=[],O=[],k=0;k<6;k++){var N=2*Math.PI/6*k;M.push(Math.cos(N)),O.push(Math.sin(N))}for(var R=[],D=0;D<=T;D++)for(var F=0;F<=P;F++){var B=D%2==1;if((0!==F||!B)&&(0!==F||!L)){var q=D*x+a-A,z=F*w+l+I;if(B&&(z-=_/2),!0===i)(function(e,t,n,r,i,o){for(var a=[],l=0;l<6;l++){var u=[];u.push(e),u.push([e[0]+t*i[l],e[1]+n*o[l]]),u.push([e[0]+t*i[(l+1)%6],e[1]+n*o[(l+1)%6]]),u.push(e),a.push(s([u],r))}return a})([q,z],f/2,m/2,r,M,O).forEach((function(e){o?Ps(o,e)&&R.push(e):R.push(e)}));else{var U=function(e,t,n,r,i,o){for(var a=[],l=0;l<6;l++){var u=e[0]+t*i[l],c=e[1]+n*o[l];a.push([u,c])}return a.push(a[0].slice()),s([a],r)}([q,z],f/2,m/2,r,M,O);o?Ps(o,U)&&R.push(U):R.push(U)}}}return u(R)}function Ms(e){if(e.features.length<=1)return e;var t=function(e){var t=Ws(),n=[];return D(e,(function(e,t){var r=G(e);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:e,index:t})})),t.load(n),t}(e),n=[],r={};return D(e,(function(e,i){if(r[i])return!0;for(t.remove({index:i},Os),r[i]=!0;;){var s=G(e),o=t.search({minX:s[0],minY:s[1],maxX:s[2],maxY:s[3]});if(o.length>0){var a=o.map((function(e){return r[e.index]=!0,t.remove({index:e.index},Os),e.geojson}));a.push(e),e=As.apply(this,a)}if(0===o.length)break}n.push(e)})),u(n)}function Os(e,t){return e.index===t.index}function ks(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.properties,i=n.mask,o=[];if(null===t||void 0===t)throw new Error("cellSide is required");if(!S(t))throw new Error("cellSide is invalid");if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be array");if(4!==e.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(K(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=e[0],l=e[1],c=e[2],h=e[3],p=t/Fe([a,l],[c,l],n)*(c-a),d=t/Fe([a,l],[a,h],n)*(h-l),f=c-a,m=h-l,y=Math.floor(f/p),g=Math.floor(m/d),_=(m-g*d)/2,v=a+(f-y*p)/2,b=0;b<y;b++){for(var x=l+_,w=0;w<g;w++){var E=s([[[v,x],[v,x+d],[v+p,x+d],[v+p,x],[v,x]]],r);i?Ps(i,E)&&o.push(E):o.push(E),x+=d}v+=p}return u(o)}function Ns(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.properties,i=n.mask,o=[];if(null===t||void 0===t)throw new Error("cellSide is required");if(!S(t))throw new Error("cellSide is invalid");if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be array");if(4!==e.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(K(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t/Fe([e[0],e[1]],[e[2],e[1]],n)*(e[2]-e[0]),l=t/Fe([e[0],e[1]],[e[0],e[3]],n)*(e[3]-e[1]),c=0,h=e[0];h<=e[2];){for(var p=0,d=e[1];d<=e[3];){var f=null,m=null;c%2==0&&p%2==0?(f=s([[[h,d],[h,d+l],[h+a,d],[h,d]]],r),m=s([[[h,d+l],[h+a,d+l],[h+a,d],[h,d+l]]],r)):c%2==0&&p%2==1?(f=s([[[h,d],[h+a,d+l],[h+a,d],[h,d]]],r),m=s([[[h,d],[h,d+l],[h+a,d+l],[h,d]]],r)):p%2==0&&c%2==1?(f=s([[[h,d],[h,d+l],[h+a,d+l],[h,d]]],r),m=s([[[h,d],[h+a,d+l],[h+a,d],[h,d]]],r)):p%2==1&&c%2==1&&(f=s([[[h,d],[h,d+l],[h+a,d],[h,d]]],r),m=s([[[h,d+l],[h+a,d+l],[h+a,d],[h,d+l]]],r)),i?(Ps(i,f)&&o.push(f),Ps(i,m)&&o.push(m)):(o.push(f),o.push(m)),d+=l,p++}c++,h+=a}return u(o)}var Rs=6371008.8,Ds={meters:Rs,metres:Rs,millimeters:1e3*Rs,millimetres:1e3*Rs,centimeters:100*Rs,centimetres:100*Rs,kilometers:Rs/1e3,kilometres:Rs/1e3,miles:Rs/1609.344,nauticalmiles:Rs/1852,inches:39.37*Rs,yards:Rs/1.0936,feet:3.28084*Rs,radians:1,degrees:Rs/111325},Fs={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/Rs,degrees:1/111325},Bs={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006},qs=Object.freeze({earthRadius:Rs,factors:Ds,unitsFactors:Fs,areaFactors:Bs,feature:t,geometry:n,point:r,points:i,polygon:s,polygons:o,lineString:a,lineStrings:l,featureCollection:u,multiLineString:c,multiPoint:h,multiPolygon:p,geometryCollection:d,round:f,radiansToLength:m,lengthToRadians:y,lengthToDegrees:g,bearingToAzimuth:_,radiansToDegrees:v,degreesToRadians:b,convertLength:x,convertArea:w,isNumber:S,isObject:C,validateBBox:E,validateId:T,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),zs=Object.freeze({coordEach:A,coordReduce:P,propEach:I,propReduce:L,featureEach:M,featureReduce:O,coordAll:k,geomEach:N,geomReduce:R,flattenEach:D,flattenReduce:F,segmentEach:B,segmentReduce:q,lineEach:z,lineReduce:U}),Us=Object.freeze({getCoord:j,getCoords:V,containsNumber:W,geojsonType:H,featureOf:J,collectionOf:X,getGeom:Z,getGeomType:Y,getType:K}),Gs={successCallback:null,verbose:!1},js={},Vs=ie,Ws=oe;oe.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!me(e,t))return n;for(var i,s,o,a,l=[];t;){for(i=0,s=t.children.length;i<s;i++)o=t.children[i],me(e,a=t.leaf?r(o):o)&&(t.leaf?n.push(o):fe(e,a)?this._all(o,n):l.push(o));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!me(e,t))return!1;for(var r,i,s,o,a=[];t;){for(r=0,i=t.children.length;r<i;r++)if(s=t.children[r],o=t.leaf?n(s):s,me(e,o)){if(t.leaf||fe(e,o))return!0;a.push(s)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=ye([]),this},remove:function(e,t){if(!e)return this;for(var n,r,i,s,o=this.data,a=this.toBBox(e),l=[],u=[];o||l.length;){if(o||(o=l.pop(),r=l[l.length-1],n=u.pop(),s=!0),o.leaf&&-1!==(i=function(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}(e,o.children,t)))return o.children.splice(i,1),l.push(o),this._condense(l),this;s||o.leaf||!fe(o,a)?r?(n++,o=r.children[n],s=!1):o=null:(l.push(o),u.push(n),n=0,r=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:ce,compareMinY:he,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var i,s=n-t+1,o=this._maxEntries;if(s<=o)return i=ye(e.slice(t,n+1)),ae(i,this.toBBox),i;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),(i=ye([])).leaf=!1,i.height=r;var a,l,u,c,h=Math.ceil(s/o),p=h*Math.ceil(Math.sqrt(o));for(ge(e,t,n,p,this.compareMinX),a=t;a<=n;a+=p)for(ge(e,a,u=Math.min(a+p-1,n),h,this.compareMinY),l=a;l<=u;l+=h)c=Math.min(l+h-1,u),i.children.push(this._build(e,l,c,r-1));return ae(i,this.toBBox),i},_chooseSubtree:function(e,t,n,r){for(var i,s,o,a,l,u,c,h;r.push(t),!t.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,s=t.children.length;i<s;i++)l=pe(o=t.children[i]),(u=function(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}(e,o)-l)<h?(h=u,c=l<c?l:c,a=o):u===h&&l<c&&(c=l,a=o);t=a||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,i=n?e:r(e),s=[],o=this._chooseSubtree(i,this.data,t,s);for(o.children.push(e),ue(o,i);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(i,s,t)},_split:function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var s=this._chooseSplitIndex(n,i,r),o=ye(n.children.splice(s,n.children.length-s));o.height=n.height,o.leaf=n.leaf,ae(n,this.toBBox),ae(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(e,t){this.data=ye([e,t]),this.data.height=e.height+1,this.data.leaf=!1,ae(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,i,s,o,a,l,u,c;for(l=u=1/0,r=t;r<=n-t;r++)o=function(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,s-r)}(i=le(e,0,r,this.toBBox),s=le(e,r,n,this.toBBox)),a=pe(i)+pe(s),o<l?(l=o,c=r,u=a<u?a:u):o===l&&a<u&&(u=a,c=r);return c},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:ce,i=e.leaf?this.compareMinY:he;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var i,s,o=this.toBBox,a=le(e,0,t,o),l=le(e,n-t,n,o),u=de(a)+de(l);for(i=t;i<n-t;i++)s=e.children[i],ue(a,e.leaf?o(s):s),u+=de(a);for(i=n-t-1;i>=t;i--)s=e.children[i],ue(l,e.leaf?o(s):s),u+=de(l);return u},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)ue(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():ae(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};var Hs=function(e,t,n){var r=e*t,i=Js*e,s=i-(i-e),o=e-s,a=Js*t,l=a-(a-t),u=t-l,c=o*u-(r-s*l-o*l-s*u);return n?(n[0]=c,n[1]=r,n):[c,r]},Js=+(Math.pow(2,27)+1),Xs=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],t[0]);var i,s,o=n+r,a=new Array(o),l=0,u=0,c=0,h=Math.abs,p=e[u],d=h(p),f=t[c],m=h(f);d<m?(s=p,(u+=1)<n&&(d=h(p=e[u]))):(s=f,(c+=1)<r&&(m=h(f=t[c]))),u<n&&d<m||c>=r?(i=p,(u+=1)<n&&(d=h(p=e[u]))):(i=f,(c+=1)<r&&(m=h(f=t[c])));for(var y,g,_=i+s,v=_-i,b=s-v,x=b,w=_;u<n&&c<r;)d<m?(i=p,(u+=1)<n&&(d=h(p=e[u]))):(i=f,(c+=1)<r&&(m=h(f=t[c]))),(b=(s=x)-(v=(_=i+s)-i))&&(a[l++]=b),x=w-((y=w+_)-(g=y-w))+(_-g),w=y;for(;u<n;)(b=(s=x)-(v=(_=(i=p)+s)-i))&&(a[l++]=b),x=w-((y=w+_)-(g=y-w))+(_-g),w=y,(u+=1)<n&&(p=e[u]);for(;c<r;)(b=(s=x)-(v=(_=(i=f)+s)-i))&&(a[l++]=b),x=w-((y=w+_)-(g=y-w))+(_-g),w=y,(c+=1)<r&&(f=t[c]);return x&&(a[l++]=x),w&&(a[l++]=w),l||(a[l++]=0),a.length=l,a},Zs=function(e,t,n){var r=e+t,i=r-e,s=t-i,o=e-(r-i);return n?(n[0]=o+s,n[1]=r,n):[o+s,r]},Ys=function(e,t){var n=e.length;if(1===n){var r=Hs(e[0],t);return r[0]?r:[r[1]]}var i=new Array(2*n),s=[.1,.1],o=[.1,.1],a=0;Hs(e[0],t,s),s[0]&&(i[a++]=s[0]);for(var l=1;l<n;++l){Hs(e[l],t,o);var u=s[1];Zs(u,o[0],s),s[0]&&(i[a++]=s[0]);var c=o[1],h=s[1],p=c+h,d=h-(p-c);s[1]=p,d&&(i[a++]=d)}return s[1]&&(i[a++]=s[1]),0===a&&(i[a++]=0),i.length=a,i},Ks=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],-t[0]);var i,s,o=n+r,a=new Array(o),l=0,u=0,c=0,h=Math.abs,p=e[u],d=h(p),f=-t[c],m=h(f);d<m?(s=p,(u+=1)<n&&(d=h(p=e[u]))):(s=f,(c+=1)<r&&(m=h(f=-t[c]))),u<n&&d<m||c>=r?(i=p,(u+=1)<n&&(d=h(p=e[u]))):(i=f,(c+=1)<r&&(m=h(f=-t[c])));for(var y,g,_=i+s,v=_-i,b=s-v,x=b,w=_;u<n&&c<r;)d<m?(i=p,(u+=1)<n&&(d=h(p=e[u]))):(i=f,(c+=1)<r&&(m=h(f=-t[c]))),(b=(s=x)-(v=(_=i+s)-i))&&(a[l++]=b),x=w-((y=w+_)-(g=y-w))+(_-g),w=y;for(;u<n;)(b=(s=x)-(v=(_=(i=p)+s)-i))&&(a[l++]=b),x=w-((y=w+_)-(g=y-w))+(_-g),w=y,(u+=1)<n&&(p=e[u]);for(;c<r;)(b=(s=x)-(v=(_=(i=f)+s)-i))&&(a[l++]=b),x=w-((y=w+_)-(g=y-w))+(_-g),w=y,(c+=1)<r&&(f=-t[c]);return x&&(a[l++]=x),w&&(a[l++]=w),l||(a[l++]=0),a.length=l,a},Qs=_e((function(e){function t(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),s=0,o=0;s<e.length;++s)s!==t&&(i[o++]=e[r][s]);return n}function n(e){return 1&e?"-":""}function r(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",r(e.slice(0,t)),",",r(e.slice(t)),")"].join("")}function i(e){if(2===e.length)return[["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("")];for(var s=[],o=0;o<e.length;++o)s.push(["scale(",r(i(t(e,o))),",",n(o),e[0][o],")"].join(""));return s}function s(e){for(var n=[],s=[],o=function(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-1,"]"].join("")}return t}(e),a=[],l=0;l<e;++l)0==(1&l)?n.push.apply(n,i(t(o,l))):s.push.apply(s,i(t(o,l))),a.push("m"+l);var u=r(n),c=r(s),h="orientation"+e+"Exact",p=["function ",h,"(",a.join(),"){var p=",u,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",h].join("");return new Function("sum","prod","scale","sub",p)(Xs,Hs,Ys,Ks)}var o=5,a=s(3),l=s(4),u=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,i=(e[1]-n[1])*(t[0]-n[0]),s=(e[0]-n[0])*(t[1]-n[1]),o=i-s;if(i>0){if(s<=0)return o;r=i+s}else{if(!(i<0))return o;if(s>=0)return o;r=-(i+s)}var l=33306690738754716e-32*r;return o>=l||o<=-l?o:a(e,t,n)},function(e,t,n,r){var i=e[0]-r[0],s=t[0]-r[0],o=n[0]-r[0],a=e[1]-r[1],u=t[1]-r[1],c=n[1]-r[1],h=e[2]-r[2],p=t[2]-r[2],d=n[2]-r[2],f=s*c,m=o*u,y=o*a,g=i*c,_=i*u,v=s*a,b=h*(f-m)+p*(y-g)+d*(_-v),x=7771561172376103e-31*((Math.abs(f)+Math.abs(m))*Math.abs(h)+(Math.abs(y)+Math.abs(g))*Math.abs(p)+(Math.abs(_)+Math.abs(v))*Math.abs(d));return b>x||-b>x?b:l(e,t,n,r)}];!function(){for(;u.length<=o;)u.push(s(u.length));for(var t=[],n=["slow"],r=0;r<=o;++r)t.push("a"+r),n.push("o"+r);var i=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=o;++r)i.push("case ",r,":return o",r,"(",t.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var a=Function.apply(void 0,n);for(e.exports=a.apply(void 0,[function(e){var t=u[e.length];return t||(t=u[e.length]=s(e.length)),t.apply(void 0,e)}].concat(u)),r=0;r<=o;++r)e.exports[r]=u[r]}()})),$s=function(e){var t=e.length;if(t<3){for(var n=new Array(t),r=0;r<t;++r)n[r]=r;return 2===t&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:n}var i=new Array(t);for(r=0;r<t;++r)i[r]=r;i.sort((function(t,n){var r=e[t][0]-e[n][0];return r||e[t][1]-e[n][1]}));var s=[i[0],i[1]],o=[i[0],i[1]];for(r=2;r<t;++r){for(var a=i[r],l=e[a],u=s.length;u>1&&eo(e[s[u-2]],e[s[u-1]],l)<=0;)u-=1,s.pop();for(s.push(a),u=o.length;u>1&&eo(e[o[u-2]],e[o[u-1]],l)>=0;)u-=1,o.pop();o.push(a)}n=new Array(o.length+s.length-2);for(var c=0,h=(r=0,s.length);r<h;++r)n[c++]=s[r];for(var p=o.length-2;p>0;--p)n[c++]=o[p];return n},eo=Qs[3],to=ve,no=ve;ve.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,s=t[i];if(n(r,s)>=0)break;t[e]=s,e=i}t[e]=r},_down:function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var s=1+(e<<1),o=s+1,a=t[s];if(o<this.length&&n(t[o],a)<0&&(s=o,a=t[o]),n(a,i)>=0)break;t[e]=a,e=s}t[e]=i}},to.default=no;var ro=function(e,t){for(var n=e[0],r=e[1],i=!1,s=0,o=t.length-1;s<t.length;o=s++){var a=t[s][0],l=t[s][1],u=t[o][0],c=t[o][1];l>r!=c>r&&n<(u-a)*(r-l)/(c-l)+a&&(i=!i)}return i},io=Qs[3],so=be,oo=be;so.default=oo;var ao=function(e){return e},lo=function(e){if(null==e)return ao;var t,n,r=e.scale[0],i=e.scale[1],s=e.translate[0],o=e.translate[1];return function(e,a){a||(t=n=0);var l=2,u=e.length,c=new Array(u);for(c[0]=(t+=e[0])*r+s,c[1]=(n+=e[1])*i+o;l<u;)c[l]=e[l],++l;return c}},uo=function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n},co=function(e,t){function n(e,t){for(var n in e){var i=e[n];delete t[i.start],delete i.start,delete i.end,i.forEach((function(e){r[e<0?~e:e]=1})),o.push(i)}}var r={},i={},s={},o=[],a=-1;return t.forEach((function(n,r){var i,s=e.arcs[n<0?~n:n];s.length<3&&!s[1][0]&&!s[1][1]&&(i=t[++a],t[a]=n,t[r]=i)})),t.forEach((function(t){var n,r,o=function(t){var n,r=e.arcs[t<0?~t:t],i=r[0];return e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1],t<0?[n,i]:[i,n]}(t),a=o[0],l=o[1];if(n=s[a])if(delete s[n.end],n.push(t),n.end=l,r=i[l]){delete i[r.start];var u=r===n?n:n.concat(r);i[u.start=n.start]=s[u.end=r.end]=u}else i[n.start]=s[n.end]=n;else if(n=i[l])if(delete i[n.start],n.unshift(t),n.start=a,r=s[a]){delete s[r.end];var c=r===n?n:r.concat(n);i[c.start=r.start]=s[c.end=n.end]=c}else i[n.start]=s[n.end]=n;else i[(n=[t]).start=a]=s[n.end=l]=n})),n(s,i),n(i,s),t.forEach((function(e){r[e<0?~e:e]||o.push([e])})),o},ho=function(e){return je(e,Ve.apply(this,arguments))},po=function(e,t,n,r,i,s){3===arguments.length&&(r=s=Array,i=null);for(var o=new r(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),a=new s(e),l=e-1,u=0;u<e;++u)o[u]=i;return{set:function(r,s){for(var u=t(r)&l,c=o[u],h=0;c!=i;){if(n(c,r))return a[u]=s;if(++h>=e)throw new Error("full hashmap");c=o[u=u+1&l]}return o[u]=r,a[u]=s,s},maybeSet:function(r,s){for(var u=t(r)&l,c=o[u],h=0;c!=i;){if(n(c,r))return a[u];if(++h>=e)throw new Error("full hashmap");c=o[u=u+1&l]}return o[u]=r,a[u]=s,s},get:function(r,s){for(var u=t(r)&l,c=o[u],h=0;c!=i;){if(n(c,r))return a[u];if(++h>=e)break;c=o[u=u+1&l]}return s},keys:function(){for(var e=[],t=0,n=o.length;t<n;++t){var r=o[t];r!=i&&e.push(r)}return e}}},fo=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mo=new ArrayBuffer(16),yo=new Float64Array(mo),go=new Uint32Array(mo),_o=function(e){yo[0]=e[0],yo[1]=e[1];var t=go[0]^go[1];return 2147483647&(t<<5^t>>7^go[2]^go[3])},vo=function(e){function t(e,t,n,r){if(p[n]!==e){p[n]=e;var i=d[n];if(i>=0){var s=f[n];i===t&&s===r||i===r&&s===t||(++y,m[n]=1)}else d[n]=t,f[n]=r}}function n(e){return _o(l[e])}function r(e,t){return fo(l[e],l[t])}var i,s,o,a,l=e.coordinates,u=e.lines,c=e.rings,h=function(){for(var e=po(1.4*l.length,n,r,Int32Array,-1,Int32Array),t=new Int32Array(l.length),i=0,s=l.length;i<s;++i)t[i]=e.maybeSet(i,i);return t}(),p=new Int32Array(l.length),d=new Int32Array(l.length),f=new Int32Array(l.length),m=new Int8Array(l.length),y=0;for(i=0,s=l.length;i<s;++i)p[i]=d[i]=f[i]=-1;for(i=0,s=u.length;i<s;++i){var g=u[i],_=g[0],v=g[1];for(o=h[_],a=h[++_],++y,m[o]=1;++_<=v;)t(i,o,o=a,a=h[_]);++y,m[a]=1}for(i=0,s=l.length;i<s;++i)p[i]=-1;for(i=0,s=c.length;i<s;++i){var b=c[i],x=b[0]+1,w=b[1];for(t(i,h[w-1],o=h[x-1],a=h[x]);++x<=w;)t(i,o,o=a,a=h[x])}p=d=f=null;var S,C=function(e,t,n,r,i){3===arguments.length&&(r=Array,i=null);for(var s=new r(e=1<<Math.max(4,Math.ceil(Math.log(e)/Math.LN2))),o=e-1,a=0;a<e;++a)s[a]=i;return{add:function(r){for(var a=t(r)&o,l=s[a],u=0;l!=i;){if(n(l,r))return!0;if(++u>=e)throw new Error("full hashset");l=s[a=a+1&o]}return s[a]=r,!0},has:function(r){for(var a=t(r)&o,l=s[a],u=0;l!=i;){if(n(l,r))return!0;if(++u>=e)break;l=s[a=a+1&o]}return!1},values:function(){for(var e=[],t=0,n=s.length;t<n;++t){var r=s[t];r!=i&&e.push(r)}return e}}}(1.4*y,_o,fo);for(i=0,s=l.length;i<s;++i)m[S=h[i]]&&C.add(l[S]);return C},bo=function(e){var t,n,r,i=vo(e),s=e.coordinates,o=e.lines,a=e.rings;for(n=0,r=o.length;n<r;++n)for(var l=o[n],u=l[0],c=l[1];++u<c;)i.has(s[u])&&(t={0:u,1:l[1]},l[1]=u,l=l.next=t);for(n=0,r=a.length;n<r;++n)for(var h=a[n],p=h[0],d=p,f=h[1],m=i.has(s[p]);++d<f;)i.has(s[d])&&(m?(t={0:d,1:h[1]},h[1]=d,h=h.next=t):(function(e,t,n,r){We(e,t,n),We(e,t,t+r),We(e,t+r,n)}(s,p,f,f-d),s[f]=s[p],m=!0,d=p));return e},xo=function(e){function t(e){var t,n,r,i,s,o,a,l;if(r=d.get(t=u[e[0]]))for(a=0,l=r.length;a<l;++a)if(i=r[a],function(e,t){var n=e[0],r=t[0],i=e[1],s=t[1];if(n-i!=r-s)return!1;for(;n<=i;++n,++r)if(!fo(u[n],u[r]))return!1;return!0}(i,e))return e[0]=i[0],void(e[1]=i[1]);if(s=d.get(n=u[e[1]]))for(a=0,l=s.length;a<l;++a)if(o=s[a],function(e,t){var n=e[0],r=t[0],i=e[1],s=t[1];if(n-i!=r-s)return!1;for(;n<=i;++n,--s)if(!fo(u[n],u[s]))return!1;return!0}(o,e))return e[1]=o[0],void(e[0]=o[1]);r?r.push(e):d.set(t,[e]),s?s.push(e):d.set(n,[e]),f.push(e)}function n(e,t){var n=e[0],r=t[0],s=e[1]-n;if(s!==t[1]-r)return!1;for(var o=i(e),a=i(t),l=0;l<s;++l)if(!fo(u[n+(l+o)%s],u[r+(l+a)%s]))return!1;return!0}function r(e,t){var n=e[0],r=t[0],s=e[1],o=t[1],a=s-n;if(a!==o-r)return!1;for(var l=i(e),c=a-i(t),h=0;h<a;++h)if(!fo(u[n+(h+l)%a],u[o-(h+c)%a]))return!1;return!0}function i(e){for(var t=e[0],n=e[1],r=t,i=r,s=u[r];++r<n;){var o=u[r];(o[0]<s[0]||o[0]===s[0]&&o[1]<s[1])&&(i=r,s=o)}return i-t}var s,o,a,l,u=e.coordinates,c=e.lines,h=e.rings,p=c.length+h.length;for(delete e.lines,delete e.rings,a=0,l=c.length;a<l;++a)for(s=c[a];s=s.next;)++p;for(a=0,l=h.length;a<l;++a)for(o=h[a];o=o.next;)++p;var d=po(2*p*1.4,_o,fo),f=e.arcs=[];for(a=0,l=c.length;a<l;++a){s=c[a];do{t(s)}while(s=s.next)}for(a=0,l=h.length;a<l;++a)if((o=h[a]).next)do{t(o)}while(o=o.next);else!function(e){var t,s,o,a,l;if(s=d.get(t=u[e[0]]))for(a=0,l=s.length;a<l;++a){if(o=s[a],n(o,e))return e[0]=o[0],void(e[1]=o[1]);if(r(o,e))return e[0]=o[1],void(e[1]=o[0])}if(s=d.get(t=u[e[0]+i(e)]))for(a=0,l=s.length;a<l;++a){if(o=s[a],n(o,e))return e[0]=o[0],void(e[1]=o[1]);if(r(o,e))return e[0]=o[1],void(e[1]=o[0])}s?s.push(e):d.set(t,[e]),f.push(e)}(o);return e},wo=function(e,t){function n(e){e&&c.hasOwnProperty(e.type)&&c[e.type](e)}function r(e){var t=[];do{var n=u.get(e);t.push(e[0]<e[1]?n:~n)}while(e=e.next);return t}function i(e){return e.map(r)}var s=function(e){function t(e){null!=e&&u.hasOwnProperty(e.type)&&u[e.type](e)}function n(e){var t=e[0],n=e[1];t<s&&(s=t),t>a&&(a=t),n<o&&(o=n),n>l&&(l=n)}function r(e){e.forEach(n)}function i(e){e.forEach(r)}var s=1/0,o=1/0,a=-1/0,l=-1/0,u={GeometryCollection:function(e){e.geometries.forEach(t)},Point:function(e){n(e.coordinates)},MultiPoint:function(e){e.coordinates.forEach(n)},LineString:function(e){r(e.arcs)},MultiLineString:function(e){e.arcs.forEach(r)},Polygon:function(e){e.arcs.forEach(r)},MultiPolygon:function(e){e.arcs.forEach(i)}};for(var c in e)t(e[c]);return a>=s&&l>=o?[s,o,a,l]:void 0}(e=function(e){var t,n={};for(t in e)n[t]=He(e[t]);return n}(e)),o=t>0&&s&&function(e,t,n){function r(e){return[Math.round((e[0]-u)*d),Math.round((e[1]-c)*f)]}function i(e,t){for(var n,r,i,s,o,a=-1,l=0,h=e.length,p=new Array(h);++a<h;)n=e[a],s=Math.round((n[0]-u)*d),o=Math.round((n[1]-c)*f),s===r&&o===i||(p[l++]=[r=s,i=o]);for(p.length=l;l<t;)l=p.push([p[0][0],p[0][1]]);return p}function s(e){return i(e,2)}function o(e){return i(e,4)}function a(e){return e.map(o)}function l(e){null!=e&&m.hasOwnProperty(e.type)&&m[e.type](e)}var u=t[0],c=t[1],h=t[2],p=t[3],d=h-u?(n-1)/(h-u):1,f=p-c?(n-1)/(p-c):1,m={GeometryCollection:function(e){e.geometries.forEach(l)},Point:function(e){e.coordinates=r(e.coordinates)},MultiPoint:function(e){e.coordinates=e.coordinates.map(r)},LineString:function(e){e.arcs=s(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(s)},Polygon:function(e){e.arcs=a(e.arcs)},MultiPolygon:function(e){e.arcs=e.arcs.map(a)}};for(var y in e)l(e[y]);return{scale:[1/d,1/f],translate:[u,c]}}(e,s,t),a=xo(bo(function(e){function t(e){e&&u.hasOwnProperty(e.type)&&u[e.type](e)}function n(e){for(var t=0,n=e.length;t<n;++t)l[++s]=e[t];var r={0:s-n+1,1:s};return o.push(r),r}function r(e){for(var t=0,n=e.length;t<n;++t)l[++s]=e[t];var r={0:s-n+1,1:s};return a.push(r),r}function i(e){return e.map(r)}var s=-1,o=[],a=[],l=[],u={GeometryCollection:function(e){e.geometries.forEach(t)},LineString:function(e){e.arcs=n(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(n)},Polygon:function(e){e.arcs=e.arcs.map(r)},MultiPolygon:function(e){e.arcs=e.arcs.map(i)}};for(var c in e)t(e[c]);return{type:"Topology",coordinates:l,lines:o,rings:a,objects:e}}(e))),l=a.coordinates,u=po(1.4*a.arcs.length,Ze,Ye);e=a.objects,a.bbox=s,a.arcs=a.arcs.map((function(e,t){return u.set(e,t),l.slice(e[0],e[1]+1)})),delete a.coordinates,l=null;var c={GeometryCollection:function(e){e.geometries.forEach(n)},LineString:function(e){e.arcs=r(e.arcs)},MultiLineString:function(e){e.arcs=e.arcs.map(r)},Polygon:function(e){e.arcs=e.arcs.map(r)},MultiPolygon:function(e){e.arcs=e.arcs.map(i)}};for(var h in e)n(e[h]);return o&&(a.transform=o,a.arcs=function(e){for(var t=-1,n=e.length;++t<n;){for(var r,i,s=e[t],o=0,a=1,l=s.length,u=s[0],c=u[0],h=u[1];++o<l;)r=(u=s[o])[0],i=u[1],r===c&&i===h||(s[a++]=[r-c,i-h],c=r,h=i);1===a&&(s[a++]=[0,0]),s.length=a}return e}(a.arcs)),a},So=function(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(var t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(t=0;t<this.length-1;t++){var n=this.points[t],r=this.points[t+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),t=0;t<this.centers.length-1;t++){n=this.centers[t],r=this.centers[t+1];var i=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,s=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,o=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+i),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+s),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+o)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+i),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+s),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+o)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};So.prototype.cacheSteps=function(e){var t=[],n=this.pos(0);t.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>e&&(t.push(r),n=i)}return t},So.prototype.vector=function(e){var t=this.pos(e+10),n=this.pos(e-10);return{angle:180*Math.atan2(t.y-n.y,t.x-n.x)/3.14,speed:Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)+(n.z-t.z)*(n.z-t.z))}},So.prototype.pos=function(e){var t=e-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var n=t/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(e,t,n,r,i){var s=function(e){var t=e*e;return[t*e,3*t*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}(e);return{x:i.x*s[0]+r.x*s[1]+n.x*s[2]+t.x*s[3],y:i.y*s[0]+r.y*s[1]+n.y*s[2]+t.y*s[3],z:i.z*s[0]+r.z*s[1]+n.z*s[2]+t.z*s[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])};var Co=vt,Eo=vt;vt.deviation=function(e,t,n,r){var i=t&&t.length,s=i?t[0]*n:e.length,o=Math.abs(Nt(e,0,s,n));if(i)for(var a=0,l=t.length;a<l;a++){var u=t[a]*n,c=a<l-1?t[a+1]*n:e.length;o-=Math.abs(Nt(e,u,c,n))}var h=0;for(a=0;a<r.length;a+=3){var p=r[a]*n,d=r[a+1]*n,f=r[a+2]*n;h+=Math.abs((e[p]-e[f])*(e[d+1]-e[p+1])-(e[p]-e[d])*(e[f+1]-e[p+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},vt.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var s=0;s<e[i].length;s++)for(var o=0;o<t;o++)n.vertices.push(e[i][s][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n},Co.default=Eo,zt.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!Zt(e,t))return n;for(var i,s,o,a,l=[];t;){for(i=0,s=t.children.length;i<s;i++)o=t.children[i],Zt(e,a=t.leaf?r(o):o)&&(t.leaf?n.push(o):Xt(e,a)?this._all(o,n):l.push(o));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!Zt(e,t))return!1;for(var r,i,s,o,a=[];t;){for(r=0,i=t.children.length;r<i;r++)if(s=t.children[r],o=t.leaf?n(s):s,Zt(e,o)){if(t.leaf||Xt(e,o))return!0;a.push(s)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=Yt([]),this},remove:function(e,t){if(!e)return this;for(var n,r,i,s,o=this.data,a=this.toBBox(e),l=[],u=[];o||l.length;){if(o||(o=l.pop(),r=l[l.length-1],n=u.pop(),s=!0),o.leaf&&-1!==(i=function(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}(e,o.children,t)))return o.children.splice(i,1),l.push(o),this._condense(l),this;s||o.leaf||!Xt(o,a)?r?(n++,o=r.children[n],s=!1):o=null:(l.push(o),u.push(n),n=0,r=o,o=o.children[0])}return this},toBBox:function(e){return e},compareMinX:Vt,compareMinY:Wt,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var i,s=n-t+1,o=this._maxEntries;if(s<=o)return i=Yt(e.slice(t,n+1)),Ut(i,this.toBBox),i;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),(i=Yt([])).leaf=!1,i.height=r;var a,l,u,c,h=Math.ceil(s/o),p=h*Math.ceil(Math.sqrt(o));for(Kt(e,t,n,p,this.compareMinX),a=t;a<=n;a+=p)for(Kt(e,a,u=Math.min(a+p-1,n),h,this.compareMinY),l=a;l<=u;l+=h)c=Math.min(l+h-1,u),i.children.push(this._build(e,l,c,r-1));return Ut(i,this.toBBox),i},_chooseSubtree:function(e,t,n,r){for(var i,s,o,a,l,u,c,h;r.push(t),!t.leaf&&r.length-1!==n;){for(c=h=1/0,i=0,s=t.children.length;i<s;i++)l=Ht(o=t.children[i]),(u=function(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}(e,o)-l)<h?(h=u,c=l<c?l:c,a=o):u===h&&l<c&&(c=l,a=o);t=a||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,i=n?e:r(e),s=[],o=this._chooseSubtree(i,this.data,t,s);for(o.children.push(e),jt(o,i);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(i,s,t)},_split:function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var s=this._chooseSplitIndex(n,i,r),o=Yt(n.children.splice(s,n.children.length-s));o.height=n.height,o.leaf=n.leaf,Ut(n,this.toBBox),Ut(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(e,t){this.data=Yt([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Ut(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,i,s,o,a,l,u,c;for(l=u=1/0,r=t;r<=n-t;r++)o=function(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,s-r)}(i=Gt(e,0,r,this.toBBox),s=Gt(e,r,n,this.toBBox)),a=Ht(i)+Ht(s),o<l?(l=o,c=r,u=a<u?a:u):o===l&&a<u&&(u=a,c=r);return c},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:Vt,i=e.leaf?this.compareMinY:Wt;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var i,s,o=this.toBBox,a=Gt(e,0,t,o),l=Gt(e,n-t,n,o),u=Jt(a)+Jt(l);for(i=t;i<n-t;i++)s=e.children[i],jt(a,e.leaf?o(s):s),u+=Jt(a);for(i=n-t-1;i>=t;i--)s=e.children[i],jt(l,e.leaf?o(s):s),u+=Jt(l);return u},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)jt(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():Ut(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};var To=Object.freeze({toMercator:un,toWgs84:cn}),Ao=6378137,Po=function(e,t,n){function r(e,n,r,i){var l,u,c=s[e][n],h=s[e][n+1],p=s[r][i],d=s[r][i+1],f=function(e,t,n,r){if(Mn(e,n)||Mn(e,r)||Mn(t,n)||Mn(r,n))return null;var i=e[0],s=e[1],o=t[0],a=t[1],l=n[0],u=n[1],c=r[0],h=r[1],p=(i-o)*(u-h)-(s-a)*(l-c);return 0===p?null:[((i*a-s*o)*(l-c)-(i-o)*(l*h-u*c))/p,((i*a-s*o)*(u-h)-(s-a)*(l*h-u*c))/p]}(c,h,p,d);if(null!==f&&(l=h[0]!==c[0]?(f[0]-c[0])/(h[0]-c[0]):(f[1]-c[1])/(h[1]-c[1]),u=d[0]!==p[0]?(f[0]-p[0])/(d[0]-p[0]):(f[1]-p[1])/(d[1]-p[1]),!(l>=1||l<=0||u>=1||u<=0))){var m=f,y=!a[m];y&&(a[m]=!0),t?o.push(t(f,e,n,c,h,l,r,i,p,d,u,y)):o.push(f)}}function i(e,t){var n,r,i,o,a=s[e][t],l=s[e][t+1];return a[0]<l[0]?(n=a[0],r=l[0]):(n=l[0],r=a[0]),a[1]<l[1]?(i=a[1],o=l[1]):(i=l[1],o=a[1]),{minX:n,minY:i,maxX:r,maxY:o,ring:e,edge:t}}if("Polygon"!==e.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var s=e.geometry.coordinates,o=[],a={};if(n){for(var l=[],u=0;u<s.length;u++)for(var c=0;c<s[u].length-1;c++)l.push(i(u,c));var h=Ws();h.load(l)}for(var p=0;p<s.length;p++)for(var d=0;d<s[p].length-1;d++)if(n)h.search(i(p,d)).forEach((function(e){var t=e.ring,n=e.edge;r(p,d,t,n)}));else for(var f=0;f<s.length;f++)for(var m=0;m<s[f].length-1;m++)r(p,d,f,m);return t||(o={type:"Feature",geometry:{type:"MultiPoint",coordinates:o}}),o},Io=function(e){function t(){for(var e=[],t=0;t<f.features.length;t++)-1==f.features[t].properties.parent&&e.push(t);if(e.length>1)for(t=0;t<e.length;t++){for(var n=-1,r=0;r<f.features.length;r++)e[t]!=r&&Le(f.features[e[t]].geometry.coordinates[0][0],f.features[r],{ignoreBoundary:!0})&&_n(f.features[r])<1/0&&(n=r);f.features[e[t]].properties.parent=n}}function n(){for(var e=0;e<f.features.length;e++)if(-1==f.features[e].properties.parent){var t=f.features[e].properties.winding;f.features[e].properties.netWinding=t,r(e,t)}}function r(e,t){for(var n=0;n<f.features.length;n++)if(f.features[n].properties.parent==e){var i=t+f.features[n].properties.winding;f.features[n].properties.netWinding=i,r(n,i)}}if("Feature"!=e.type)throw new Error("The input must a geojson object of type Feature");if(void 0===e.geometry||null==e.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=e.geometry.type)throw new Error("The input must be a geojson Polygon");for(var i=e.geometry.coordinates.length,o=[],a=0;a<i;a++){var l=e.geometry.coordinates[a];kn(l[0],l[l.length-1])||l.push(l[0]),o.push.apply(o,l.slice(0,l.length-1))}if(!function(e){for(var t={},n=1,r=0,i=e.length;r<i;++r){if(t.hasOwnProperty(e[r])){n=0;break}t[e[r]]=1}return n}(o))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var c=o.length,h=Po(e,(function(e,t,n,r,i,s,o,a,l,u,c,h){return[e,t,n,r,i,s,o,a,l,u,c,h]})),p=h.length;if(0==p){var d=[];for(a=0;a<i;a++)d.push(s([e.geometry.coordinates[a]],{parent:-1,winding:function(e){for(var t=0,n=0;n<e.length-1;n++)e[n][0]<e[t][0]&&(t=n);if(On([e[(t-1).modulo(e.length-1)],e[t],e[(t+1).modulo(e.length-1)]],!0))var r=1;else r=-1;return r}(e.geometry.coordinates[a])}));var f=u(d);return t(),n(),f}var m=[],y=[];for(a=0;a<i;a++){m.push([]);for(var g=0;g<e.geometry.coordinates[a].length-1;g++)m[a].push([new Lo(e.geometry.coordinates[a][(g+1).modulo(e.geometry.coordinates[a].length-1)],1,[a,g],[a,(g+1).modulo(e.geometry.coordinates[a].length-1)],void 0)]),y.push(new Mo(e.geometry.coordinates[a][g],[a,(g-1).modulo(e.geometry.coordinates[a].length-1)],[a,g],void 0,void 0,!1,!0))}for(a=0;a<p;a++)m[h[a][1]][h[a][2]].push(new Lo(h[a][0],h[a][5],[h[a][1],h[a][2]],[h[a][6],h[a][7]],void 0)),h[a][11]&&y.push(new Mo(h[a][0],[h[a][1],h[a][2]],[h[a][6],h[a][7]],void 0,void 0,!0,!0));var _=y.length;for(a=0;a<m.length;a++)for(g=0;g<m[a].length;g++)m[a][g].sort((function(e,t){return e.param<t.param?-1:1}));var v=[];for(a=0;a<_;a++)v.push({minX:y[a].coord[0],minY:y[a].coord[1],maxX:y[a].coord[0],maxY:y[a].coord[1],index:a});var b=Ws();for(b.load(v),a=0;a<m.length;a++)for(g=0;g<m[a].length;g++)for(var x=0;x<m[a][g].length;x++){S=x==m[a][g].length-1?m[a][(g+1).modulo(e.geometry.coordinates[a].length-1)][0].coord:m[a][g][x+1].coord;var w=b.search({minX:S[0],minY:S[1],maxX:S[0],maxY:S[1]})[0];m[a][g][x].nxtIsectAlongEdgeIn=w.index}for(a=0;a<m.length;a++)for(g=0;g<m[a].length;g++)for(x=0;x<m[a][g].length;x++){var S=m[a][g][x].coord,C=(w=b.search({minX:S[0],minY:S[1],maxX:S[0],maxY:S[1]})[0]).index;C<c?y[C].nxtIsectAlongRingAndEdge2=m[a][g][x].nxtIsectAlongEdgeIn:kn(y[C].ringAndEdge1,m[a][g][x].ringAndEdgeIn)?y[C].nxtIsectAlongRingAndEdge1=m[a][g][x].nxtIsectAlongEdgeIn:y[C].nxtIsectAlongRingAndEdge2=m[a][g][x].nxtIsectAlongEdgeIn}var E=[];for(a=0,g=0;g<i;g++){var T=a;for(x=0;x<e.geometry.coordinates[g].length-1;x++)y[a].coord[0]<y[T].coord[0]&&(T=a),a++;var A=y[T].nxtIsectAlongRingAndEdge2;for(x=0;x<y.length;x++)if(y[x].nxtIsectAlongRingAndEdge1==T||y[x].nxtIsectAlongRingAndEdge2==T){var P=x;break}var I=On([y[P].coord,y[T].coord,y[A].coord],!0)?1:-1;E.push({isect:T,parent:-1,winding:I})}for(E.sort((function(e,t){return y[e.isect].coord>y[t.isect].coord?-1:1})),d=[];E.length>0;){var L=E.pop(),M=L.isect,O=L.parent,k=L.winding,N=d.length,R=[y[M].coord],D=M;if(y[M].ringAndEdge1Walkable)var F=y[M].ringAndEdge1,B=y[M].nxtIsectAlongRingAndEdge1;else F=y[M].ringAndEdge2,B=y[M].nxtIsectAlongRingAndEdge2;for(;!kn(y[M].coord,y[B].coord);){R.push(y[B].coord);var q=void 0;for(a=0;a<E.length;a++)if(E[a].isect==B){q=a;break}if(void 0!=q&&E.splice(q,1),kn(F,y[B].ringAndEdge1)){if(F=y[B].ringAndEdge2,y[B].ringAndEdge2Walkable=!1,y[B].ringAndEdge1Walkable){var z={isect:B};On([y[D].coord,y[B].coord,y[y[B].nxtIsectAlongRingAndEdge2].coord],1==k)?(z.parent=O,z.winding=-k):(z.parent=N,z.winding=k),E.push(z)}D=B,B=y[B].nxtIsectAlongRingAndEdge2}else F=y[B].ringAndEdge1,y[B].ringAndEdge1Walkable=!1,y[B].ringAndEdge2Walkable&&(z={isect:B},On([y[D].coord,y[B].coord,y[y[B].nxtIsectAlongRingAndEdge1].coord],1==k)?(z.parent=O,z.winding=-k):(z.parent=N,z.winding=k),E.push(z)),D=B,B=y[B].nxtIsectAlongRingAndEdge1}R.push(y[B].coord),d.push(s([R],{index:N,parent:O,winding:k,netWinding:void 0}))}return f=u(d),t(),n(),f},Lo=function(e,t,n,r,i){this.coord=e,this.param=t,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},Mo=function(e,t,n,r,i,s,o){this.coord=e,this.ringAndEdge1=t,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=s,this.ringAndEdge2Walkable=o};Number.prototype.modulo=function(e){return(this%e+e)%e};var Oo=Math.PI/180,ko=180/Math.PI,No=function(e,t){this.lon=e,this.lat=t,this.x=Oo*e,this.y=Oo*t};No.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},No.prototype.antipode=function(){var e=-1*this.lat,t=this.lon<0?180+this.lon:-1*(180-this.lon);return new No(t,e)};var Ro=function(){this.coords=[],this.length=0};Ro.prototype.move_to=function(e){this.length++,this.coords.push(e)};var Do=function(e){this.properties=e||{},this.geometries=[]};Do.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},Do.prototype.wkt=function(){for(var e="",t="LINESTRING(",n=function(e){t+=e[0]+" "+e[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),e+=t.substring(0,t.length-1)+")"}return e};var Fo=function(e,t,n){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new No(e.x,e.y),this.end=new No(t.x,t.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,s=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(s)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)};Fo.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),n=Math.sin(e*this.g)/Math.sin(this.g),r=t*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=t*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),s=t*Math.sin(this.start.y)+n*Math.sin(this.end.y),o=ko*Math.atan2(s,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[ko*Math.atan2(i,r),o]},Fo.prototype.Arc=function(e,t){var n=[];if(!e||e<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(e-1),i=0;i<e;++i){var s=r*i,o=this.interpolate(s);n.push(o)}for(var a=!1,l=0,u=t&&t.offset?t.offset:10,c=180-u,h=-180+u,p=360-u,d=1;d<n.length;++d){var f=n[d-1][0],m=n[d][0],y=Math.abs(m-f);y>p&&(m>c&&f<h||f>c&&m<h)?a=!0:y>l&&(l=y)}var g=[];if(a&&l<u){var _=[];g.push(_);for(var v=0;v<n.length;++v){var b=parseFloat(n[v][0]);if(v>0&&Math.abs(b-n[v-1][0])>p){var x=parseFloat(n[v-1][0]),w=parseFloat(n[v-1][1]),S=parseFloat(n[v][0]),C=parseFloat(n[v][1]);if(x>-180&&x<h&&180===S&&v+1<n.length&&n[v-1][0]>-180&&n[v-1][0]<h){_.push([-180,n[v][1]]),v++,_.push([n[v][0],n[v][1]]);continue}if(x>c&&x<180&&-180===S&&v+1<n.length&&n[v-1][0]>c&&n[v-1][0]<180){_.push([180,n[v][1]]),v++,_.push([n[v][0],n[v][1]]);continue}if(x<h&&S>c){var E=x;x=S,S=E;var T=w;w=C,C=T}if(x>c&&S<h&&(S+=360),x<=180&&S>=180&&x<S){var A=(180-x)/(S-x),P=A*C+(1-A)*w;_.push([n[v-1][0]>c?180:-180,P]),(_=[]).push([n[v-1][0]>c?-180:180,P]),g.push(_)}else _=[],g.push(_);_.push([b,n[v][1]])}else _.push([n[v][0],n[v][1]])}}else{var I=[];g.push(I);for(var L=0;L<n.length;++L)I.push([n[L][0],n[L][1]])}for(var M=new Do(this.properties),O=0;O<g.length;++O){var k=new Ro;M.geometries.push(k);for(var N=g[O],R=0;R<N.length;++R)k.move_to(N[R])}return M};var Bo=Wn;Wn.polyline=Wn,Wn.polygon=function(e,t){var n,r,i,s,o,a,l;for(r=1;r<=8;r*=2){for(n=[],s=!(Jn(i=e[e.length-1],t)&r),o=0;o<e.length;o++)(l=!(Jn(a=e[o],t)&r))!==s&&n.push(Hn(i,a,r,t)),l&&n.push(a),i=a,s=l;if(!(e=n).length)break}return n};var qo=Array.prototype.slice,zo={successCallback:null,verbose:!1,polygons:!1},Uo={},Go=64,jo=16,Vo=4,Wo=1,Ho=[],Jo=[],Xo=[],Zo=[],Yo=[],Ko=[],Qo=[],$o=[],ea=[],ta=[],na=[],ra=[],ia=[],sa=[],oa=[],aa=[],la=[],ua=[],ca=[],ha=[],pa=[],da=[],fa=[],ma=[];Qo[85]=ta[85]=-1,$o[85]=na[85]=0,ea[85]=ra[85]=1,ca[85]=da[85]=1,ha[85]=fa[85]=0,pa[85]=ma[85]=1,Ho[85]=Zo[85]=0,Jo[85]=Yo[85]=-1,Xo[85]=oa[85]=0,aa[85]=ia[85]=0,la[85]=sa[85]=1,Ko[85]=ua[85]=1,da[1]=da[169]=0,fa[1]=fa[169]=-1,ma[1]=ma[169]=0,ia[1]=ia[169]=-1,sa[1]=sa[169]=0,oa[1]=oa[169]=0,ta[4]=ta[166]=0,na[4]=na[166]=-1,ra[4]=ra[166]=1,aa[4]=aa[166]=1,la[4]=la[166]=0,ua[4]=ua[166]=0,Qo[16]=Qo[154]=0,$o[16]=$o[154]=1,ea[16]=ea[154]=1,Zo[16]=Zo[154]=1,Yo[16]=Yo[154]=0,Ko[16]=Ko[154]=1,ca[64]=ca[106]=0,ha[64]=ha[106]=1,pa[64]=pa[106]=0,Ho[64]=Ho[106]=-1,Jo[64]=Jo[106]=0,Xo[64]=Xo[106]=1,ca[2]=ca[168]=0,ha[2]=ha[168]=-1,pa[2]=pa[168]=1,da[2]=da[168]=0,fa[2]=fa[168]=-1,ma[2]=ma[168]=0,ia[2]=ia[168]=-1,sa[2]=sa[168]=0,oa[2]=oa[168]=0,aa[2]=aa[168]=-1,la[2]=la[168]=0,ua[2]=ua[168]=1,Qo[8]=Qo[162]=0,$o[8]=$o[162]=-1,ea[8]=ea[162]=0,ta[8]=ta[162]=0,na[8]=na[162]=-1,ra[8]=ra[162]=1,ia[8]=ia[162]=1,sa[8]=sa[162]=0,oa[8]=oa[162]=1,aa[8]=aa[162]=1,la[8]=la[162]=0,ua[8]=ua[162]=0,Qo[32]=Qo[138]=0,$o[32]=$o[138]=1,ea[32]=ea[138]=1,ta[32]=ta[138]=0,na[32]=na[138]=1,ra[32]=ra[138]=0,Ho[32]=Ho[138]=1,Jo[32]=Jo[138]=0,Xo[32]=Xo[138]=0,Zo[32]=Zo[138]=1,Yo[32]=Yo[138]=0,Ko[32]=Ko[138]=1,da[128]=da[42]=0,fa[128]=fa[42]=1,ma[128]=ma[42]=1,ca[128]=ca[42]=0,ha[128]=ha[42]=1,pa[128]=pa[42]=0,Ho[128]=Ho[42]=-1,Jo[128]=Jo[42]=0,Xo[128]=Xo[42]=1,Zo[128]=Zo[42]=-1,Yo[128]=Yo[42]=0,Ko[128]=Ko[42]=0,ta[5]=ta[165]=-1,na[5]=na[165]=0,ra[5]=ra[165]=0,da[5]=da[165]=1,fa[5]=fa[165]=0,ma[5]=ma[165]=0,aa[20]=aa[150]=0,la[20]=la[150]=1,ua[20]=ua[150]=1,Zo[20]=Zo[150]=0,Yo[20]=Yo[150]=-1,Ko[20]=Ko[150]=1,Qo[80]=Qo[90]=-1,$o[80]=$o[90]=0,ea[80]=ea[90]=1,ca[80]=ca[90]=1,ha[80]=ha[90]=0,pa[80]=pa[90]=1,ia[65]=ia[105]=0,sa[65]=sa[105]=1,oa[65]=oa[105]=0,Ho[65]=Ho[105]=0,Jo[65]=Jo[105]=-1,Xo[65]=Xo[105]=0,Qo[160]=Qo[10]=-1,$o[160]=$o[10]=0,ea[160]=ea[10]=1,ta[160]=ta[10]=-1,na[160]=na[10]=0,ra[160]=ra[10]=0,da[160]=da[10]=1,fa[160]=fa[10]=0,ma[160]=ma[10]=0,ca[160]=ca[10]=1,ha[160]=ha[10]=0,pa[160]=pa[10]=1,aa[130]=aa[40]=0,la[130]=la[40]=1,ua[130]=ua[40]=1,ia[130]=ia[40]=0,sa[130]=sa[40]=1,oa[130]=oa[40]=0,Ho[130]=Ho[40]=0,Jo[130]=Jo[40]=-1,Xo[130]=Xo[40]=0,Zo[130]=Zo[40]=0,Yo[130]=Yo[40]=-1,Ko[130]=Ko[40]=1,ta[37]=ta[133]=0,na[37]=na[133]=1,ra[37]=ra[133]=1,da[37]=da[133]=0,fa[37]=fa[133]=1,ma[37]=ma[133]=0,Ho[37]=Ho[133]=-1,Jo[37]=Jo[133]=0,Xo[37]=Xo[133]=0,Zo[37]=Zo[133]=1,Yo[37]=Yo[133]=0,Ko[37]=Ko[133]=0,aa[148]=aa[22]=-1,la[148]=la[22]=0,ua[148]=ua[22]=0,da[148]=da[22]=0,fa[148]=fa[22]=-1,ma[148]=ma[22]=1,ca[148]=ca[22]=0,ha[148]=ha[22]=1,pa[148]=pa[22]=1,Zo[148]=Zo[22]=-1,Yo[148]=Yo[22]=0,Ko[148]=Ko[22]=1,Qo[82]=Qo[88]=0,$o[82]=$o[88]=-1,ea[82]=ea[88]=1,aa[82]=aa[88]=1,la[82]=la[88]=0,ua[82]=ua[88]=1,ia[82]=ia[88]=-1,sa[82]=sa[88]=0,oa[82]=oa[88]=1,ca[82]=ca[88]=0,ha[82]=ha[88]=-1,pa[82]=pa[88]=0,Qo[73]=Qo[97]=0,$o[73]=$o[97]=1,ea[73]=ea[97]=0,ta[73]=ta[97]=0,na[73]=na[97]=-1,ra[73]=ra[97]=0,ia[73]=ia[97]=1,sa[73]=sa[97]=0,oa[73]=oa[97]=0,Ho[73]=Ho[97]=1,Jo[73]=Jo[97]=0,Xo[73]=Xo[97]=1,Qo[145]=Qo[25]=0,$o[145]=$o[25]=-1,ea[145]=ea[25]=0,ia[145]=ia[25]=1,sa[145]=sa[25]=0,oa[145]=oa[25]=1,da[145]=da[25]=0,fa[145]=fa[25]=1,ma[145]=ma[25]=1,Zo[145]=Zo[25]=-1,Yo[145]=Yo[25]=0,Ko[145]=Ko[25]=0,ta[70]=ta[100]=0,na[70]=na[100]=1,ra[70]=ra[100]=0,aa[70]=aa[100]=-1,la[70]=la[100]=0,ua[70]=ua[100]=1,ca[70]=ca[100]=0,ha[70]=ha[100]=-1,pa[70]=pa[100]=1,Ho[70]=Ho[100]=1,Jo[70]=Jo[100]=0,Xo[70]=Xo[100]=0,ta[101]=ta[69]=0,na[101]=na[69]=1,ra[101]=ra[69]=0,Ho[101]=Ho[69]=1,Jo[101]=Jo[69]=0,Xo[101]=Xo[69]=0,da[149]=da[21]=0,fa[149]=fa[21]=1,ma[149]=ma[21]=1,Zo[149]=Zo[21]=-1,Yo[149]=Yo[21]=0,Ko[149]=Ko[21]=0,aa[86]=aa[84]=-1,la[86]=la[84]=0,ua[86]=ua[84]=1,ca[86]=ca[84]=0,ha[86]=ha[84]=-1,pa[86]=pa[84]=1,Qo[89]=Qo[81]=0,$o[89]=$o[81]=-1,ea[89]=ea[81]=0,ia[89]=ia[81]=1,sa[89]=sa[81]=0,oa[89]=oa[81]=1,Qo[96]=Qo[74]=0,$o[96]=$o[74]=1,ea[96]=ea[74]=0,ta[96]=ta[74]=-1,na[96]=na[74]=0,ra[96]=ra[74]=1,ca[96]=ca[74]=1,ha[96]=ha[74]=0,pa[96]=pa[74]=0,Ho[96]=Ho[74]=1,Jo[96]=Jo[74]=0,Xo[96]=Xo[74]=1,Qo[24]=Qo[146]=0,$o[24]=$o[146]=-1,ea[24]=ea[146]=1,aa[24]=aa[146]=1,la[24]=la[146]=0,ua[24]=ua[146]=1,ia[24]=ia[146]=0,sa[24]=sa[146]=1,oa[24]=oa[146]=1,Zo[24]=Zo[146]=0,Yo[24]=Yo[146]=-1,Ko[24]=Ko[146]=0,ta[6]=ta[164]=-1,na[6]=na[164]=0,ra[6]=ra[164]=1,aa[6]=aa[164]=-1,la[6]=la[164]=0,ua[6]=ua[164]=0,da[6]=da[164]=0,fa[6]=fa[164]=-1,ma[6]=ma[164]=1,ca[6]=ca[164]=1,ha[6]=ha[164]=0,pa[6]=pa[164]=0,ia[129]=ia[41]=0,sa[129]=sa[41]=1,oa[129]=oa[41]=1,da[129]=da[41]=0,fa[129]=fa[41]=1,ma[129]=ma[41]=0,Ho[129]=Ho[41]=-1,Jo[129]=Jo[41]=0,Xo[129]=Xo[41]=0,Zo[129]=Zo[41]=0,Yo[129]=Yo[41]=-1,Ko[129]=Ko[41]=0,aa[66]=aa[104]=0,la[66]=la[104]=1,ua[66]=ua[104]=0,ia[66]=ia[104]=-1,sa[66]=sa[104]=0,oa[66]=oa[104]=1,ca[66]=ca[104]=0,ha[66]=ha[104]=-1,pa[66]=pa[104]=0,Ho[66]=Ho[104]=0,Jo[66]=Jo[104]=-1,Xo[66]=Xo[104]=1,Qo[144]=Qo[26]=-1,$o[144]=$o[26]=0,ea[144]=ea[26]=0,da[144]=da[26]=1,fa[144]=fa[26]=0,ma[144]=ma[26]=1,ca[144]=ca[26]=0,ha[144]=ha[26]=1,pa[144]=pa[26]=1,Zo[144]=Zo[26]=-1,Yo[144]=Yo[26]=0,Ko[144]=Ko[26]=1,ta[36]=ta[134]=0,na[36]=na[134]=1,ra[36]=ra[134]=1,aa[36]=aa[134]=0,la[36]=la[134]=1,ua[36]=ua[134]=0,Ho[36]=Ho[134]=0,Jo[36]=Jo[134]=-1,Xo[36]=Xo[134]=1,Zo[36]=Zo[134]=1,Yo[36]=Yo[134]=0,Ko[36]=Ko[134]=0,Qo[9]=Qo[161]=-1,$o[9]=$o[161]=0,ea[9]=ea[161]=0,ta[9]=ta[161]=0,na[9]=na[161]=-1,ra[9]=ra[161]=0,ia[9]=ia[161]=1,sa[9]=sa[161]=0,oa[9]=oa[161]=0,da[9]=da[161]=1,fa[9]=fa[161]=0,ma[9]=ma[161]=1,Qo[136]=0,$o[136]=1,ea[136]=1,ta[136]=0,na[136]=1,ra[136]=0,aa[136]=-1,la[136]=0,ua[136]=1,ia[136]=-1,sa[136]=0,oa[136]=0,da[136]=0,fa[136]=-1,ma[136]=0,ca[136]=0,ha[136]=-1,pa[136]=1,Ho[136]=1,Jo[136]=0,Xo[136]=0,Zo[136]=1,Yo[136]=0,Ko[136]=1,Qo[34]=0,$o[34]=-1,ea[34]=0,ta[34]=0,na[34]=-1,ra[34]=1,aa[34]=1,la[34]=0,ua[34]=0,ia[34]=1,sa[34]=0,oa[34]=1,da[34]=0,fa[34]=1,ma[34]=1,ca[34]=0,ha[34]=1,pa[34]=0,Ho[34]=-1,Jo[34]=0,Xo[34]=1,Zo[34]=-1,Yo[34]=0,Ko[34]=0,Qo[35]=0,$o[35]=1,ea[35]=1,ta[35]=0,na[35]=-1,ra[35]=1,aa[35]=1,la[35]=0,ua[35]=0,ia[35]=-1,sa[35]=0,oa[35]=0,da[35]=0,fa[35]=-1,ma[35]=0,ca[35]=0,ha[35]=1,pa[35]=0,Ho[35]=-1,Jo[35]=0,Xo[35]=1,Zo[35]=1,Yo[35]=0,Ko[35]=1,Qo[153]=0,$o[153]=1,ea[153]=1,ia[153]=-1,sa[153]=0,oa[153]=0,da[153]=0,fa[153]=-1,ma[153]=0,Zo[153]=1,Yo[153]=0,Ko[153]=1,ta[102]=0,na[102]=-1,ra[102]=1,aa[102]=1,la[102]=0,ua[102]=0,ca[102]=0,ha[102]=1,pa[102]=0,Ho[102]=-1,Jo[102]=0,Xo[102]=1,Qo[155]=0,$o[155]=-1,ea[155]=0,ia[155]=1,sa[155]=0,oa[155]=1,da[155]=0,fa[155]=1,ma[155]=1,Zo[155]=-1,Yo[155]=0,Ko[155]=0,ta[103]=0,na[103]=1,ra[103]=0,aa[103]=-1,la[103]=0,ua[103]=1,ca[103]=0,ha[103]=-1,pa[103]=1,Ho[103]=1,Jo[103]=0,Xo[103]=0,Qo[152]=0,$o[152]=1,ea[152]=1,aa[152]=-1,la[152]=0,ua[152]=1,ia[152]=-1,sa[152]=0,oa[152]=0,da[152]=0,fa[152]=-1,ma[152]=0,ca[152]=0,ha[152]=-1,pa[152]=1,Zo[152]=1,Yo[152]=0,Ko[152]=1,Qo[156]=0,$o[156]=-1,ea[156]=1,aa[156]=1,la[156]=0,ua[156]=1,ia[156]=-1,sa[156]=0,oa[156]=0,da[156]=0,fa[156]=-1,ma[156]=0,ca[156]=0,ha[156]=1,pa[156]=1,Zo[156]=-1,Yo[156]=0,Ko[156]=1,Qo[137]=0,$o[137]=1,ea[137]=1,ta[137]=0,na[137]=1,ra[137]=0,ia[137]=-1,sa[137]=0,oa[137]=0,da[137]=0,fa[137]=-1,ma[137]=0,Ho[137]=1,Jo[137]=0,Xo[137]=0,Zo[137]=1,Yo[137]=0,Ko[137]=1,Qo[139]=0,$o[139]=1,ea[139]=1,ta[139]=0,na[139]=-1,ra[139]=0,ia[139]=1,sa[139]=0,oa[139]=0,da[139]=0,fa[139]=1,ma[139]=0,Ho[139]=-1,Jo[139]=0,Xo[139]=0,Zo[139]=1,Yo[139]=0,Ko[139]=1,Qo[98]=0,$o[98]=-1,ea[98]=0,ta[98]=0,na[98]=-1,ra[98]=1,aa[98]=1,la[98]=0,ua[98]=0,ia[98]=1,sa[98]=0,oa[98]=1,ca[98]=0,ha[98]=1,pa[98]=0,Ho[98]=-1,Jo[98]=0,Xo[98]=1,Qo[99]=0,$o[99]=1,ea[99]=0,ta[99]=0,na[99]=-1,ra[99]=1,aa[99]=1,la[99]=0,ua[99]=0,ia[99]=-1,sa[99]=0,oa[99]=1,ca[99]=0,ha[99]=-1,pa[99]=0,Ho[99]=1,Jo[99]=0,Xo[99]=1,ta[38]=0,na[38]=-1,ra[38]=1,aa[38]=1,la[38]=0,ua[38]=0,da[38]=0,fa[38]=1,ma[38]=1,ca[38]=0,ha[38]=1,pa[38]=0,Ho[38]=-1,Jo[38]=0,Xo[38]=1,Zo[38]=-1,Yo[38]=0,Ko[38]=0,ta[39]=0,na[39]=1,ra[39]=1,aa[39]=-1,la[39]=0,ua[39]=0,da[39]=0,fa[39]=-1,ma[39]=1,ca[39]=0,ha[39]=1,pa[39]=0,Ho[39]=-1,Jo[39]=0,Xo[39]=1,Zo[39]=1,Yo[39]=0,Ko[39]=0;var ya=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},ga=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},_a=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},va=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},ba=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},xa=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},wa=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},Sa=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Ca=[],Ea=[],Ta=[],Aa=[],Pa=[],Ia=[],La=[],Ma=[];Aa[1]=Pa[1]=18,Aa[169]=Pa[169]=18,Ta[4]=Ea[4]=12,Ta[166]=Ea[166]=12,Ca[16]=Ma[16]=4,Ca[154]=Ma[154]=4,Ia[64]=La[64]=22,Ia[106]=La[106]=22,Ta[2]=Ia[2]=17,Aa[2]=Pa[2]=18,Ta[168]=Ia[168]=17,Aa[168]=Pa[168]=18,Ca[8]=Aa[8]=9,Ea[8]=Ta[8]=12,Ca[162]=Aa[162]=9,Ea[162]=Ta[162]=12,Ca[32]=Ma[32]=4,Ea[32]=La[32]=1,Ca[138]=Ma[138]=4,Ea[138]=La[138]=1,Pa[128]=Ma[128]=21,Ia[128]=La[128]=22,Pa[42]=Ma[42]=21,Ia[42]=La[42]=22,Ea[5]=Pa[5]=14,Ea[165]=Pa[165]=14,Ta[20]=Ma[20]=6,Ta[150]=Ma[150]=6,Ca[80]=Ia[80]=11,Ca[90]=Ia[90]=11,Aa[65]=La[65]=3,Aa[105]=La[105]=3,Ca[160]=Ia[160]=11,Ea[160]=Pa[160]=14,Ca[10]=Ia[10]=11,Ea[10]=Pa[10]=14,Ta[130]=Ma[130]=6,Aa[130]=La[130]=3,Ta[40]=Ma[40]=6,Aa[40]=La[40]=3,Ea[101]=La[101]=1,Ea[69]=La[69]=1,Pa[149]=Ma[149]=21,Pa[21]=Ma[21]=21,Ta[86]=Ia[86]=17,Ta[84]=Ia[84]=17,Ca[89]=Aa[89]=9,Ca[81]=Aa[81]=9,Ca[96]=La[96]=0,Ea[96]=Ia[96]=15,Ca[74]=La[74]=0,Ea[74]=Ia[74]=15,Ca[24]=Ta[24]=8,Aa[24]=Ma[24]=7,Ca[146]=Ta[146]=8,Aa[146]=Ma[146]=7,Ea[6]=Ia[6]=15,Ta[6]=Pa[6]=16,Ea[164]=Ia[164]=15,Ta[164]=Pa[164]=16,Aa[129]=Ma[129]=7,Pa[129]=La[129]=20,Aa[41]=Ma[41]=7,Pa[41]=La[41]=20,Ta[66]=La[66]=2,Aa[66]=Ia[66]=19,Ta[104]=La[104]=2,Aa[104]=Ia[104]=19,Ca[144]=Pa[144]=10,Ia[144]=Ma[144]=23,Ca[26]=Pa[26]=10,Ia[26]=Ma[26]=23,Ea[36]=Ma[36]=5,Ta[36]=La[36]=2,Ea[134]=Ma[134]=5,Ta[134]=La[134]=2,Ca[9]=Pa[9]=10,Ea[9]=Aa[9]=13,Ca[161]=Pa[161]=10,Ea[161]=Aa[161]=13,Ea[37]=Ma[37]=5,Pa[37]=La[37]=20,Ea[133]=Ma[133]=5,Pa[133]=La[133]=20,Ta[148]=Pa[148]=16,Ia[148]=Ma[148]=23,Ta[22]=Pa[22]=16,Ia[22]=Ma[22]=23,Ca[82]=Ta[82]=8,Aa[82]=Ia[82]=19,Ca[88]=Ta[88]=8,Aa[88]=Ia[88]=19,Ca[73]=La[73]=0,Ea[73]=Aa[73]=13,Ca[97]=La[97]=0,Ea[97]=Aa[97]=13,Ca[145]=Aa[145]=9,Pa[145]=Ma[145]=21,Ca[25]=Aa[25]=9,Pa[25]=Ma[25]=21,Ea[70]=La[70]=1,Ta[70]=Ia[70]=17,Ea[100]=La[100]=1,Ta[100]=Ia[100]=17,Ca[34]=Aa[34]=9,Ea[34]=Ta[34]=12,Pa[34]=Ma[34]=21,Ia[34]=La[34]=22,Ca[136]=Ma[136]=4,Ea[136]=La[136]=1,Ta[136]=Ia[136]=17,Aa[136]=Pa[136]=18,Ca[35]=Ma[35]=4,Ea[35]=Ta[35]=12,Aa[35]=Pa[35]=18,Ia[35]=La[35]=22,Ca[153]=Ma[153]=4,Aa[153]=Pa[153]=18,Ea[102]=Ta[102]=12,Ia[102]=La[102]=22,Ca[155]=Aa[155]=9,Pa[155]=Ma[155]=23,Ea[103]=La[103]=1,Ta[103]=Ia[103]=17,Ca[152]=Ma[152]=4,Ta[152]=Ia[152]=17,Aa[152]=Pa[152]=18,Ca[156]=Ta[156]=8,Aa[156]=Pa[156]=18,Ia[156]=Ma[156]=23,Ca[137]=Ma[137]=4,Ea[137]=La[137]=1,Aa[137]=Pa[137]=18,Ca[139]=Ma[139]=4,Ea[139]=Aa[139]=13,Pa[139]=La[139]=20,Ca[98]=Aa[98]=9,Ea[98]=Ta[98]=12,Ia[98]=La[98]=22,Ca[99]=La[99]=0,Ea[99]=Ta[99]=12,Aa[99]=Ia[99]=19,Ea[38]=Ta[38]=12,Pa[38]=Ma[38]=21,Ia[38]=La[38]=22,Ea[39]=Ma[39]=5,Ta[39]=Pa[39]=16,Ia[39]=La[39]=22;var Oa=[];Oa[1]=Oa[169]=ya,Oa[4]=Oa[166]=ga,Oa[16]=Oa[154]=_a,Oa[64]=Oa[106]=va,Oa[168]=Oa[2]=ba,Oa[162]=Oa[8]=xa,Oa[138]=Oa[32]=wa,Oa[42]=Oa[128]=Sa,Oa[5]=Oa[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},Oa[20]=Oa[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},Oa[80]=Oa[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},Oa[65]=Oa[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},Oa[160]=Oa[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},Oa[130]=Oa[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},Oa[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Oa[101]=Oa[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},Oa[149]=Oa[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},Oa[86]=Oa[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},Oa[89]=Oa[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},Oa[96]=Oa[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},Oa[24]=Oa[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},Oa[6]=Oa[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},Oa[129]=Oa[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},Oa[66]=Oa[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Oa[144]=Oa[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Oa[36]=Oa[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},Oa[9]=Oa[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},Oa[37]=Oa[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Oa[148]=Oa[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Oa[82]=Oa[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},Oa[73]=Oa[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},Oa[145]=Oa[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Oa[70]=Oa[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Oa[34]=function(e){return[Sa(e),xa(e)]},Oa[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Oa[136]=function(e){return[wa(e),ba(e)]},Oa[153]=function(e){return[_a(e),ya(e)]},Oa[102]=function(e){return[ga(e),va(e)]},Oa[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},Oa[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Oa[152]=function(e){return[_a(e),ba(e)]},Oa[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},Oa[137]=function(e){return[wa(e),ya(e)]},Oa[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},Oa[98]=function(e){return[xa(e),va(e)]},Oa[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},Oa[38]=function(e){return[ga(e),Sa(e)]},Oa[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]};var ka=function e(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};ka.buildId=function(e){return e.join(",")},ka.prototype.removeInnerEdge=function(e){this.innerEdges=this.innerEdges.filter((function(t){return t.from.id!==e.from.id}))},ka.prototype.removeOuterEdge=function(e){this.outerEdges=this.outerEdges.filter((function(t){return t.to.id!==e.to.id}))},ka.prototype.addOuterEdge=function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1},ka.prototype.sortOuterEdges=function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort((function(t,n){var r=t.to,i=n.to;if(r.coordinates[0]-e.coordinates[0]>=0&&i.coordinates[0]-e.coordinates[0]<0)return 1;if(r.coordinates[0]-e.coordinates[0]<0&&i.coordinates[0]-e.coordinates[0]>=0)return-1;if(r.coordinates[0]-e.coordinates[0]==0&&i.coordinates[0]-e.coordinates[0]==0)return r.coordinates[1]-e.coordinates[1]>=0||i.coordinates[1]-e.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var s=br(e.coordinates,r.coordinates,i.coordinates);return s<0?1:s>0?-1:Math.pow(r.coordinates[0]-e.coordinates[0],2)+Math.pow(r.coordinates[1]-e.coordinates[1],2)-(Math.pow(i.coordinates[0]-e.coordinates[0],2)+Math.pow(i.coordinates[1]-e.coordinates[1],2))})),this.outerEdgesSorted=!0)},ka.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},ka.prototype.getOuterEdge=function(e){return this.sortOuterEdges(),this.outerEdges[e]},ka.prototype.addInnerEdge=function(e){this.innerEdges.push(e)};var Na=function(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};Na.prototype.getSymetric=function(){return this.symetric||(this.symetric=new Na(this.to,this.from),this.symetric.symetric=this),this.symetric},Na.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},Na.prototype.isEqual=function(e){return this.from.id===e.from.id&&this.to.id===e.to.id},Na.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},Na.prototype.toLineString=function(){return a([this.from.coordinates,this.to.coordinates])},Na.prototype.compareTo=function(e){return br(e.from.coordinates,e.to.coordinates,this.to.coordinates)};var Ra=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},Da={length:{configurable:!0}};Ra.prototype.push=function(e){this[this.edges.length]=e,this.edges.push(e),this.polygon=this.envelope=void 0},Ra.prototype.get=function(e){return this.edges[e]},Da.length.get=function(){return this.edges.length},Ra.prototype.forEach=function(e){this.edges.forEach(e)},Ra.prototype.map=function(e){return this.edges.map(e)},Ra.prototype.some=function(e){return this.edges.some(e)},Ra.prototype.isValid=function(){return!0},Ra.prototype.isHole=function(){var e=this,t=this.edges.reduce((function(t,n,r){return n.from.coordinates[1]>e.edges[t].from.coordinates[1]&&(t=r),t}),0),n=(0===t?this.length:t)-1,r=(t+1)%this.length,i=br(this.edges[n].from.coordinates,this.edges[t].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},Ra.prototype.toMultiPoint=function(){return h(this.edges.map((function(e){return e.from.coordinates})))},Ra.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var e=this.edges.map((function(e){return e.from.coordinates}));return e.push(this.edges[0].from.coordinates),this.polygon=s([e])},Ra.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=ct(this.toPolygon())},Ra.findEdgeRingContaining=function(e,t){var n,i,s=e.getEnvelope();return t.forEach((function(t){var o=t.getEnvelope();if(i&&(n=i.getEnvelope()),!function(e,t){var n=e.geometry.coordinates.map((function(e){return e[0]})),r=e.geometry.coordinates.map((function(e){return e[1]})),i=t.geometry.coordinates.map((function(e){return e[0]})),s=t.geometry.coordinates.map((function(e){return e[1]}));return Math.max(null,n)===Math.max(null,i)&&Math.max(null,r)===Math.max(null,s)&&Math.min(null,n)===Math.min(null,i)&&Math.min(null,r)===Math.min(null,s)}(o,s)&&xr(o,s)){var a=e.map((function(e){return e.from.coordinates})).find((function(e){return!t.some((function(t){return function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e,t.from.coordinates)}))}));a&&t.inside(r(a))&&(i&&!xr(n,o)||(i=t))}})),i},Ra.prototype.inside=function(e){return Le(e,this.toPolygon())},Object.defineProperties(Ra.prototype,Da);var Fa=function(){this.edges=[],this.nodes={}};Fa.fromGeoJson=function(e){!function(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var t=new Fa;return D(e,(function(e){J(e,"LineString","Graph::fromGeoJson"),P(e,(function(e,n){if(e){var r=t.getNode(e),i=t.getNode(n);t.addEdge(r,i)}return n}))})),t},Fa.prototype.getNode=function(e){var t=ka.buildId(e),n=this.nodes[t];return n||(n=this.nodes[t]=new ka(e)),n},Fa.prototype.addEdge=function(e,t){var n=new Na(e,t),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},Fa.prototype.deleteDangles=function(){var e=this;Object.keys(this.nodes).map((function(t){return e.nodes[t]})).forEach((function(t){return e._removeIfDangle(t)}))},Fa.prototype._removeIfDangle=function(e){var t=this;if(e.innerEdges.length<=1){var n=e.getOuterEdges().map((function(e){return e.to}));this.removeNode(e),n.forEach((function(e){return t._removeIfDangle(e)}))}},Fa.prototype.deleteCutEdges=function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(t){t.label===t.symetric.label&&(e.removeEdge(t.symetric),e.removeEdge(t))}))},Fa.prototype._computeNextCWEdges=function(e){var t=this;void 0===e?Object.keys(this.nodes).forEach((function(e){return t._computeNextCWEdges(t.nodes[e])})):e.getOuterEdges().forEach((function(t,n){e.getOuterEdge((0===n?e.getOuterEdges().length:n)-1).symetric.next=t}))},Fa.prototype._computeNextCCWEdges=function(e,t){for(var n,r,i=e.getOuterEdges(),s=i.length-1;s>=0;--s){var o=i[s],a=o.symetric,l=void 0,u=void 0;o.label===t&&(l=o),a.label===t&&(u=a),l&&u&&(u&&(r=u),l&&(r&&(r.next=l,r=void 0),n||(n=l)))}r&&(r.next=n)},Fa.prototype._findLabeledEdgeRings=function(){var e=[],t=0;return this.edges.forEach((function(n){if(!(n.label>=0)){e.push(n);var r=n;do{r.label=t,r=r.next}while(!n.isEqual(r));t++}})),e},Fa.prototype.getEdgeRings=function(){var e=this;this._computeNextCWEdges(),this.edges.forEach((function(e){e.label=void 0})),this._findLabeledEdgeRings().forEach((function(t){e._findIntersectionNodes(t).forEach((function(n){e._computeNextCCWEdges(n,t.label)}))}));var t=[];return this.edges.forEach((function(n){n.ring||t.push(e._findEdgeRing(n))})),t},Fa.prototype._findIntersectionNodes=function(e){var t=[],n=e,r=function(){var r=0;n.from.getOuterEdges().forEach((function(t){t.label===e.label&&++r})),r>1&&t.push(n.from),n=n.next};do{r()}while(!e.isEqual(n));return t},Fa.prototype._findEdgeRing=function(e){var t=e,n=new Ra;do{n.push(t),t.ring=n,t=t.next}while(!e.isEqual(t));return n},Fa.prototype.removeNode=function(e){var t=this;e.getOuterEdges().forEach((function(e){return t.removeEdge(e)})),e.innerEdges.forEach((function(e){return t.removeEdge(e)})),delete this.nodes[e.id]},Fa.prototype.removeEdge=function(e){this.edges=this.edges.filter((function(t){return!t.isEqual(e)})),e.deleteEdge()};var Ba=_e((function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n})),qa=(Ba.shim,_e((function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(t=e.exports=i?n:r).supported=n,t.unsupported=r}))),za=(qa.supported,qa.unsupported,_e((function(e){function t(e){return null===e||void 0===e}function n(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&"function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0])}var r=Array.prototype.slice,i=e.exports=function(e,s,o){return o||(o={}),e===s||(e instanceof Date&&s instanceof Date?e.getTime()===s.getTime():!e||!s||"object"!=typeof e&&"object"!=typeof s?o.strict?e===s:e==s:function(e,s,o){var a,l;if(t(e)||t(s))return!1;if(e.prototype!==s.prototype)return!1;if(qa(e))return!!qa(s)&&(e=r.call(e),s=r.call(s),i(e,s,o));if(n(e)){if(!n(s))return!1;if(e.length!==s.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==s[a])return!1;return!0}try{var u=Ba(e),c=Ba(s)}catch(e){return!1}if(u.length!=c.length)return!1;for(u.sort(),c.sort(),a=u.length-1;a>=0;a--)if(u[a]!=c[a])return!1;for(a=u.length-1;a>=0;a--)if(l=u[a],!i(e[l],s[l],o))return!1;return typeof e==typeof s}(e,s,o))}}))),Ua=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=!(!e||!e.direction)&&e.direction,this.pseudoNode=!(!e||!e.pseudoNode)&&e.pseudoNode,this.objectComparator=e&&e.objectComparator?e.objectComparator:Or};Ua.prototype.compare=function(e,t){if(e.type!==t.type||!Mr(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,t);case"Feature":return this.compareFeature(e,t);default:if(0===e.type.indexOf("Multi")){var n=this,r=Lr(e),i=Lr(t);return r.every((function(e){return this.some((function(t){return n.compare(e,t)}))}),i)}}return!1},Ua.prototype.compareCoord=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n].toFixed(this.precision)!==t[n].toFixed(this.precision))return!1;return!0},Ua.prototype.compareLine=function(e,t,n,r){if(!Mr(e,t))return!1;var i=this.pseudoNode?e:this.removePseudo(e),s=this.pseudoNode?t:this.removePseudo(t);if(!r||this.compareCoord(i[0],s[0])||(s=this.fixStartIndex(s,i))){var o=this.compareCoord(i[n],s[n]);return this.direction||o?this.comparePath(i,s):!!this.compareCoord(i[n],s[s.length-(1+n)])&&this.comparePath(i.slice().reverse(),s)}},Ua.prototype.fixStartIndex=function(e,t){for(var n,r=-1,i=0;i<e.length;i++)if(this.compareCoord(e[i],t[0])){r=i;break}return r>=0&&(n=[].concat(e.slice(r,e.length),e.slice(1,r+1))),n},Ua.prototype.comparePath=function(e,t){var n=this;return e.every((function(e,t){return n.compareCoord(e,this[t])}),t)},Ua.prototype.comparePolygon=function(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){var n=e.coordinates.slice(1,e.coordinates.length),r=t.coordinates.slice(1,t.coordinates.length),i=this;return n.every((function(e){return this.some((function(t){return i.compareLine(e,t,1,!0)}))}),r)}return!1},Ua.prototype.compareFeature=function(e,t){return!(e.id!==t.id||!this.objectComparator(e.properties,t.properties)||!this.compareBBox(e,t))&&this.compare(e.geometry,t.geometry)},Ua.prototype.compareBBox=function(e,t){return!!(!e.bbox&&!t.bbox||e.bbox&&t.bbox&&this.compareCoord(e.bbox,t.bbox))},Ua.prototype.removePseudo=function(e){return e};var Ga=Ua,ja=_e((function(e){function t(e,t,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(e,t,n,r)}t.prototype.run=function(e,t,n,r){this._init(e,t,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var s=this._regionQuery(i);if(s.length<this.minPts)this.noise.push(i);else{var o=this.clusters.length;this.clusters.push([]),this._addToCluster(i,o),this._expandCluster(o,s)}}return this.clusters},t.prototype._init=function(e,t,n,r){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this.noise=[],this._datasetLength=e.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}t&&(this.epsilon=t),n&&(this.minPts=n),r&&(this.distance=r)},t.prototype._expandCluster=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(t=this._mergeArrays(t,i))}1!==this._assigned[r]&&this._addToCluster(r,e)}},t.prototype._addToCluster=function(e,t){this.clusters[t].push(e),this._assigned[e]=1},t.prototype._regionQuery=function(e){for(var t=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[e],this.dataset[n])<this.epsilon&&t.push(n);return t},t.prototype._mergeArrays=function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r];e.indexOf(i)<0&&e.push(i)}return e},t.prototype._euclideanDistance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;)n+=(e[r]-t[r])*(e[r]-t[r]);return Math.sqrt(n)},e.exports&&(e.exports=t)})),Va=_e((function(e){function t(e,t,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(e,t,n)}t.prototype.init=function(e,t,n){this.assignments=[],this.centroids=[],void 0!==e&&(this.dataset=e),void 0!==t&&(this.k=t),void 0!==n&&(this.distance=n)},t.prototype.run=function(e,t){this.init(e,t);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var s=0;s<this.k;s++){for(var o=new Array(c),a=0,l=0;l<c;l++)o[l]=0;for(var u=0;u<n;u++){var c=this.dataset[u].length;if(s===this.assignments[u]){for(l=0;l<c;l++)o[l]+=this.dataset[u][l];a++}}if(a>0){for(l=0;l<c;l++)o[l]/=a;this.centroids[s]=o}else this.centroids[s]=this.randomCentroid(),i=!0}}return this.getClusters()},t.prototype.randomCentroid=function(){var e,t,n=this.dataset.length-1;do{t=Math.round(Math.random()*n),e=this.dataset[t]}while(this.centroids.indexOf(e)>=0);return e},t.prototype.assign=function(){for(var e,t=!1,n=this.dataset.length,r=0;r<n;r++)(e=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=e,t=!0);return t},t.prototype.getClusters=function(){for(var e,t=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===t[e=this.assignments[n]]&&(t[e]=[]),t[e].push(n);return t},t.prototype.argmin=function(e,t,n){for(var r,i=Number.MAX_VALUE,s=0,o=t.length,a=0;a<o;a++)(r=n(e,t[a]))<i&&(i=r,s=a);return s},t.prototype.distance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;){var i=e[r]-t[r];n+=i*i}return Math.sqrt(n)},e.exports&&(e.exports=t)})),Wa=_e((function(e){function t(e,t,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(e,t,n)}t.prototype.insert=function(e,t){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?t>i&&(n=r):t<i&&(n=r)}this._insertAt(e,t,n)},t.prototype.remove=function(e){for(var t=this._queue.length;t--;)if(e===this._queue[t]){this._queue.splice(t,1),this._priorities.splice(t,1);break}},t.prototype.forEach=function(e){this._queue.forEach(e)},t.prototype.getElements=function(){return this._queue},t.prototype.getElementPriority=function(e){return this._priorities[e]},t.prototype.getPriorities=function(){return this._priorities},t.prototype.getElementsWithPriorities=function(){for(var e=[],t=0,n=this._queue.length;t<n;t++)e.push([this._queue[t],this._priorities[t]]);return e},t.prototype._init=function(e,t,n){if(e&&t){if(this._queue=[],this._priorities=[],e.length!==t.length)throw new Error("Arrays must have the same length");for(var r=0;r<e.length;r++)this.insert(e[r],t[r])}n&&(this._sorting=n)},t.prototype._insertAt=function(e,t,n){this._queue.length===n?(this._queue.push(e),this._priorities.push(t)):(this._queue.splice(n,0,e),this._priorities.splice(n,0,t))},e.exports&&(e.exports=t)})),Ha=_e((function(e){function t(e,t,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(e,t,n,r)}if(e.exports)var n=Wa;t.prototype.run=function(e,t,r,i){this._init(e,t,r,i);for(var s=0,o=this.dataset.length;s<o;s++)if(1!==this._processed[s]){this._processed[s]=1,this.clusters.push([s]);var a=this.clusters.length-1;this._orderedList.push(s);var l=new n(null,null,"asc"),u=this._regionQuery(s);void 0!==this._distanceToCore(s)&&(this._updateQueue(s,u,l),this._expandCluster(a,l))}return this.clusters},t.prototype.getReachabilityPlot=function(){for(var e=[],t=0,n=this._orderedList.length;t<n;t++){var r=this._orderedList[t],i=this._reachability[r];e.push([r,i])}return e},t.prototype._init=function(e,t,n,r){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}t&&(this.epsilon=t),n&&(this.minPts=n),r&&(this.distance=r)},t.prototype._updateQueue=function(e,t,n){var r=this;this._coreDistance=this._distanceToCore(e),t.forEach((function(t){if(void 0===r._processed[t]){var i=r.distance(r.dataset[e],r.dataset[t]),s=Math.max(r._coreDistance,i);void 0===r._reachability[t]?(r._reachability[t]=s,n.insert(t,s)):s<r._reachability[t]&&(r._reachability[t]=s,n.remove(t),n.insert(t,s))}}))},t.prototype._expandCluster=function(e,t){for(var n=t.getElements(),r=0,i=n.length;r<i;r++){var s=n[r];if(void 0===this._processed[s]){var o=this._regionQuery(s);this._processed[s]=1,this.clusters[e].push(s),this._orderedList.push(s),void 0!==this._distanceToCore(s)&&(this._updateQueue(s,o,t),this._expandCluster(e,t))}}},t.prototype._distanceToCore=function(e){for(var t=this.epsilon,n=0;n<t;n++)if(this._regionQuery(e,n).length>=this.minPts)return n},t.prototype._regionQuery=function(e,t){t=t||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[e],this.dataset[r])<t&&n.push(r);return n},t.prototype._euclideanDistance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;)n+=(e[r]-t[r])*(e[r]-t[r]);return Math.sqrt(n)},e.exports&&(e.exports=t)})),Ja=_e((function(e){e.exports&&(e.exports={DBSCAN:ja,KMEANS:Va,OPTICS:Ha,PriorityQueue:Wa})})),Xa=(Ja.DBSCAN,Ja.KMEANS,Ja.OPTICS,Ja.PriorityQueue,function(e,t,n){for(var r=e.length,i=0,s=0;s<r;s++){var o=(e[s]||0)-(t[s]||0);i+=o*o}return n?Math.sqrt(i):i}),Za=Xa,Ya=function(e,t,n){var r=Math.abs(e-t);return n?r:r*r},Ka=Xa,Qa=function(e,t){for(var n={},r=[],i=t<<2,s=e.length,o=e[0].length>0;r.length<t&&i-- >0;){var a=e[Math.floor(Math.random()*s)],l=o?a.join("_"):""+a;n[l]||(n[l]=!0,r.push(a))}if(r.length<t)throw new Error("Error initializating clusters");return r},$a=function(e,t){var n=e[0].length?Za:Ya,r=[],i=e.length,s=e[0].length>0,o=e[Math.floor(Math.random()*i)];for(s&&o.join("_"),r.push(o);r.length<t;){for(var a=[],l=r.length,u=0,c=[],h=0;h<i;h++){for(var p=1/0,d=0;d<l;d++){var f=n(e[h],r[d]);f<=p&&(p=f)}a[h]=p}for(var m=0;m<i;m++)u+=a[m];for(var y=0;y<i;y++)c[y]={i:y,v:e[y],pr:a[y]/u,cs:0};c.sort((function(e,t){return e.pr-t.pr})),c[0].cs=c[0].pr;for(var g=1;g<i;g++)c[g].cs=c[g-1].cs+c[g].pr;for(var _=Math.random(),v=0;v<i-1&&c[v++].cs<_;);r.push(c[v-1].v)}return r},el=1e4,tl=function(e,t,n,r){var i=[],s=[],o=[],a=[],l=!1,u=r||el,c=e.length,h=e[0].length,p=h>0,d=[];if(n)i="kmrand"==n?Qa(e,t):"kmpp"==n?$a(e,t):n;else for(var f={};i.length<t;){var m=Math.floor(Math.random()*c);f[m]||(f[m]=!0,i.push(e[m]))}do{Nr(t,0,d);for(var y=0;y<c;y++){for(var g=1/0,_=0,v=0;v<t;v++)(a=p?Ka(e[y],i[v]):Math.abs(e[y]-i[v]))<=g&&(g=a,_=v);o[y]=_,d[_]++}for(var b=[],x=(s=[],0);x<t;x++)b[x]=p?Nr(h,0,b[x]):0,s[x]=i[x];if(p){for(var w=0;w<t;w++)i[w]=[];for(var S=0;S<c;S++)for(var C=b[o[S]],E=e[S],T=0;T<h;T++)C[T]+=E[T];l=!0;for(var A=0;A<t;A++){for(var P=i[A],I=b[A],L=s[A],M=d[A],O=0;O<h;O++)P[O]=I[O]/M||0;if(l)for(var k=0;k<h;k++)if(L[k]!=P[k]){l=!1;break}}}else{for(var N=0;N<c;N++)b[o[N]]+=e[N];for(var R=0;R<t;R++)i[R]=b[R]/d[R]||0;l=!0;for(var D=0;D<t;D++)if(s[D]!=i[D]){l=!1;break}}l=l||--u<=0}while(!l);return{it:el-u,k:t,idxs:o,centroids:i}},nl={search:function(e,t,n,r){e.cleanDirty();var i=(r=r||{}).heuristic||nl.heuristics.manhattan,s=r.closest||!1,o=new qr((function(e){return e.f})),a=t;for(t.h=i(t,n),o.push(t);o.size()>0;){var l=o.pop();if(l===n)return Dr(l);l.closed=!0;for(var u=e.neighbors(l),c=0,h=u.length;c<h;++c){var p=u[c];if(!p.closed&&!p.isWall()){var d=l.g+p.getCost(l),f=p.visited;(!f||d<p.g)&&(p.visited=!0,p.parent=l,p.h=p.h||i(p,n),p.g=d,p.f=p.g+p.h,e.markDirty(p),s&&(p.h<a.h||p.h===a.h&&p.g<a.g)&&(a=p),f?o.rescoreElement(p):o.push(p))}}}return s?Dr(a):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var n=Math.sqrt(2),r=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};Fr.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)nl.cleanNode(this.nodes[e])},Fr.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)nl.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},Fr.prototype.markDirty=function(e){this.dirtyNodes.push(e)},Fr.prototype.neighbors=function(e){var t=[],n=e.x,r=e.y,i=this.grid;return i[n-1]&&i[n-1][r]&&t.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&t.push(i[n+1][r]),i[n]&&i[n][r-1]&&t.push(i[n][r-1]),i[n]&&i[n][r+1]&&t.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&t.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&t.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&t.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&t.push(i[n+1][r+1])),t},Fr.prototype.toString=function(){for(var e,t,n,r,i=[],s=this.grid,o=0,a=s.length;o<a;o++){for(e=[],n=0,r=(t=s[o]).length;n<r;n++)e.push(t[n].weight);i.push(e.join(" "))}return i.join("\n")},Br.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Br.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},Br.prototype.isWall=function(){return 0===this.weight},qr.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),n=this.content.pop();t!==this.content.length-1&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},bubbleUp:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var i,s=e+1<<1,o=s-1,a=null;if(o<t){var l=this.content[o];(i=this.scoreFunction(l))<r&&(a=o)}if(s<t){var u=this.content[s];this.scoreFunction(u)<(null===a?r:i)&&(a=s)}if(null===a)break;this.content[e]=this.content[a],this.content[a]=n,e=a}}};var rl=function(e){return function(){return e}};Gr.prototype={constructor:Gr,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Hr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Vr(this,n),n=(e=n).U),n.C=!1,r.C=!0,Wr(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Wr(this,n),n=(e=n).U),n.C=!1,r.C=!0,Vr(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,s=e.L,o=e.R;if(n=s?o?Hr(o):s:o,i?i.L===e?i.L=n:i.R=n:this._=n,s&&o?(r=n.C,n.C=e.C,n.L=s,s.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,Vr(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Wr(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Vr(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Wr(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Vr(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Wr(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var il,sl,ol,al,ll,ul=[],cl=[],hl=1e-6,pl=1e-12;ci.prototype={constructor:ci,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return $r(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(s=(i=n.halfedges).length)for(var i,s,o,a=n.site,l=-1,u=t[i[s-1]],c=u.left===a?u.right:u.left;++l<s;)o=c,c=(u=t[i[l]]).left===a?u.right:u.left,o&&c&&r<o.index&&r<c.index&&li(a,o,c)<0&&e.push([a.data,o.data,c.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var r,i,s=this,o=s._found||0,a=s.cells.length;!(i=s.cells[o]);)if(++o>=a)return null;var l=e-i.site[0],u=t-i.site[1],c=l*l+u*u;do{i=s.cells[r=o],o=null,i.halfedges.forEach((function(n){var r=s.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var l=e-a[0],u=t-a[1],h=l*l+u*u;h<c&&(c=h,o=a.index)}}))}while(null!==o);return s._found=r,null==n||c<=n*n?i.site:null}};var dl=function(){function e(e){return new ci(e.map((function(r,i){var s=[Math.round(t(r,i,e)/hl)*hl,Math.round(n(r,i,e)/hl)*hl];return s.index=i,s.data=r,s})),r)}var t=zr,n=Ur,r=null;return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(n){return arguments.length?(t="function"==typeof n?n:rl(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:rl(+t),e):n},e.extent=function(t){return arguments.length?(r=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},e.size=function(t){return arguments.length?(r=null==t?null:[[0,0],[+t[0],+t[1]]],e):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},e},fl=Object.freeze({randomPosition:gi,randomPoint:_i,randomPolygon:vi,randomLineString:bi}),ml=Object.freeze({getCluster:wi,clusterEach:Si,clusterReduce:Ci,createBins:Ei,applyFilter:Ti,propertiesContainsFilter:Ai,filterProperties:Pi});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var t=Object(this),n=Math.max(Math.min(t.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)t[r]=e,++r;return t},writable:!0}),Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!=e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var yl=function(){};yl.prototype.interfaces_=function(){return[]},yl.prototype.getClass=function(){return yl},yl.prototype.equalsWithTolerance=function(e,t,n){return Math.abs(e-t)<=n};var gl=function(){},_l=function(){},vl={MAX_VALUE:{configurable:!0}};_l.isNaN=function(e){return Number.isNaN(e)},_l.doubleToLongBits=function(e){return e},_l.longBitsToDouble=function(e){return e},_l.isInfinite=function(e){return!Number.isFinite(e)},vl.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(_l,vl);var bl=function(){},xl=function(){},wl=function(){},Sl=function e(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Cl={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Sl.prototype.setOrdinate=function(e,t){switch(e){case Sl.X:this.x=t;break;case Sl.Y:this.y=t;break;case Sl.Z:this.z=t;break;default:throw new gl("Invalid ordinate index: "+e)}},Sl.prototype.equals2D=function(){if(1===arguments.length){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!yl.equalsWithTolerance(this.x,t.x,n)&&!!yl.equalsWithTolerance(this.y,t.y,n)}},Sl.prototype.getOrdinate=function(e){switch(e){case Sl.X:return this.x;case Sl.Y:return this.y;case Sl.Z:return this.z}throw new gl("Invalid ordinate index: "+e)},Sl.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||_l.isNaN(this.z))&&_l.isNaN(e.z)},Sl.prototype.equals=function(e){return e instanceof Sl&&this.equals2D(e)},Sl.prototype.equalInZ=function(e,t){return yl.equalsWithTolerance(this.z,e.z,t)},Sl.prototype.compareTo=function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},Sl.prototype.clone=function(){},Sl.prototype.copy=function(){return new Sl(this)},Sl.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Sl.prototype.distance3D=function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return Math.sqrt(t*t+n*n+r*r)},Sl.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},Sl.prototype.hashCode=function(){var e=17;return e=37*e+Sl.hashCode(this.x),37*e+Sl.hashCode(this.y)},Sl.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z},Sl.prototype.interfaces_=function(){return[bl,xl,Ii]},Sl.prototype.getClass=function(){return Sl},Sl.hashCode=function(){if(1===arguments.length){var e=arguments[0],t=_l.doubleToLongBits(e);return Math.trunc((t^t)>>>32)}},Cl.DimensionalComparator.get=function(){return El},Cl.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Cl.NULL_ORDINATE.get=function(){return _l.NaN},Cl.X.get=function(){return 0},Cl.Y.get=function(){return 1},Cl.Z.get=function(){return 2},Object.defineProperties(Sl,Cl);var El=function(e){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new gl("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}};El.prototype.compare=function(e,t){var n=e,r=t,i=El.compare(n.x,r.x);if(0!==i)return i;var s=El.compare(n.y,r.y);return 0!==s?s:this._dimensionsToTest<=2?0:El.compare(n.z,r.z)},El.prototype.interfaces_=function(){return[wl]},El.prototype.getClass=function(){return El},El.compare=function(e,t){return e<t?-1:e>t?1:_l.isNaN(e)?_l.isNaN(t)?0:-1:_l.isNaN(t)?1:0};var Tl=function(){};Tl.prototype.create=function(){},Tl.prototype.interfaces_=function(){return[]},Tl.prototype.getClass=function(){return Tl};var Al=function(){},Pl={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Al.prototype.interfaces_=function(){return[]},Al.prototype.getClass=function(){return Al},Al.toLocationSymbol=function(e){switch(e){case Al.EXTERIOR:return"e";case Al.BOUNDARY:return"b";case Al.INTERIOR:return"i";case Al.NONE:return"-"}throw new gl("Unknown location value: "+e)},Pl.INTERIOR.get=function(){return 0},Pl.BOUNDARY.get=function(){return 1},Pl.EXTERIOR.get=function(){return 2},Pl.NONE.get=function(){return-1},Object.defineProperties(Al,Pl);var Il=function(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1},Ll=function(){},Ml={LOG_10:{configurable:!0}};Ll.prototype.interfaces_=function(){return[]},Ll.prototype.getClass=function(){return Ll},Ll.log10=function(e){var t=Math.log(e);return _l.isInfinite(t)||_l.isNaN(t)?t:t/Ll.LOG_10},Ll.min=function(e,t,n,r){var i=e;return t<i&&(i=t),n<i&&(i=n),r<i&&(i=r),i},Ll.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],s=arguments[2];return r<i?i:r>s?s:r}},Ll.wrap=function(e,t){return e<0?t- -e%t:e%t},Ll.max=function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=e;return t>r&&(r=t),n>r&&(r=n),r}if(4===arguments.length){var i=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3],l=i;return s>l&&(l=s),o>l&&(l=o),a>l&&(l=a),l}},Ll.average=function(e,t){return(e+t)/2},Ml.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Ll,Ml);var Ol=function(e){this.str=e};Ol.prototype.append=function(e){this.str+=e},Ol.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)},Ol.prototype.toString=function(e){return this.str};var kl=function(e){this.value=e};kl.prototype.intValue=function(){return this.value},kl.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},kl.isNaN=function(e){return Number.isNaN(e)};var Nl=function(){};Nl.isWhitespace=function(e){return e<=32&&e>=0||127===e},Nl.toUpperCase=function(e){return e.toUpperCase()};var Rl=function e(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var r=arguments[0];e.call(this,e.parse(r))}}else if(2===arguments.length){var i=arguments[0],s=arguments[1];this.init(i,s)}},Dl={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Rl.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo},Rl.prototype.extractSignificantDigits=function(e,t){var n=this.abs(),r=Rl.magnitude(n._hi),i=Rl.TEN.pow(r);(n=n.divide(i)).gt(Rl.TEN)?(n=n.divide(Rl.TEN),r+=1):n.lt(Rl.ONE)&&(n=n.multiply(Rl.TEN),r-=1);for(var s=r+1,o=new Ol,a=Rl.MAX_PRINT_DIGITS-1,l=0;l<=a;l++){e&&l===s&&o.append(".");var u=Math.trunc(n._hi);if(u<0)break;var c=!1,h=0;u>9?(c=!0,h="9"):h="0"+u,o.append(h),n=n.subtract(Rl.valueOf(u)).multiply(Rl.TEN),c&&n.selfAdd(Rl.TEN);var p=!0,d=Rl.magnitude(n._hi);if(d<0&&Math.abs(d)>=a-l&&(p=!1),!p)break}return t[0]=r,o.toString()},Rl.prototype.sqr=function(){return this.multiply(this)},Rl.prototype.doubleValue=function(){return this._hi+this._lo},Rl.prototype.subtract=function(){if(arguments[0]instanceof Rl){var e=arguments[0];return this.add(e.negate())}if("number"==typeof arguments[0]){var t=arguments[0];return this.add(-t)}},Rl.prototype.equals=function(){if(1===arguments.length){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}},Rl.prototype.isZero=function(){return 0===this._hi&&0===this._lo},Rl.prototype.selfSubtract=function(){if(arguments[0]instanceof Rl){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}},Rl.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Rl.prototype.min=function(e){return this.le(e)?this:e},Rl.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof Rl){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfDivide(t,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,s=null,o=null,a=null,l=null,u=null,c=null,h=null;return l=this._hi/n,u=Rl.SPLIT*l,i=u-l,h=Rl.SPLIT*n,i=u-i,s=l-i,o=h-n,c=l*n,o=h-o,a=n-o,h=i*o-c+i*a+s*o+s*a,u=(this._hi-c-h+this._lo-l*r)/n,h=l+u,this._hi=h,this._lo=l-h+u,this}},Rl.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Rl.prototype.divide=function(){if(arguments[0]instanceof Rl){var e=arguments[0],t=null,n=null,r=null,i=null,s=null,o=null,a=null,l=null;return n=(s=this._hi/e._hi)-(t=(o=Rl.SPLIT*s)-(t=o-s)),l=t*(r=(l=Rl.SPLIT*e._hi)-(r=l-e._hi))-(a=s*e._hi)+t*(i=e._hi-r)+n*r+n*i,o=(this._hi-a-l+this._lo-s*e._lo)/e._hi,new Rl(l=s+o,s-l+o)}if("number"==typeof arguments[0]){var u=arguments[0];return _l.isNaN(u)?Rl.createNaN():Rl.copy(this).selfDivide(u,0)}},Rl.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo},Rl.prototype.pow=function(e){if(0===e)return Rl.valueOf(1);var t=new Rl(this),n=Rl.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(t),(r/=2)>0&&(t=t.sqr());else n=t;return e<0?n.reciprocal():n},Rl.prototype.ceil=function(){if(this.isNaN())return Rl.NaN;var e=Math.ceil(this._hi),t=0;return e===this._hi&&(t=Math.ceil(this._lo)),new Rl(e,t)},Rl.prototype.compareTo=function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},Rl.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Rl.prototype.setValue=function(){if(arguments[0]instanceof Rl){var e=arguments[0];return this.init(e),this}if("number"==typeof arguments[0]){var t=arguments[0];return this.init(t),this}},Rl.prototype.max=function(e){return this.ge(e)?this:e},Rl.prototype.sqrt=function(){if(this.isZero())return Rl.valueOf(0);if(this.isNegative())return Rl.NaN;var e=1/Math.sqrt(this._hi),t=this._hi*e,n=Rl.valueOf(t),r=this.subtract(n.sqr())._hi*(.5*e);return n.add(r)},Rl.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof Rl){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0],n=null,r=null,i=null,s=null,o=null,a=null;return i=this._hi+t,o=i-this._hi,s=i-o,s=t-o+(this._hi-s),a=s+this._lo,n=i+a,r=a+(i-n),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var l=arguments[0],u=arguments[1],c=null,h=null,p=null,d=null,f=null,m=null,y=null;d=this._hi+l,h=this._lo+u,f=d-(m=d-this._hi),p=h-(y=h-this._lo);var g=(c=d+(m=(f=l-m+(this._hi-f))+h))+(m=(p=u-y+(this._lo-p))+(m+(d-c))),_=m+(c-g);return this._hi=g,this._lo=_,this}},Rl.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof Rl){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfMultiply(t,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,s=null,o=null,a=null,l=null,u=null;i=(l=Rl.SPLIT*this._hi)-this._hi,u=Rl.SPLIT*n,i=l-i,s=this._hi-i,o=u-n;var c=(l=this._hi*n)+(u=i*(o=u-o)-l+i*(a=n-o)+s*o+s*a+(this._hi*r+this._lo*n)),h=u+(i=l-c);return this._hi=c,this._lo=h,this}},Rl.prototype.selfSqr=function(){return this.selfMultiply(this)},Rl.prototype.floor=function(){if(this.isNaN())return Rl.NaN;var e=Math.floor(this._hi),t=0;return e===this._hi&&(t=Math.floor(this._lo)),new Rl(e,t)},Rl.prototype.negate=function(){return this.isNaN()?this:new Rl(-this._hi,-this._lo)},Rl.prototype.clone=function(){},Rl.prototype.multiply=function(){if(arguments[0]instanceof Rl){var e=arguments[0];return e.isNaN()?Rl.createNaN():Rl.copy(this).selfMultiply(e)}if("number"==typeof arguments[0]){var t=arguments[0];return _l.isNaN(t)?Rl.createNaN():Rl.copy(this).selfMultiply(t,0)}},Rl.prototype.isNaN=function(){return _l.isNaN(this._hi)},Rl.prototype.intValue=function(){return Math.trunc(this._hi)},Rl.prototype.toString=function(){var e=Rl.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()},Rl.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!0,t),r=t[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+Rl.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var s=r-n.length;i=n+Rl.stringOfChar("0",s)+".0"}return this.isNegative()?"-"+i:i},Rl.prototype.reciprocal=function(){var e=null,t=null,n=null,r=null,i=null,s=null,o=null,a=null;t=(i=1/this._hi)-(e=(s=Rl.SPLIT*i)-(e=s-i)),n=(a=Rl.SPLIT*this._hi)-this._hi;var l=i+(s=(1-(o=i*this._hi)-(a=e*(n=a-n)-o+e*(r=this._hi-n)+t*n+t*r)-i*this._lo)/this._hi);return new Rl(l,i-l+s)},Rl.prototype.toSciNotation=function(){if(this.isZero())return Rl.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!1,t),r=Rl.SCI_NOT_EXPONENT_CHAR+t[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var s=n.charAt(0)+"."+i;return this.isNegative()?"-"+s+r:s+r},Rl.prototype.abs=function(){return this.isNaN()?Rl.NaN:this.isNegative()?this.negate():new Rl(this)},Rl.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},Rl.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo},Rl.prototype.add=function(){if(arguments[0]instanceof Rl){var e=arguments[0];return Rl.copy(this).selfAdd(e)}if("number"==typeof arguments[0]){var t=arguments[0];return Rl.copy(this).selfAdd(t)}},Rl.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof Rl){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},Rl.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo},Rl.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},Rl.prototype.trunc=function(){return this.isNaN()?Rl.NaN:this.isPositive()?this.floor():this.ceil()},Rl.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Rl.prototype.interfaces_=function(){return[Ii,bl,xl]},Rl.prototype.getClass=function(){return Rl},Rl.sqr=function(e){return Rl.valueOf(e).selfMultiply(e)},Rl.valueOf=function(){if("string"==typeof arguments[0]){var e=arguments[0];return Rl.parse(e)}if("number"==typeof arguments[0]){var t=arguments[0];return new Rl(t)}},Rl.sqrt=function(e){return Rl.valueOf(e).sqrt()},Rl.parse=function(e){for(var t=0,n=e.length;Nl.isWhitespace(e.charAt(t));)t++;var r=!1;if(t<n){var i=e.charAt(t);"-"!==i&&"+"!==i||(t++,"-"===i&&(r=!0))}for(var s=new Rl,o=0,a=0,l=0;!(t>=n);){var u=e.charAt(t);if(t++,Nl.isDigit(u)){var c=u-"0";s.selfMultiply(Rl.TEN),s.selfAdd(c),o++}else{if("."!==u){if("e"===u||"E"===u){var h=e.substring(t);try{l=kl.parseInt(h)}catch(t){throw t instanceof Error?new Error("Invalid exponent "+h+" in string "+e):t}break}throw new Error("Unexpected character '"+u+"' at position "+t+" in string "+e)}a=o}}var p=s,d=o-a-l;if(0===d)p=s;else if(d>0){var f=Rl.TEN.pow(d);p=s.divide(f)}else if(d<0){var m=Rl.TEN.pow(-d);p=s.multiply(m)}return r?p.negate():p},Rl.createNaN=function(){return new Rl(_l.NaN,_l.NaN)},Rl.copy=function(e){return new Rl(e)},Rl.magnitude=function(e){var t=Math.abs(e),n=Math.log(t)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=t&&(r+=1),r},Rl.stringOfChar=function(e,t){for(var n=new Ol,r=0;r<t;r++)n.append(e);return n.toString()},Dl.PI.get=function(){return new Rl(3.141592653589793,12246467991473532e-32)},Dl.TWO_PI.get=function(){return new Rl(6.283185307179586,24492935982947064e-32)},Dl.PI_2.get=function(){return new Rl(1.5707963267948966,6123233995736766e-32)},Dl.E.get=function(){return new Rl(2.718281828459045,14456468917292502e-32)},Dl.NaN.get=function(){return new Rl(_l.NaN,_l.NaN)},Dl.EPS.get=function(){return 123259516440783e-46},Dl.SPLIT.get=function(){return 134217729},Dl.MAX_PRINT_DIGITS.get=function(){return 32},Dl.TEN.get=function(){return Rl.valueOf(10)},Dl.ONE.get=function(){return Rl.valueOf(1)},Dl.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Dl.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Rl,Dl);var Fl=function(){},Bl={DP_SAFE_EPSILON:{configurable:!0}};Fl.prototype.interfaces_=function(){return[]},Fl.prototype.getClass=function(){return Fl},Fl.orientationIndex=function(e,t,n){var r=Fl.orientationIndexFilter(e,t,n);if(r<=1)return r;var i=Rl.valueOf(t.x).selfAdd(-e.x),s=Rl.valueOf(t.y).selfAdd(-e.y),o=Rl.valueOf(n.x).selfAdd(-t.x),a=Rl.valueOf(n.y).selfAdd(-t.y);return i.selfMultiply(a).selfSubtract(s.selfMultiply(o)).signum()},Fl.signOfDet2x2=function(e,t,n,r){return e.multiply(r).selfSubtract(t.multiply(n)).signum()},Fl.intersection=function(e,t,n,r){var i=Rl.valueOf(r.y).selfSubtract(n.y).selfMultiply(Rl.valueOf(t.x).selfSubtract(e.x)),s=Rl.valueOf(r.x).selfSubtract(n.x).selfMultiply(Rl.valueOf(t.y).selfSubtract(e.y)),o=i.subtract(s),a=Rl.valueOf(r.x).selfSubtract(n.x).selfMultiply(Rl.valueOf(e.y).selfSubtract(n.y)),l=Rl.valueOf(r.y).selfSubtract(n.y).selfMultiply(Rl.valueOf(e.x).selfSubtract(n.x)),u=a.subtract(l).selfDivide(o).doubleValue(),c=Rl.valueOf(e.x).selfAdd(Rl.valueOf(t.x).selfSubtract(e.x).selfMultiply(u)).doubleValue(),h=Rl.valueOf(t.x).selfSubtract(e.x).selfMultiply(Rl.valueOf(e.y).selfSubtract(n.y)),p=Rl.valueOf(t.y).selfSubtract(e.y).selfMultiply(Rl.valueOf(e.x).selfSubtract(n.x)),d=h.subtract(p).selfDivide(o).doubleValue(),f=Rl.valueOf(n.y).selfAdd(Rl.valueOf(r.y).selfSubtract(n.y).selfMultiply(d)).doubleValue();return new Sl(c,f)},Fl.orientationIndexFilter=function(e,t,n){var r=null,i=(e.x-n.x)*(t.y-n.y),s=(e.y-n.y)*(t.x-n.x),o=i-s;if(i>0){if(s<=0)return Fl.signum(o);r=i+s}else{if(!(i<0))return Fl.signum(o);if(s>=0)return Fl.signum(o);r=-i-s}var a=Fl.DP_SAFE_EPSILON*r;return o>=a||-o>=a?Fl.signum(o):2},Fl.signum=function(e){return e>0?1:e<0?-1:0},Bl.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Fl,Bl);var ql=function(){},zl={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};zl.X.get=function(){return 0},zl.Y.get=function(){return 1},zl.Z.get=function(){return 2},zl.M.get=function(){return 3},ql.prototype.setOrdinate=function(e,t,n){},ql.prototype.size=function(){},ql.prototype.getOrdinate=function(e,t){},ql.prototype.getCoordinate=function(){},ql.prototype.getCoordinateCopy=function(e){},ql.prototype.getDimension=function(){},ql.prototype.getX=function(e){},ql.prototype.clone=function(){},ql.prototype.expandEnvelope=function(e){},ql.prototype.copy=function(){},ql.prototype.getY=function(e){},ql.prototype.toCoordinateArray=function(){},ql.prototype.interfaces_=function(){return[xl]},ql.prototype.getClass=function(){return ql},Object.defineProperties(ql,zl);var Ul=function(){},Gl=function(e){function t(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ul),jl=function(){};jl.arraycopy=function(e,t,n,r,i){for(var s=0,o=t;o<t+i;o++)n[r+s]=e[o],s++},jl.getProperty=function(e){return{"line.separator":"\n"}[e]};var Vl=function e(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var i=arguments[0],s=arguments[1];this.x=i.y*s.w-s.y*i.w,this.y=s.x*i.w-i.x*s.w,this.w=i.x*s.y-s.x*i.y}else if(arguments[0]instanceof Sl&&arguments[1]instanceof Sl){var o=arguments[0],a=arguments[1];this.x=o.y-a.y,this.y=a.x-o.x,this.w=o.x*a.y-a.x*o.y}}else if(3===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2];this.x=l,this.y=u,this.w=c}else if(4===arguments.length){var h=arguments[0],p=arguments[1],d=arguments[2],f=arguments[3],m=h.y-p.y,y=p.x-h.x,g=h.x*p.y-p.x*h.y,_=d.y-f.y,v=f.x-d.x,b=d.x*f.y-f.x*d.y;this.x=y*b-v*g,this.y=_*g-m*b,this.w=m*v-_*y}};Vl.prototype.getY=function(){var e=this.y/this.w;if(_l.isNaN(e)||_l.isInfinite(e))throw new Gl;return e},Vl.prototype.getX=function(){var e=this.x/this.w;if(_l.isNaN(e)||_l.isInfinite(e))throw new Gl;return e},Vl.prototype.getCoordinate=function(){var e=new Sl;return e.x=this.getX(),e.y=this.getY(),e},Vl.prototype.interfaces_=function(){return[]},Vl.prototype.getClass=function(){return Vl},Vl.intersection=function(e,t,n,r){var i=e.y-t.y,s=t.x-e.x,o=e.x*t.y-t.x*e.y,a=n.y-r.y,l=r.x-n.x,u=n.x*r.y-r.x*n.y,c=i*l-a*s,h=(s*u-l*o)/c,p=(a*o-i*u)/c;if(_l.isNaN(h)||_l.isInfinite(h)||_l.isNaN(p)||_l.isInfinite(p))throw new Gl;return new Sl(h,p)};var Wl=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof Sl){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2],l=arguments[3];this.init(s,o,a,l)}},Hl={serialVersionUID:{configurable:!0}};Wl.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Wl.prototype.equals=function(e){if(!(e instanceof Wl))return!1;var t=e;return this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY()},Wl.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new Wl;var t=this._minx>e._minx?this._minx:e._minx,n=this._miny>e._miny?this._miny:e._miny,r=this._maxx<e._maxx?this._maxx:e._maxx,i=this._maxy<e._maxy?this._maxy:e._maxy;return new Wl(t,r,n,i)},Wl.prototype.isNull=function(){return this._maxx<this._minx},Wl.prototype.getMaxX=function(){return this._maxx},Wl.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof Sl){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof Wl){var t=arguments[0];return!this.isNull()&&!t.isNull()&&t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},Wl.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Wl){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof Sl){var t=arguments[0];return this.intersects(t.x,t.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Wl.prototype.getMinY=function(){return this._miny},Wl.prototype.getMinX=function(){return this._minx},Wl.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof Sl){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof Wl){var t=arguments[0];if(t.isNull())return null;this.isNull()?(this._minx=t.getMinX(),this._maxx=t.getMaxX(),this._miny=t.getMinY(),this._maxy=t.getMaxY()):(t._minx<this._minx&&(this._minx=t._minx),t._maxx>this._maxx&&(this._maxx=t._maxx),t._miny<this._miny&&(this._miny=t._miny),t._maxy>this._maxy&&(this._maxy=t._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Wl.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t},Wl.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Wl.prototype.compareTo=function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0},Wl.prototype.translate=function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)},Wl.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Wl.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Wl.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Wl.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t},Wl.prototype.expandBy=function(){if(1===arguments.length){var e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Wl.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Wl){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof Sl){var t=arguments[0];return this.covers(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},Wl.prototype.centre=function(){return this.isNull()?null:new Sl((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Wl.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof Sl){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof Wl){var t=arguments[0];this._minx=t._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];i<s?(this._minx=i,this._maxx=s):(this._minx=s,this._maxx=i),o<a?(this._miny=o,this._maxy=a):(this._miny=a,this._maxy=o)}},Wl.prototype.getMaxY=function(){return this._maxy},Wl.prototype.distance=function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var n=0;return this._maxy<e._miny?n=e._miny-this._maxy:this._miny>e._maxy&&(n=this._miny-e._maxy),0===t?n:0===n?t:Math.sqrt(t*t+n*n)},Wl.prototype.hashCode=function(){var e=17;return e=37*e+Sl.hashCode(this._minx),e=37*e+Sl.hashCode(this._maxx),e=37*e+Sl.hashCode(this._miny),37*e+Sl.hashCode(this._maxy)},Wl.prototype.interfaces_=function(){return[bl,Ii]},Wl.prototype.getClass=function(){return Wl},Wl.intersects=function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2];return n.x>=(e.x<t.x?e.x:t.x)&&n.x<=(e.x>t.x?e.x:t.x)&&n.y>=(e.y<t.y?e.y:t.y)&&n.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],s=arguments[2],o=arguments[3],a=Math.min(s.x,o.x),l=Math.max(s.x,o.x),u=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(u>l)&&!(c<a)&&(a=Math.min(s.y,o.y),l=Math.max(s.y,o.y),u=Math.min(r.y,i.y),c=Math.max(r.y,i.y),!(u>l)&&!(c<a))}},Hl.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Wl,Hl);var Jl={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Xl=function(e){this.geometryFactory=e||new gc};Xl.prototype.read=function(e){var t,n,r;e=e.replace(/[\n\r]/g," ");var i=Jl.typeStr.exec(e);if(-1!==e.search("EMPTY")&&((i=Jl.emptyTypeStr.exec(e))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],Yl[n]&&(t=Yl[n].apply(this,[r]))),void 0===t)throw new Error("Could not parse WKT "+e);return t},Xl.prototype.write=function(e){return this.extractGeometry(e)},Xl.prototype.extractGeometry=function(e){var t=e.getGeometryType().toLowerCase();if(!Zl[t])return null;var n=t.toUpperCase();return e.isEmpty()?n+" EMPTY":n+"("+Zl[t].apply(this,[e])+")"};var Zl={coordinate:function(e){return e.x+" "+e.y},point:function(e){return Zl.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Zl.point.apply(this,[e._geometries[n]])+")");return t.join(",")},linestring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push(Zl.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},linearring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push(Zl.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},multilinestring:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Zl.linestring.apply(this,[e._geometries[n]])+")");return t.join(",")},polygon:function(e){var t=[];t.push("("+Zl.linestring.apply(this,[e._shell])+")");for(var n=0,r=e._holes.length;n<r;++n)t.push("("+Zl.linestring.apply(this,[e._holes[n]])+")");return t.join(",")},multipolygon:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Zl.polygon.apply(this,[e._geometries[n]])+")");return t.join(",")},geometrycollection:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push(this.extractGeometry(e._geometries[n]));return t.join(",")}},Yl={point:function(e){if(void 0===e)return this.geometryFactory.createPoint();var t=e.trim().split(Jl.spaces);return this.geometryFactory.createPoint(new Sl(Number.parseFloat(t[0]),Number.parseFloat(t[1])))},multipoint:function(e){if(void 0===e)return this.geometryFactory.createMultiPoint();for(var t,n=e.trim().split(","),r=[],i=0,s=n.length;i<s;++i)t=n[i].replace(Jl.trimParens,"$1"),r.push(Yl.point.apply(this,[t]));return this.geometryFactory.createMultiPoint(r)},linestring:function(e){if(void 0===e)return this.geometryFactory.createLineString();for(var t,n=e.trim().split(","),r=[],i=0,s=n.length;i<s;++i)t=n[i].trim().split(Jl.spaces),r.push(new Sl(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLineString(r)},linearring:function(e){if(void 0===e)return this.geometryFactory.createLinearRing();for(var t,n=e.trim().split(","),r=[],i=0,s=n.length;i<s;++i)t=n[i].trim().split(Jl.spaces),r.push(new Sl(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(e){if(void 0===e)return this.geometryFactory.createMultiLineString();for(var t,n=e.trim().split(Jl.parenComma),r=[],i=0,s=n.length;i<s;++i)t=n[i].replace(Jl.trimParens,"$1"),r.push(Yl.linestring.apply(this,[t]));return this.geometryFactory.createMultiLineString(r)},polygon:function(e){if(void 0===e)return this.geometryFactory.createPolygon();for(var t,n,r,i,s=e.trim().split(Jl.parenComma),o=[],a=0,l=s.length;a<l;++a)t=s[a].replace(Jl.trimParens,"$1"),n=Yl.linestring.apply(this,[t]),r=this.geometryFactory.createLinearRing(n._points),0===a?i=r:o.push(r);return this.geometryFactory.createPolygon(i,o)},multipolygon:function(e){if(void 0===e)return this.geometryFactory.createMultiPolygon();for(var t,n=e.trim().split(Jl.doubleParenComma),r=[],i=0,s=n.length;i<s;++i)t=n[i].replace(Jl.trimParens,"$1"),r.push(Yl.polygon.apply(this,[t]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(e){if(void 0===e)return this.geometryFactory.createGeometryCollection();for(var t=(e=e.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=t.length;r<i;++r)n.push(this.read(t[r]));return this.geometryFactory.createGeometryCollection(n)}},Kl=function(e){this.parser=new Xl(e)};Kl.prototype.write=function(e){return this.parser.write(e)},Kl.toLineString=function(e,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"};var Ql=function(e){function t(t){e.call(this,t),this.name="RuntimeException",this.message=t,this.stack=(new e).stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),$l=function(e){function t(){if(e.call(this),0===arguments.length)e.call(this);else if(1===arguments.length){var t=arguments[0];e.call(this,t)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ql),eu=function(){};eu.prototype.interfaces_=function(){return[]},eu.prototype.getClass=function(){return eu},eu.shouldNeverReachHere=function(){if(0===arguments.length)eu.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new $l("Should never reach here"+(null!==e?": "+e:""))}},eu.isTrue=function(){var e,t;if(1===arguments.length)e=arguments[0],eu.isTrue(e,null);else if(2===arguments.length&&(e=arguments[0],t=arguments[1],!e))throw null===t?new $l:new $l(t)},eu.equals=function(){var e,t,n;if(2===arguments.length)e=arguments[0],t=arguments[1],eu.equals(e,t,null);else if(3===arguments.length&&(e=arguments[0],t=arguments[1],n=arguments[2],!t.equals(e)))throw new $l("Expected "+e+" but encountered "+t+(null!==n?": "+n:""))};var tu=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Sl,this._intPt[1]=new Sl,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},nu={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};tu.prototype.getIndexAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]},tu.prototype.getTopologySummary=function(){var e=new Ol;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},tu.prototype.computeIntersection=function(e,t,n,r){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(e,t,n,r)},tu.prototype.getIntersectionNum=function(){return this._result},tu.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}},tu.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},tu.prototype.setPrecisionModel=function(e){this._precisionModel=e},tu.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],t=0;t<this._result;t++)if(!this._intPt[t].equals2D(this._inputLines[e][0])&&!this._intPt[t].equals2D(this._inputLines[e][1]))return!0;return!1}},tu.prototype.getIntersection=function(e){return this._intPt[e]},tu.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},tu.prototype.hasIntersection=function(){return this._result!==tu.NO_INTERSECTION},tu.prototype.getEdgeDistance=function(e,t){return tu.computeEdgeDistance(this._intPt[t],this._inputLines[e][0],this._inputLines[e][1])},tu.prototype.isCollinear=function(){return this._result===tu.COLLINEAR_INTERSECTION},tu.prototype.toString=function(){return Kl.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Kl.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},tu.prototype.getEndpoint=function(e,t){return this._inputLines[e][t]},tu.prototype.isIntersection=function(e){for(var t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1},tu.prototype.getIntersectionAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]},tu.prototype.interfaces_=function(){return[]},tu.prototype.getClass=function(){return tu},tu.computeEdgeDistance=function(e,t,n){var r=Math.abs(n.x-t.x),i=Math.abs(n.y-t.y),s=-1;if(e.equals(t))s=0;else if(e.equals(n))s=r>i?r:i;else{var o=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);0!==(s=r>i?o:a)||e.equals(t)||(s=Math.max(o,a))}return eu.isTrue(!(0===s&&!e.equals(t)),"Bad distance calculation"),s},tu.nonRobustComputeEdgeDistance=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,s=Math.sqrt(r*r+i*i);return eu.isTrue(!(0===s&&!e.equals(t)),"Invalid distance calculation"),s},nu.DONT_INTERSECT.get=function(){return 0},nu.DO_INTERSECT.get=function(){return 1},nu.COLLINEAR.get=function(){return 2},nu.NO_INTERSECTION.get=function(){return 0},nu.POINT_INTERSECTION.get=function(){return 1},nu.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(tu,nu);var ru=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isInSegmentEnvelopes=function(e){var t=new Wl(this._inputLines[0][0],this._inputLines[0][1]),n=new Wl(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&n.contains(e)},t.prototype.computeIntersection=function(){if(3!==arguments.length)return e.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,Wl.intersects(n,r,t)&&0===ou.orientationIndex(n,r,t)&&0===ou.orientationIndex(r,n,t))return this._isProper=!0,(t.equals(n)||t.equals(r))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION},t.prototype.normalizeToMinimum=function(e,t,n,r,i){i.x=this.smallestInAbsValue(e.x,t.x,n.x,r.x),i.y=this.smallestInAbsValue(e.y,t.y,n.y,r.y),e.x-=i.x,e.y-=i.y,t.x-=i.x,t.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},t.prototype.safeHCoordinateIntersection=function(e,n,r,i){var s=null;try{s=Vl.intersection(e,n,r,i)}catch(o){if(!(o instanceof Gl))throw o;s=t.nearestEndpoint(e,n,r,i)}return s},t.prototype.intersection=function(e,n,r,i){var s=this.intersectionWithNormalization(e,n,r,i);return this.isInSegmentEnvelopes(s)||(s=new Sl(t.nearestEndpoint(e,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(s),s},t.prototype.smallestInAbsValue=function(e,t,n,r){var i=e,s=Math.abs(i);return Math.abs(t)<s&&(i=t,s=Math.abs(t)),Math.abs(n)<s&&(i=n,s=Math.abs(n)),Math.abs(r)<s&&(i=r),i},t.prototype.checkDD=function(e,t,n,r,i){var s=Fl.intersection(e,t,n,r),o=this.isInSegmentEnvelopes(s);jl.out.println("DD in env = "+o+"  --------------------- "+s),i.distance(s)>1e-4&&jl.out.println("Distance = "+i.distance(s))},t.prototype.intersectionWithNormalization=function(e,t,n,r){var i=new Sl(e),s=new Sl(t),o=new Sl(n),a=new Sl(r),l=new Sl;this.normalizeToEnvCentre(i,s,o,a,l);var u=this.safeHCoordinateIntersection(i,s,o,a);return u.x+=l.x,u.y+=l.y,u},t.prototype.computeCollinearIntersection=function(t,n,r,i){var s=Wl.intersects(t,n,r),o=Wl.intersects(t,n,i),a=Wl.intersects(r,i,t),l=Wl.intersects(r,i,n);return s&&o?(this._intPt[0]=r,this._intPt[1]=i,e.COLLINEAR_INTERSECTION):a&&l?(this._intPt[0]=t,this._intPt[1]=n,e.COLLINEAR_INTERSECTION):s&&a?(this._intPt[0]=r,this._intPt[1]=t,!r.equals(t)||o||l?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):s&&l?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||o||a?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||s||l?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):o&&l?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||s||a?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):e.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(e,t,n,r,i){var s=e.x<t.x?e.x:t.x,o=e.y<t.y?e.y:t.y,a=e.x>t.x?e.x:t.x,l=e.y>t.y?e.y:t.y,u=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,h=n.x>r.x?n.x:r.x,p=n.y>r.y?n.y:r.y,d=((s>u?s:u)+(a<h?a:h))/2,f=((o>c?o:c)+(l<p?l:p))/2;i.x=d,i.y=f,e.x-=i.x,e.y-=i.y,t.x-=i.x,t.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},t.prototype.computeIntersect=function(t,n,r,i){if(this._isProper=!1,!Wl.intersects(t,n,r,i))return e.NO_INTERSECTION;var s=ou.orientationIndex(t,n,r),o=ou.orientationIndex(t,n,i);if(s>0&&o>0||s<0&&o<0)return e.NO_INTERSECTION;var a=ou.orientationIndex(r,i,t),l=ou.orientationIndex(r,i,n);return a>0&&l>0||a<0&&l<0?e.NO_INTERSECTION:0===s&&0===o&&0===a&&0===l?this.computeCollinearIntersection(t,n,r,i):(0===s||0===o||0===a||0===l?(this._isProper=!1,t.equals2D(r)||t.equals2D(i)?this._intPt[0]=t:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===s?this._intPt[0]=new Sl(r):0===o?this._intPt[0]=new Sl(i):0===a?this._intPt[0]=new Sl(t):0===l&&(this._intPt[0]=new Sl(n))):(this._isProper=!0,this._intPt[0]=this.intersection(t,n,r,i)),e.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(e,t,n,r){var i=e,s=ou.distancePointLine(e,n,r),o=ou.distancePointLine(t,n,r);return o<s&&(s=o,i=t),(o=ou.distancePointLine(n,e,t))<s&&(s=o,i=n),(o=ou.distancePointLine(r,e,t))<s&&(s=o,i=r),i},t}(tu),iu=function(){};iu.prototype.interfaces_=function(){return[]},iu.prototype.getClass=function(){return iu},iu.orientationIndex=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,s=n.x-t.x,o=n.y-t.y;return iu.signOfDet2x2(r,i,s,o)},iu.signOfDet2x2=function(e,t,n,r){var i=null,s=null,o=null;if(i=1,0===e||0===r)return 0===t||0===n?0:t>0?n>0?-i:i:n>0?i:-i;if(0===t||0===n)return r>0?e>0?i:-i:e>0?-i:i;if(t>0?r>0?t<=r||(i=-i,s=e,e=n,n=s,s=t,t=r,r=s):t<=-r?(i=-i,n=-n,r=-r):(s=e,e=-n,n=s,s=t,t=-r,r=s):r>0?-t<=r?(i=-i,e=-e,t=-t):(s=-e,e=n,n=s,s=-t,t=r,r=s):t>=r?(e=-e,t=-t,n=-n,r=-r):(i=-i,s=-e,e=-n,n=s,s=-t,t=-r,r=s),e>0){if(!(n>0))return i;if(!(e<=n))return i}else{if(n>0)return-i;if(!(e>=n))return-i;i=-i,e=-e,n=-n}for(;;){if(o=Math.floor(n/e),n-=o*e,(r-=o*t)<0)return-i;if(r>t)return i;if(e>n+n){if(t<r+r)return i}else{if(t>r+r)return-i;n=e-n,r=t-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if(o=Math.floor(e/n),e-=o*n,(t-=o*r)<0)return i;if(t>r)return-i;if(n>e+e){if(r<t+t)return-i}else{if(r>t+t)return i;e=n-e,t=r-t,i=-i}if(0===t)return 0===e?0:i;if(0===e)return-i}};var su=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};su.prototype.countSegment=function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var n=e.x,r=t.x;return n>r&&(n=t.x,r=e.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var i=e.x-this._p.x,s=e.y-this._p.y,o=t.x-this._p.x,a=t.y-this._p.y,l=iu.signOfDet2x2(i,s,o,a);if(0===l)return this._isPointOnSegment=!0,null;a<s&&(l=-l),l>0&&this._crossingCount++}},su.prototype.isPointInPolygon=function(){return this.getLocation()!==Al.EXTERIOR},su.prototype.getLocation=function(){return this._isPointOnSegment?Al.BOUNDARY:this._crossingCount%2==1?Al.INTERIOR:Al.EXTERIOR},su.prototype.isOnSegment=function(){return this._isPointOnSegment},su.prototype.interfaces_=function(){return[]},su.prototype.getClass=function(){return su},su.locatePointInRing=function(){if(arguments[0]instanceof Sl&&Il(arguments[1],ql)){for(var e=arguments[0],t=arguments[1],n=new su(e),r=new Sl,i=new Sl,s=1;s<t.size();s++)if(t.getCoordinate(s,r),t.getCoordinate(s-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof Sl&&arguments[1]instanceof Array){for(var o=arguments[0],a=arguments[1],l=new su(o),u=1;u<a.length;u++){var c=a[u],h=a[u-1];if(l.countSegment(c,h),l.isOnSegment())return l.getLocation()}return l.getLocation()}};var ou=function(){},au={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};ou.prototype.interfaces_=function(){return[]},ou.prototype.getClass=function(){return ou},ou.orientationIndex=function(e,t,n){return Fl.orientationIndex(e,t,n)},ou.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,n=e[0].x,r=1;r<e.length-1;r++){var i=e[r].x-n,s=e[r+1].y;t+=i*(e[r-1].y-s)}return t/2}if(Il(arguments[0],ql)){var o=arguments[0],a=o.size();if(a<3)return 0;var l=new Sl,u=new Sl,c=new Sl;o.getCoordinate(0,u),o.getCoordinate(1,c);var h=u.x;c.x-=h;for(var p=0,d=1;d<a-1;d++)l.y=u.y,u.x=c.x,u.y=c.y,o.getCoordinate(d+1,c),c.x-=h,p+=u.x*(l.y-c.y);return p/2}},ou.distanceLineLine=function(e,t,n,r){if(e.equals(t))return ou.distancePointLine(e,n,r);if(n.equals(r))return ou.distancePointLine(r,e,t);var i=!1;if(Wl.intersects(e,t,n,r)){var s=(t.x-e.x)*(r.y-n.y)-(t.y-e.y)*(r.x-n.x);if(0===s)i=!0;else{var o=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y),a=((e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y))/s,l=o/s;(l<0||l>1||a<0||a>1)&&(i=!0)}}else i=!0;return i?Ll.min(ou.distancePointLine(e,n,r),ou.distancePointLine(t,n,r),ou.distancePointLine(n,e,t),ou.distancePointLine(r,e,t)):0},ou.isPointInRing=function(e,t){return ou.locatePointInRing(e,t)!==Al.EXTERIOR},ou.computeLength=function(e){var t=e.size();if(t<=1)return 0;var n=0,r=new Sl;e.getCoordinate(0,r);for(var i=r.x,s=r.y,o=1;o<t;o++){e.getCoordinate(o,r);var a=r.x,l=r.y,u=a-i,c=l-s;n+=Math.sqrt(u*u+c*c),i=a,s=l}return n},ou.isCCW=function(e){var t=e.length-1;if(t<3)throw new gl("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=e[0],r=0,i=1;i<=t;i++){var s=e[i];s.y>n.y&&(n=s,r=i)}var o=r;do{(o-=1)<0&&(o=t)}while(e[o].equals2D(n)&&o!==r);var a=r;do{a=(a+1)%t}while(e[a].equals2D(n)&&a!==r);var l=e[o],u=e[a];if(l.equals2D(n)||u.equals2D(n)||l.equals2D(u))return!1;var c=ou.computeOrientation(l,n,u),h=!1;return h=0===c?l.x>u.x:c>0,h},ou.locatePointInRing=function(e,t){return su.locatePointInRing(e,t)},ou.distancePointLinePerpendicular=function(e,t,n){var r=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),i=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/r;return Math.abs(i)*Math.sqrt(r)},ou.computeOrientation=function(e,t,n){return ou.orientationIndex(e,t,n)},ou.distancePointLine=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(0===t.length)throw new gl("Line array must contain at least one vertex");for(var n=e.distance(t[0]),r=0;r<t.length-1;r++){var i=ou.distancePointLine(e,t[r],t[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2];if(o.x===a.x&&o.y===a.y)return s.distance(o);var l=(a.x-o.x)*(a.x-o.x)+(a.y-o.y)*(a.y-o.y),u=((s.x-o.x)*(a.x-o.x)+(s.y-o.y)*(a.y-o.y))/l;if(u<=0)return s.distance(o);if(u>=1)return s.distance(a);var c=((o.y-s.y)*(a.x-o.x)-(o.x-s.x)*(a.y-o.y))/l;return Math.abs(c)*Math.sqrt(l)}},ou.isOnLine=function(e,t){for(var n=new ru,r=1;r<t.length;r++){var i=t[r-1],s=t[r];if(n.computeIntersection(e,i,s),n.hasIntersection())return!0}return!1},au.CLOCKWISE.get=function(){return-1},au.RIGHT.get=function(){return ou.CLOCKWISE},au.COUNTERCLOCKWISE.get=function(){return 1},au.LEFT.get=function(){return ou.COUNTERCLOCKWISE},au.COLLINEAR.get=function(){return 0},au.STRAIGHT.get=function(){return ou.COLLINEAR},Object.defineProperties(ou,au);var lu=function(){};lu.prototype.filter=function(e){},lu.prototype.interfaces_=function(){return[]},lu.prototype.getClass=function(){return lu};var uu=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},cu={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};uu.prototype.isGeometryCollection=function(){return this.getSortIndex()===uu.SORTINDEX_GEOMETRYCOLLECTION},uu.prototype.getFactory=function(){return this._factory},uu.prototype.getGeometryN=function(e){return this},uu.prototype.getArea=function(){return 0},uu.prototype.isRectangle=function(){return!1},uu.prototype.equals=function(){if(arguments[0]instanceof uu){var e=arguments[0];return null!==e&&this.equalsTopo(e)}if(arguments[0]instanceof Object){var t=arguments[0];if(!(t instanceof uu))return!1;var n=t;return this.equalsExact(n)}},uu.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)},uu.prototype.geometryChanged=function(){this.apply(uu.geometryChangedFilter)},uu.prototype.geometryChangedAction=function(){this._envelope=null},uu.prototype.equalsNorm=function(e){return null!==e&&this.norm().equalsExact(e.norm())},uu.prototype.getLength=function(){return 0},uu.prototype.getNumGeometries=function(){return 1},uu.prototype.compareTo=function(){if(1===arguments.length){var e=arguments[0],t=e;return this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},uu.prototype.getUserData=function(){return this._userData},uu.prototype.getSRID=function(){return this._SRID},uu.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},uu.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===uu.SORTINDEX_GEOMETRYCOLLECTION)throw new gl("This method does not support GeometryCollection arguments")},uu.prototype.equal=function(e,t,n){return 0===n?e.equals(t):e.distance(t)<=n},uu.prototype.norm=function(){var e=this.copy();return e.normalize(),e},uu.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},uu.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Wl(this._envelope)},uu.prototype.setSRID=function(e){this._SRID=e},uu.prototype.setUserData=function(e){this._userData=e},uu.prototype.compare=function(e,t){for(var n=e.iterator(),r=t.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),s=r.next(),o=i.compareTo(s);if(0!==o)return o}return n.hasNext()?1:r.hasNext()?-1:0},uu.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},uu.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===uu.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===uu.SORTINDEX_MULTIPOINT||this.getSortIndex()===uu.SORTINDEX_MULTILINESTRING||this.getSortIndex()===uu.SORTINDEX_MULTIPOLYGON},uu.prototype.interfaces_=function(){return[xl,bl,Ii]},uu.prototype.getClass=function(){return uu},uu.hasNonEmptyElements=function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1},uu.hasNullElements=function(e){for(var t=0;t<e.length;t++)if(null===e[t])return!0;return!1},cu.serialVersionUID.get=function(){return 0x799ea46522854c00},cu.SORTINDEX_POINT.get=function(){return 0},cu.SORTINDEX_MULTIPOINT.get=function(){return 1},cu.SORTINDEX_LINESTRING.get=function(){return 2},cu.SORTINDEX_LINEARRING.get=function(){return 3},cu.SORTINDEX_MULTILINESTRING.get=function(){return 4},cu.SORTINDEX_POLYGON.get=function(){return 5},cu.SORTINDEX_MULTIPOLYGON.get=function(){return 6},cu.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},cu.geometryChangedFilter.get=function(){return hu},Object.defineProperties(uu,cu);var hu=function(){};hu.interfaces_=function(){return[lu]},hu.filter=function(e){e.geometryChangedAction()};var pu=function(){};pu.prototype.filter=function(e){},pu.prototype.interfaces_=function(){return[]},pu.prototype.getClass=function(){return pu};var du=function(){},fu={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};du.prototype.isInBoundary=function(e){},du.prototype.interfaces_=function(){return[]},du.prototype.getClass=function(){return du},fu.Mod2BoundaryNodeRule.get=function(){return mu},fu.EndPointBoundaryNodeRule.get=function(){return yu},fu.MultiValentEndPointBoundaryNodeRule.get=function(){return gu},fu.MonoValentEndPointBoundaryNodeRule.get=function(){return _u},fu.MOD2_BOUNDARY_RULE.get=function(){return new mu},fu.ENDPOINT_BOUNDARY_RULE.get=function(){return new yu},fu.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new gu},fu.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new _u},fu.OGC_SFS_BOUNDARY_RULE.get=function(){return du.MOD2_BOUNDARY_RULE},Object.defineProperties(du,fu);var mu=function(){};mu.prototype.isInBoundary=function(e){return e%2==1},mu.prototype.interfaces_=function(){return[du]},mu.prototype.getClass=function(){return mu};var yu=function(){};yu.prototype.isInBoundary=function(e){return e>0},yu.prototype.interfaces_=function(){return[du]},yu.prototype.getClass=function(){return yu};var gu=function(){};gu.prototype.isInBoundary=function(e){return e>1},gu.prototype.interfaces_=function(){return[du]},gu.prototype.getClass=function(){return gu};var _u=function(){};_u.prototype.isInBoundary=function(e){return 1===e},_u.prototype.interfaces_=function(){return[du]},_u.prototype.getClass=function(){return _u};var vu=function(){};vu.prototype.add=function(){},vu.prototype.addAll=function(){},vu.prototype.isEmpty=function(){},vu.prototype.iterator=function(){},vu.prototype.size=function(){},vu.prototype.toArray=function(){},vu.prototype.remove=function(){};var bu=function(e){function t(t){e.call(this),this.message=t||""}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(t,n),t}(Error),xu=function(){};xu.prototype.hasNext=function(){},xu.prototype.next=function(){},xu.prototype.remove=function(){};var wu=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(vu);(Li.prototype=new Error).name="NoSuchElementException";var Su=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof vu&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[e,vu]},t.prototype.add=function(e){return 1===arguments.length?this.array_.push(e):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.set=function(e,t){var n=this.array_[e];return this.array_[e]=t,n},t.prototype.iterator=function(){return new Cu(this)},t.prototype.get=function(e){if(e<0||e>=this.size())throw new bu;return this.array_[e]},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.remove=function(e){for(var t=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===e){this.array_.splice(n,1),t=!0;break}return t},t}(wu),Cu=function(e){function t(t){e.call(this),this.arrayList_=t,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Li;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(e){return this.arrayList_.set(this.position_-1,e)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(xu),Eu=function(e){function t(){if(e.call(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(e){return this.get(e)},t.prototype.addAll=function(){if(2===arguments.length){for(var t=arguments[0],n=arguments[1],r=!1,i=t.iterator();i.hasNext();)this.add(i.next(),n),r=!0;return r}return e.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=0;n<this.size();n++)t.add(n,this.get(n).copy());return t},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){if(1===arguments.length){var t=arguments[0];e.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof Sl&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;e.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var s=arguments[0],o=arguments[1];return this.add(s,o),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],l=arguments[1];if(arguments[2])for(var u=0;u<a.length;u++)this.add(a[u],l);else for(var c=a.length-1;c>=0;c--)this.add(a[c],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof Sl){var h=arguments[0],p=arguments[1];if(!arguments[2]){var d=this.size();if(d>0){if(h>0&&this.get(h-1).equals2D(p))return null;if(h<d&&this.get(h).equals2D(p))return null}}e.prototype.add.call(this,h,p)}}else if(4===arguments.length){var f=arguments[0],m=arguments[1],y=arguments[2],g=arguments[3],_=1;y>g&&(_=-1);for(var v=y;v!==g;v+=_)this.add(f[v],m);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new Sl(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,n),t}(Su),Tu=function(){},Au={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Au.ForwardComparator.get=function(){return Pu},Au.BidirectionalComparator.get=function(){return Iu},Au.coordArrayType.get=function(){return new Array(0).fill(null)},Tu.prototype.interfaces_=function(){return[]},Tu.prototype.getClass=function(){return Tu},Tu.isRing=function(e){return!(e.length<4)&&!!e[0].equals2D(e[e.length-1])},Tu.ptNotInList=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(Tu.indexOf(r,t)<0)return r}return null},Tu.scroll=function(e,t){var n=Tu.indexOf(t,e);if(n<0)return null;var r=new Array(e.length).fill(null);jl.arraycopy(e,n,r,0,e.length-n),jl.arraycopy(e,0,r,e.length-n,n),jl.arraycopy(r,0,e,0,e.length)},Tu.equals=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],s=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(0!==s.compare(r[o],i[o]))return!1;return!0}},Tu.intersection=function(e,t){for(var n=new Eu,r=0;r<e.length;r++)t.intersects(e[r])&&n.add(e[r],!0);return n.toCoordinateArray()},Tu.hasRepeatedPoints=function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1},Tu.removeRepeatedPoints=function(e){return Tu.hasRepeatedPoints(e)?new Eu(e,!1).toCoordinateArray():e},Tu.reverse=function(e){for(var t=e.length-1,n=Math.trunc(t/2),r=0;r<=n;r++){var i=e[r];e[r]=e[t-r],e[t-r]=i}},Tu.removeNull=function(e){for(var t=0,n=0;n<e.length;n++)null!==e[n]&&t++;var r=new Array(t).fill(null);if(0===t)return r;for(var i=0,s=0;s<e.length;s++)null!==e[s]&&(r[i++]=e[s]);return r},Tu.copyDeep=function(){if(1===arguments.length){for(var e=arguments[0],t=new Array(e.length).fill(null),n=0;n<e.length;n++)t[n]=new Sl(e[n]);return t}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],s=arguments[2],o=arguments[3],a=arguments[4],l=0;l<a;l++)s[o+l]=new Sl(r[i+l])},Tu.isEqualReversed=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t[e.length-n-1];if(0!==r.compareTo(i))return!1}return!0},Tu.envelope=function(e){for(var t=new Wl,n=0;n<e.length;n++)t.expandToInclude(e[n]);return t},Tu.toCoordinateArray=function(e){return e.toArray(Tu.coordArrayType)},Tu.atLeastNCoordinatesOrNothing=function(e,t){return t.length>=e?t:[]},Tu.indexOf=function(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1},Tu.increasingDirection=function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var n=e.length-1-t,r=e[t].compareTo(e[n]);if(0!==r)return r}return 1},Tu.compare=function(e,t){for(var n=0;n<e.length&&n<t.length;){var r=e[n].compareTo(t[n]);if(0!==r)return r;n++}return n<t.length?-1:n<e.length?1:0},Tu.minCoordinate=function(e){for(var t=null,n=0;n<e.length;n++)(null===t||t.compareTo(e[n])>0)&&(t=e[n]);return t},Tu.extract=function(e,t,n){t=Ll.clamp(t,0,e.length);var r=(n=Ll.clamp(n,-1,e.length))-t+1;n<0&&(r=0),t>=e.length&&(r=0),n<t&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var s=0,o=t;o<=n;o++)i[s++]=e[o];return i},Object.defineProperties(Tu,Au);var Pu=function(){};Pu.prototype.compare=function(e,t){return Tu.compare(e,t)},Pu.prototype.interfaces_=function(){return[wl]},Pu.prototype.getClass=function(){return Pu};var Iu=function(){};Iu.prototype.compare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Tu.compare(n,r);return Tu.isEqualReversed(n,r)?0:i},Iu.prototype.OLDcompare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Tu.increasingDirection(n),s=Tu.increasingDirection(r),o=i>0?0:n.length-1,a=s>0?0:n.length-1,l=0;l<n.length;l++){var u=n[o].compareTo(r[a]);if(0!==u)return u;o+=i,a+=s}return 0},Iu.prototype.interfaces_=function(){return[wl]},Iu.prototype.getClass=function(){return Iu};var Lu=function(){};Lu.prototype.get=function(){},Lu.prototype.put=function(){},Lu.prototype.size=function(){},Lu.prototype.values=function(){},Lu.prototype.entrySet=function(){};var Mu=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Lu);(Mi.prototype=new Error).name="OperationNotSupported",(Oi.prototype=new vu).contains=function(){};var Ou=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof vu&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(this.array_[t]===e)return!0;return!1},t.prototype.add=function(e){return!this.contains(e)&&(this.array_.push(e),!0)},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.remove=function(e){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.iterator=function(){return new ku(this)},t}(Oi),ku=function(e){function t(t){e.call(this),this.hashSet_=t,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Li;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new Mi},t}(xu),Nu=0;(Bi.prototype=new Mu).get=function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return t.value;t=t.right}}return null},Bi.prototype.put=function(e,t){if(null===this.root_)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:Nu,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=e.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var s=i.value;return i.value=t,s}i=i.right}}while(null!==i);var o={key:e,left:null,right:null,value:t,parent:n,color:Nu,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=o:n.right=o,this.fixAfterInsertion(o),this.size_++,null},Bi.prototype.fixAfterInsertion=function(e){for(e.color=1;null!=e&&e!==this.root_&&1===e.parent.color;)if(Ni(e)===Di(Ni(Ni(e)))){var t=Fi(Ni(Ni(e)));1===ki(t)?(Ri(Ni(e),Nu),Ri(t,Nu),Ri(Ni(Ni(e)),1),e=Ni(Ni(e))):(e===Fi(Ni(e))&&(e=Ni(e),this.rotateLeft(e)),Ri(Ni(e),Nu),Ri(Ni(Ni(e)),1),this.rotateRight(Ni(Ni(e))))}else{var n=Di(Ni(Ni(e)));1===ki(n)?(Ri(Ni(e),Nu),Ri(n,Nu),Ri(Ni(Ni(e)),1),e=Ni(Ni(e))):(e===Di(Ni(e))&&(e=Ni(e),this.rotateRight(e)),Ri(Ni(e),Nu),Ri(Ni(Ni(e)),1),this.rotateLeft(Ni(Ni(e))))}this.root_.color=Nu},Bi.prototype.values=function(){var e=new Su,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=Bi.successor(t));)e.add(t.value);return e},Bi.prototype.entrySet=function(){var e=new Ou,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=Bi.successor(t));)e.add(t);return e},Bi.prototype.rotateLeft=function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}},Bi.prototype.rotateRight=function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}},Bi.prototype.getFirstEntry=function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e},Bi.successor=function(e){if(null===e)return null;if(null!==e.right){for(var t=e.right;null!==t.left;)t=t.left;return t}for(var n=e.parent,r=e;null!==n&&r===n.right;)r=n,n=n.parent;return n},Bi.prototype.size=function(){return this.size_};var Ru=function(){};Ru.prototype.interfaces_=function(){return[]},Ru.prototype.getClass=function(){return Ru},qi.prototype=new Oi,(zi.prototype=new qi).contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(0===this.array_[t].compareTo(e))return!0;return!1},zi.prototype.add=function(e){if(this.contains(e))return!1;for(var t=0,n=this.array_.length;t<n;t++)if(1===this.array_[t].compareTo(e))return this.array_.splice(t,0,e),!0;return this.array_.push(e),!0},zi.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},zi.prototype.remove=function(e){throw new Mi},zi.prototype.size=function(){return this.array_.length},zi.prototype.isEmpty=function(){return 0===this.array_.length},zi.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},zi.prototype.iterator=function(){return new Du(this)};var Du=function(e){this.treeSet_=e,this.position_=0};Du.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Li;return this.treeSet_.array_[this.position_++]},Du.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Du.prototype.remove=function(){throw new Mi};var Fu=function(){};Fu.sort=function(){var e,t,n,r,i=arguments[0];if(1===arguments.length)r=function(e,t){return e.compareTo(t)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(e,t){return n.compare(e,t)},i.sort(r);else if(3===arguments.length){(t=i.slice(arguments[1],arguments[2])).sort();var s=i.slice(0,arguments[1]).concat(t,i.slice(arguments[2],i.length));for(i.splice(0,i.length),e=0;e<s.length;e++)i.push(s[e])}else if(4===arguments.length)for(t=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(e,t){return n.compare(e,t)},t.sort(r),s=i.slice(0,arguments[1]).concat(t,i.slice(arguments[2],i.length)),i.splice(0,i.length),e=0;e<s.length;e++)i.push(s[e])},Fu.asList=function(e){for(var t=new Su,n=0,r=e.length;n<r;n++)t.add(e[n]);return t};var Bu=function(){},qu={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};qu.P.get=function(){return 0},qu.L.get=function(){return 1},qu.A.get=function(){return 2},qu.FALSE.get=function(){return-1},qu.TRUE.get=function(){return-2},qu.DONTCARE.get=function(){return-3},qu.SYM_FALSE.get=function(){return"F"},qu.SYM_TRUE.get=function(){return"T"},qu.SYM_DONTCARE.get=function(){return"*"},qu.SYM_P.get=function(){return"0"},qu.SYM_L.get=function(){return"1"},qu.SYM_A.get=function(){return"2"},Bu.prototype.interfaces_=function(){return[]},Bu.prototype.getClass=function(){return Bu},Bu.toDimensionSymbol=function(e){switch(e){case Bu.FALSE:return Bu.SYM_FALSE;case Bu.TRUE:return Bu.SYM_TRUE;case Bu.DONTCARE:return Bu.SYM_DONTCARE;case Bu.P:return Bu.SYM_P;case Bu.L:return Bu.SYM_L;case Bu.A:return Bu.SYM_A}throw new gl("Unknown dimension value: "+e)},Bu.toDimensionValue=function(e){switch(Nl.toUpperCase(e)){case Bu.SYM_FALSE:return Bu.FALSE;case Bu.SYM_TRUE:return Bu.TRUE;case Bu.SYM_DONTCARE:return Bu.DONTCARE;case Bu.SYM_P:return Bu.P;case Bu.SYM_L:return Bu.L;case Bu.SYM_A:return Bu.A}throw new gl("Unknown dimension symbol: "+e)},Object.defineProperties(Bu,qu);var zu=function(){};zu.prototype.filter=function(e){},zu.prototype.interfaces_=function(){return[]},zu.prototype.getClass=function(){return zu};var Uu=function(){};Uu.prototype.filter=function(e,t){},Uu.prototype.isDone=function(){},Uu.prototype.isGeometryChanged=function(){},Uu.prototype.interfaces_=function(){return[]},Uu.prototype.getClass=function(){return Uu};var Gu=function(e){function t(t,n){if(e.call(this,n),this._geometries=t||[],e.hasNullElements(this._geometries))throw new gl("geometries must not contain null elements")}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var e=new Wl,t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e},t.prototype.getGeometryN=function(e){return this._geometries[e]},t.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)e[++t]=r[i];return e},t.prototype.getArea=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();Fu.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var e=Bu.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getBoundaryDimension());return e},t.prototype.getDimension=function(){for(var e=Bu.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getDimension());return e},t.prototype.getLength=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(t)},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0],t=new zi(Fu.asList(this._geometries)),n=new zi(Fu.asList(e._geometries));return this.compare(t,n)}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],s=r,o=this.getNumGeometries(),a=s.getNumGeometries(),l=0;l<o&&l<a;){var u=this.getGeometryN(l),c=s.getGeometryN(l),h=u.compareToSameClass(c,i);if(0!==h)return h;l++}return l<o?1:l<a?-1:0}},t.prototype.apply=function(){if(Il(arguments[0],pu))for(var e=arguments[0],t=0;t<this._geometries.length;t++)this._geometries[t].apply(e);else if(Il(arguments[0],Uu)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(Il(arguments[0],zu)){var i=arguments[0];i.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(i)}else if(Il(arguments[0],lu)){var o=arguments[0];o.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(o)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),eu.shouldNeverReachHere(),null},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)t._geometries[n]=this._geometries[n].clone();return t},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.isEmpty=function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(t,n),t}(uu),ju=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return uu.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Bu.FALSE:0},t.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[e-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(t)},t.prototype.getBoundary=function(){return new Vu(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Ru]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(t,n),t}(Gu),Vu=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var e=arguments[0],t=du.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=t}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Vu.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var t=this.computeBoundaryCoordinates(e);return 1===t.length?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)},Vu.prototype.getBoundary=function(){return this._geom instanceof Zu?this.boundaryLineString(this._geom):this._geom instanceof ju?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Vu.prototype.boundaryLineString=function(e){return this._geom.isEmpty()?this.getEmptyMultiPoint():e.isClosed()?this._bnRule.isInBoundary(2)?e.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},Vu.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Vu.prototype.computeBoundaryCoordinates=function(e){var t=new Su;this._endpointMap=new Bi;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var s=i.next(),o=s.getValue().count;this._bnRule.isInBoundary(o)&&t.add(s.getKey())}return Tu.toCoordinateArray(t)},Vu.prototype.addEndpoint=function(e){var t=this._endpointMap.get(e);null===t&&(t=new Wu,this._endpointMap.put(e,t)),t.count++},Vu.prototype.interfaces_=function(){return[]},Vu.prototype.getClass=function(){return Vu},Vu.getBoundary=function(){if(1===arguments.length){var e=arguments[0];return new Vu(e).getBoundary()}if(2===arguments.length){var t=arguments[0],n=arguments[1];return new Vu(t,n).getBoundary()}};var Wu=function(){this.count=null};Wu.prototype.interfaces_=function(){return[]},Wu.prototype.getClass=function(){return Wu};var Hu=function(){},Ju={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Hu.prototype.interfaces_=function(){return[]},Hu.prototype.getClass=function(){return Hu},Hu.chars=function(e,t){for(var n=new Array(t).fill(null),r=0;r<t;r++)n[r]=e;return String(n)},Hu.getStackTrace=function(){if(1===arguments.length){var e=arguments[0],t=new function(){},n=new function(){}(t);return e.printStackTrace(n),t.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],s="",o=new function(){}(new function(){}(Hu.getStackTrace(r))),a=0;a<i;a++)try{s+=o.readLine()+Hu.NEWLINE}catch(e){if(!(e instanceof Ui))throw e;eu.shouldNeverReachHere()}return s}},Hu.split=function(e,t){for(var n=t.length,r=new Su,i=""+e,s=i.indexOf(t);s>=0;){var o=i.substring(0,s);r.add(o),s=(i=i.substring(s+n)).indexOf(t)}i.length>0&&r.add(i);for(var a=new Array(r.size()).fill(null),l=0;l<a.length;l++)a[l]=r.get(l);return a},Hu.toString=function(){if(1===arguments.length){var e=arguments[0];return Hu.SIMPLE_ORDINATE_FORMAT.format(e)}},Hu.spaces=function(e){return Hu.chars(" ",e)},Ju.NEWLINE.get=function(){return jl.getProperty("line.separator")},Ju.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Hu,Ju);var Xu=function(){};Xu.prototype.interfaces_=function(){return[]},Xu.prototype.getClass=function(){return Xu},Xu.copyCoord=function(e,t,n,r){for(var i=Math.min(e.getDimension(),n.getDimension()),s=0;s<i;s++)n.setOrdinate(r,s,e.getOrdinate(t,s))},Xu.isRing=function(e){var t=e.size();return 0===t||!(t<=3)&&e.getOrdinate(0,ql.X)===e.getOrdinate(t-1,ql.X)&&e.getOrdinate(0,ql.Y)===e.getOrdinate(t-1,ql.Y)},Xu.isEqual=function(e,t){var n=e.size();if(n!==t.size())return!1;for(var r=Math.min(e.getDimension(),t.getDimension()),i=0;i<n;i++)for(var s=0;s<r;s++){var o=e.getOrdinate(i,s),a=t.getOrdinate(i,s);if(e.getOrdinate(i,s)!==t.getOrdinate(i,s)&&(!_l.isNaN(o)||!_l.isNaN(a)))return!1}return!0},Xu.extend=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();if(Xu.copy(t,0,r,0,i),i>0)for(var s=i;s<n;s++)Xu.copy(t,i-1,r,s,1);return r},Xu.reverse=function(e){for(var t=e.size()-1,n=Math.trunc(t/2),r=0;r<=n;r++)Xu.swap(e,r,t-r)},Xu.swap=function(e,t,n){if(t===n)return null;for(var r=0;r<e.getDimension();r++){var i=e.getOrdinate(t,r);e.setOrdinate(t,r,e.getOrdinate(n,r)),e.setOrdinate(n,r,i)}},Xu.copy=function(e,t,n,r,i){for(var s=0;s<i;s++)Xu.copyCoord(e,t+s,n,r+s)},Xu.toString=function(){if(1===arguments.length){var e=arguments[0],t=e.size();if(0===t)return"()";var n=e.getDimension(),r=new Ol;r.append("(");for(var i=0;i<t;i++){i>0&&r.append(" ");for(var s=0;s<n;s++)s>0&&r.append(","),r.append(Hu.toString(e.getOrdinate(i,s)))}return r.append(")"),r.toString()}},Xu.ensureValidRing=function(e,t){var n=t.size();return 0===n?t:n<=3?Xu.createClosedRing(e,t,4):t.getOrdinate(0,ql.X)===t.getOrdinate(n-1,ql.X)&&t.getOrdinate(0,ql.Y)===t.getOrdinate(n-1,ql.Y)?t:Xu.createClosedRing(e,t,n+1)},Xu.createClosedRing=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();Xu.copy(t,0,r,0,i);for(var s=i;s<n;s++)Xu.copy(t,0,r,s,1);return r};var Zu=function(e){function t(t,n){e.call(this,n),this._points=null,this.init(t)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Wl:this._points.expandEnvelope(new Wl)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=0;e<Math.trunc(this._points.size()/2);e++){var t=this._points.size()-1-e;if(!this._points.getCoordinate(e).equals(this._points.getCoordinate(t)))return this._points.getCoordinate(e).compareTo(this._points.getCoordinate(t))>0&&Xu.reverse(this._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Bu.FALSE:0},t.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return ou.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var e=this._points.copy();return Xu.reverse(e),this.getFactory().createLineString(e)},t.prototype.compareToSameClass=function(){if(1===arguments.length){for(var e=arguments[0],t=0,n=0;t<this._points.size()&&n<e._points.size();){var r=this._points.getCoordinate(t).compareTo(e._points.getCoordinate(n));if(0!==r)return r;t++,n++}return t<this._points.size()?1:n<e._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},t.prototype.apply=function(){if(Il(arguments[0],pu))for(var e=arguments[0],t=0;t<this._points.size();t++)e.filter(this._points.getCoordinate(t));else if(Il(arguments[0],Uu)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(Il(arguments[0],zu)||Il(arguments[0],lu))&&arguments[0].filter(this)},t.prototype.getBoundary=function(){return new Vu(this).getBoundary()},t.prototype.isEquivalentClass=function(e){return e instanceof t},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._points=this._points.clone(),t},t.prototype.getCoordinateN=function(e){return this._points.getCoordinate(e)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return 0===this._points.size()},t.prototype.init=function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new gl("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e},t.prototype.isCoordinate=function(e){for(var t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))},t.prototype.interfaces_=function(){return[Ru]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,n),t}(uu),Yu=function(){};Yu.prototype.interfaces_=function(){return[]},Yu.prototype.getClass=function(){return Yu};var Ku=function(e){function t(t,n){e.call(this,n),this._coordinates=t||null,this.init(this._coordinates)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Wl;var e=new Wl;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e},t.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),n))}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return Bu.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0];return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}},t.prototype.apply=function(){if(Il(arguments[0],pu)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(Il(arguments[0],Uu)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else(Il(arguments[0],zu)||Il(arguments[0],lu))&&arguments[0].filter(this)},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._coordinates=this._coordinates.clone(),t},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return 0===this._coordinates.size()},t.prototype.init=function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),eu.isTrue(e.size()<=1),this._coordinates=e},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[Yu]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(t,n),t}(uu),Qu=function(){};Qu.prototype.interfaces_=function(){return[]},Qu.prototype.getClass=function(){return Qu};var $u=function(e){function t(t,n,r){if(e.call(this,r),this._shell=null,this._holes=null,null===t&&(t=this.getFactory().createLinearRing()),null===n&&(n=[]),e.hasNullElements(n))throw new gl("holes must not contain null elements");if(t.isEmpty()&&e.hasNonEmptyElements(n))throw new gl("shell is empty but holes are not");this._shell=t,this._holes=n}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)e[++t]=n[r];for(var i=0;i<this._holes.length;i++)for(var s=this._holes[i].getCoordinates(),o=0;o<s.length;o++)e[++t]=s[o];return e},t.prototype.getArea=function(){var e=0;e+=Math.abs(ou.signedArea(this._shell.getCoordinateSequence()));for(var t=0;t<this._holes.length;t++)e-=Math.abs(ou.signedArea(this._holes[t].getCoordinateSequence()));return e},t.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),n=0;n<5;n++){var r=e.getX(n);if(r!==t.getMinX()&&r!==t.getMaxX())return!1;var i=e.getY(n);if(i!==t.getMinY()&&i!==t.getMaxY())return!1}for(var s=e.getX(0),o=e.getY(0),a=1;a<=4;a++){var l=e.getX(a),u=e.getY(a);if(l!==s===(u!==o))return!1;s=l,o=u}return!0},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t,i=this._shell,s=r._shell;if(!i.equalsExact(s,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var o=0;o<this._holes.length;o++)if(!this._holes[o].equalsExact(r._holes[o],n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var e=0;e<this._holes.length;e++)this.normalize(this._holes[e],!1);Fu.sort(this._holes)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(t.isEmpty())return null;var r=new Array(t.getCoordinates().length-1).fill(null);jl.arraycopy(t.getCoordinates(),0,r,0,r.length);var i=Tu.minCoordinate(t.getCoordinates());Tu.scroll(r,i),jl.arraycopy(r,0,t.getCoordinates(),0,r.length),t.getCoordinates()[r.length]=r[0],ou.isCCW(t.getCoordinates())===n&&Tu.reverse(t.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var e=0;e+=this._shell.getLength();for(var t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=this._shell.getNumPoints(),t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e},t.prototype.reverse=function(){var e=this.copy();e._shell=this._shell.copy().reverse(),e._holes=new Array(this._holes.length).fill(null);for(var t=0;t<this._holes.length;t++)e._holes[t]=this._holes[t].copy().reverse();return e},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0],t=this._shell,n=e._shell;return t.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],i=arguments[1],s=r,o=this._shell,a=s._shell,l=o.compareToSameClass(a,i);if(0!==l)return l;for(var u=this.getNumInteriorRing(),c=s.getNumInteriorRing(),h=0;h<u&&h<c;){var p=this.getInteriorRingN(h),d=s.getInteriorRingN(h),f=p.compareToSameClass(d,i);if(0!==f)return f;h++}return h<u?1:h<c?-1:0}},t.prototype.apply=function(e){if(Il(e,pu)){this._shell.apply(e);for(var t=0;t<this._holes.length;t++)this._holes[t].apply(e)}else if(Il(e,Uu)){if(this._shell.apply(e),!e.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(e),!e.isDone());n++);e.isGeometryChanged()&&this.geometryChanged()}else if(Il(e,zu))e.filter(this);else if(Il(e,lu)){e.filter(this),this._shell.apply(e);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(e)}},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this._holes.length+1).fill(null);e[0]=this._shell;for(var t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._shell=this._shell.clone(),t._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)t._holes[n]=this._holes[n].clone();return t},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var e=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new t(e,n,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(e){return this._holes[e]},t.prototype.interfaces_=function(){return[Qu]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,n),t}(uu),ec=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return uu.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._geometries[t].getCoordinate()}return e.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return Bu.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Yu]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(t,n),t}(Gu),tc=function(e){function t(t,n){t instanceof Sl&&n instanceof gc&&(t=n.getCoordinateSequenceFactory().create(t)),e.call(this,t,n),this.validateConstruction()}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return uu.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return Bu.FALSE},t.prototype.isClosed=function(){return!!this.isEmpty()||e.prototype.isClosed.call(this)},t.prototype.reverse=function(){var e=this._points.copy();return Xu.reverse(e),this.getFactory().createLinearRing(e)},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new gl("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new gl("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,n),t}(Zu),nc=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return uu.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(t)},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new Su,t=0;t<this._geometries.length;t++)for(var n=this._geometries[t].getBoundary(),r=0;r<n.getNumGeometries();r++)e.add(n.getGeometryN(r));var i=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(i))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Qu]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,n),t}(Gu),rc=function(e){this._factory=e||null,this._isUserDataCopied=!1},ic={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};rc.prototype.setCopyUserData=function(e){this._isUserDataCopied=e},rc.prototype.edit=function(e,t){if(null===e)return null;var n=this.editInternal(e,t);return this._isUserDataCopied&&n.setUserData(e.getUserData()),n},rc.prototype.editInternal=function(e,t){return null===this._factory&&(this._factory=e.getFactory()),e instanceof Gu?this.editGeometryCollection(e,t):e instanceof $u?this.editPolygon(e,t):e instanceof Ku||e instanceof Zu?t.edit(e,this._factory):(eu.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)},rc.prototype.editGeometryCollection=function(e,t){for(var n=t.edit(e,this._factory),r=new Su,i=0;i<n.getNumGeometries();i++){var s=this.edit(n.getGeometryN(i),t);null===s||s.isEmpty()||r.add(s)}return n.getClass()===ec?this._factory.createMultiPoint(r.toArray([])):n.getClass()===ju?this._factory.createMultiLineString(r.toArray([])):n.getClass()===nc?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},rc.prototype.editPolygon=function(e,t){var n=t.edit(e,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),t);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new Su,s=0;s<n.getNumInteriorRing();s++){var o=this.edit(n.getInteriorRingN(s),t);null===o||o.isEmpty()||i.add(o)}return this._factory.createPolygon(r,i.toArray([]))},rc.prototype.interfaces_=function(){return[]},rc.prototype.getClass=function(){return rc},rc.GeometryEditorOperation=function(){},ic.NoOpGeometryOperation.get=function(){return sc},ic.CoordinateOperation.get=function(){return oc},ic.CoordinateSequenceOperation.get=function(){return ac},Object.defineProperties(rc,ic);var sc=function(){};sc.prototype.edit=function(e,t){return e},sc.prototype.interfaces_=function(){return[rc.GeometryEditorOperation]},sc.prototype.getClass=function(){return sc};var oc=function(){};oc.prototype.edit=function(e,t){var n=this.editCoordinates(e.getCoordinates(),e);return null===n?e:e instanceof tc?t.createLinearRing(n):e instanceof Zu?t.createLineString(n):e instanceof Ku?n.length>0?t.createPoint(n[0]):t.createPoint():e},oc.prototype.interfaces_=function(){return[rc.GeometryEditorOperation]},oc.prototype.getClass=function(){return oc};var ac=function(){};ac.prototype.edit=function(e,t){return e instanceof tc?t.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Zu?t.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof Ku?t.createPoint(this.edit(e.getCoordinateSequence(),e)):e},ac.prototype.interfaces_=function(){return[rc.GeometryEditorOperation]},ac.prototype.getClass=function(){return ac};var lc=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var t=0;t<e;t++)this._coordinates[t]=new Sl}else if(Il(arguments[0],ql)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],s=arguments[1];this._coordinates=i,this._dimension=s,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var o=arguments[0],a=arguments[1];this._coordinates=new Array(o).fill(null),this._dimension=a;for(var l=0;l<o;l++)this._coordinates[l]=new Sl}},uc={serialVersionUID:{configurable:!0}};lc.prototype.setOrdinate=function(e,t,n){switch(t){case ql.X:this._coordinates[e].x=n;break;case ql.Y:this._coordinates[e].y=n;break;case ql.Z:this._coordinates[e].z=n;break;default:throw new gl("invalid ordinateIndex")}},lc.prototype.size=function(){return this._coordinates.length},lc.prototype.getOrdinate=function(e,t){switch(t){case ql.X:return this._coordinates[e].x;case ql.Y:return this._coordinates[e].y;case ql.Z:return this._coordinates[e].z}return _l.NaN},lc.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._coordinates[e]}if(2===arguments.length){var t=arguments[0],n=arguments[1];n.x=this._coordinates[t].x,n.y=this._coordinates[t].y,n.z=this._coordinates[t].z}},lc.prototype.getCoordinateCopy=function(e){return new Sl(this._coordinates[e])},lc.prototype.getDimension=function(){return this._dimension},lc.prototype.getX=function(e){return this._coordinates[e].x},lc.prototype.clone=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].clone();return new lc(e,this._dimension)},lc.prototype.expandEnvelope=function(e){for(var t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e},lc.prototype.copy=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].copy();return new lc(e,this._dimension)},lc.prototype.toString=function(){if(this._coordinates.length>0){var e=new Ol(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var t=1;t<this._coordinates.length;t++)e.append(", "),e.append(this._coordinates[t]);return e.append(")"),e.toString()}return"()"},lc.prototype.getY=function(e){return this._coordinates[e].y},lc.prototype.toCoordinateArray=function(){return this._coordinates},lc.prototype.interfaces_=function(){return[ql,Ii]},lc.prototype.getClass=function(){return lc},uc.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(lc,uc);var cc=function(){},hc={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};cc.prototype.readResolve=function(){return cc.instance()},cc.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return new lc(e)}if(Il(arguments[0],ql)){var t=arguments[0];return new lc(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new lc(n):new lc(n,r)}},cc.prototype.interfaces_=function(){return[Tl,Ii]},cc.prototype.getClass=function(){return cc},cc.instance=function(){return cc.instanceObject},hc.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},hc.instanceObject.get=function(){return new cc},Object.defineProperties(cc,hc);var pc=function(e){function t(){e.call(this),this.map_=new Map}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return this.map_.get(e)||null},t.prototype.put=function(e,t){return this.map_.set(e,t),t},t.prototype.values=function(){for(var e=new Su,t=this.map_.values(),n=t.next();!n.done;)e.add(n.value),n=t.next();return e},t.prototype.entrySet=function(){var e=new Ou;return this.map_.entries().forEach((function(t){return e.add(t)})),e},t.prototype.size=function(){return this.map_.size()},t}(Lu),dc=function e(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=e.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof mc){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},fc={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};dc.prototype.equals=function(e){if(!(e instanceof dc))return!1;var t=e;return this._modelType===t._modelType&&this._scale===t._scale},dc.prototype.compareTo=function(e){var t=e,n=this.getMaximumSignificantDigits(),r=t.getMaximumSignificantDigits();return new kl(n).compareTo(new kl(r))},dc.prototype.getScale=function(){return this._scale},dc.prototype.isFloating=function(){return this._modelType===dc.FLOATING||this._modelType===dc.FLOATING_SINGLE},dc.prototype.getType=function(){return this._modelType},dc.prototype.toString=function(){var e="UNKNOWN";return this._modelType===dc.FLOATING?e="Floating":this._modelType===dc.FLOATING_SINGLE?e="Floating-Single":this._modelType===dc.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},dc.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var e=arguments[0];return _l.isNaN(e)||this._modelType===dc.FLOATING_SINGLE?e:this._modelType===dc.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof Sl){var t=arguments[0];if(this._modelType===dc.FLOATING)return null;t.x=this.makePrecise(t.x),t.y=this.makePrecise(t.y)}},dc.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===dc.FLOATING?e=16:this._modelType===dc.FLOATING_SINGLE?e=6:this._modelType===dc.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e},dc.prototype.setScale=function(e){this._scale=Math.abs(e)},dc.prototype.interfaces_=function(){return[Ii,bl]},dc.prototype.getClass=function(){return dc},dc.mostPrecise=function(e,t){return e.compareTo(t)>=0?e:t},fc.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},fc.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(dc,fc);var mc=function e(t){this._name=t||null,e.nameToTypeMap.put(t,this)},yc={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};mc.prototype.readResolve=function(){return mc.nameToTypeMap.get(this._name)},mc.prototype.toString=function(){return this._name},mc.prototype.interfaces_=function(){return[Ii]},mc.prototype.getClass=function(){return mc},yc.serialVersionUID.get=function(){return-552860263173159e4},yc.nameToTypeMap.get=function(){return new pc},Object.defineProperties(mc,yc),dc.Type=mc,dc.FIXED=new mc("FIXED"),dc.FLOATING=new mc("FLOATING"),dc.FLOATING_SINGLE=new mc("FLOATING SINGLE");var gc=function e(){this._precisionModel=new dc,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Il(arguments[0],Tl)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof dc&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},_c={serialVersionUID:{configurable:!0}};gc.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new Sl(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new Sl(e.getMinX(),e.getMinY()),new Sl(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new Sl(e.getMinX(),e.getMinY()),new Sl(e.getMinX(),e.getMaxY()),new Sl(e.getMaxX(),e.getMaxY()),new Sl(e.getMaxX(),e.getMinY()),new Sl(e.getMinX(),e.getMinY())]),null)},gc.prototype.createLineString=function(e){return e?e instanceof Array?new Zu(this.getCoordinateSequenceFactory().create(e),this):Il(e,ql)?new Zu(e,this):void 0:new Zu(this.getCoordinateSequenceFactory().create([]),this)},gc.prototype.createMultiLineString=function(){if(0===arguments.length)return new ju(null,this);if(1===arguments.length){var e=arguments[0];return new ju(e,this)}},gc.prototype.buildGeometry=function(e){for(var t=null,n=!1,r=!1,i=e.iterator();i.hasNext();){var s=i.next(),o=s.getClass();null===t&&(t=o),o!==t&&(n=!0),s.isGeometryCollectionOrDerived()&&(r=!0)}if(null===t)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(gc.toGeometryArray(e));var a=e.iterator().next();if(e.size()>1){if(a instanceof $u)return this.createMultiPolygon(gc.toPolygonArray(e));if(a instanceof Zu)return this.createMultiLineString(gc.toLineStringArray(e));if(a instanceof Ku)return this.createMultiPoint(gc.toPointArray(e));eu.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},gc.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)},gc.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Sl){var e=arguments[0];return this.createPoint(null!==e?this.getCoordinateSequenceFactory().create([e]):null)}if(Il(arguments[0],ql)){var t=arguments[0];return new Ku(t,this)}}},gc.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},gc.prototype.createPolygon=function(){if(0===arguments.length)return new $u(null,null,this);if(1===arguments.length){if(Il(arguments[0],ql)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof tc){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new $u(r,i,this)}},gc.prototype.getSRID=function(){return this._SRID},gc.prototype.createGeometryCollection=function(){if(0===arguments.length)return new Gu(null,this);if(1===arguments.length){var e=arguments[0];return new Gu(e,this)}},gc.prototype.createGeometry=function(e){return new rc(this).edit(e,{edit:function(){if(2===arguments.length){var e=arguments[0];return this._coordinateSequenceFactory.create(e)}}})},gc.prototype.getPrecisionModel=function(){return this._precisionModel},gc.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(Il(arguments[0],ql)){var t=arguments[0];return new tc(t,this)}}},gc.prototype.createMultiPolygon=function(){if(0===arguments.length)return new nc(null,this);if(1===arguments.length){var e=arguments[0];return new nc(e,this)}},gc.prototype.createMultiPoint=function(){if(0===arguments.length)return new ec(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return new ec(e,this)}if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Il(arguments[0],ql)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),i=0;i<n.size();i++){var s=this.getCoordinateSequenceFactory().create(1,n.getDimension());Xu.copy(n,i,s,0,1),r[i]=this.createPoint(s)}return this.createMultiPoint(r)}}},gc.prototype.interfaces_=function(){return[Ii]},gc.prototype.getClass=function(){return gc},gc.toMultiPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},gc.toGeometryArray=function(e){if(null===e)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)},gc.getDefaultCoordinateSequenceFactory=function(){return cc.instance()},gc.toMultiLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},gc.toLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},gc.toMultiPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},gc.toLinearRingArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},gc.toPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},gc.toPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},gc.createPointFromInternalCoord=function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)},_c.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(gc,_c);var vc=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],bc=function(e){this.geometryFactory=e||new gc};bc.prototype.read=function(e){var t,n=(t="string"==typeof e?JSON.parse(e):e).type;if(!xc[n])throw new Error("Unknown GeoJSON type: "+t.type);return-1!==vc.indexOf(n)?xc[n].apply(this,[t.coordinates]):"GeometryCollection"===n?xc[n].apply(this,[t.geometries]):xc[n].apply(this,[t])},bc.prototype.write=function(e){var t=e.getGeometryType();if(!wc[t])throw new Error("Geometry is not supported");return wc[t].apply(this,[e])};var xc={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var r=e.geometry.type;if(!xc[r])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=xc.bbox.apply(this,[e.bbox])),t},FeatureCollection:function(e){var t={};if(e.features){t.features=[];for(var n=0;n<e.features.length;++n)t.features.push(this.read(e.features[n]))}return e.bbox&&(t.bbox=this.parse.bbox.apply(this,[e.bbox])),t},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(new Sl(r[0],r[1]))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new Sl(e[0],e[1]),new Sl(e[2],e[1]),new Sl(e[2],e[3]),new Sl(e[0],e[3]),new Sl(e[0],e[1])])},Point:function(e){var t=new Sl(e[0],e[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=[],n=0;n<e.length;++n)t.push(xc.Point.apply(this,[e[n]]));return this.geometryFactory.createMultiPoint(t)},LineString:function(e){var t=xc.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=[],n=0;n<e.length;++n)t.push(xc.LineString.apply(this,[e[n]]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(e){for(var t=xc.coordinates.apply(this,[e[0]]),n=this.geometryFactory.createLinearRing(t),r=[],i=1;i<e.length;++i){var s=e[i],o=xc.coordinates.apply(this,[s]),a=this.geometryFactory.createLinearRing(o);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(xc.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(this.read(r))}return this.geometryFactory.createGeometryCollection(t)}},wc={coordinate:function(e){return[e.x,e.y]},Point:function(e){return{type:"Point",coordinates:wc.coordinate.apply(this,[e.getCoordinate()])}},MultiPoint:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=wc.Point.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(e){for(var t=[],n=e.getCoordinates(),r=0;r<n.length;++r){var i=n[r];t.push(wc.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:t}},MultiLineString:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=wc.LineString.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(e){var t=[],n=wc.LineString.apply(this,[e._shell]);t.push(n.coordinates);for(var r=0;r<e._holes.length;++r){var i=e._holes[r],s=wc.LineString.apply(this,[i]);t.push(s.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=wc.Polygon.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=r.getGeometryType();t.push(wc[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:t}}},Sc=function(e){this.geometryFactory=e||new gc,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new bc(this.geometryFactory)};Sc.prototype.read=function(e){var t=this.parser.read(e);return this.precisionModel.getType()===dc.FIXED&&this.reducePrecision(t),t},Sc.prototype.reducePrecision=function(e){var t,n;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(t=0,n=e.points.length;t<n;t++)this.precisionModel.makePrecise(e.points[t]);else if(e.geometries)for(t=0,n=e.geometries.length;t<n;t++)this.reducePrecision(e.geometries[t])};var Cc=function(){this.parser=new bc(this.geometryFactory)};Cc.prototype.write=function(e){return this.parser.write(e)};var Ec=function(){},Tc={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Ec.prototype.interfaces_=function(){return[]},Ec.prototype.getClass=function(){return Ec},Ec.opposite=function(e){return e===Ec.LEFT?Ec.RIGHT:e===Ec.RIGHT?Ec.LEFT:e},Tc.ON.get=function(){return 0},Tc.LEFT.get=function(){return 1},Tc.RIGHT.get=function(){return 2},Object.defineProperties(Ec,Tc),(Gi.prototype=new Error).name="EmptyStackException",(ji.prototype=new wu).add=function(e){return this.array_.push(e),!0},ji.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},ji.prototype.push=function(e){return this.array_.push(e),e},ji.prototype.pop=function(e){if(0===this.array_.length)throw new Gi;return this.array_.pop()},ji.prototype.peek=function(){if(0===this.array_.length)throw new Gi;return this.array_[this.array_.length-1]},ji.prototype.empty=function(){return 0===this.array_.length},ji.prototype.isEmpty=function(){return this.empty()},ji.prototype.search=function(e){return this.array_.indexOf(e)},ji.prototype.size=function(){return this.array_.length},ji.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e};var Ac=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Ac.prototype.getCoordinate=function(){return this._minCoord},Ac.prototype.getRightmostSide=function(e,t){var n=this.getRightmostSideOfSegment(e,t);return n<0&&(n=this.getRightmostSideOfSegment(e,t-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),n},Ac.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();eu.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],n=e[this._minIndex+1],r=ou.computeOrientation(this._minCoord,n,t),i=!1;(t.y<this._minCoord.y&&n.y<this._minCoord.y&&r===ou.COUNTERCLOCKWISE||t.y>this._minCoord.y&&n.y>this._minCoord.y&&r===ou.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Ac.prototype.getRightmostSideOfSegment=function(e,t){var n=e.getEdge().getCoordinates();if(t<0||t+1>=n.length)return-1;if(n[t].y===n[t+1].y)return-1;var r=Ec.LEFT;return n[t].y<n[t+1].y&&(r=Ec.RIGHT),r},Ac.prototype.getEdge=function(){return this._orientedDe},Ac.prototype.checkForRightmostCoordinate=function(e){for(var t=e.getEdge().getCoordinates(),n=0;n<t.length-1;n++)(null===this._minCoord||t[n].x>this._minCoord.x)&&(this._minDe=e,this._minIndex=n,this._minCoord=t[n])},Ac.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Ac.prototype.findEdge=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();n.isForward()&&this.checkForRightmostCoordinate(n)}eu.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Ec.LEFT&&(this._orientedDe=this._minDe.getSym())},Ac.prototype.interfaces_=function(){return[]},Ac.prototype.getClass=function(){return Ac};var Pc=function(e){function t(n,r){e.call(this,t.msgWithCoord(n,r)),this.pt=r?new Sl(r):null,this.name="TopologyException"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(e,t){return t?e:e+" [ "+t+" ]"},t}(Ql),Ic=function(){this.array_=[]};Ic.prototype.addLast=function(e){this.array_.push(e)},Ic.prototype.removeFirst=function(){return this.array_.shift()},Ic.prototype.isEmpty=function(){return 0===this.array_.length};var Lc=function(){this._finder=null,this._dirEdgeList=new Su,this._nodes=new Su,this._rightMostCoord=null,this._env=null,this._finder=new Ac};Lc.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)},Lc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Lc.prototype.computeNodeDepth=function(e){for(var t=null,n=e.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){t=r;break}}if(null===t)throw new Pc("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(t);for(var i=e.getEdges().iterator();i.hasNext();){var s=i.next();s.setVisited(!0),this.copySymDepths(s)}},Lc.prototype.computeDepth=function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.setEdgeDepths(Ec.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)},Lc.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Lc.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth(Ec.RIGHT)>=1&&t.getDepth(Ec.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}},Lc.prototype.computeDepths=function(e){var t=new Ou,n=new Ic,r=e.getNode();for(n.addLast(r),t.add(r),e.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();t.add(i),this.computeNodeDepth(i);for(var s=i.getEdges().iterator();s.hasNext();){var o=s.next().getSym();if(!o.isVisited()){var a=o.getNode();t.contains(a)||(n.addLast(a),t.add(a))}}}},Lc.prototype.compareTo=function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},Lc.prototype.getEnvelope=function(){if(null===this._env){for(var e=new Wl,t=this._dirEdgeList.iterator();t.hasNext();)for(var n=t.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)e.expandToInclude(n[r]);this._env=e}return this._env},Lc.prototype.addReachable=function(e){var t=new ji;for(t.add(e);!t.empty();){var n=t.pop();this.add(n,t)}},Lc.prototype.copySymDepths=function(e){var t=e.getSym();t.setDepth(Ec.LEFT,e.getDepth(Ec.RIGHT)),t.setDepth(Ec.RIGHT,e.getDepth(Ec.LEFT))},Lc.prototype.add=function(e,t){e.setVisited(!0),this._nodes.add(e);for(var n=e.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||t.push(i)}},Lc.prototype.getNodes=function(){return this._nodes},Lc.prototype.getDirectedEdges=function(){return this._dirEdgeList},Lc.prototype.interfaces_=function(){return[bl]},Lc.prototype.getClass=function(){return Lc};var Mc=function e(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Ec.ON]=n}else if(arguments[0]instanceof e){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2];this.init(3),this.location[Ec.ON]=s,this.location[Ec.LEFT]=o,this.location[Ec.RIGHT]=a}};Mc.prototype.setAllLocations=function(e){for(var t=0;t<this.location.length;t++)this.location[t]=e},Mc.prototype.isNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==Al.NONE)return!1;return!0},Mc.prototype.setAllLocationsIfNull=function(e){for(var t=0;t<this.location.length;t++)this.location[t]===Al.NONE&&(this.location[t]=e)},Mc.prototype.isLine=function(){return 1===this.location.length},Mc.prototype.merge=function(e){if(e.location.length>this.location.length){var t=new Array(3).fill(null);t[Ec.ON]=this.location[Ec.ON],t[Ec.LEFT]=Al.NONE,t[Ec.RIGHT]=Al.NONE,this.location=t}for(var n=0;n<this.location.length;n++)this.location[n]===Al.NONE&&n<e.location.length&&(this.location[n]=e.location[n])},Mc.prototype.getLocations=function(){return this.location},Mc.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[Ec.LEFT];this.location[Ec.LEFT]=this.location[Ec.RIGHT],this.location[Ec.RIGHT]=e},Mc.prototype.toString=function(){var e=new Ol;return this.location.length>1&&e.append(Al.toLocationSymbol(this.location[Ec.LEFT])),e.append(Al.toLocationSymbol(this.location[Ec.ON])),this.location.length>1&&e.append(Al.toLocationSymbol(this.location[Ec.RIGHT])),e.toString()},Mc.prototype.setLocations=function(e,t,n){this.location[Ec.ON]=e,this.location[Ec.LEFT]=t,this.location[Ec.RIGHT]=n},Mc.prototype.get=function(e){return e<this.location.length?this.location[e]:Al.NONE},Mc.prototype.isArea=function(){return this.location.length>1},Mc.prototype.isAnyNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===Al.NONE)return!0;return!1},Mc.prototype.setLocation=function(){if(1===arguments.length){var e=arguments[0];this.setLocation(Ec.ON,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.location[t]=n}},Mc.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(Al.NONE)},Mc.prototype.isEqualOnSide=function(e,t){return this.location[t]===e.location[t]},Mc.prototype.allPositionsEqual=function(e){for(var t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0},Mc.prototype.interfaces_=function(){return[]},Mc.prototype.getClass=function(){return Mc};var Oc=function e(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new Mc(t),this.elt[1]=new Mc(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new Mc(n.elt[0]),this.elt[1]=new Mc(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Mc(Al.NONE),this.elt[1]=new Mc(Al.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var s=arguments[0],o=arguments[1],a=arguments[2];this.elt[0]=new Mc(s,o,a),this.elt[1]=new Mc(s,o,a)}else if(4===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new Mc(Al.NONE,Al.NONE,Al.NONE),this.elt[1]=new Mc(Al.NONE,Al.NONE,Al.NONE),this.elt[l].setLocations(u,c,h)}};Oc.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},Oc.prototype.setAllLocations=function(e,t){this.elt[e].setAllLocations(t)},Oc.prototype.isNull=function(e){return this.elt[e].isNull()},Oc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.elt[t].setAllLocationsIfNull(n)}},Oc.prototype.isLine=function(e){return this.elt[e].isLine()},Oc.prototype.merge=function(e){for(var t=0;t<2;t++)null===this.elt[t]&&null!==e.elt[t]?this.elt[t]=new Mc(e.elt[t]):this.elt[t].merge(e.elt[t])},Oc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Oc.prototype.getLocation=function(){if(1===arguments.length){var e=arguments[0];return this.elt[e].get(Ec.ON)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.elt[t].get(n)}},Oc.prototype.toString=function(){var e=new Ol;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},Oc.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var e=arguments[0];return this.elt[e].isArea()}},Oc.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()},Oc.prototype.setLocation=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.elt[e].setLocation(Ec.ON,t)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},Oc.prototype.isEqualOnSide=function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)},Oc.prototype.allPositionsEqual=function(e,t){return this.elt[e].allPositionsEqual(t)},Oc.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new Mc(this.elt[e].location[0]))},Oc.prototype.interfaces_=function(){return[]},Oc.prototype.getClass=function(){return Oc},Oc.toLineLabel=function(e){for(var t=new Oc(Al.NONE),n=0;n<2;n++)t.setLocation(n,e.getLocation(n));return t};var kc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Su,this._pts=new Su,this._label=new Oc(Al.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Su,this._geometryFactory=null;var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()};kc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var e=new Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=ou.isCCW(this._ring.getCoordinates())},kc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},kc.prototype.computePoints=function(e){this._startDe=e;var t=e,n=!0;do{if(null===t)throw new Pc("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new Pc("Directed Edge visited twice during ring-building at "+t.getCoordinate());this._edges.add(t);var r=t.getLabel();eu.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(t.getEdge(),t.isForward(),n),n=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)},kc.prototype.getLinearRing=function(){return this._ring},kc.prototype.getCoordinate=function(e){return this._pts.get(e)},kc.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var e=this._startDe;do{var t=e.getNode().getEdges().getOutgoingDegree(this);t>this._maxNodeDegree&&(this._maxNodeDegree=t),e=this.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2},kc.prototype.addPoints=function(e,t,n){var r=e.getCoordinates();if(t){var i=1;n&&(i=0);for(var s=i;s<r.length;s++)this._pts.add(r[s])}else{var o=r.length-2;n&&(o=r.length-1);for(var a=o;a>=0;a--)this._pts.add(r[a])}},kc.prototype.isHole=function(){return this._isHole},kc.prototype.setInResult=function(){var e=this._startDe;do{e.getEdge().setInResult(!0),e=e.getNext()}while(e!==this._startDe)},kc.prototype.containsPoint=function(e){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(e))return!1;if(!ou.isPointInRing(e,t.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(e))return!1;return!0},kc.prototype.addHole=function(e){this._holes.add(e)},kc.prototype.isShell=function(){return null===this._shell},kc.prototype.getLabel=function(){return this._label},kc.prototype.getEdges=function(){return this._edges},kc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},kc.prototype.getShell=function(){return this._shell},kc.prototype.mergeLabel=function(){if(1===arguments.length){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=t.getLocation(n,Ec.RIGHT);if(r===Al.NONE)return null;if(this._label.getLocation(n)===Al.NONE)return this._label.setLocation(n,r),null}},kc.prototype.setShell=function(e){this._shell=e,null!==e&&e.addHole(this)},kc.prototype.toPolygon=function(e){for(var t=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)t[n]=this._holes.get(n).getLinearRing();return e.createPolygon(this.getLinearRing(),t)},kc.prototype.interfaces_=function(){return[]},kc.prototype.getClass=function(){return kc};var Nc=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(e,t){e.setMinEdgeRing(t)},t.prototype.getNext=function(e){return e.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(kc),Rc=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var e=new Su,t=this._startDe;do{if(null===t.getMinEdgeRing()){var n=new Nc(t,this._geometryFactory);e.add(n)}t=t.getNext()}while(t!==this._startDe);return e},t.prototype.setEdgeRing=function(e,t){e.setEdgeRing(t)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var e=this._startDe;do{e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)},t.prototype.getNext=function(e){return e.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(kc),Dc=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._label=e}};Dc.prototype.setVisited=function(e){this._isVisited=e},Dc.prototype.setInResult=function(e){this._isInResult=e},Dc.prototype.isCovered=function(){return this._isCovered},Dc.prototype.isCoveredSet=function(){return this._isCoveredSet},Dc.prototype.setLabel=function(e){this._label=e},Dc.prototype.getLabel=function(){return this._label},Dc.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0},Dc.prototype.updateIM=function(e){eu.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)},Dc.prototype.isInResult=function(){return this._isInResult},Dc.prototype.isVisited=function(){return this._isVisited},Dc.prototype.interfaces_=function(){return[]},Dc.prototype.getClass=function(){return Dc};var Fc=function(e){function t(){e.call(this),this._coord=null,this._edges=null;var t=arguments[0],n=arguments[1];this._coord=t,this._edges=n,this._label=new Oc(0,Al.NONE)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1},t.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(e){e.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(e){},t.prototype.computeMergedLocation=function(e,t){var n=Al.NONE;if(n=this._label.getLocation(t),!e.isNull(t)){var r=e.getLocation(t);n!==Al.BOUNDARY&&(n=r)}return n},t.prototype.setLabel=function(){if(2!==arguments.length)return e.prototype.setLabel.apply(this,arguments);var t=arguments[0],n=arguments[1];null===this._label?this._label=new Oc(t,n):this._label.setLocation(t,n)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){if(arguments[0]instanceof t){var e=arguments[0];this.mergeLabel(e._label)}else if(arguments[0]instanceof Oc)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===Al.NONE&&this._label.setLocation(r,i)}},t.prototype.add=function(e){this._edges.insert(e),e.setNode(this)},t.prototype.setLabelBoundary=function(e){if(null===this._label)return null;var t=Al.NONE;null!==this._label&&(t=this._label.getLocation(e));var n=null;switch(t){case Al.BOUNDARY:n=Al.INTERIOR;break;case Al.INTERIOR:default:n=Al.BOUNDARY}this._label.setLocation(e,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Dc),Bc=function(){this.nodeMap=new Bi,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};Bc.prototype.find=function(e){return this.nodeMap.get(e)},Bc.prototype.addNode=function(){if(arguments[0]instanceof Sl){var e=arguments[0],t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof Fc){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},Bc.prototype.print=function(e){for(var t=this.iterator();t.hasNext();)t.next().print(e)},Bc.prototype.iterator=function(){return this.nodeMap.values().iterator()},Bc.prototype.values=function(){return this.nodeMap.values()},Bc.prototype.getBoundaryNodes=function(e){for(var t=new Su,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(e)===Al.BOUNDARY&&t.add(r)}return t},Bc.prototype.add=function(e){var t=e.getCoordinate();this.addNode(t).add(e)},Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc};var qc=function(){},zc={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc},qc.isNorthern=function(e){return e===qc.NE||e===qc.NW},qc.isOpposite=function(e,t){return e!==t&&2===(e-t+4)%4},qc.commonHalfPlane=function(e,t){if(e===t)return e;if(2===(e-t+4)%4)return-1;var n=e<t?e:t;return 0===n&&3===(e>t?e:t)?3:n},qc.isInHalfPlane=function(e,t){return t===qc.SE?e===qc.SE||e===qc.SW:e===t||e===t+1},qc.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new gl("Cannot compute the quadrant for point ( "+e+", "+t+" )");return e>=0?t>=0?qc.NE:qc.SE:t>=0?qc.NW:qc.SW}if(arguments[0]instanceof Sl&&arguments[1]instanceof Sl){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new gl("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?qc.NE:qc.SE:r.y>=n.y?qc.NW:qc.SW}},zc.NE.get=function(){return 0},zc.NW.get=function(){return 1},zc.SW.get=function(){return 2},zc.SE.get=function(){return 3},Object.defineProperties(qc,zc);var Uc=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var e=arguments[0];this._edge=e}else if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];this._edge=t,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];this._edge=i,this.init(s,o),this._label=a}};Uc.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:ou.computeOrientation(e._p0,e._p1,this._p1)},Uc.prototype.getDy=function(){return this._dy},Uc.prototype.getCoordinate=function(){return this._p0},Uc.prototype.setNode=function(e){this._node=e},Uc.prototype.print=function(e){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);e.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)},Uc.prototype.compareTo=function(e){var t=e;return this.compareDirection(t)},Uc.prototype.getDirectedCoordinate=function(){return this._p1},Uc.prototype.getDx=function(){return this._dx},Uc.prototype.getLabel=function(){return this._label},Uc.prototype.getEdge=function(){return this._edge},Uc.prototype.getQuadrant=function(){return this._quadrant},Uc.prototype.getNode=function(){return this._node},Uc.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),n=t.lastIndexOf(".");return"  "+t.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label},Uc.prototype.computeLabel=function(e){},Uc.prototype.init=function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=qc.quadrant(this._dx,this._dy),eu.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Uc.prototype.interfaces_=function(){return[bl]},Uc.prototype.getClass=function(){return Uc};var Gc=function(e){function t(){var t=arguments[0],n=arguments[1];if(e.call(this,t),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var r=t.getNumPoints()-1;this.init(t.getCoordinate(r),t.getCoordinate(r-1))}this.computeDirectedLabel()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(e){return this._depth[e]},t.prototype.setVisited=function(e){this._isVisited=e},t.prototype.computeDirectedLabel=function(){this._label=new Oc(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new Pc("assigned depths do not match",this.getCoordinate());this._depth[e]=t},t.prototype.isInteriorAreaEdge=function(){for(var e=!0,t=0;t<2;t++)this._label.isArea(t)&&this._label.getLocation(t,Ec.LEFT)===Al.INTERIOR&&this._label.getLocation(t,Ec.RIGHT)===Al.INTERIOR||(e=!1);return e},t.prototype.setNextMin=function(e){this._nextMin=e},t.prototype.print=function(t){e.prototype.print.call(this,t),t.print(" "+this._depth[Ec.LEFT]+"/"+this._depth[Ec.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},t.prototype.setMinEdgeRing=function(e){this._minEdgeRing=e},t.prototype.isLineEdge=function(){var e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,Al.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,Al.EXTERIOR);return e&&t&&n},t.prototype.setEdgeRing=function(e){this._edgeRing=e},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e},t.prototype.setInResult=function(e){this._isInResult=e},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)},t.prototype.setSym=function(e){this._sym=e},t.prototype.setVisitedEdge=function(e){this.setVisited(e),this._sym.setVisited(e)},t.prototype.setEdgeDepths=function(e,t){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;e===Ec.LEFT&&(r=-1);var i=Ec.opposite(e),s=t+n*r;this.setDepth(e,t),this.setDepth(i,s)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(e){this._next=e},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(e,t){return e===Al.EXTERIOR&&t===Al.INTERIOR?1:e===Al.INTERIOR&&t===Al.EXTERIOR?-1:0},t}(Uc),jc=function(){};jc.prototype.createNode=function(e){return new Fc(e,null)},jc.prototype.interfaces_=function(){return[]},jc.prototype.getClass=function(){return jc};var Vc=function(){if(this._edges=new Su,this._nodes=null,this._edgeEndList=new Su,0===arguments.length)this._nodes=new Bc(new jc);else if(1===arguments.length){var e=arguments[0];this._nodes=new Bc(e)}};Vc.prototype.printEdges=function(e){e.println("Edges:");for(var t=0;t<this._edges.size();t++){e.println("edge "+t+":");var n=this._edges.get(t);n.print(e),n.eiList.print(e)}},Vc.prototype.find=function(e){return this._nodes.find(e)},Vc.prototype.addNode=function(){if(arguments[0]instanceof Fc){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof Sl){var t=arguments[0];return this._nodes.addNode(t)}},Vc.prototype.getNodeIterator=function(){return this._nodes.iterator()},Vc.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Vc.prototype.debugPrintln=function(e){jl.out.println(e)},Vc.prototype.isBoundaryNode=function(e,t){var n=this._nodes.find(t);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(e)===Al.BOUNDARY},Vc.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()},Vc.prototype.matchInSameDirection=function(e,t,n,r){return!!e.equals(n)&&ou.computeOrientation(e,t,r)===ou.COLLINEAR&&qc.quadrant(e,t)===qc.quadrant(n,r)},Vc.prototype.getEdgeEnds=function(){return this._edgeEndList},Vc.prototype.debugPrint=function(e){jl.out.print(e)},Vc.prototype.getEdgeIterator=function(){return this._edges.iterator()},Vc.prototype.findEdgeInSameDirection=function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(e,t,i[0],i[1]))return r;if(this.matchInSameDirection(e,t,i[i.length-1],i[i.length-2]))return r}return null},Vc.prototype.insertEdge=function(e){this._edges.add(e)},Vc.prototype.findEdgeEnd=function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var n=t.next();if(n.getEdge()===e)return n}return null},Vc.prototype.addEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this._edges.add(n);var r=new Gc(n,!0),i=new Gc(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},Vc.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)},Vc.prototype.getNodes=function(){return this._nodes.values()},Vc.prototype.findEdge=function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(e.equals(i[0])&&t.equals(i[1]))return r}return null},Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc},Vc.linkResultDirectedEdges=function(e){for(var t=e.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()};var Wc=function(){this._geometryFactory=null,this._shellList=new Su;var e=arguments[0];this._geometryFactory=e};Wc.prototype.sortShellsAndHoles=function(e,t,n){for(var r=e.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):t.add(i)}},Wc.prototype.computePolygons=function(e){for(var t=new Su,n=e.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);t.add(r)}return t},Wc.prototype.placeFreeHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,e);if(null===i)throw new Pc("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Wc.prototype.buildMinimalEdgeRings=function(e,t,n){for(var r=new Su,i=e.iterator();i.hasNext();){var s=i.next();if(s.getMaxNodeDegree()>2){s.linkDirectedEdgesForMinimalEdgeRings();var o=s.buildMinimalRings(),a=this.findShell(o);null!==a?(this.placePolygonHoles(a,o),t.add(a)):n.addAll(o)}else r.add(s)}return r},Wc.prototype.containsPoint=function(e){for(var t=this._shellList.iterator();t.hasNext();)if(t.next().containsPoint(e))return!0;return!1},Wc.prototype.buildMaximalEdgeRings=function(e){for(var t=new Su,n=e.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new Rc(r,this._geometryFactory);t.add(i),i.setInResult()}}return t},Wc.prototype.placePolygonHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(e)}},Wc.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Wc.prototype.findEdgeRingContaining=function(e,t){for(var n=e.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),s=null,o=null,a=t.iterator();a.hasNext();){var l=a.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();null!==s&&(o=s.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(r)&&ou.isPointInRing(i,u.getCoordinates())&&(h=!0),h&&(null===s||o.contains(c))&&(s=l)}return s},Wc.prototype.findShell=function(e){for(var t=0,n=null,r=e.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,t++)}return eu.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),n},Wc.prototype.add=function(){if(1===arguments.length){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){var t=arguments[0],n=arguments[1];Vc.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(t),i=new Su,s=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(s,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Wc.prototype.interfaces_=function(){return[]},Wc.prototype.getClass=function(){return Wc};var Hc=function(){};Hc.prototype.getBounds=function(){},Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc};var Jc=function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t};Jc.prototype.getItem=function(){return this._item},Jc.prototype.getBounds=function(){return this._bounds},Jc.prototype.interfaces_=function(){return[Hc,Ii]},Jc.prototype.getClass=function(){return Jc};var Xc=function(){this._size=null,this._items=null,this._size=0,this._items=new Su,this._items.add(null)};Xc.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e},Xc.prototype.size=function(){return this._size},Xc.prototype.reorder=function(e){for(var t=null,n=this._items.get(e);2*e<=this._size&&((t=2*e)!==this._size&&this._items.get(t+1).compareTo(this._items.get(t))<0&&t++,this._items.get(t).compareTo(n)<0);e=t)this._items.set(e,this._items.get(t));this._items.set(e,n)},Xc.prototype.clear=function(){this._size=0,this._items.clear()},Xc.prototype.isEmpty=function(){return 0===this._size},Xc.prototype.add=function(e){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(t/2)))<0;t/=2)this._items.set(t,this._items.get(Math.trunc(t/2)));this._items.set(t,e)},Xc.prototype.interfaces_=function(){return[]},Xc.prototype.getClass=function(){return Xc};var Zc=function(){};Zc.prototype.visitItem=function(e){},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var Yc=function(){};Yc.prototype.insert=function(e,t){},Yc.prototype.remove=function(e,t){},Yc.prototype.query=function(){},Yc.prototype.interfaces_=function(){return[]},Yc.prototype.getClass=function(){return Yc};var Kc=function(){if(this._childBoundables=new Su,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._level=e}},Qc={serialVersionUID:{configurable:!0}};Kc.prototype.getLevel=function(){return this._level},Kc.prototype.size=function(){return this._childBoundables.size()},Kc.prototype.getChildBoundables=function(){return this._childBoundables},Kc.prototype.addChildBoundable=function(e){eu.isTrue(null===this._bounds),this._childBoundables.add(e)},Kc.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Kc.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Kc.prototype.interfaces_=function(){return[Hc,Ii]},Kc.prototype.getClass=function(){return Kc},Qc.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Kc,Qc);var $c=function(){};$c.reverseOrder=function(){return{compare:function(e,t){return t.compareTo(e)}}},$c.min=function(e){return $c.sort(e),e.get(0)},$c.sort=function(e,t){var n=e.toArray();t?Fu.sort(n,t):Fu.sort(n);for(var r=e.iterator(),i=0,s=n.length;i<s;i++)r.next(),r.set(n[i])},$c.singletonList=function(e){var t=new Su;return t.add(e),t};var eh=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],n=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=n,this._distance=this.distance()};eh.prototype.expandToQueue=function(e,t){var n=eh.isComposite(this._boundable1),r=eh.isComposite(this._boundable2);if(n&&r)return eh.area(this._boundable1)>eh.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,t),null):(this.expand(this._boundable2,this._boundable1,e,t),null);if(n)return this.expand(this._boundable1,this._boundable2,e,t),null;if(r)return this.expand(this._boundable2,this._boundable1,e,t),null;throw new gl("neither boundable is composite")},eh.prototype.isLeaves=function(){return!(eh.isComposite(this._boundable1)||eh.isComposite(this._boundable2))},eh.prototype.compareTo=function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0},eh.prototype.expand=function(e,t,n,r){for(var i=e.getChildBoundables().iterator();i.hasNext();){var s=i.next(),o=new eh(s,t,this._itemDistance);o.getDistance()<r&&n.add(o)}},eh.prototype.getBoundable=function(e){return 0===e?this._boundable1:this._boundable2},eh.prototype.getDistance=function(){return this._distance},eh.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},eh.prototype.interfaces_=function(){return[bl]},eh.prototype.getClass=function(){return eh},eh.area=function(e){return e.getBounds().getArea()},eh.isComposite=function(e){return e instanceof Kc};var th=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new Su,this._nodeCapacity=null,0===arguments.length){var t=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(1===arguments.length){var n=arguments[0];eu.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nh={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};th.prototype.getNodeCapacity=function(){return this._nodeCapacity},th.prototype.lastNode=function(e){return e.get(e.size()-1)},th.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();n instanceof Kc?e+=this.size(n):n instanceof Jc&&(e+=1)}return e}},th.prototype.removeItem=function(e,t){for(var n=null,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Jc&&i.getItem()===t&&(n=i)}return null!==n&&(e.getChildBoundables().remove(n),!0)},th.prototype.itemsTree=function(){if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new Su:e}if(1===arguments.length){for(var t=arguments[0],n=new Su,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Kc){var s=this.itemsTree(i);null!==s&&n.add(s)}else i instanceof Jc?n.add(i.getItem()):eu.shouldNeverReachHere()}return n.size()<=0?null:n}},th.prototype.insert=function(e,t){eu.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Jc(e,t))},th.prototype.boundablesAtLevel=function(){if(1===arguments.length){var e=arguments[0],t=new Su;return this.boundablesAtLevel(e,this._root,t),t}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(eu.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var s=r.getChildBoundables().iterator();s.hasNext();){var o=s.next();o instanceof Kc?this.boundablesAtLevel(n,o,i):(eu.isTrue(o instanceof Jc),-1===n&&i.add(o))}return null}},th.prototype.query=function(){if(1===arguments.length){var e=arguments[0];this.build();var t=new Su;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,t),t}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(Il(arguments[2],Zc)&&arguments[0]instanceof Object&&arguments[1]instanceof Kc)for(var i=arguments[0],s=arguments[1],o=arguments[2],a=s.getChildBoundables(),l=0;l<a.size();l++){var u=a.get(l);this.getIntersectsOp().intersects(u.getBounds(),i)&&(u instanceof Kc?this.query(i,u,o):u instanceof Jc?o.visitItem(u.getItem()):eu.shouldNeverReachHere())}else if(Il(arguments[2],wu)&&arguments[0]instanceof Object&&arguments[1]instanceof Kc)for(var c=arguments[0],h=arguments[1],p=arguments[2],d=h.getChildBoundables(),f=0;f<d.size();f++){var m=d.get(f);this.getIntersectsOp().intersects(m.getBounds(),c)&&(m instanceof Kc?this.query(c,m,p):m instanceof Jc?p.add(m.getItem()):eu.shouldNeverReachHere())}},th.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},th.prototype.getRoot=function(){return this.build(),this._root},th.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,t)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],s=this.removeItem(r,i);if(s)return!0;for(var o=null,a=r.getChildBoundables().iterator();a.hasNext();){var l=a.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof Kc&&(s=this.remove(n,l,i))){o=l;break}}return null!==o&&o.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(o),s}},th.prototype.createHigherLevels=function(e,t){eu.isTrue(!e.isEmpty());var n=this.createParentBoundables(e,t+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,t+1)},th.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();if(n instanceof Kc){var r=this.depth(n);r>e&&(e=r)}}return e+1}},th.prototype.createParentBoundables=function(e,t){eu.isTrue(!e.isEmpty());var n=new Su;n.add(this.createNode(t));var r=new Su(e);$c.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var s=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(t)),this.lastNode(n).addChildBoundable(s)}return n},th.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},th.prototype.interfaces_=function(){return[Ii]},th.prototype.getClass=function(){return th},th.compareDoubles=function(e,t){return e>t?1:e<t?-1:0},nh.IntersectsOp.get=function(){return rh},nh.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nh.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(th,nh);var rh=function(){},ih=function(){};ih.prototype.distance=function(e,t){},ih.prototype.interfaces_=function(){return[]},ih.prototype.getClass=function(){return ih};var sh=function(e){function t(n){n=n||t.DEFAULT_NODE_CAPACITY,e.call(this,n)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return t.prototype.createParentBoundablesFromVerticalSlices=function(e,t){eu.isTrue(e.length>0);for(var n=new Su,r=0;r<e.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(e[r],t));return n},t.prototype.createNode=function(e){return new oh(e)},t.prototype.size=function(){return 0===arguments.length?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},t.prototype.insert=function(){if(2!==arguments.length)return e.prototype.insert.apply(this,arguments);var t=arguments[0],n=arguments[1];if(t.isNull())return null;e.prototype.insert.call(this,t,n)},t.prototype.getIntersectsOp=function(){return t.intersectsOp},t.prototype.verticalSlices=function(e,t){for(var n=Math.trunc(Math.ceil(e.size()/t)),r=new Array(t).fill(null),i=e.iterator(),s=0;s<t;s++){r[s]=new Su;for(var o=0;i.hasNext()&&o<n;){var a=i.next();r[s].add(a),o++}}return r},t.prototype.query=function(){if(1===arguments.length){var t=arguments[0];return e.prototype.query.call(this,t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];e.prototype.query.call(this,n,r)}else if(3===arguments.length)if(Il(arguments[2],Zc)&&arguments[0]instanceof Object&&arguments[1]instanceof Kc){var i=arguments[0],s=arguments[1],o=arguments[2];e.prototype.query.call(this,i,s,o)}else if(Il(arguments[2],wu)&&arguments[0]instanceof Object&&arguments[1]instanceof Kc){var a=arguments[0],l=arguments[1],u=arguments[2];e.prototype.query.call(this,a,l,u)}},t.prototype.getComparator=function(){return t.yComparator},t.prototype.createParentBoundablesFromVerticalSlice=function(t,n){return e.prototype.createParentBoundables.call(this,t,n)},t.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return e.prototype.remove.call(this,t,n)}return e.prototype.remove.apply(this,arguments)},t.prototype.depth=function(){return 0===arguments.length?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},t.prototype.createParentBoundables=function(e,n){eu.isTrue(!e.isEmpty());var r=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),i=new Su(e);$c.sort(i,t.xComparator);var s=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(s,n)},t.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Il(arguments[0],ih)){var e=arguments[0],n=new eh(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(n)}if(arguments[0]instanceof eh){var r=arguments[0];return this.nearestNeighbour(r,_l.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof t&&Il(arguments[1],ih)){var i=arguments[0],s=arguments[1],o=new eh(this.getRoot(),i.getRoot(),s);return this.nearestNeighbour(o)}if(arguments[0]instanceof eh&&"number"==typeof arguments[1]){var a=arguments[0],l=arguments[1],u=null,c=new Xc;for(c.add(a);!c.isEmpty()&&l>0;){var h=c.poll(),p=h.getDistance();if(p>=l)break;h.isLeaves()?(l=p,u=h):h.expandToQueue(c,l)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[0],f=arguments[1],m=arguments[2],y=new Jc(d,f),g=new eh(this.getRoot(),y,m);return this.nearestNeighbour(g)[0]}},t.prototype.interfaces_=function(){return[Yc,Ii]},t.prototype.getClass=function(){return t},t.centreX=function(e){return t.avg(e.getMinX(),e.getMaxX())},t.avg=function(e,t){return(e+t)/2},t.centreY=function(e){return t.avg(e.getMinY(),e.getMaxY())},n.STRtreeNode.get=function(){return oh},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[wl]},compare:function(n,r){return e.compareDoubles(t.centreX(n.getBounds()),t.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[wl]},compare:function(n,r){return e.compareDoubles(t.centreY(n.getBounds()),t.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(e,t){return e.intersects(t)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(t,n),t}(th),oh=function(e){function t(){var t=arguments[0];e.call(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var e=null,t=this.getChildBoundables().iterator();t.hasNext();){var n=t.next();null===e?e=new Wl(n.getBounds()):e.expandToInclude(n.getBounds())}return e},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Kc),ah=function(){};ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah},ah.relativeSign=function(e,t){return e<t?-1:e>t?1:0},ah.compare=function(e,t,n){if(t.equals2D(n))return 0;var r=ah.relativeSign(t.x,n.x),i=ah.relativeSign(t.y,n.y);switch(e){case 0:return ah.compareValue(r,i);case 1:return ah.compareValue(i,r);case 2:return ah.compareValue(i,-r);case 3:return ah.compareValue(-r,i);case 4:return ah.compareValue(-r,-i);case 5:return ah.compareValue(-i,-r);case 6:return ah.compareValue(-i,r);case 7:return ah.compareValue(r,-i)}return eu.shouldNeverReachHere("invalid octant value"),0},ah.compareValue=function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0};var lh=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._segString=e,this.coord=new Sl(t),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!t.equals2D(e.getCoordinate(n))};lh.prototype.getCoordinate=function(){return this.coord},lh.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},lh.prototype.compareTo=function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:ah.compare(this._segmentOctant,this.coord,t.coord)},lh.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e},lh.prototype.isInterior=function(){return this._isInterior},lh.prototype.interfaces_=function(){return[bl]},lh.prototype.getClass=function(){return lh};var uh=function(){this._nodeMap=new Bi,this._edge=null;var e=arguments[0];this._edge=e};uh.prototype.getSplitCoordinates=function(){var e=new Eu;this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next();this.addEdgeCoordinates(n,r,e),n=r}return e.toCoordinateArray()},uh.prototype.addCollapsedNodes=function(){var e=new Su;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var t=e.iterator();t.hasNext();){var n=t.next().intValue();this.add(this._edge.getCoordinate(n),n)}},uh.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},uh.prototype.findCollapsesFromExistingVertices=function(e){for(var t=0;t<this._edge.size()-2;t++){var n=this._edge.getCoordinate(t),r=this._edge.getCoordinate(t+2);n.equals2D(r)&&e.add(new kl(t+1))}},uh.prototype.addEdgeCoordinates=function(e,t,n){var r=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(r);n.add(new Sl(e.coord),!1);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)n.add(this._edge.getCoordinate(s));i&&n.add(new Sl(t.coord))},uh.prototype.iterator=function(){return this._nodeMap.values().iterator()},uh.prototype.addSplitEdges=function(e){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}},uh.prototype.findCollapseIndex=function(e,t,n){if(!e.coord.equals2D(t.coord))return!1;var r=t.segmentIndex-e.segmentIndex;return t.isInterior()||r--,1===r&&(n[0]=e.segmentIndex+1,!0)},uh.prototype.findCollapsesFromInsertedNodes=function(e){for(var t=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,t)&&e.add(new kl(t[0])),r=i}},uh.prototype.getEdge=function(){return this._edge},uh.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)},uh.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(r);i||n--;var s=new Array(n).fill(null),o=0;s[o++]=new Sl(e.coord);for(var a=e.segmentIndex+1;a<=t.segmentIndex;a++)s[o++]=this._edge.getCoordinate(a);return i&&(s[o]=new Sl(t.coord)),new dh(s,this._edge.getData())},uh.prototype.add=function(e,t){var n=new lh(this._edge,e,t,this._edge.getSegmentOctant(t)),r=this._nodeMap.get(n);return null!==r?(eu.isTrue(r.coord.equals2D(e),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},uh.prototype.checkSplitEdgesCorrectness=function(e){var t=this._edge.getCoordinates(),n=e.get(0).getCoordinate(0);if(!n.equals2D(t[0]))throw new Ql("bad split edge start point at "+n);var r=e.get(e.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(t[t.length-1]))throw new Ql("bad split edge end point at "+i)},uh.prototype.interfaces_=function(){return[]},uh.prototype.getClass=function(){return uh};var ch=function(){};ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch},ch.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new gl("Cannot compute the octant for point ( "+e+", "+t+" )");var n=Math.abs(e),r=Math.abs(t);return e>=0?t>=0?n>=r?0:1:n>=r?7:6:t>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof Sl&&arguments[1]instanceof Sl){var i=arguments[0],s=arguments[1],o=s.x-i.x,a=s.y-i.y;if(0===o&&0===a)throw new gl("Cannot compute the octant for two identical points "+i);return ch.octant(o,a)}};var hh=function(){};hh.prototype.getCoordinates=function(){},hh.prototype.size=function(){},hh.prototype.getCoordinate=function(e){},hh.prototype.isClosed=function(){},hh.prototype.setData=function(e){},hh.prototype.getData=function(){},hh.prototype.interfaces_=function(){return[]},hh.prototype.getClass=function(){return hh};var ph=function(){};ph.prototype.addIntersection=function(e,t){},ph.prototype.interfaces_=function(){return[hh]},ph.prototype.getClass=function(){return ph};var dh=function(){this._nodeList=new uh(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};dh.prototype.getCoordinates=function(){return this._pts},dh.prototype.size=function(){return this._pts.length},dh.prototype.getCoordinate=function(e){return this._pts[e]},dh.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},dh.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},dh.prototype.setData=function(e){this._data=e},dh.prototype.safeOctant=function(e,t){return e.equals2D(t)?0:ch.octant(e,t)},dh.prototype.getData=function(){return this._data},dh.prototype.addIntersection=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[3],s=new Sl(n.getIntersection(i));this.addIntersection(s,r)}},dh.prototype.toString=function(){return Kl.toLineString(new lc(this._pts))},dh.prototype.getNodeList=function(){return this._nodeList},dh.prototype.addIntersectionNode=function(e,t){var n=t,r=n+1;if(r<this._pts.length){var i=this._pts[r];e.equals2D(i)&&(n=r)}return this._nodeList.add(e,n)},dh.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},dh.prototype.interfaces_=function(){return[ph]},dh.prototype.getClass=function(){return dh},dh.getNodedSubstrings=function(){if(1===arguments.length){var e=arguments[0],t=new Su;return dh.getNodedSubstrings(e,t),t}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(r)};var fh=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new Sl,this.p1=new Sl;else if(1===arguments.length){var e=arguments[0];this.p0=new Sl(e.p0),this.p1=new Sl(e.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new Sl(t,n),this.p1=new Sl(r,i)}},mh={serialVersionUID:{configurable:!0}};fh.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},fh.prototype.orientationIndex=function(){if(arguments[0]instanceof fh){var e=arguments[0],t=ou.orientationIndex(this.p0,this.p1,e.p0),n=ou.orientationIndex(this.p0,this.p1,e.p1);return t>=0&&n>=0||t<=0&&n<=0?Math.max(t,n):0}if(arguments[0]instanceof Sl){var r=arguments[0];return ou.orientationIndex(this.p0,this.p1,r)}},fh.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])},fh.prototype.isVertical=function(){return this.p0.x===this.p1.x},fh.prototype.equals=function(e){if(!(e instanceof fh))return!1;var t=e;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)},fh.prototype.intersection=function(e){var t=new ru;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null},fh.prototype.project=function(){if(arguments[0]instanceof Sl){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new Sl(e);var t=this.projectionFactor(e),n=new Sl;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof fh){var r=arguments[0],i=this.projectionFactor(r.p0),s=this.projectionFactor(r.p1);if(i>=1&&s>=1)return null;if(i<=0&&s<=0)return null;var o=this.project(r.p0);i<0&&(o=this.p0),i>1&&(o=this.p1);var a=this.project(r.p1);return s<0&&(a=this.p0),s>1&&(a=this.p1),new fh(o,a)}},fh.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},fh.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},fh.prototype.getCoordinate=function(e){return 0===e?this.p0:this.p1},fh.prototype.distancePerpendicular=function(e){return ou.distancePointLinePerpendicular(e,this.p0,this.p1)},fh.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},fh.prototype.midPoint=function(){return fh.midPoint(this.p0,this.p1)},fh.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=t*t+n*n;return r<=0?_l.NaN:((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/r},fh.prototype.closestPoints=function(e){var t=this.intersection(e);if(null!==t)return[t,t];var n=new Array(2).fill(null),r=_l.MAX_VALUE,i=null,s=this.closestPoint(e.p0);r=s.distance(e.p0),n[0]=s,n[1]=e.p0;var o=this.closestPoint(e.p1);(i=o.distance(e.p1))<r&&(r=i,n[0]=o,n[1]=e.p1);var a=e.closestPoint(this.p0);(i=a.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=a);var l=e.closestPoint(this.p1);return(i=l.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=l),n},fh.prototype.closestPoint=function(e){var t=this.projectionFactor(e);return t>0&&t<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1},fh.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},fh.prototype.getLength=function(){return this.p0.distance(this.p1)},fh.prototype.compareTo=function(e){var t=e,n=this.p0.compareTo(t.p0);return 0!==n?n:this.p1.compareTo(t.p1)},fh.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e},fh.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)},fh.prototype.lineIntersection=function(e){try{return Vl.intersection(this.p0,this.p1,e.p0,e.p1)}catch(e){if(!(e instanceof Gl))throw e}return null},fh.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},fh.prototype.pointAlongOffset=function(e,t){var n=this.p0.x+e*(this.p1.x-this.p0.x),r=this.p0.y+e*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,o=Math.sqrt(i*i+s*s),a=0,l=0;if(0!==t){if(o<=0)throw new Error("Cannot compute offset from zero-length line segment");a=t*i/o,l=t*s/o}return new Sl(n-l,r+a)},fh.prototype.setCoordinates=function(){if(1===arguments.length){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=n.x,this.p1.y=n.y}},fh.prototype.segmentFraction=function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||_l.isNaN(t))&&(t=1),t},fh.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},fh.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},fh.prototype.distance=function(){if(arguments[0]instanceof fh){var e=arguments[0];return ou.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof Sl){var t=arguments[0];return ou.distancePointLine(t,this.p0,this.p1)}},fh.prototype.pointAlong=function(e){var t=new Sl;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t},fh.prototype.hashCode=function(){var e=_l.doubleToLongBits(this.p0.x);e^=31*_l.doubleToLongBits(this.p0.y);var t=Math.trunc(e)^Math.trunc(e>>32),n=_l.doubleToLongBits(this.p1.x);return n^=31*_l.doubleToLongBits(this.p1.y),t^Math.trunc(n)^Math.trunc(n>>32)},fh.prototype.interfaces_=function(){return[bl,Ii]},fh.prototype.getClass=function(){return fh},fh.midPoint=function(e,t){return new Sl((e.x+t.x)/2,(e.y+t.y)/2)},mh.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(fh,mh);var yh=function(){this.tempEnv1=new Wl,this.tempEnv2=new Wl,this._overlapSeg1=new fh,this._overlapSeg2=new fh};yh.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];e.getLineSegment(t,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},yh.prototype.interfaces_=function(){return[]},yh.prototype.getClass=function(){return yh};var gh=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._pts=e,this._start=t,this._end=n,this._context=r};gh.prototype.getLineSegment=function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]},gh.prototype.computeSelect=function(e,t,n,r){var i=this._pts[t],s=this._pts[n];if(r.tempEnv1.init(i,s),n-t==1)return r.select(this,t),null;if(!e.intersects(r.tempEnv1))return null;var o=Math.trunc((t+n)/2);t<o&&this.computeSelect(e,t,o,r),o<n&&this.computeSelect(e,o,n,r)},gh.prototype.getCoordinates=function(){for(var e=new Array(this._end-this._start+1).fill(null),t=0,n=this._start;n<=this._end;n++)e[t++]=this._pts[n];return e},gh.prototype.computeOverlaps=function(e,t){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,t)},gh.prototype.setId=function(e){this._id=e},gh.prototype.select=function(e,t){this.computeSelect(e,this._start,this._end,t)},gh.prototype.getEnvelope=function(){if(null===this._env){var e=this._pts[this._start],t=this._pts[this._end];this._env=new Wl(e,t)}return this._env},gh.prototype.getEndIndex=function(){return this._end},gh.prototype.getStartIndex=function(){return this._start},gh.prototype.getContext=function(){return this._context},gh.prototype.getId=function(){return this._id},gh.prototype.computeOverlapsInternal=function(e,t,n,r,i,s){var o=this._pts[e],a=this._pts[t],l=n._pts[r],u=n._pts[i];if(t-e==1&&i-r==1)return s.overlap(this,e,n,r),null;if(s.tempEnv1.init(o,a),s.tempEnv2.init(l,u),!s.tempEnv1.intersects(s.tempEnv2))return null;var c=Math.trunc((e+t)/2),h=Math.trunc((r+i)/2);e<c&&(r<h&&this.computeOverlapsInternal(e,c,n,r,h,s),h<i&&this.computeOverlapsInternal(e,c,n,h,i,s)),c<t&&(r<h&&this.computeOverlapsInternal(c,t,n,r,h,s),h<i&&this.computeOverlapsInternal(c,t,n,h,i,s))},gh.prototype.interfaces_=function(){return[]},gh.prototype.getClass=function(){return gh};var _h=function(){};_h.prototype.interfaces_=function(){return[]},_h.prototype.getClass=function(){return _h},_h.getChainStartIndices=function(e){var t=0,n=new Su;n.add(new kl(t));do{var r=_h.findChainEnd(e,t);n.add(new kl(r)),t=r}while(t<e.length-1);return _h.toIntArray(n)},_h.findChainEnd=function(e,t){for(var n=t;n<e.length-1&&e[n].equals2D(e[n+1]);)n++;if(n>=e.length-1)return e.length-1;for(var r=qc.quadrant(e[n],e[n+1]),i=t+1;i<e.length;){if(!e[i-1].equals2D(e[i])&&qc.quadrant(e[i-1],e[i])!==r)break;i++}return i-1},_h.getChains=function(){if(1===arguments.length){var e=arguments[0];return _h.getChains(e,null)}if(2===arguments.length){for(var t=arguments[0],n=arguments[1],r=new Su,i=_h.getChainStartIndices(t),s=0;s<i.length-1;s++){var o=new gh(t,i[s],i[s+1],n);r.add(o)}return r}},_h.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var vh=function(){};vh.prototype.computeNodes=function(e){},vh.prototype.getNodedSubstrings=function(){},vh.prototype.interfaces_=function(){return[]},vh.prototype.getClass=function(){return vh};var bh=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setSegmentIntersector(e)}};bh.prototype.setSegmentIntersector=function(e){this._segInt=e},bh.prototype.interfaces_=function(){return[vh]},bh.prototype.getClass=function(){return bh};var xh=function(e){function t(t){t?e.call(this,t):e.call(this),this._monoChains=new Su,this._index=new sh,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return dh.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(e){for(var t=_h.getChains(e.getCoordinates(),e).iterator();t.hasNext();){var n=t.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},t.prototype.computeNodes=function(e){this._nodedSegStrings=e;for(var t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var e=new wh(this._segInt),t=this._monoChains.iterator();t.hasNext();)for(var n=t.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,e),this._nOverlaps++),this._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.SegmentOverlapAction.get=function(){return wh},Object.defineProperties(t,n),t}(bh),wh=function(e){function t(){e.call(this),this._si=null;var t=arguments[0];this._si=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(4!==arguments.length)return e.prototype.overlap.apply(this,arguments);var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3],s=t.getContext(),o=r.getContext();this._si.processIntersections(s,n,o,i)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(yh),Sh=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(s),this.setJoinStyle(o),this.setMitreLimit(a)}},Ch={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Sh.prototype.getEndCapStyle=function(){return this._endCapStyle},Sh.prototype.isSingleSided=function(){return this._isSingleSided},Sh.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=Sh.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Sh.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==Sh.JOIN_ROUND&&(this._quadrantSegments=Sh.DEFAULT_QUADRANT_SEGMENTS)},Sh.prototype.getJoinStyle=function(){return this._joinStyle},Sh.prototype.setJoinStyle=function(e){this._joinStyle=e},Sh.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e},Sh.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Sh.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Sh.prototype.setEndCapStyle=function(e){this._endCapStyle=e},Sh.prototype.getMitreLimit=function(){return this._mitreLimit},Sh.prototype.setMitreLimit=function(e){this._mitreLimit=e},Sh.prototype.setSingleSided=function(e){this._isSingleSided=e},Sh.prototype.interfaces_=function(){return[]},Sh.prototype.getClass=function(){return Sh},Sh.bufferDistanceError=function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)},Ch.CAP_ROUND.get=function(){return 1},Ch.CAP_FLAT.get=function(){return 2},Ch.CAP_SQUARE.get=function(){return 3},Ch.JOIN_ROUND.get=function(){return 1},Ch.JOIN_MITRE.get=function(){return 2},Ch.JOIN_BEVEL.get=function(){return 3},Ch.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Ch.DEFAULT_MITRE_LIMIT.get=function(){return 5},Ch.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Sh,Ch);var Eh=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=ou.COUNTERCLOCKWISE,this._inputLine=e||null},Th={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Eh.prototype.isDeletable=function(e,t,n,r){var i=this._inputLine[e],s=this._inputLine[t],o=this._inputLine[n];return!!this.isConcave(i,s,o)&&!!this.isShallow(i,s,o,r)&&this.isShallowSampled(i,s,e,n,r)},Eh.prototype.deleteShallowConcavities=function(){for(var e=1,t=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(t),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(e,t,n,this._distanceTol)&&(this._isDeleted[t]=Eh.DELETE,i=!0,r=!0),e=i?n:t,t=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(t)}return r},Eh.prototype.isShallowConcavity=function(e,t,n,r){return ou.computeOrientation(e,t,n)===this._angleOrientation&&ou.distancePointLine(t,e,n)<r},Eh.prototype.isShallowSampled=function(e,t,n,r,i){var s=Math.trunc((r-n)/Eh.NUM_PTS_TO_CHECK);s<=0&&(s=1);for(var o=n;o<r;o+=s)if(!this.isShallow(e,t,this._inputLine[o],i))return!1;return!0},Eh.prototype.isConcave=function(e,t,n){var r=ou.computeOrientation(e,t,n)===this._angleOrientation;return r},Eh.prototype.simplify=function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=ou.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var t=!1;do{t=this.deleteShallowConcavities()}while(t);return this.collapseLine()},Eh.prototype.findNextNonDeletedIndex=function(e){for(var t=e+1;t<this._inputLine.length&&this._isDeleted[t]===Eh.DELETE;)t++;return t},Eh.prototype.isShallow=function(e,t,n,r){return ou.distancePointLine(t,e,n)<r},Eh.prototype.collapseLine=function(){for(var e=new Eu,t=0;t<this._inputLine.length;t++)this._isDeleted[t]!==Eh.DELETE&&e.add(this._inputLine[t]);return e.toCoordinateArray()},Eh.prototype.interfaces_=function(){return[]},Eh.prototype.getClass=function(){return Eh},Eh.simplify=function(e,t){return new Eh(e).simplify(t)},Th.INIT.get=function(){return 0},Th.DELETE.get=function(){return 1},Th.KEEP.get=function(){return 1},Th.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Eh,Th);var Ah=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Su},Ph={COORDINATE_ARRAY_TYPE:{configurable:!0}};Ah.prototype.getCoordinates=function(){return this._ptList.toArray(Ah.COORDINATE_ARRAY_TYPE)},Ah.prototype.setPrecisionModel=function(e){this._precisionModel=e},Ah.prototype.addPt=function(e){var t=new Sl(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)},Ah.prototype.revere=function(){},Ah.prototype.addPts=function(e,t){if(t)for(var n=0;n<e.length;n++)this.addPt(e[n]);else for(var r=e.length-1;r>=0;r--)this.addPt(e[r])},Ah.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1);return e.distance(t)<this._minimimVertexDistance},Ah.prototype.toString=function(){return(new gc).createLineString(this.getCoordinates()).toString()},Ah.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new Sl(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)},Ah.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e},Ah.prototype.interfaces_=function(){return[]},Ah.prototype.getClass=function(){return Ah},Ph.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Ah,Ph);var Ih=function(){},Lh={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Ih.prototype.interfaces_=function(){return[]},Ih.prototype.getClass=function(){return Ih},Ih.toDegrees=function(e){return 180*e/Math.PI},Ih.normalize=function(e){for(;e>Math.PI;)e-=Ih.PI_TIMES_2;for(;e<=-Math.PI;)e+=Ih.PI_TIMES_2;return e},Ih.angle=function(){if(1===arguments.length){var e=arguments[0];return Math.atan2(e.y,e.x)}if(2===arguments.length){var t=arguments[0],n=arguments[1],r=n.x-t.x,i=n.y-t.y;return Math.atan2(i,r)}},Ih.isAcute=function(e,t,n){var r=e.x-t.x,i=e.y-t.y;return r*(n.x-t.x)+i*(n.y-t.y)>0},Ih.isObtuse=function(e,t,n){var r=e.x-t.x,i=e.y-t.y;return r*(n.x-t.x)+i*(n.y-t.y)<0},Ih.interiorAngle=function(e,t,n){var r=Ih.angle(t,e),i=Ih.angle(t,n);return Math.abs(i-r)},Ih.normalizePositive=function(e){if(e<0){for(;e<0;)e+=Ih.PI_TIMES_2;e>=Ih.PI_TIMES_2&&(e=0)}else{for(;e>=Ih.PI_TIMES_2;)e-=Ih.PI_TIMES_2;e<0&&(e=0)}return e},Ih.angleBetween=function(e,t,n){var r=Ih.angle(t,e),i=Ih.angle(t,n);return Ih.diff(r,i)},Ih.diff=function(e,t){var n=null;return(n=e<t?t-e:e-t)>Math.PI&&(n=2*Math.PI-n),n},Ih.toRadians=function(e){return e*Math.PI/180},Ih.getTurn=function(e,t){var n=Math.sin(t-e);return n>0?Ih.COUNTERCLOCKWISE:n<0?Ih.CLOCKWISE:Ih.NONE},Ih.angleBetweenOriented=function(e,t,n){var r=Ih.angle(t,e),i=Ih.angle(t,n)-r;return i<=-Math.PI?i+Ih.PI_TIMES_2:i>Math.PI?i-Ih.PI_TIMES_2:i},Lh.PI_TIMES_2.get=function(){return 2*Math.PI},Lh.PI_OVER_2.get=function(){return Math.PI/2},Lh.PI_OVER_4.get=function(){return Math.PI/4},Lh.COUNTERCLOCKWISE.get=function(){return ou.COUNTERCLOCKWISE},Lh.CLOCKWISE.get=function(){return ou.CLOCKWISE},Lh.NONE.get=function(){return ou.COLLINEAR},Object.defineProperties(Ih,Lh);var Mh=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new fh,this._seg1=new fh,this._offset0=new fh,this._offset1=new fh,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new ru,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Sh.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},Oh={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Mh.prototype.addNextSegment=function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=ou.computeOrientation(this._s0,this._s1,this._s2),r=n===ou.CLOCKWISE&&this._side===Ec.LEFT||n===ou.COUNTERCLOCKWISE&&this._side===Ec.RIGHT;0===n?this.addCollinear(t):r?this.addOutsideTurn(n,t):this.addInsideTurn(n,t)},Mh.prototype.addLineEndCap=function(e,t){var n=new fh(e,t),r=new fh;this.computeOffsetSegment(n,Ec.LEFT,this._distance,r);var i=new fh;this.computeOffsetSegment(n,Ec.RIGHT,this._distance,i);var s=t.x-e.x,o=t.y-e.y,a=Math.atan2(o,s);switch(this._bufParams.getEndCapStyle()){case Sh.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(t,a+Math.PI/2,a-Math.PI/2,ou.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case Sh.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case Sh.CAP_SQUARE:var l=new Sl;l.x=Math.abs(this._distance)*Math.cos(a),l.y=Math.abs(this._distance)*Math.sin(a);var u=new Sl(r.p1.x+l.x,r.p1.y+l.y),c=new Sl(i.p1.x+l.x,i.p1.y+l.y);this._segList.addPt(u),this._segList.addPt(c)}},Mh.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Mh.prototype.addMitreJoin=function(e,t,n,r){var i=!0,s=null;try{s=Vl.intersection(t.p0,t.p1,n.p0,n.p1),(r<=0?1:s.distance(e)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(e){if(!(e instanceof Gl))throw e;s=new Sl(0,0),i=!1}i?this._segList.addPt(s):this.addLimitedMitreJoin(t,n,r,this._bufParams.getMitreLimit())},Mh.prototype.addFilletCorner=function(e,t,n,r,i){var s=t.x-e.x,o=t.y-e.y,a=Math.atan2(o,s),l=n.x-e.x,u=n.y-e.y,c=Math.atan2(u,l);r===ou.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(t),this.addFilletArc(e,a,c,r,i),this._segList.addPt(n)},Mh.prototype.addOutsideTurn=function(e,t){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Mh.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Sh.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Sh.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(t&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))},Mh.prototype.createSquare=function(e){this._segList.addPt(new Sl(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new Sl(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new Sl(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new Sl(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()},Mh.prototype.addSegments=function(e,t){this._segList.addPts(e,t)},Mh.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Mh.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Mh.prototype.initSideSegments=function(e,t,n){this._s1=e,this._s2=t,this._side=n,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Mh.prototype.addLimitedMitreJoin=function(e,t,n,r){var i=this._seg0.p1,s=Ih.angle(i,this._seg0.p0),o=Ih.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,a=Ih.normalize(s+o),l=Ih.normalize(a+Math.PI),u=r*n,c=n-u*Math.abs(Math.sin(o)),h=i.x+u*Math.cos(l),p=i.y+u*Math.sin(l),d=new Sl(h,p),f=new fh(i,d),m=f.pointAlongOffset(1,c),y=f.pointAlongOffset(1,-c);this._side===Ec.LEFT?(this._segList.addPt(m),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(m))},Mh.prototype.computeOffsetSegment=function(e,t,n,r){var i=t===Ec.LEFT?1:-1,s=e.p1.x-e.p0.x,o=e.p1.y-e.p0.y,a=Math.sqrt(s*s+o*o),l=i*n*s/a,u=i*n*o/a;r.p0.x=e.p0.x-u,r.p0.y=e.p0.y+l,r.p1.x=e.p1.x-u,r.p1.y=e.p1.y+l},Mh.prototype.addFilletArc=function(e,t,n,r,i){var s=r===ou.CLOCKWISE?-1:1,o=Math.abs(t-n),a=Math.trunc(o/this._filletAngleQuantum+.5);if(a<1)return null;for(var l=o/a,u=0,c=new Sl;u<o;){var h=t+s*u;c.x=e.x+i*Math.cos(h),c.y=e.y+i*Math.sin(h),this._segList.addPt(c),u+=l}},Mh.prototype.addInsideTurn=function(e,t){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Mh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new Sl((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new Sl((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Mh.prototype.createCircle=function(e){var t=new Sl(e.x+this._distance,e.y);this._segList.addPt(t),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Mh.prototype.addBevelJoin=function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)},Mh.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Ah,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*Mh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Mh.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Sh.JOIN_BEVEL||this._bufParams.getJoinStyle()===Sh.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,ou.CLOCKWISE,this._distance))},Mh.prototype.closeRing=function(){this._segList.closeRing()},Mh.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Mh.prototype.interfaces_=function(){return[]},Mh.prototype.getClass=function(){return Mh},Oh.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Oh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Oh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Oh.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Mh,Oh);var kh=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t};kh.prototype.getOffsetCurve=function(e,t){if(this._distance=t,0===t)return null;var n=t<0,r=Math.abs(t),i=this.getSegGen(r);e.length<=1?this.computePointCurve(e[0],i):this.computeOffsetCurve(e,n,i);var s=i.getCoordinates();return n&&Tu.reverse(s),s},kh.prototype.computeSingleSidedBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){n.addSegments(e,!0);var i=Eh.simplify(e,-r),s=i.length-1;n.initSideSegments(i[s],i[s-1],Ec.LEFT),n.addFirstSegment();for(var o=s-2;o>=0;o--)n.addNextSegment(i[o],!0)}else{n.addSegments(e,!1);var a=Eh.simplify(e,r),l=a.length-1;n.initSideSegments(a[0],a[1],Ec.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(a[u],!0)}n.addLastSegment(),n.closeRing()},kh.prototype.computeRingBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);t===Ec.RIGHT&&(r=-r);var i=Eh.simplify(e,r),s=i.length-1;n.initSideSegments(i[s-1],i[0],t);for(var o=1;o<=s;o++){var a=1!==o;n.addNextSegment(i[o],a)}n.closeRing()},kh.prototype.computeLineBufferCurve=function(e,t){var n=this.simplifyTolerance(this._distance),r=Eh.simplify(e,n),i=r.length-1;t.initSideSegments(r[0],r[1],Ec.LEFT);for(var s=2;s<=i;s++)t.addNextSegment(r[s],!0);t.addLastSegment(),t.addLineEndCap(r[i-1],r[i]);var o=Eh.simplify(e,-n),a=o.length-1;t.initSideSegments(o[a],o[a-1],Ec.LEFT);for(var l=a-2;l>=0;l--)t.addNextSegment(o[l],!0);t.addLastSegment(),t.addLineEndCap(o[1],o[0]),t.closeRing()},kh.prototype.computePointCurve=function(e,t){switch(this._bufParams.getEndCapStyle()){case Sh.CAP_ROUND:t.createCircle(e);break;case Sh.CAP_SQUARE:t.createSquare(e)}},kh.prototype.getLineCurve=function(e,t){if(this._distance=t,t<0&&!this._bufParams.isSingleSided())return null;if(0===t)return null;var n=Math.abs(t),r=this.getSegGen(n);if(e.length<=1)this.computePointCurve(e[0],r);else if(this._bufParams.isSingleSided()){var i=t<0;this.computeSingleSidedBufferCurve(e,i,r)}else this.computeLineBufferCurve(e,r);return r.getCoordinates()},kh.prototype.getBufferParameters=function(){return this._bufParams},kh.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()},kh.prototype.getRingCurve=function(e,t,n){if(this._distance=n,e.length<=2)return this.getLineCurve(e,n);if(0===n)return kh.copyCoordinates(e);var r=this.getSegGen(n);return this.computeRingBufferCurve(e,t,r),r.getCoordinates()},kh.prototype.computeOffsetCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){var i=Eh.simplify(e,-r),s=i.length-1;n.initSideSegments(i[s],i[s-1],Ec.LEFT),n.addFirstSegment();for(var o=s-2;o>=0;o--)n.addNextSegment(i[o],!0)}else{var a=Eh.simplify(e,r),l=a.length-1;n.initSideSegments(a[0],a[1],Ec.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(a[u],!0)}n.addLastSegment()},kh.prototype.getSegGen=function(e){return new Mh(this._precisionModel,this._bufParams,e)},kh.prototype.interfaces_=function(){return[]},kh.prototype.getClass=function(){return kh},kh.copyCoordinates=function(e){for(var t=new Array(e.length).fill(null),n=0;n<t.length;n++)t[n]=new Sl(e[n]);return t};var Nh=function(){this._subgraphs=null,this._seg=new fh,this._cga=new ou;var e=arguments[0];this._subgraphs=e},Rh={DepthSegment:{configurable:!0}};Nh.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var e=arguments[0],t=new Su,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();e.y<i.getMinY()||e.y>i.getMaxY()||this.findStabbedSegments(e,r.getDirectedEdges(),t)}return t}if(3===arguments.length)if(Il(arguments[2],wu)&&arguments[0]instanceof Sl&&arguments[1]instanceof Gc){for(var s=arguments[0],o=arguments[1],a=arguments[2],l=o.getEdge().getCoordinates(),u=0;u<l.length-1;u++)if(this._seg.p0=l[u],this._seg.p1=l[u+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<s.x)&&!(this._seg.isHorizontal()||s.y<this._seg.p0.y||s.y>this._seg.p1.y||ou.computeOrientation(this._seg.p0,this._seg.p1,s)===ou.RIGHT)){var c=o.getDepth(Ec.LEFT);this._seg.p0.equals(l[u])||(c=o.getDepth(Ec.RIGHT));var h=new Dh(this._seg,c);a.add(h)}}else if(Il(arguments[2],wu)&&arguments[0]instanceof Sl&&Il(arguments[1],wu))for(var p=arguments[0],d=arguments[1],f=arguments[2],m=d.iterator();m.hasNext();){var y=m.next();y.isForward()&&this.findStabbedSegments(p,y,f)}},Nh.prototype.getDepth=function(e){var t=this.findStabbedSegments(e);return 0===t.size()?0:$c.min(t)._leftDepth},Nh.prototype.interfaces_=function(){return[]},Nh.prototype.getClass=function(){return Nh},Rh.DepthSegment.get=function(){return Dh},Object.defineProperties(Nh,Rh);var Dh=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new fh(e),this._leftDepth=t};Dh.prototype.compareTo=function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(t._upwardSeg);return 0!==n||0!=(n=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(t._upwardSeg)},Dh.prototype.compareX=function(e,t){var n=e.p0.compareTo(t.p0);return 0!==n?n:e.p1.compareTo(t.p1)},Dh.prototype.toString=function(){return this._upwardSeg.toString()},Dh.prototype.interfaces_=function(){return[bl]},Dh.prototype.getClass=function(){return Dh};var Fh=function(e,t,n){this.p0=e||null,this.p1=t||null,this.p2=n||null};Fh.prototype.area=function(){return Fh.area(this.p0,this.p1,this.p2)},Fh.prototype.signedArea=function(){return Fh.signedArea(this.p0,this.p1,this.p2)},Fh.prototype.interpolateZ=function(e){if(null===e)throw new gl("Supplied point is null.");return Fh.interpolateZ(e,this.p0,this.p1,this.p2)},Fh.prototype.longestSideLength=function(){return Fh.longestSideLength(this.p0,this.p1,this.p2)},Fh.prototype.isAcute=function(){return Fh.isAcute(this.p0,this.p1,this.p2)},Fh.prototype.circumcentre=function(){return Fh.circumcentre(this.p0,this.p1,this.p2)},Fh.prototype.area3D=function(){return Fh.area3D(this.p0,this.p1,this.p2)},Fh.prototype.centroid=function(){return Fh.centroid(this.p0,this.p1,this.p2)},Fh.prototype.inCentre=function(){return Fh.inCentre(this.p0,this.p1,this.p2)},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh},Fh.area=function(e,t,n){return Math.abs(((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2)},Fh.signedArea=function(e,t,n){return((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2},Fh.det=function(e,t,n,r){return e*r-t*n},Fh.interpolateZ=function(e,t,n,r){var i=t.x,s=t.y,o=n.x-i,a=r.x-i,l=n.y-s,u=r.y-s,c=o*u-a*l,h=e.x-i,p=e.y-s,d=(u*h-a*p)/c,f=(-l*h+o*p)/c;return t.z+d*(n.z-t.z)+f*(r.z-t.z)},Fh.longestSideLength=function(e,t,n){var r=e.distance(t),i=t.distance(n),s=n.distance(e),o=r;return i>o&&(o=i),s>o&&(o=s),o},Fh.isAcute=function(e,t,n){return!!Ih.isAcute(e,t,n)&&!!Ih.isAcute(t,n,e)&&!!Ih.isAcute(n,e,t)},Fh.circumcentre=function(e,t,n){var r=n.x,i=n.y,s=e.x-r,o=e.y-i,a=t.x-r,l=t.y-i,u=2*Fh.det(s,o,a,l),c=Fh.det(o,s*s+o*o,l,a*a+l*l),h=Fh.det(s,s*s+o*o,a,a*a+l*l);return new Sl(r-c/u,i+h/u)},Fh.perpendicularBisector=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=new Vl(e.x+n/2,e.y+r/2,1),s=new Vl(e.x-r+n/2,e.y+n+r/2,1);return new Vl(i,s)},Fh.angleBisector=function(e,t,n){var r=t.distance(e),i=r/(r+t.distance(n)),s=n.x-e.x,o=n.y-e.y;return new Sl(e.x+i*s,e.y+i*o)},Fh.area3D=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,s=t.z-e.z,o=n.x-e.x,a=n.y-e.y,l=n.z-e.z,u=i*l-s*a,c=s*o-r*l,h=r*a-i*o,p=u*u+c*c+h*h,d=Math.sqrt(p)/2;return d},Fh.centroid=function(e,t,n){var r=(e.x+t.x+n.x)/3,i=(e.y+t.y+n.y)/3;return new Sl(r,i)},Fh.inCentre=function(e,t,n){var r=t.distance(n),i=e.distance(n),s=e.distance(t),o=r+i+s,a=(r*e.x+i*t.x+s*n.x)/o,l=(r*e.y+i*t.y+s*n.y)/o;return new Sl(a,l)};var Bh=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Su;var e=arguments[0],t=arguments[1],n=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=n};Bh.prototype.addPoint=function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,Al.EXTERIOR,Al.INTERIOR)},Bh.prototype.addPolygon=function(e){var t=this._distance,n=Ec.LEFT;this._distance<0&&(t=-this._distance,n=Ec.RIGHT);var r=e.getExteriorRing(),i=Tu.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,t,n,Al.EXTERIOR,Al.INTERIOR);for(var s=0;s<e.getNumInteriorRing();s++){var o=e.getInteriorRingN(s),a=Tu.removeRepeatedPoints(o.getCoordinates());this._distance>0&&this.isErodedCompletely(o,-this._distance)||this.addPolygonRing(a,t,Ec.opposite(n),Al.INTERIOR,Al.EXTERIOR)}},Bh.prototype.isTriangleErodedCompletely=function(e,t){var n=new Fh(e[0],e[1],e[2]),r=n.inCentre();return ou.distancePointLine(r,n.p0,n.p1)<Math.abs(t)},Bh.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var t=Tu.removeRepeatedPoints(e.getCoordinates()),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,Al.EXTERIOR,Al.INTERIOR)},Bh.prototype.addCurve=function(e,t,n){if(null===e||e.length<2)return null;var r=new dh(e,new Oc(0,Al.BOUNDARY,t,n));this._curveList.add(r)},Bh.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Bh.prototype.addPolygonRing=function(e,t,n,r,i){if(0===t&&e.length<tc.MINIMUM_VALID_SIZE)return null;var s=r,o=i;e.length>=tc.MINIMUM_VALID_SIZE&&ou.isCCW(e)&&(s=i,o=r,n=Ec.opposite(n));var a=this._curveBuilder.getRingCurve(e,n,t);this.addCurve(a,s,o)},Bh.prototype.add=function(e){if(e.isEmpty())return null;e instanceof $u?this.addPolygon(e):e instanceof Zu?this.addLineString(e):e instanceof Ku?this.addPoint(e):(e instanceof ec||e instanceof ju||e instanceof nc||e instanceof Gu)&&this.addCollection(e)},Bh.prototype.isErodedCompletely=function(e,t){var n=e.getCoordinates();if(n.length<4)return t<0;if(4===n.length)return this.isTriangleErodedCompletely(n,t);var r=e.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return t<0&&2*Math.abs(t)>i},Bh.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh};var qh=function(){};qh.prototype.locate=function(e){},qh.prototype.interfaces_=function(){return[]},qh.prototype.getClass=function(){return qh};var zh=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};zh.prototype.next=function(){if(this._atStart)return this._atStart=!1,zh.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Li;var e=this._parent.getGeometryN(this._index++);return e instanceof Gu?(this._subcollectionIterator=new zh(e),this._subcollectionIterator.next()):e},zh.prototype.remove=function(){throw new Error(this.getClass().getName())},zh.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},zh.prototype.interfaces_=function(){return[xu]},zh.prototype.getClass=function(){return zh},zh.isAtomic=function(e){return!(e instanceof Gu)};var Uh=function(){this._geom=null;var e=arguments[0];this._geom=e};Uh.prototype.locate=function(e){return Uh.locate(e,this._geom)},Uh.prototype.interfaces_=function(){return[qh]},Uh.prototype.getClass=function(){return Uh},Uh.isPointInRing=function(e,t){return!!t.getEnvelopeInternal().intersects(e)&&ou.isPointInRing(e,t.getCoordinates())},Uh.containsPointInPolygon=function(e,t){if(t.isEmpty())return!1;var n=t.getExteriorRing();if(!Uh.isPointInRing(e,n))return!1;for(var r=0;r<t.getNumInteriorRing();r++){var i=t.getInteriorRingN(r);if(Uh.isPointInRing(e,i))return!1}return!0},Uh.containsPoint=function(e,t){if(t instanceof $u)return Uh.containsPointInPolygon(e,t);if(t instanceof Gu)for(var n=new zh(t);n.hasNext();){var r=n.next();if(r!==t&&Uh.containsPoint(e,r))return!0}return!1},Uh.locate=function(e,t){return t.isEmpty()?Al.EXTERIOR:Uh.containsPoint(e,t)?Al.INTERIOR:Al.EXTERIOR};var Gh=function(){this._edgeMap=new Bi,this._edgeList=null,this._ptInAreaLocation=[Al.NONE,Al.NONE]};Gh.prototype.getNextCW=function(e){this.getEdges();var t=this._edgeList.indexOf(e),n=t-1;return 0===t&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Gh.prototype.propagateSideLabels=function(e){for(var t=Al.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(e)&&r.getLocation(e,Ec.LEFT)!==Al.NONE&&(t=r.getLocation(e,Ec.LEFT))}if(t===Al.NONE)return null;for(var i=t,s=this.iterator();s.hasNext();){var o=s.next(),a=o.getLabel();if(a.getLocation(e,Ec.ON)===Al.NONE&&a.setLocation(e,Ec.ON,i),a.isArea(e)){var l=a.getLocation(e,Ec.LEFT),u=a.getLocation(e,Ec.RIGHT);if(u!==Al.NONE){if(u!==i)throw new Pc("side location conflict",o.getCoordinate());l===Al.NONE&&eu.shouldNeverReachHere("found single null side (at "+o.getCoordinate()+")"),i=l}else eu.isTrue(a.getLocation(e,Ec.LEFT)===Al.NONE,"found single null side"),a.setLocation(e,Ec.RIGHT,i),a.setLocation(e,Ec.LEFT,i)}}},Gh.prototype.getCoordinate=function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null},Gh.prototype.print=function(e){jl.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(e)},Gh.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Gh.prototype.checkAreaLabelsConsistent=function(e){var t=this.getEdges();if(t.size()<=0)return!0;var n=t.size()-1,r=t.get(n).getLabel().getLocation(e,Ec.LEFT);eu.isTrue(r!==Al.NONE,"Found unlabelled area edge");for(var i=r,s=this.iterator();s.hasNext();){var o=s.next().getLabel();eu.isTrue(o.isArea(e),"Found non-area edge");var a=o.getLocation(e,Ec.LEFT),l=o.getLocation(e,Ec.RIGHT);if(a===l)return!1;if(l!==i)return!1;i=a}return!0},Gh.prototype.findIndex=function(e){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===e)return t;return-1},Gh.prototype.iterator=function(){return this.getEdges().iterator()},Gh.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Su(this._edgeMap.values())),this._edgeList},Gh.prototype.getLocation=function(e,t,n){return this._ptInAreaLocation[e]===Al.NONE&&(this._ptInAreaLocation[e]=Uh.locate(t,n[e].getGeometry())),this._ptInAreaLocation[e]},Gh.prototype.toString=function(){var e=new Ol;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append("\n");for(var t=this.iterator();t.hasNext();){var n=t.next();e.append(n),e.append("\n")}return e.toString()},Gh.prototype.computeEdgeEndLabels=function(e){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(e)},Gh.prototype.computeLabelling=function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===Al.BOUNDARY&&(t[i]=!0);for(var s=this.iterator();s.hasNext();)for(var o=s.next(),a=o.getLabel(),l=0;l<2;l++)if(a.isAnyNull(l)){var u=Al.NONE;if(t[l])u=Al.EXTERIOR;else{var c=o.getCoordinate();u=this.getLocation(l,c,e)}a.setAllLocationsIfNull(l,u)}},Gh.prototype.getDegree=function(){return this._edgeMap.size()},Gh.prototype.insertEdgeEnd=function(e,t){this._edgeMap.put(e,t),this._edgeList=null},Gh.prototype.interfaces_=function(){return[]},Gh.prototype.getClass=function(){return Gh};var jh=function(e){function t(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var e=null,t=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),s=i.getSym();if(i.getLabel().isArea())switch(null===e&&i.isInResult()&&(e=i),n){case this._SCANNING_FOR_INCOMING:if(!s.isInResult())continue;t=s,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;t.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===e)throw new Pc("no outgoing dirEdge found",this.getCoordinate());eu.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),t.setNext(e)}},t.prototype.insert=function(e){var t=e;this.insertEdgeEnd(t,t)},t.prototype.getRightmostEdge=function(){var e=this.getEdges(),t=e.size();if(t<1)return null;var n=e.get(0);if(1===t)return n;var r=e.get(t-1),i=n.getQuadrant(),s=r.getQuadrant();return qc.isNorthern(i)&&qc.isNorthern(s)?n:qc.isNorthern(i)||qc.isNorthern(s)?0!==n.getDy()?n:0!==r.getDy()?r:(eu.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},t.prototype.print=function(e){jl.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var n=t.next();e.print("out "),n.print(e),e.println(),e.print("in "),n.getSym().print(e),e.println()}},t.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Su;for(var e=this.iterator();e.hasNext();){var t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(e){for(var t=this.iterator();t.hasNext();){var n=t.next().getLabel();n.setAllLocationsIfNull(0,e.getLocation(0)),n.setAllLocationsIfNull(1,e.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var e=null,t=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===t&&(t=i),null!==e&&i.setNext(e),e=r}t.setNext(e)},t.prototype.computeDepths=function(){if(1===arguments.length){var e=arguments[0],t=this.findIndex(e),n=e.getDepth(Ec.LEFT),r=e.getDepth(Ec.RIGHT),i=this.computeDepths(t+1,this._edgeList.size(),n);if(this.computeDepths(0,t,i)!==r)throw new Pc("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var s=arguments[0],o=arguments[1],a=arguments[2],l=s;l<o;l++){var u=this._edgeList.get(l);u.setEdgeDepths(Ec.RIGHT,a),a=u.getDepth(Ec.LEFT)}return a}},t.prototype.mergeSymLabels=function(){for(var e=this.iterator();e.hasNext();){var t=e.next();t.getLabel().merge(t.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(e){for(var t=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var s=this._resultAreaEdgeList.get(i),o=s.getSym();switch(null===t&&s.getEdgeRing()===e&&(t=s),r){case this._SCANNING_FOR_INCOMING:if(o.getEdgeRing()!==e)continue;n=o,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(s.getEdgeRing()!==e)continue;n.setNextMin(s),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(eu.isTrue(null!==t,"found null for first outgoing dirEdge"),eu.isTrue(t.getEdgeRing()===e,"unable to link last incoming dirEdge"),n.setNextMin(t))},t.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var e=0,t=this.iterator();t.hasNext();)t.next().isInResult()&&e++;return e}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var e=Al.NONE,t=this.iterator();t.hasNext();){var n=t.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){e=Al.INTERIOR;break}if(r.isInResult()){e=Al.EXTERIOR;break}}}if(e===Al.NONE)return null;for(var i=e,s=this.iterator();s.hasNext();){var o=s.next(),a=o.getSym();o.isLineEdge()?o.getEdge().setCovered(i===Al.INTERIOR):(o.isInResult()&&(i=Al.EXTERIOR),a.isInResult()&&(i=Al.INTERIOR))}},t.prototype.computeLabelling=function(t){e.prototype.computeLabelling.call(this,t),this._label=new Oc(Al.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var s=r.getLocation(i);s!==Al.INTERIOR&&s!==Al.BOUNDARY||this._label.setLocation(i,Al.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Gh),Vh=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(e){return new Fc(e,new jh)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(jc),Wh=function e(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)};Wh.prototype.compareTo=function(e){var t=e;return Wh.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},Wh.prototype.interfaces_=function(){return[bl]},Wh.prototype.getClass=function(){return Wh},Wh.orientation=function(e){return 1===Tu.increasingDirection(e)},Wh.compareOriented=function(e,t,n,r){for(var i=t?1:-1,s=r?1:-1,o=t?e.length:-1,a=r?n.length:-1,l=t?0:e.length-1,u=r?0:n.length-1;;){var c=e[l].compareTo(n[u]);if(0!==c)return c;var h=(l+=i)===o,p=(u+=s)===a;if(h&&!p)return-1;if(!h&&p)return 1;if(h&&p)return 0}};var Hh=function(){this._edges=new Su,this._ocaMap=new Bi};Hh.prototype.print=function(e){e.print("MULTILINESTRING ( ");for(var t=0;t<this._edges.size();t++){var n=this._edges.get(t);t>0&&e.print(","),e.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&e.print(","),e.print(r[i].x+" "+r[i].y);e.println(")")}e.print(")  ")},Hh.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next())},Hh.prototype.findEdgeIndex=function(e){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(e))return t;return-1},Hh.prototype.iterator=function(){return this._edges.iterator()},Hh.prototype.getEdges=function(){return this._edges},Hh.prototype.get=function(e){return this._edges.get(e)},Hh.prototype.findEqualEdge=function(e){var t=new Wh(e.getCoordinates());return this._ocaMap.get(t)},Hh.prototype.add=function(e){this._edges.add(e);var t=new Wh(e.getCoordinates());this._ocaMap.put(t,e)},Hh.prototype.interfaces_=function(){return[]},Hh.prototype.getClass=function(){return Hh};var Jh=function(){};Jh.prototype.processIntersections=function(e,t,n,r){},Jh.prototype.isDone=function(){},Jh.prototype.interfaces_=function(){return[]},Jh.prototype.getClass=function(){return Jh};var Xh=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};Xh.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if(Xh.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.size()-1;if(0===t&&r===i||0===r&&t===i)return!0}}return!1},Xh.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Xh.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Xh.prototype.getLineIntersector=function(){return this._li},Xh.prototype.hasProperIntersection=function(){return this._hasProper},Xh.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],s=e.getCoordinates()[t+1],o=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,s,o,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Xh.prototype.hasIntersection=function(){return this._hasIntersection},Xh.prototype.isDone=function(){return!1},Xh.prototype.hasInteriorIntersection=function(){return this._hasInterior},Xh.prototype.interfaces_=function(){return[Jh]},Xh.prototype.getClass=function(){return Xh},Xh.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var Zh=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.coord=new Sl(e),this.segmentIndex=t,this.dist=n};Zh.prototype.getSegmentIndex=function(){return this.segmentIndex},Zh.prototype.getCoordinate=function(){return this.coord},Zh.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},Zh.prototype.compareTo=function(e){var t=e;return this.compare(t.segmentIndex,t.dist)},Zh.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e},Zh.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Zh.prototype.getDistance=function(){return this.dist},Zh.prototype.compare=function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0},Zh.prototype.interfaces_=function(){return[bl]},Zh.prototype.getClass=function(){return Zh};var Yh=function(){this._nodeMap=new Bi,this.edge=null;var e=arguments[0];this.edge=e};Yh.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},Yh.prototype.iterator=function(){return this._nodeMap.values().iterator()},Yh.prototype.addSplitEdges=function(e){this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}},Yh.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},Yh.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this.edge.pts[t.segmentIndex],i=t.dist>0||!t.coord.equals2D(r);i||n--;var s=new Array(n).fill(null),o=0;s[o++]=new Sl(e.coord);for(var a=e.segmentIndex+1;a<=t.segmentIndex;a++)s[o++]=this.edge.pts[a];return i&&(s[o]=t.coord),new tp(s,new Oc(this.edge._label))},Yh.prototype.add=function(e,t,n){var r=new Zh(e,t,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Yh.prototype.isIntersection=function(e){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(e))return!0;return!1},Yh.prototype.interfaces_=function(){return[]},Yh.prototype.getClass=function(){return Yh};var Kh=function(){};Kh.prototype.getChainStartIndices=function(e){var t=0,n=new Su;n.add(new kl(t));do{var r=this.findChainEnd(e,t);n.add(new kl(r)),t=r}while(t<e.length-1);return Kh.toIntArray(n)},Kh.prototype.findChainEnd=function(e,t){for(var n=qc.quadrant(e[t],e[t+1]),r=t+1;r<e.length;){if(qc.quadrant(e[r-1],e[r])!==n)break;r++}return r-1},Kh.prototype.interfaces_=function(){return[]},Kh.prototype.getClass=function(){return Kh},Kh.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var Qh=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Wl,this.env2=new Wl;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new Kh;this.startIndex=t.getChainStartIndices(this.pts)};Qh.prototype.getCoordinates=function(){return this.pts},Qh.prototype.getMaxX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t>n?t:n},Qh.prototype.getMinX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t<n?t:n},Qh.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[n],t.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3],l=arguments[4],u=arguments[5],c=this.pts[i],h=this.pts[s],p=o.pts[a],d=o.pts[l];if(s-i==1&&l-a==1)return u.addIntersections(this.e,i,o.e,a),null;if(this.env1.init(c,h),this.env2.init(p,d),!this.env1.intersects(this.env2))return null;var f=Math.trunc((i+s)/2),m=Math.trunc((a+l)/2);i<f&&(a<m&&this.computeIntersectsForChain(i,f,o,a,m,u),m<l&&this.computeIntersectsForChain(i,f,o,m,l,u)),f<s&&(a<m&&this.computeIntersectsForChain(f,s,o,a,m,u),m<l&&this.computeIntersectsForChain(f,s,o,m,l,u))}},Qh.prototype.getStartIndexes=function(){return this.startIndex},Qh.prototype.computeIntersects=function(e,t){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<e.startIndex.length-1;r++)this.computeIntersectsForChain(n,e,r,t)},Qh.prototype.interfaces_=function(){return[]},Qh.prototype.getClass=function(){return Qh};var $h=function e(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var t=0;t<2;t++)for(var n=0;n<3;n++)this._depth[t][n]=e.NULL_VALUE},ep={NULL_VALUE:{configurable:!0}};$h.prototype.getDepth=function(e,t){return this._depth[e][t]},$h.prototype.setDepth=function(e,t,n){this._depth[e][t]=n},$h.prototype.isNull=function(){if(0===arguments.length){for(var e=0;e<2;e++)for(var t=0;t<3;t++)if(this._depth[e][t]!==$h.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===$h.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===$h.NULL_VALUE}},$h.prototype.normalize=function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var t=this._depth[e][1];this._depth[e][2]<t&&(t=this._depth[e][2]),t<0&&(t=0);for(var n=1;n<3;n++){var r=0;this._depth[e][n]>t&&(r=1),this._depth[e][n]=r}}},$h.prototype.getDelta=function(e){return this._depth[e][Ec.RIGHT]-this._depth[e][Ec.LEFT]},$h.prototype.getLocation=function(e,t){return this._depth[e][t]<=0?Al.EXTERIOR:Al.INTERIOR},$h.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},$h.prototype.add=function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<2;t++)for(var n=1;n<3;n++){var r=e.getLocation(t,n);r!==Al.EXTERIOR&&r!==Al.INTERIOR||(this.isNull(t,n)?this._depth[t][n]=$h.depthAtLocation(r):this._depth[t][n]+=$h.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],s=arguments[1];arguments[2]===Al.INTERIOR&&this._depth[i][s]++}},$h.prototype.interfaces_=function(){return[]},$h.prototype.getClass=function(){return $h},$h.depthAtLocation=function(e){return e===Al.EXTERIOR?0:e===Al.INTERIOR?1:$h.NULL_VALUE},ep.NULL_VALUE.get=function(){return-1},Object.defineProperties($h,ep);var tp=function(e){function t(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new Yh(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new $h,this._depthDelta=0,1===arguments.length){var n=arguments[0];t.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var e=new Array(2).fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new t(e,Oc.toLineLabel(this._label))},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(e){this._isIsolated=e},t.prototype.setName=function(e){this._name=e},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,s=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(n.pts[o])||(r=!1),this.pts[o].equals2D(n.pts[--s])||(i=!1),!r&&!i)return!1;return!0},t.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var e=arguments[0];return this.pts[e]}},t.prototype.print=function(e){e.print("edge "+this._name+": "),e.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.print(","),e.print(this.pts[t].x+" "+this.pts[t].y);e.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(e){t.updateIM(this._label,e)},t.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(e){e.print("edge "+this._name+": ");for(var t=this.pts.length-1;t>=0;t--)e.print(this.pts[t]+" ");e.println("")},t.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Qh(this)),this._mce},t.prototype.getEnvelope=function(){if(null===this._env){this._env=new Wl;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env},t.prototype.addIntersection=function(e,t,n,r){var i=new Sl(e.getIntersection(r)),s=t,o=e.getEdgeDistance(n,r),a=s+1;if(a<this.pts.length){var l=this.pts[a];i.equals2D(l)&&(s=a,o=0)}this.eiList.add(i,s,o)},t.prototype.toString=function(){var e=new Ol;e.append("edge "+this._name+": "),e.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.append(","),e.append(this.pts[t].x+" "+this.pts[t].y);return e.append(")  "+this._label+" "+this._depthDelta),e.toString()},t.prototype.isPointwiseEqual=function(e){if(this.pts.length!==e.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(e.pts[t]))return!1;return!0},t.prototype.setDepthDelta=function(e){this._depthDelta=e},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(2!==arguments.length)return e.prototype.updateIM.apply(this,arguments);var t=arguments[0],n=arguments[1];n.setAtLeastIfValid(t.getLocation(0,Ec.ON),t.getLocation(1,Ec.ON),1),t.isArea()&&(n.setAtLeastIfValid(t.getLocation(0,Ec.LEFT),t.getLocation(1,Ec.LEFT),2),n.setAtLeastIfValid(t.getLocation(0,Ec.RIGHT),t.getLocation(1,Ec.RIGHT),2))},t}(Dc),np=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Hh,this._bufParams=e||null};np.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e},np.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new Oc(e.getLabel())).flip(),n.merge(r);var i=np.depthDelta(r),s=t.getDepthDelta()+i;t.setDepthDelta(s)}else this._edgeList.add(e),e.setDepthDelta(np.depthDelta(e.getLabel()))},np.prototype.buildSubgraphs=function(e,t){for(var n=new Su,r=e.iterator();r.hasNext();){var i=r.next(),s=i.getRightmostCoordinate(),o=new Nh(n).getDepth(s);i.computeDepth(o),i.findResultEdges(),n.add(i),t.add(i.getDirectedEdges(),i.getNodes())}},np.prototype.createSubgraphs=function(e){for(var t=new Su,n=e.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Lc;i.create(r),t.add(i)}}return $c.sort(t,$c.reverseOrder()),t},np.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},np.prototype.getNoder=function(e){if(null!==this._workingNoder)return this._workingNoder;var t=new xh,n=new ru;return n.setPrecisionModel(e),t.setSegmentIntersector(new Xh(n)),t},np.prototype.buffer=function(e,t){var n=this._workingPrecisionModel;null===n&&(n=e.getPrecisionModel()),this._geomFact=e.getFactory();var r=new kh(n,this._bufParams),i=new Bh(e,t,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Vc(new Vh),this._graph.addEdges(this._edgeList.getEdges());var s=this.createSubgraphs(this._graph),o=new Wc(this._geomFact);this.buildSubgraphs(s,o);var a=o.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},np.prototype.computeNodedEdges=function(e,t){var n=this.getNoder(t);n.computeNodes(e);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),s=i.getCoordinates();if(2!==s.length||!s[0].equals2D(s[1])){var o=i.getData(),a=new tp(i.getCoordinates(),new Oc(o));this.insertUniqueEdge(a)}}},np.prototype.setNoder=function(e){this._workingNoder=e},np.prototype.interfaces_=function(){return[]},np.prototype.getClass=function(){return np},np.depthDelta=function(e){var t=e.getLocation(0,Ec.LEFT),n=e.getLocation(0,Ec.RIGHT);return t===Al.INTERIOR&&n===Al.EXTERIOR?1:t===Al.EXTERIOR&&n===Al.INTERIOR?-1:0},np.convertSegStrings=function(e){for(var t=new gc,n=new Su;e.hasNext();){var r=e.next(),i=t.createLineString(r.getCoordinates());n.add(i)}return t.buildGeometry(n)};var rp=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[0],t=arguments[1];this._noder=e,this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=s,this._isScaled=!this.isIntegerPrecision()}};rp.prototype.rescale=function(){if(Il(arguments[0],vu))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.rescale(t.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&jl.out.println(n)}},rp.prototype.scale=function(){if(Il(arguments[0],vu)){for(var e=arguments[0],t=new Su,n=e.iterator();n.hasNext();){var r=n.next();t.add(new dh(this.scale(r.getCoordinates()),r.getData()))}return t}if(arguments[0]instanceof Array){for(var i=arguments[0],s=new Array(i.length).fill(null),o=0;o<i.length;o++)s[o]=new Sl(Math.round((i[o].x-this._offsetX)*this._scaleFactor),Math.round((i[o].y-this._offsetY)*this._scaleFactor),i[o].z);return Tu.removeRepeatedPoints(s)}},rp.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},rp.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e},rp.prototype.computeNodes=function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)},rp.prototype.interfaces_=function(){return[vh]},rp.prototype.getClass=function(){return rp};var ip=function(){this._li=new ru,this._segStrings=null;var e=arguments[0];this._segStrings=e},sp={fact:{configurable:!0}};ip.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next().getCoordinates();this.checkEndPtVertexIntersections(t[0],this._segStrings),this.checkEndPtVertexIntersections(t[t.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),s=1;s<i.length-1;s++)if(i[s].equals(n))throw new Ql("found endpt/interior pt intersection at index "+s+" :pt "+n)},ip.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var t=e.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(t,r)}else if(2===arguments.length)for(var i=arguments[0],s=arguments[1],o=i.getCoordinates(),a=s.getCoordinates(),l=0;l<o.length-1;l++)for(var u=0;u<a.length-1;u++)this.checkInteriorIntersections(i,l,s,u);else if(4===arguments.length){var c=arguments[0],h=arguments[1],p=arguments[2],d=arguments[3];if(c===p&&h===d)return null;var f=c.getCoordinates()[h],m=c.getCoordinates()[h+1],y=p.getCoordinates()[d],g=p.getCoordinates()[d+1];if(this._li.computeIntersection(f,m,y,g),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,f,m)||this.hasInteriorIntersection(this._li,y,g)))throw new Ql("found non-noded intersection at "+f+"-"+m+" and "+y+"-"+g)}},ip.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},ip.prototype.checkCollapses=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next();this.checkCollapses(t)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},ip.prototype.hasInteriorIntersection=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++){var i=e.getIntersection(r);if(!i.equals(t)&&!i.equals(n))return!0}return!1},ip.prototype.checkCollapse=function(e,t,n){if(e.equals(n))throw new Ql("found non-noded collapse at "+ip.fact.createLineString([e,t,n]))},ip.prototype.interfaces_=function(){return[]},ip.prototype.getClass=function(){return ip},sp.fact.get=function(){return new gc},Object.defineProperties(ip,sp);var op=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=n,t<=0)throw new gl("Scale factor must be non-zero");1!==t&&(this._pt=new Sl(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new Sl,this._p1Scaled=new Sl),this.initCorners(this._pt)},ap={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};op.prototype.intersectsScaled=function(e,t){var n=Math.min(e.x,t.x),r=Math.max(e.x,t.x),i=Math.min(e.y,t.y),s=Math.max(e.y,t.y),o=this._maxx<n||this._minx>r||this._maxy<i||this._miny>s;if(o)return!1;var a=this.intersectsToleranceSquare(e,t);return eu.isTrue(!(o&&a),"Found bad envelope test"),a},op.prototype.initCorners=function(e){this._minx=e.x-.5,this._maxx=e.x+.5,this._miny=e.y-.5,this._maxy=e.y+.5,this._corner[0]=new Sl(this._maxx,this._maxy),this._corner[1]=new Sl(this._minx,this._maxy),this._corner[2]=new Sl(this._minx,this._miny),this._corner[3]=new Sl(this._maxx,this._miny)},op.prototype.intersects=function(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},op.prototype.scale=function(e){return Math.round(e*this._scaleFactor)},op.prototype.getCoordinate=function(){return this._originalPt},op.prototype.copyScaled=function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)},op.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var e=op.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Wl(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv},op.prototype.intersectsPixelClosure=function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},op.prototype.intersectsToleranceSquare=function(e,t){var n=!1,r=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!n||!r)||!!e.equals(this._pt)||!!t.equals(this._pt))))},op.prototype.addSnappedNode=function(e,t){var n=e.getCoordinate(t),r=e.getCoordinate(t+1);return!!this.intersects(n,r)&&(e.addIntersection(this.getCoordinate(),t),!0)},op.prototype.interfaces_=function(){return[]},op.prototype.getClass=function(){return op},ap.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(op,ap);var lp=function(){this.tempEnv1=new Wl,this.selectedSegment=new fh};lp.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];e.getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}},lp.prototype.interfaces_=function(){return[]},lp.prototype.getClass=function(){return lp};var up=function(){this._index=null;var e=arguments[0];this._index=e},cp={HotPixelSnapAction:{configurable:!0}};up.prototype.snap=function(){if(1===arguments.length){var e=arguments[0];return this.snap(e,null,-1)}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],i=t.getSafeEnvelope(),s=new hp(t,n,r);return this._index.query(i,{interfaces_:function(){return[Zc]},visitItem:function(e){e.select(i,s)}}),s.isNodeAdded()}},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up},cp.HotPixelSnapAction.get=function(){return hp},Object.defineProperties(up,cp);var hp=function(e){function t(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=t,this._parentEdge=n,this._hotPixelVertexIndex=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(2!==arguments.length)return e.prototype.select.apply(this,arguments);var t=arguments[0],n=arguments[1],r=t.getContext();if(null!==this._parentEdge&&r===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(r,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(lp),pp=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new Su};pp.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;var i=e.getCoordinates()[t],s=e.getCoordinates()[t+1],o=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,s,o,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)}},pp.prototype.isDone=function(){return!1},pp.prototype.getInteriorIntersections=function(){return this._interiorIntersections},pp.prototype.interfaces_=function(){return[Jh]},pp.prototype.getClass=function(){return pp};var dp=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new ru,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};dp.prototype.checkCorrectness=function(e){var t=dh.getNodedSubstrings(e),n=new ip(t);try{n.checkValid()}catch(e){if(!(e instanceof Ul))throw e;e.printStackTrace()}},dp.prototype.getNodedSubstrings=function(){return dh.getNodedSubstrings(this._nodedSegStrings)},dp.prototype.snapRound=function(e,t){var n=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(n),this.computeVertexSnaps(e)},dp.prototype.findInteriorIntersections=function(e,t){var n=new pp(t);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(e),n.getInteriorIntersections()},dp.prototype.computeVertexSnaps=function(){if(Il(arguments[0],vu))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.computeVertexSnaps(t)}else if(arguments[0]instanceof dh)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var s=new op(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(s,n,i)&&n.addIntersection(r[i],i)}},dp.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new xh,this._pointSnapper=new up(this._noder.getIndex()),this.snapRound(e,this._li)},dp.prototype.computeIntersectionSnaps=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=new op(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},dp.prototype.interfaces_=function(){return[vh]},dp.prototype.getClass=function(){return dp};var fp=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Sh,this._resultGeometry=null,this._saveException=null,1===arguments.length){var e=arguments[0];this._argGeom=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._argGeom=t,this._bufParams=n}},mp={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};fp.prototype.bufferFixedPrecision=function(e){var t=new rp(new dp(new dc(1)),e.getScale()),n=new np(this._bufParams);n.setWorkingPrecisionModel(e),n.setNoder(t),this._resultGeometry=n.buffer(this._argGeom,this._distance)},fp.prototype.bufferReducedPrecision=function(){var e=this;if(0===arguments.length){for(var t=fp.MAX_PRECISION_DIGITS;t>=0;t--){try{e.bufferReducedPrecision(t)}catch(t){if(!(t instanceof Pc))throw t;e._saveException=t}if(null!==e._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=fp.precisionScaleFactor(this._argGeom,this._distance,n),i=new dc(r);this.bufferFixedPrecision(i)}},fp.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===dc.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},fp.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)},fp.prototype.bufferOriginalPrecision=function(){try{var e=new np(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof Ql))throw e;this._saveException=e}},fp.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry},fp.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)},fp.prototype.interfaces_=function(){return[]},fp.prototype.getClass=function(){return fp},fp.bufferOp=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return new fp(e).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof uu&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1],i=arguments[2],s=new fp(n);return s.setQuadrantSegments(i),s.getResultGeometry(r)}if(arguments[2]instanceof Sh&&arguments[0]instanceof uu&&"number"==typeof arguments[1]){var o=arguments[0],a=arguments[1],l=arguments[2];return new fp(o,l).getResultGeometry(a)}}else if(4===arguments.length){var u=arguments[0],c=arguments[1],h=arguments[2],p=arguments[3],d=new fp(u);return d.setQuadrantSegments(h),d.setEndCapStyle(p),d.getResultGeometry(c)}},fp.precisionScaleFactor=function(e,t,n){var r=e.getEnvelopeInternal(),i=Ll.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(t>0?t:0),s=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,s)},mp.CAP_ROUND.get=function(){return Sh.CAP_ROUND},mp.CAP_BUTT.get=function(){return Sh.CAP_FLAT},mp.CAP_FLAT.get=function(){return Sh.CAP_FLAT},mp.CAP_SQUARE.get=function(){return Sh.CAP_SQUARE},mp.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(fp,mp);var yp=function(){this._pt=[new Sl,new Sl],this._distance=_l.NaN,this._isNull=!0};yp.prototype.getCoordinates=function(){return this._pt},yp.prototype.getCoordinate=function(e){return this._pt[e]},yp.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},yp.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},yp.prototype.getDistance=function(){return this._distance},yp.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},yp.prototype.interfaces_=function(){return[]},yp.prototype.getClass=function(){return yp};var gp=function(){};gp.prototype.interfaces_=function(){return[]},gp.prototype.getClass=function(){return gp},gp.computeDistance=function(){if(arguments[2]instanceof yp&&arguments[0]instanceof Zu&&arguments[1]instanceof Sl)for(var e=arguments[0],t=arguments[1],n=arguments[2],r=e.getCoordinates(),i=new fh,s=0;s<r.length-1;s++){i.setCoordinates(r[s],r[s+1]);var o=i.closestPoint(t);n.setMinimum(o,t)}else if(arguments[2]instanceof yp&&arguments[0]instanceof $u&&arguments[1]instanceof Sl){var a=arguments[0],l=arguments[1],u=arguments[2];gp.computeDistance(a.getExteriorRing(),l,u);for(var c=0;c<a.getNumInteriorRing();c++)gp.computeDistance(a.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof yp&&arguments[0]instanceof uu&&arguments[1]instanceof Sl){var h=arguments[0],p=arguments[1],d=arguments[2];if(h instanceof Zu)gp.computeDistance(h,p,d);else if(h instanceof $u)gp.computeDistance(h,p,d);else if(h instanceof Gu)for(var f=h,m=0;m<f.getNumGeometries();m++){var y=f.getGeometryN(m);gp.computeDistance(y,p,d)}else d.setMinimum(h.getCoordinate(),p)}else if(arguments[2]instanceof yp&&arguments[0]instanceof fh&&arguments[1]instanceof Sl){var g=arguments[0],_=arguments[1],v=arguments[2],b=g.closestPoint(_);v.setMinimum(b,_)}};var _p=function(e){this._maxPtDist=new yp,this._inputGeom=e||null},vp={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};_p.prototype.computeMaxMidpointDistance=function(e){var t=new xp(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},_p.prototype.computeMaxVertexDistance=function(e){var t=new bp(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},_p.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()},_p.prototype.getDistancePoints=function(){return this._maxPtDist},_p.prototype.interfaces_=function(){return[]},_p.prototype.getClass=function(){return _p},vp.MaxPointDistanceFilter.get=function(){return bp},vp.MaxMidpointDistanceFilter.get=function(){return xp},Object.defineProperties(_p,vp);var bp=function(e){this._maxPtDist=new yp,this._minPtDist=new yp,this._geom=e||null};bp.prototype.filter=function(e){this._minPtDist.initialize(),gp.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},bp.prototype.getMaxPointDistance=function(){return this._maxPtDist},bp.prototype.interfaces_=function(){return[pu]},bp.prototype.getClass=function(){return bp};var xp=function(e){this._maxPtDist=new yp,this._minPtDist=new yp,this._geom=e||null};xp.prototype.filter=function(e,t){if(0===t)return null;var n=e.getCoordinate(t-1),r=e.getCoordinate(t),i=new Sl((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),gp.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xp.prototype.isDone=function(){return!1},xp.prototype.isGeometryChanged=function(){return!1},xp.prototype.getMaxPointDistance=function(){return this._maxPtDist},xp.prototype.interfaces_=function(){return[Uu]},xp.prototype.getClass=function(){return xp};var wp=function(e){this._comps=e||null};wp.prototype.filter=function(e){e instanceof $u&&this._comps.add(e)},wp.prototype.interfaces_=function(){return[zu]},wp.prototype.getClass=function(){return wp},wp.getPolygons=function(){if(1===arguments.length){var e=arguments[0];return wp.getPolygons(e,new Su)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof $u?n.add(t):t instanceof Gu&&t.apply(new wp(n)),n}};var Sp=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var e=arguments[0];this._lines=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._lines=t,this._isForcedToLineString=n}};Sp.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof tc){var t=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(t),null}e instanceof Zu&&this._lines.add(e)},Sp.prototype.setForceToLineString=function(e){this._isForcedToLineString=e},Sp.prototype.interfaces_=function(){return[lu]},Sp.prototype.getClass=function(){return Sp},Sp.getGeometry=function(){if(1===arguments.length){var e=arguments[0];return e.getFactory().buildGeometry(Sp.getLines(e))}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t.getFactory().buildGeometry(Sp.getLines(t,n))}},Sp.getLines=function(){if(1===arguments.length){var e=arguments[0];return Sp.getLines(e,!1)}if(2===arguments.length){if(Il(arguments[0],vu)&&Il(arguments[1],vu)){for(var t=arguments[0],n=arguments[1],r=t.iterator();r.hasNext();){var i=r.next();Sp.getLines(i,n)}return n}if(arguments[0]instanceof uu&&"boolean"==typeof arguments[1]){var s=arguments[0],o=arguments[1],a=new Su;return s.apply(new Sp(a,o)),a}if(arguments[0]instanceof uu&&Il(arguments[1],vu)){var l=arguments[0],u=arguments[1];return l instanceof Zu?u.add(l):l.apply(new Sp(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Il(arguments[0],vu)&&Il(arguments[1],vu)){for(var c=arguments[0],h=arguments[1],p=arguments[2],d=c.iterator();d.hasNext();){var f=d.next();Sp.getLines(f,h,p)}return h}if("boolean"==typeof arguments[2]&&arguments[0]instanceof uu&&Il(arguments[1],vu)){var m=arguments[0],y=arguments[1],g=arguments[2];return m.apply(new Sp(y,g)),y}}};var Cp=function(){if(this._boundaryRule=du.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(null===e)throw new gl("Rule must be non-null");this._boundaryRule=e}};Cp.prototype.locateInternal=function(){if(arguments[0]instanceof Sl&&arguments[1]instanceof $u){var e=arguments[0],t=arguments[1];if(t.isEmpty())return Al.EXTERIOR;var n=t.getExteriorRing(),r=this.locateInPolygonRing(e,n);if(r===Al.EXTERIOR)return Al.EXTERIOR;if(r===Al.BOUNDARY)return Al.BOUNDARY;for(var i=0;i<t.getNumInteriorRing();i++){var s=t.getInteriorRingN(i),o=this.locateInPolygonRing(e,s);if(o===Al.INTERIOR)return Al.EXTERIOR;if(o===Al.BOUNDARY)return Al.BOUNDARY}return Al.INTERIOR}if(arguments[0]instanceof Sl&&arguments[1]instanceof Zu){var a=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(a))return Al.EXTERIOR;var u=l.getCoordinates();return l.isClosed()||!a.equals(u[0])&&!a.equals(u[u.length-1])?ou.isOnLine(a,u)?Al.INTERIOR:Al.EXTERIOR:Al.BOUNDARY}if(arguments[0]instanceof Sl&&arguments[1]instanceof Ku){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?Al.INTERIOR:Al.EXTERIOR}},Cp.prototype.locateInPolygonRing=function(e,t){return t.getEnvelopeInternal().intersects(e)?ou.locatePointInRing(e,t.getCoordinates()):Al.EXTERIOR},Cp.prototype.intersects=function(e,t){return this.locate(e,t)!==Al.EXTERIOR},Cp.prototype.updateLocationInfo=function(e){e===Al.INTERIOR&&(this._isIn=!0),e===Al.BOUNDARY&&this._numBoundaries++},Cp.prototype.computeLocation=function(e,t){if(t instanceof Ku&&this.updateLocationInfo(this.locateInternal(e,t)),t instanceof Zu)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof $u)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof ju)for(var n=t,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(e,i))}else if(t instanceof nc)for(var s=t,o=0;o<s.getNumGeometries();o++){var a=s.getGeometryN(o);this.updateLocationInfo(this.locateInternal(e,a))}else if(t instanceof Gu)for(var l=new zh(t);l.hasNext();){var u=l.next();u!==t&&this.computeLocation(e,u)}},Cp.prototype.locate=function(e,t){return t.isEmpty()?Al.EXTERIOR:t instanceof Zu||t instanceof $u?this.locateInternal(e,t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,t),this._boundaryRule.isInBoundary(this._numBoundaries)?Al.BOUNDARY:this._numBoundaries>0||this._isIn?Al.INTERIOR:Al.EXTERIOR)},Cp.prototype.interfaces_=function(){return[]},Cp.prototype.getClass=function(){return Cp};var Ep=function e(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var t=arguments[0],n=arguments[1];e.call(this,t,e.INSIDE_AREA,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],s=arguments[2];this._component=r,this._segIndex=i,this._pt=s}},Tp={INSIDE_AREA:{configurable:!0}};Ep.prototype.isInsideArea=function(){return this._segIndex===Ep.INSIDE_AREA},Ep.prototype.getCoordinate=function(){return this._pt},Ep.prototype.getGeometryComponent=function(){return this._component},Ep.prototype.getSegmentIndex=function(){return this._segIndex},Ep.prototype.interfaces_=function(){return[]},Ep.prototype.getClass=function(){return Ep},Tp.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Ep,Tp);var Ap=function(e){this._pts=e||null};Ap.prototype.filter=function(e){e instanceof Ku&&this._pts.add(e)},Ap.prototype.interfaces_=function(){return[zu]},Ap.prototype.getClass=function(){return Ap},Ap.getPoints=function(){if(1===arguments.length){var e=arguments[0];return e instanceof Ku?$c.singletonList(e):Ap.getPoints(e,new Su)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof Ku?n.add(t):t instanceof Gu&&t.apply(new Ap(n)),n}};var Pp=function(){this._locations=null;var e=arguments[0];this._locations=e};Pp.prototype.filter=function(e){(e instanceof Ku||e instanceof Zu||e instanceof $u)&&this._locations.add(new Ep(e,0,e.getCoordinate()))},Pp.prototype.interfaces_=function(){return[zu]},Pp.prototype.getClass=function(){return Pp},Pp.getLocations=function(e){var t=new Su;return e.apply(new Pp(t)),t};var Ip=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Cp,this._minDistanceLocation=null,this._minDistance=_l.MAX_VALUE,2===arguments.length){var e=arguments[0],t=arguments[1];this._geom=[e,t],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Ip.prototype.computeContainmentDistance=function(){if(0===arguments.length){var e=new Array(2).fill(null);if(this.computeContainmentDistance(0,e),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=1-t,i=wp.getPolygons(this._geom[t]);if(i.size()>0){var s=Pp.getLocations(this._geom[r]);if(this.computeContainmentDistance(s,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[t]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Il(arguments[0],wu)&&Il(arguments[1],wu)){for(var o=arguments[0],a=arguments[1],l=arguments[2],u=0;u<o.size();u++)for(var c=o.get(u),h=0;h<a.size();h++)if(this.computeContainmentDistance(c,a.get(h),l),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ep&&arguments[1]instanceof $u){var p=arguments[0],d=arguments[1],f=arguments[2],m=p.getCoordinate();if(Al.EXTERIOR!==this._ptLocator.locate(m,d))return this._minDistance=0,f[0]=p,f[1]=new Ep(d,m),null}},Ip.prototype.computeMinDistanceLinesPoints=function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),s=0;s<t.size();s++){var o=t.get(s);if(this.computeMinDistance(i,o,n),this._minDistance<=this._terminateDistance)return null}},Ip.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),t=Sp.getLines(this._geom[0]),n=Sp.getLines(this._geom[1]),r=Ap.getPoints(this._geom[0]),i=Ap.getPoints(this._geom[1]);return this.computeMinDistanceLines(t,n,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(t,i,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(n,r,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistancePoints(r,i,e),void this.updateMinDistance(e,!1))))},Ip.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Ip.prototype.updateMinDistance=function(e,t){if(null===e[0])return null;t?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])},Ip.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Ip.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Zu&&arguments[1]instanceof Ku){var e=arguments[0],t=arguments[1],n=arguments[2];if(e.getEnvelopeInternal().distance(t.getEnvelopeInternal())>this._minDistance)return null;for(var r=e.getCoordinates(),i=t.getCoordinate(),s=0;s<r.length-1;s++){var o=ou.distancePointLine(i,r[s],r[s+1]);if(o<this._minDistance){this._minDistance=o;var a=new fh(r[s],r[s+1]).closestPoint(i);n[0]=new Ep(e,s,a),n[1]=new Ep(t,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Zu&&arguments[1]instanceof Zu){var l=arguments[0],u=arguments[1],c=arguments[2];if(l.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this._minDistance)return null;for(var h=l.getCoordinates(),p=u.getCoordinates(),d=0;d<h.length-1;d++)for(var f=0;f<p.length-1;f++){var m=ou.distanceLineLine(h[d],h[d+1],p[f],p[f+1]);if(m<this._minDistance){this._minDistance=m;var y=new fh(h[d],h[d+1]),g=new fh(p[f],p[f+1]),_=y.closestPoints(g);c[0]=new Ep(l,d,_[0]),c[1]=new Ep(u,f,_[1])}if(this._minDistance<=this._terminateDistance)return null}}},Ip.prototype.computeMinDistancePoints=function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),s=0;s<t.size();s++){var o=t.get(s),a=i.getCoordinate().distance(o.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new Ep(i,0,i.getCoordinate()),n[1]=new Ep(o,0,o.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Ip.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new gl("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Ip.prototype.computeMinDistanceLines=function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),s=0;s<t.size();s++){var o=t.get(s);if(this.computeMinDistance(i,o,n),this._minDistance<=this._terminateDistance)return null}},Ip.prototype.interfaces_=function(){return[]},Ip.prototype.getClass=function(){return Ip},Ip.distance=function(e,t){return new Ip(e,t).distance()},Ip.isWithinDistance=function(e,t,n){return new Ip(e,t,n).distance()<=n},Ip.nearestPoints=function(e,t){return new Ip(e,t).nearestPoints()};var Lp=function(){this._pt=[new Sl,new Sl],this._distance=_l.NaN,this._isNull=!0};Lp.prototype.getCoordinates=function(){return this._pt},Lp.prototype.getCoordinate=function(e){return this._pt[e]},Lp.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},Lp.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Lp.prototype.toString=function(){return Kl.toLineString(this._pt[0],this._pt[1])},Lp.prototype.getDistance=function(){return this._distance},Lp.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},Lp.prototype.interfaces_=function(){return[]},Lp.prototype.getClass=function(){return Lp};var Mp=function(){};Mp.prototype.interfaces_=function(){return[]},Mp.prototype.getClass=function(){return Mp},Mp.computeDistance=function(){if(arguments[2]instanceof Lp&&arguments[0]instanceof Zu&&arguments[1]instanceof Sl)for(var e=arguments[0],t=arguments[1],n=arguments[2],r=new fh,i=e.getCoordinates(),s=0;s<i.length-1;s++){r.setCoordinates(i[s],i[s+1]);var o=r.closestPoint(t);n.setMinimum(o,t)}else if(arguments[2]instanceof Lp&&arguments[0]instanceof $u&&arguments[1]instanceof Sl){var a=arguments[0],l=arguments[1],u=arguments[2];Mp.computeDistance(a.getExteriorRing(),l,u);for(var c=0;c<a.getNumInteriorRing();c++)Mp.computeDistance(a.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof Lp&&arguments[0]instanceof uu&&arguments[1]instanceof Sl){var h=arguments[0],p=arguments[1],d=arguments[2];if(h instanceof Zu)Mp.computeDistance(h,p,d);else if(h instanceof $u)Mp.computeDistance(h,p,d);else if(h instanceof Gu)for(var f=h,m=0;m<f.getNumGeometries();m++){var y=f.getGeometryN(m);Mp.computeDistance(y,p,d)}else d.setMinimum(h.getCoordinate(),p)}else if(arguments[2]instanceof Lp&&arguments[0]instanceof fh&&arguments[1]instanceof Sl){var g=arguments[0],_=arguments[1],v=arguments[2],b=g.closestPoint(_);v.setMinimum(b,_)}};var Op=function(){this._g0=null,this._g1=null,this._ptDist=new Lp,this._densifyFrac=0;var e=arguments[0],t=arguments[1];this._g0=e,this._g1=t},kp={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Op.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Op.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new gl("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e},Op.prototype.compute=function(e,t){this.computeOrientedDistance(e,t,this._ptDist),this.computeOrientedDistance(t,e,this._ptDist)},Op.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Op.prototype.computeOrientedDistance=function(e,t,n){var r=new Np(t);if(e.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new Rp(t,this._densifyFrac);e.apply(i),n.setMaximum(i.getMaxPointDistance())}},Op.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Op.prototype.interfaces_=function(){return[]},Op.prototype.getClass=function(){return Op},Op.distance=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return new Op(e,t).distance()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],s=new Op(n,r);return s.setDensifyFraction(i),s.distance()}},kp.MaxPointDistanceFilter.get=function(){return Np},kp.MaxDensifiedByFractionDistanceFilter.get=function(){return Rp},Object.defineProperties(Op,kp);var Np=function(){this._maxPtDist=new Lp,this._minPtDist=new Lp,this._euclideanDist=new Mp,this._geom=null;var e=arguments[0];this._geom=e};Np.prototype.filter=function(e){this._minPtDist.initialize(),Mp.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Np.prototype.getMaxPointDistance=function(){return this._maxPtDist},Np.prototype.interfaces_=function(){return[pu]},Np.prototype.getClass=function(){return Np};var Rp=function(){this._maxPtDist=new Lp,this._minPtDist=new Lp,this._geom=null,this._numSubSegs=0;var e=arguments[0],t=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/t))};Rp.prototype.filter=function(e,t){if(0===t)return null;for(var n=e.getCoordinate(t-1),r=e.getCoordinate(t),i=(r.x-n.x)/this._numSubSegs,s=(r.y-n.y)/this._numSubSegs,o=0;o<this._numSubSegs;o++){var a=n.x+o*i,l=n.y+o*s,u=new Sl(a,l);this._minPtDist.initialize(),Mp.computeDistance(this._geom,u,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Rp.prototype.isDone=function(){return!1},Rp.prototype.isGeometryChanged=function(){return!1},Rp.prototype.getMaxPointDistance=function(){return this._maxPtDist},Rp.prototype.interfaces_=function(){return[Uu]},Rp.prototype.getClass=function(){return Rp};var Dp=function(e,t,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=t||null,this._result=n||null},Fp={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Dp.prototype.checkMaximumDistance=function(e,t,n){var r=new Op(t,e);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=e.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Kl.toLineString(i[0],i[1])+")"}},Dp.prototype.isValid=function(){var e=Math.abs(this._bufDistance),t=Dp.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-t,this._maxValidDistance=e+t,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Dp.VERBOSE&&jl.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Dp.prototype.checkNegativeValid=function(){if(!(this._input instanceof $u||this._input instanceof nc||this._input instanceof Gu))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)},Dp.prototype.getErrorIndicator=function(){return this._errorIndicator},Dp.prototype.checkMinimumDistance=function(e,t,n){var r=new Ip(e,t,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Kl.toLineString(i[0],i[1])+" )"}},Dp.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)},Dp.prototype.getErrorLocation=function(){return this._errorLocation},Dp.prototype.getPolygonLines=function(e){for(var t=new Su,n=new Sp(t),r=wp.getPolygons(e).iterator();r.hasNext();)r.next().apply(n);return e.getFactory().buildGeometry(t)},Dp.prototype.getErrorMessage=function(){return this._errMsg},Dp.prototype.interfaces_=function(){return[]},Dp.prototype.getClass=function(){return Dp},Fp.VERBOSE.get=function(){return!1},Fp.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Dp,Fp);var Bp=function(e,t,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=t||null,this._result=n||null},qp={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Bp.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Bp.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*Bp.MAX_ENV_DIFF_FRAC;0===e&&(e=.001);var t=new Wl(this._input.getEnvelopeInternal());t.expandBy(this._distance);var n=new Wl(this._result.getEnvelopeInternal());n.expandBy(e),n.contains(t)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Bp.prototype.checkDistance=function(){var e=new Dp(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")},Bp.prototype.checkArea=function(){var e=this._input.getArea(),t=this._result.getArea();this._distance>0&&e>t&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<t&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Bp.prototype.checkPolygonal=function(){this._result instanceof $u||this._result instanceof nc||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Bp.prototype.getErrorIndicator=function(){return this._errorIndicator},Bp.prototype.getErrorLocation=function(){return this._errorLocation},Bp.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Bp.prototype.report=function(e){if(!Bp.VERBOSE)return null;jl.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))},Bp.prototype.getErrorMessage=function(){return this._errorMsg},Bp.prototype.interfaces_=function(){return[]},Bp.prototype.getClass=function(){return Bp},Bp.isValidMsg=function(e,t,n){var r=new Bp(e,t,n);return r.isValid()?null:r.getErrorMessage()},Bp.isValid=function(e,t,n){return!!new Bp(e,t,n).isValid()},qp.VERBOSE.get=function(){return!1},qp.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Bp,qp);var zp=function(){this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};zp.prototype.getCoordinates=function(){return this._pts},zp.prototype.size=function(){return this._pts.length},zp.prototype.getCoordinate=function(e){return this._pts[e]},zp.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},zp.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:ch.octant(this.getCoordinate(e),this.getCoordinate(e+1))},zp.prototype.setData=function(e){this._data=e},zp.prototype.getData=function(){return this._data},zp.prototype.toString=function(){return Kl.toLineString(new lc(this._pts))},zp.prototype.interfaces_=function(){return[hh]},zp.prototype.getClass=function(){return zp};var Up=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Su,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};Up.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Up.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e},Up.prototype.getIntersectionSegments=function(){return this._intSegments},Up.prototype.count=function(){return this._intersectionCount},Up.prototype.getIntersections=function(){return this._intersections},Up.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},Up.prototype.setKeepIntersections=function(e){this._keepIntersections=e},Up.prototype.processIntersections=function(e,t,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(e===n&&t===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(e,t)&&!this.isEndSegment(n,r))return null;var i=e.getCoordinates()[t],s=e.getCoordinates()[t+1],o=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,s,o,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=s,this._intSegments[2]=o,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Up.prototype.isEndSegment=function(e,t){return 0===t||t>=e.size()-2},Up.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Up.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Up.prototype.interfaces_=function(){return[Jh]},Up.prototype.getClass=function(){return Up},Up.createAllIntersectionsFinder=function(e){var t=new Up(e);return t.setFindAllIntersections(!0),t},Up.createAnyIntersectionFinder=function(e){return new Up(e)},Up.createIntersectionCounter=function(e){var t=new Up(e);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t};var Gp=function(){this._li=new ru,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};Gp.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Gp.prototype.getIntersections=function(){return this._segInt.getIntersections()},Gp.prototype.isValid=function(){return this.execute(),this._isValid},Gp.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},Gp.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Up(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new xh;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Gp.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Pc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Gp.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Kl.toLineString(e[0],e[1])+" and "+Kl.toLineString(e[2],e[3])},Gp.prototype.interfaces_=function(){return[]},Gp.prototype.getClass=function(){return Gp},Gp.computeIntersections=function(e){var t=new Gp(e);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()};var jp=function e(){this._nv=null;var t=arguments[0];this._nv=new Gp(e.toSegmentStrings(t))};jp.prototype.checkValid=function(){this._nv.checkValid()},jp.prototype.interfaces_=function(){return[]},jp.prototype.getClass=function(){return jp},jp.toSegmentStrings=function(e){for(var t=new Su,n=e.iterator();n.hasNext();){var r=n.next();t.add(new zp(r.getCoordinates(),r))}return t},jp.checkValid=function(e){new jp(e).checkValid()};var Vp=function(e){this._mapOp=e};Vp.prototype.map=function(e){for(var t=new Su,n=0;n<e.getNumGeometries();n++){var r=this._mapOp.map(e.getGeometryN(n));r.isEmpty()||t.add(r)}return e.getFactory().createGeometryCollection(gc.toGeometryArray(t))},Vp.prototype.interfaces_=function(){return[]},Vp.prototype.getClass=function(){return Vp},Vp.map=function(e,t){return new Vp(t).map(e)};var Wp=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Su,this._resultLineList=new Su;var e=arguments[0],t=arguments[1],n=arguments[2];this._op=e,this._geometryFactory=t,this._ptLocator=n};Wp.prototype.collectLines=function(e){for(var t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){var n=t.next();this.collectLineEdge(n,e,this._lineEdgesList),this.collectBoundaryTouchEdge(n,e,this._lineEdgesList)}},Wp.prototype.labelIsolatedLine=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(t));e.getLabel().setLocation(t,n)},Wp.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList},Wp.prototype.collectLineEdge=function(e,t,n){var r=e.getLabel(),i=e.getEdge();e.isLineEdge()&&(e.isVisited()||!Ed.isResultOfOp(r,t)||i.isCovered()||(n.add(i),e.setVisitedEdge(!0)))},Wp.prototype.findCoveredLineEdges=function(){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();)e.next().getEdges().findCoveredLineEdges();for(var t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){var n=t.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Wp.prototype.labelIsolatedLines=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Wp.prototype.buildLines=function(e){for(var t=this._lineEdgesList.iterator();t.hasNext();){var n=t.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Wp.prototype.collectBoundaryTouchEdge=function(e,t,n){var r=e.getLabel();return e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult()?null:(eu.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),void(Ed.isResultOfOp(r,t)&&t===Ed.INTERSECTION&&(n.add(e.getEdge()),e.setVisitedEdge(!0))))},Wp.prototype.interfaces_=function(){return[]},Wp.prototype.getClass=function(){return Wp};var Hp=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Su;var e=arguments[0],t=arguments[1];this._op=e,this._geometryFactory=t};Hp.prototype.filterCoveredNodeToPoint=function(e){var t=e.getCoordinate();if(!this._op.isCoveredByLA(t)){var n=this._geometryFactory.createPoint(t);this._resultPointList.add(n)}},Hp.prototype.extractNonCoveredResultNodes=function(e){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();){var n=t.next();if(!n.isInResult()&&!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||e===Ed.INTERSECTION)){var r=n.getLabel();Ed.isResultOfOp(r,e)&&this.filterCoveredNodeToPoint(n)}}},Hp.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList},Hp.prototype.interfaces_=function(){return[]},Hp.prototype.getClass=function(){return Hp};var Jp=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Jp.prototype.transformPoint=function(e,t){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},Jp.prototype.transformPolygon=function(e,t){var n=!0,r=this.transformLinearRing(e.getExteriorRing(),e);null!==r&&r instanceof tc&&!r.isEmpty()||(n=!1);for(var i=new Su,s=0;s<e.getNumInteriorRing();s++){var o=this.transformLinearRing(e.getInteriorRingN(s),e);null===o||o.isEmpty()||(o instanceof tc||(n=!1),i.add(o))}if(n)return this._factory.createPolygon(r,i.toArray([]));var a=new Su;return null!==r&&a.add(r),a.addAll(i),this._factory.buildGeometry(a)},Jp.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)},Jp.prototype.getInputGeometry=function(){return this._inputGeom},Jp.prototype.transformMultiLineString=function(e,t){for(var n=new Su,r=0;r<e.getNumGeometries();r++){var i=this.transformLineString(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Jp.prototype.transformCoordinates=function(e,t){return this.copy(e)},Jp.prototype.transformLineString=function(e,t){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},Jp.prototype.transformMultiPoint=function(e,t){for(var n=new Su,r=0;r<e.getNumGeometries();r++){var i=this.transformPoint(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Jp.prototype.transformMultiPolygon=function(e,t){for(var n=new Su,r=0;r<e.getNumGeometries();r++){var i=this.transformPolygon(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Jp.prototype.copy=function(e){return e.copy()},Jp.prototype.transformGeometryCollection=function(e,t){for(var n=new Su,r=0;r<e.getNumGeometries();r++){var i=this.transform(e.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(gc.toGeometryArray(n)):this._factory.buildGeometry(n)},Jp.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof Ku)return this.transformPoint(e,null);if(e instanceof ec)return this.transformMultiPoint(e,null);if(e instanceof tc)return this.transformLinearRing(e,null);if(e instanceof Zu)return this.transformLineString(e,null);if(e instanceof ju)return this.transformMultiLineString(e,null);if(e instanceof $u)return this.transformPolygon(e,null);if(e instanceof nc)return this.transformMultiPolygon(e,null);if(e instanceof Gu)return this.transformGeometryCollection(e,null);throw new gl("Unknown Geometry subtype: "+e.getClass().getName())},Jp.prototype.transformLinearRing=function(e,t){var n=this.transformCoordinates(e.getCoordinateSequence(),e);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Jp.prototype.interfaces_=function(){return[]},Jp.prototype.getClass=function(){return Jp};var Xp=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new fh,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Zu&&"number"==typeof arguments[1]){var t=arguments[0],n=arguments[1];e.call(this,t.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=e.isClosed(r),this._snapTolerance=i}};Xp.prototype.snapVertices=function(e,t){for(var n=this._isClosed?e.size()-1:e.size(),r=0;r<n;r++){var i=e.get(r),s=this.findSnapForVertex(i,t);null!==s&&(e.set(r,new Sl(s)),0===r&&this._isClosed&&e.set(e.size()-1,new Sl(s)))}},Xp.prototype.findSnapForVertex=function(e,t){for(var n=0;n<t.length;n++){if(e.equals2D(t[n]))return null;if(e.distance(t[n])<this._snapTolerance)return t[n]}return null},Xp.prototype.snapTo=function(e){var t=new Eu(this._srcPts);return this.snapVertices(t,e),this.snapSegments(t,e),t.toCoordinateArray()},Xp.prototype.snapSegments=function(e,t){if(0===t.length)return null;var n=t.length;t[0].equals2D(t[t.length-1])&&(n=t.length-1);for(var r=0;r<n;r++){var i=t[r],s=this.findSegmentIndexToSnap(i,e);s>=0&&e.add(s+1,new Sl(i),!1)}},Xp.prototype.findSegmentIndexToSnap=function(e,t){for(var n=_l.MAX_VALUE,r=-1,i=0;i<t.size()-1;i++){if(this._seg.p0=t.get(i),this._seg.p1=t.get(i+1),this._seg.p0.equals2D(e)||this._seg.p1.equals2D(e)){if(this._allowSnappingToSourceVertices)continue;return-1}var s=this._seg.distance(e);s<this._snapTolerance&&s<n&&(n=s,r=i)}return r},Xp.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e},Xp.prototype.interfaces_=function(){return[]},Xp.prototype.getClass=function(){return Xp},Xp.isClosed=function(e){return!(e.length<=1)&&e[0].equals2D(e[e.length-1])};var Zp=function(e){this._srcGeom=e||null},Yp={SNAP_PRECISION_FACTOR:{configurable:!0}};Zp.prototype.snapTo=function(e,t){var n=this.extractTargetCoordinates(e);return new Kp(t,n).transform(this._srcGeom)},Zp.prototype.snapToSelf=function(e,t){var n=this.extractTargetCoordinates(this._srcGeom),r=new Kp(e,n,!0).transform(this._srcGeom),i=r;return t&&Il(i,Qu)&&(i=r.buffer(0)),i},Zp.prototype.computeSnapTolerance=function(e){return this.computeMinimumSegmentLength(e)/10},Zp.prototype.extractTargetCoordinates=function(e){for(var t=new zi,n=e.getCoordinates(),r=0;r<n.length;r++)t.add(n[r]);return t.toArray(new Array(0).fill(null))},Zp.prototype.computeMinimumSegmentLength=function(e){for(var t=_l.MAX_VALUE,n=0;n<e.length-1;n++){var r=e[n].distance(e[n+1]);r<t&&(t=r)}return t},Zp.prototype.interfaces_=function(){return[]},Zp.prototype.getClass=function(){return Zp},Zp.snap=function(e,t,n){var r=new Array(2).fill(null),i=new Zp(e);r[0]=i.snapTo(t,n);var s=new Zp(t);return r[1]=s.snapTo(r[0],n),r},Zp.computeOverlaySnapTolerance=function(){if(1===arguments.length){var e=arguments[0],t=Zp.computeSizeBasedSnapTolerance(e),n=e.getPrecisionModel();if(n.getType()===dc.FIXED){var r=1/n.getScale()*2/1.415;r>t&&(t=r)}return t}if(2===arguments.length){var i=arguments[0],s=arguments[1];return Math.min(Zp.computeOverlaySnapTolerance(i),Zp.computeOverlaySnapTolerance(s))}},Zp.computeSizeBasedSnapTolerance=function(e){var t=e.getEnvelopeInternal();return Math.min(t.getHeight(),t.getWidth())*Zp.SNAP_PRECISION_FACTOR},Zp.snapToSelf=function(e,t,n){return new Zp(e).snapToSelf(t,n)},Yp.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Zp,Yp);var Kp=function(e){function t(t,n,r){e.call(this),this._snapTolerance=t||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(e,t){var n=new Xp(e,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(t)},t.prototype.transformCoordinates=function(e,t){var n=e.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Jp),Qp=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Qp.prototype.getCommon=function(){return _l.longBitsToDouble(this._commonBits)},Qp.prototype.add=function(e){var t=_l.doubleToLongBits(e);return this._isFirst?(this._commonBits=t,this._commonSignExp=Qp.signExpBits(this._commonBits),this._isFirst=!1,null):Qp.signExpBits(t)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Qp.numCommonMostSigMantissaBits(this._commonBits,t),void(this._commonBits=Qp.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Qp.prototype.toString=function(){if(1===arguments.length){var e=arguments[0],t=_l.longBitsToDouble(e),n="0000000000000000000000000000000000000000000000000000000000000000"+_l.toBinaryString(e),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+t+" ]"}},Qp.prototype.interfaces_=function(){return[]},Qp.prototype.getClass=function(){return Qp},Qp.getBit=function(e,t){return 0!=(e&1<<t)?1:0},Qp.signExpBits=function(e){return e>>52},Qp.zeroLowerBits=function(e,t){return e&~((1<<t)-1)},Qp.numCommonMostSigMantissaBits=function(e,t){for(var n=0,r=52;r>=0;r--){if(Qp.getBit(e,r)!==Qp.getBit(t,r))return n;n++}return 52};var $p=function(){this._commonCoord=null,this._ccFilter=new td},ed={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};$p.prototype.addCommonBits=function(e){var t=new nd(this._commonCoord);e.apply(t),e.geometryChanged()},$p.prototype.removeCommonBits=function(e){if(0===this._commonCoord.x&&0===this._commonCoord.y)return e;var t=new Sl(this._commonCoord);t.x=-t.x,t.y=-t.y;var n=new nd(t);return e.apply(n),e.geometryChanged(),e},$p.prototype.getCommonCoordinate=function(){return this._commonCoord},$p.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},$p.prototype.interfaces_=function(){return[]},$p.prototype.getClass=function(){return $p},ed.CommonCoordinateFilter.get=function(){return td},ed.Translater.get=function(){return nd},Object.defineProperties($p,ed);var td=function(){this._commonBitsX=new Qp,this._commonBitsY=new Qp};td.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)},td.prototype.getCommonCoordinate=function(){return new Sl(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},td.prototype.interfaces_=function(){return[pu]},td.prototype.getClass=function(){return td};var nd=function(){this.trans=null;var e=arguments[0];this.trans=e};nd.prototype.filter=function(e,t){var n=e.getOrdinate(t,0)+this.trans.x,r=e.getOrdinate(t,1)+this.trans.y;e.setOrdinate(t,0,n),e.setOrdinate(t,1,r)},nd.prototype.isDone=function(){return!1},nd.prototype.isGeometryChanged=function(){return!0},nd.prototype.interfaces_=function(){return[Uu]},nd.prototype.getClass=function(){return nd};var rd=function(e,t){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=t,this.computeSnapTolerance()};rd.prototype.selfSnap=function(e){return new Zp(e).snapTo(e,this._snapTolerance)},rd.prototype.removeCommonBits=function(e){this._cbr=new $p,this._cbr.add(e[0]),this._cbr.add(e[1]);var t=new Array(2).fill(null);return t[0]=this._cbr.removeCommonBits(e[0].copy()),t[1]=this._cbr.removeCommonBits(e[1].copy()),t},rd.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e},rd.prototype.getResultGeometry=function(e){var t=this.snap(this._geom),n=Ed.overlayOp(t[0],t[1],e);return this.prepareResult(n)},rd.prototype.checkValid=function(e){e.isValid()||jl.out.println("Snapped geometry is invalid")},rd.prototype.computeSnapTolerance=function(){this._snapTolerance=Zp.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},rd.prototype.snap=function(e){var t=this.removeCommonBits(e);return Zp.snap(t[0],t[1],this._snapTolerance)},rd.prototype.interfaces_=function(){return[]},rd.prototype.getClass=function(){return rd},rd.overlayOp=function(e,t,n){return new rd(e,t).getResultGeometry(n)},rd.union=function(e,t){return rd.overlayOp(e,t,Ed.UNION)},rd.intersection=function(e,t){return rd.overlayOp(e,t,Ed.INTERSECTION)},rd.symDifference=function(e,t){return rd.overlayOp(e,t,Ed.SYMDIFFERENCE)},rd.difference=function(e,t){return rd.overlayOp(e,t,Ed.DIFFERENCE)};var id=function(e,t){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=t};id.prototype.getResultGeometry=function(e){var t=null,n=!1,r=null;try{t=Ed.overlayOp(this._geom[0],this._geom[1],e),n=!0}catch(e){if(!(e instanceof Ql))throw e;r=e}if(!n)try{t=rd.overlayOp(this._geom[0],this._geom[1],e)}catch(e){throw e instanceof Ql?r:e}return t},id.prototype.interfaces_=function(){return[]},id.prototype.getClass=function(){return id},id.overlayOp=function(e,t,n){return new id(e,t).getResultGeometry(n)},id.union=function(e,t){return id.overlayOp(e,t,Ed.UNION)},id.intersection=function(e,t){return id.overlayOp(e,t,Ed.INTERSECTION)},id.symDifference=function(e,t){return id.overlayOp(e,t,Ed.SYMDIFFERENCE)},id.difference=function(e,t){return id.overlayOp(e,t,Ed.DIFFERENCE)};var sd=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],t=arguments[1];this.mce=e,this.chainIndex=t};sd.prototype.computeIntersections=function(e,t){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,t)},sd.prototype.interfaces_=function(){return[]},sd.prototype.getClass=function(){return sd};var od=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var t=arguments[0],n=arguments[1];this._eventType=e.DELETE,this._xValue=t,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],s=arguments[2];this._eventType=e.INSERT,this._label=r,this._xValue=i,this._obj=s}},ad={INSERT:{configurable:!0},DELETE:{configurable:!0}};od.prototype.isDelete=function(){return this._eventType===od.DELETE},od.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e},od.prototype.getObject=function(){return this._obj},od.prototype.compareTo=function(e){var t=e;return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},od.prototype.getInsertEvent=function(){return this._insertEvent},od.prototype.isInsert=function(){return this._eventType===od.INSERT},od.prototype.isSameLabel=function(e){return null!==this._label&&this._label===e._label},od.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},od.prototype.interfaces_=function(){return[bl]},od.prototype.getClass=function(){return od},ad.INSERT.get=function(){return 1},ad.DELETE.get=function(){return 2},Object.defineProperties(od,ad);var ld=function(){};ld.prototype.interfaces_=function(){return[]},ld.prototype.getClass=function(){return ld};var ud=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],t=arguments[1],n=arguments[2];this._li=e,this._includeProper=t,this._recordIsolated=n};ud.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if(ud.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.getNumPoints()-1;if(0===t&&r===i||0===r&&t===i)return!0}}return!1},ud.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ud.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e},ud.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ud.prototype.isBoundaryPointInternal=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next().getCoordinate();if(e.isIntersection(r))return!0}return!1},ud.prototype.hasProperIntersection=function(){return this._hasProper},ud.prototype.hasIntersection=function(){return this._hasIntersection},ud.prototype.isDone=function(){return this._isDone},ud.prototype.isBoundaryPoint=function(e,t){return null!==t&&(!!this.isBoundaryPointInternal(e,t[0])||!!this.isBoundaryPointInternal(e,t[1]))},ud.prototype.setBoundaryNodes=function(e,t){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=t},ud.prototype.addIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],s=e.getCoordinates()[t+1],o=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,s,o,a),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},ud.prototype.interfaces_=function(){return[]},ud.prototype.getClass=function(){return ud},ud.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var cd=function(e){function t(){e.call(this),this.events=new Su,this.nOverlaps=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){$c.sort(this.events);for(var e=0;e<this.events.size();e++){var t=this.events.get(e);t.isDelete()&&t.getInsertEvent().setDeleteEventIndex(e)}},t.prototype.computeIntersections=function(){if(1===arguments.length){var e=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var t=0;t<this.events.size();t++){var n=this.events.get(t);if(n.isInsert()&&this.processOverlaps(t,n.getDeleteEventIndex(),n,e),e.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof ud&&Il(arguments[0],wu)&&Il(arguments[1],wu)){var r=arguments[0],i=arguments[1],s=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(s)}else if("boolean"==typeof arguments[2]&&Il(arguments[0],wu)&&arguments[1]instanceof ud){var o=arguments[0],a=arguments[1];arguments[2]?this.addEdges(o,null):this.addEdges(o),this.computeIntersections(a)}},t.prototype.addEdge=function(e,t){for(var n=e.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var s=new sd(n,i),o=new od(t,n.getMinX(i),s);this.events.add(o),this.events.add(new od(n.getMaxX(i),o))}},t.prototype.processOverlaps=function(e,t,n,r){for(var i=n.getObject(),s=e;s<t;s++){var o=this.events.get(s);if(o.isInsert()){var a=o.getObject();n.isSameLabel(o)||(i.computeIntersections(a,r),this.nOverlaps++)}}},t.prototype.addEdges=function(){if(1===arguments.length)for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.addEdge(t,t)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var s=i.next();this.addEdge(s,r)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ld),hd=function(){this._min=_l.POSITIVE_INFINITY,this._max=_l.NEGATIVE_INFINITY},pd={NodeComparator:{configurable:!0}};hd.prototype.getMin=function(){return this._min},hd.prototype.intersects=function(e,t){return!(this._min>t||this._max<e)},hd.prototype.getMax=function(){return this._max},hd.prototype.toString=function(){return Kl.toLineString(new Sl(this._min,0),new Sl(this._max,0))},hd.prototype.interfaces_=function(){return[]},hd.prototype.getClass=function(){return hd},pd.NodeComparator.get=function(){return dd},Object.defineProperties(hd,pd);var dd=function(){};dd.prototype.compare=function(e,t){var n=e,r=t,i=(n._min+n._max)/2,s=(r._min+r._max)/2;return i<s?-1:i>s?1:0},dd.prototype.interfaces_=function(){return[wl]},dd.prototype.getClass=function(){return dd};var fd=function(e){function t(){e.call(this),this._item=null;var t=arguments[0],n=arguments[1],r=arguments[2];this._min=t,this._max=n,this._item=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;n.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(hd),md=function(e){function t(){e.call(this),this._node1=null,this._node2=null;var t=arguments[0],n=arguments[1];this._node1=t,this._node2=n,this.buildExtent(this._node1,this._node2)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(e,t){this._min=Math.min(e._min,t._min),this._max=Math.max(e._max,t._max)},t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;null!==this._node1&&this._node1.query(e,t,n),null!==this._node2&&this._node2.query(e,t,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(hd),yd=function(){this._leaves=new Su,this._root=null,this._level=0};yd.prototype.buildTree=function(){$c.sort(this._leaves,new hd.NodeComparator);for(var e=this._leaves,t=null,n=new Su;;){if(this.buildLevel(e,n),1===n.size())return n.get(0);t=e,e=n,n=t}},yd.prototype.insert=function(e,t,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new fd(e,t,n))},yd.prototype.query=function(e,t,n){this.init(),this._root.query(e,t,n)},yd.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},yd.prototype.printNode=function(e){jl.out.println(Kl.toLineString(new Sl(e._min,this._level),new Sl(e._max,this._level)))},yd.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},yd.prototype.buildLevel=function(e,t){this._level++,t.clear();for(var n=0;n<e.size();n+=2){var r=e.get(n);if(null===(n+1<e.size()?e.get(n):null))t.add(r);else{var i=new md(e.get(n),e.get(n+1));t.add(i)}}},yd.prototype.interfaces_=function(){return[]},yd.prototype.getClass=function(){return yd};var gd=function(){this._items=new Su};gd.prototype.visitItem=function(e){this._items.add(e)},gd.prototype.getItems=function(){return this._items},gd.prototype.interfaces_=function(){return[Zc]},gd.prototype.getClass=function(){return gd};var _d=function(){this._index=null;var e=arguments[0];if(!Il(e,Qu))throw new gl("Argument must be Polygonal");this._index=new xd(e)},vd={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};_d.prototype.locate=function(e){var t=new su(e),n=new bd(t);return this._index.query(e.y,e.y,n),t.getLocation()},_d.prototype.interfaces_=function(){return[qh]},_d.prototype.getClass=function(){return _d},vd.SegmentVisitor.get=function(){return bd},vd.IntervalIndexedGeometry.get=function(){return xd},Object.defineProperties(_d,vd);var bd=function(){this._counter=null;var e=arguments[0];this._counter=e};bd.prototype.visitItem=function(e){var t=e;this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))},bd.prototype.interfaces_=function(){return[Zc]},bd.prototype.getClass=function(){return bd};var xd=function(){this._index=new yd;var e=arguments[0];this.init(e)};xd.prototype.init=function(e){for(var t=Sp.getLines(e).iterator();t.hasNext();){var n=t.next().getCoordinates();this.addLine(n)}},xd.prototype.addLine=function(e){for(var t=1;t<e.length;t++){var n=new fh(e[t-1],e[t]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},xd.prototype.query=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new gd;return this._index.query(e,t,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],s=arguments[2];this._index.query(r,i,s)}},xd.prototype.interfaces_=function(){return[]},xd.prototype.getClass=function(){return xd};var wd=function(e){function t(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new pc,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Cp,2===arguments.length){var t=arguments[0],n=arguments[1],r=du.OGC_SFS_BOUNDARY_RULE;this._argIndex=t,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],s=arguments[1],o=arguments[2];this._argIndex=i,this._parentGeom=s,this._boundaryNodeRule=o,null!==s&&this.add(s)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertBoundaryPoint=function(e,n){var r=this._nodes.addNode(n).getLabel(),i=1;Al.NONE,r.getLocation(e,Ec.ON)===Al.BOUNDARY&&i++;var s=t.determineBoundary(this._boundaryNodeRule,i);r.setLocation(e,s)},t.prototype.computeSelfNodes=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.computeSelfNodes(e,t,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],s=new ud(n,!0,!1);s.setIsDoneIfProperInt(i);var o=this.createEdgeSetIntersector(),a=this._parentGeom instanceof tc||this._parentGeom instanceof $u||this._parentGeom instanceof nc,l=r||!a;return o.computeIntersections(this._edges,s,l),this.addSelfIntersectionNodes(this._argIndex),s}},t.prototype.computeSplitEdges=function(e){for(var t=this._edges.iterator();t.hasNext();)t.next().eiList.addSplitEdges(e)},t.prototype.computeEdgeIntersections=function(e,t,n){var r=new ud(t,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),e.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,e._edges,r),r},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof Ku){var e=arguments[0].getCoordinate();this.insertPoint(this._argIndex,e,Al.INTERIOR)}else if(arguments[0]instanceof Sl){var t=arguments[0];this.insertPoint(this._argIndex,t,Al.INTERIOR)}},t.prototype.addPolygon=function(e){this.addPolygonRing(e.getExteriorRing(),Al.EXTERIOR,Al.INTERIOR);for(var t=0;t<e.getNumInteriorRing();t++){var n=e.getInteriorRingN(t);this.addPolygonRing(n,Al.INTERIOR,Al.EXTERIOR)}},t.prototype.addEdge=function(e){this.insertEdge(e);var t=e.getCoordinates();this.insertPoint(this._argIndex,t[0],Al.BOUNDARY),this.insertPoint(this._argIndex,t[t.length-1],Al.BOUNDARY)},t.prototype.addLineString=function(e){var t=Tu.removeRepeatedPoints(e.getCoordinates());if(t.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=t[0],null;var n=new tp(t,new Oc(this._argIndex,Al.INTERIOR));this._lineEdgeMap.put(e,n),this.insertEdge(n),eu.isTrue(t.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,t[0]),this.insertBoundaryPoint(this._argIndex,t[t.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var e=this.getBoundaryNodes(),t=new Array(e.size()).fill(null),n=0,r=e.iterator();r.hasNext();){var i=r.next();t[n++]=i.getCoordinate().copy()}return t},t.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(e,t,n){if(this.isBoundaryNode(e,t))return null;n===Al.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(e,t):this.insertPoint(e,t,n)},t.prototype.addPolygonRing=function(e,t,n){if(e.isEmpty())return null;var r=Tu.removeRepeatedPoints(e.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=t,s=n;ou.isCCW(r)&&(i=n,s=t);var o=new tp(r,new Oc(this._argIndex,Al.BOUNDARY,i,s));this._lineEdgeMap.put(e,o),this.insertEdge(o),this.insertPoint(this._argIndex,r[0],Al.BOUNDARY)},t.prototype.insertPoint=function(e,t,n){var r=this._nodes.addNode(t),i=r.getLabel();null===i?r._label=new Oc(e,n):i.setLocation(e,n)},t.prototype.createEdgeSetIntersector=function(){return new cd},t.prototype.addSelfIntersectionNodes=function(e){for(var t=this._edges.iterator();t.hasNext();)for(var n=t.next(),r=n.getLabel().getLocation(e),i=n.eiList.iterator();i.hasNext();){var s=i.next();this.addSelfIntersectionNode(e,s.coord,r)}},t.prototype.add=function(){if(1!==arguments.length)return e.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof nc&&(this._useBoundaryDeterminationRule=!1),t instanceof $u)this.addPolygon(t);else if(t instanceof Zu)this.addLineString(t);else if(t instanceof Ku)this.addPoint(t);else if(t instanceof ec)this.addCollection(t);else if(t instanceof ju)this.addCollection(t);else if(t instanceof nc)this.addCollection(t);else{if(!(t instanceof Gu))throw new Error(t.getClass().getName());this.addCollection(t)}},t.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},t.prototype.locate=function(e){return Il(this._parentGeom,Qu)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new _d(this._parentGeom)),this._areaPtLocator.locate(e)):this._ptLocator.locate(e,this._parentGeom)},t.prototype.findEdge=function(){if(1===arguments.length){var t=arguments[0];return this._lineEdgeMap.get(t)}return e.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(e,t){return e.isInBoundary(t)?Al.BOUNDARY:Al.INTERIOR},t}(Vc),Sd=function(){if(this._li=new ru,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new wd(0,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=du.OGC_SFS_BOUNDARY_RULE;t.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new wd(0,t,r),this._arg[1]=new wd(1,n,r)}else if(3===arguments.length){var i=arguments[0],s=arguments[1],o=arguments[2];i.getPrecisionModel().compareTo(s.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new wd(0,i,o),this._arg[1]=new wd(1,s,o)}};Sd.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()},Sd.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)},Sd.prototype.interfaces_=function(){return[]},Sd.prototype.getClass=function(){return Sd};var Cd=function(){};Cd.prototype.interfaces_=function(){return[]},Cd.prototype.getClass=function(){return Cd},Cd.map=function(){if(arguments[0]instanceof uu&&Il(arguments[1],Cd.MapOp)){for(var e=arguments[0],t=arguments[1],n=new Su,r=0;r<e.getNumGeometries();r++){var i=t.map(e.getGeometryN(r));null!==i&&n.add(i)}return e.getFactory().buildGeometry(n)}if(Il(arguments[0],vu)&&Il(arguments[1],Cd.MapOp)){for(var s=arguments[0],o=arguments[1],a=new Su,l=s.iterator();l.hasNext();){var u=l.next(),c=o.map(u);null!==c&&a.add(c)}return a}},Cd.MapOp=function(){};var Ed=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n),this._ptLocator=new Cp,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Hh,this._resultPolyList=new Su,this._resultLineList=new Su,this._resultPointList=new Su,this._graph=new Vc(new Vh),this._geomFact=t.getFactory()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new Oc(e.getLabel())).flip();var i=t.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(e)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var e=this._graph.getEdgeEnds().iterator();e.hasNext();){var t=e.next(),n=t.getSym();t.isInResult()&&n.isInResult()&&(t.setInResult(!1),n.setInResult(!1))}},t.prototype.isCoveredByLA=function(e){return!!this.isCovered(e,this._resultLineList)||!!this.isCovered(e,this._resultPolyList)},t.prototype.computeGeometry=function(e,n,r,i){var s=new Su;return s.addAll(e),s.addAll(n),s.addAll(r),s.isEmpty()?t.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(s)},t.prototype.mergeSymLabels=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().mergeSymLabels()},t.prototype.isCovered=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(e,r)!==Al.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var e=new Su,t=this._edgeList.iterator();t.hasNext();){var n=t.next();n.isCollapsed()&&(t.remove(),e.add(n.getCollapsedEdge()))}this._edgeList.addAll(e)},t.prototype.updateNodeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getEdges().getLabel();t.getLabel().merge(n)}},t.prototype.getResultGeometry=function(e){return this.computeOverlay(e),this._resultGeom},t.prototype.insertUniqueEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.insertUniqueEdge(n)}},t.prototype.computeOverlay=function(e){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var t=new Su;this._arg[0].computeSplitEdges(t),this._arg[1].computeSplitEdges(t),this.insertUniqueEdges(t),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),jp.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(e),this.cancelDuplicateResultEdges();var n=new Wc(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Wp(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(e);var i=new Hp(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(e),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,e)},t.prototype.labelIncompleteNode=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._arg[t].getGeometry());e.getLabel().setLocation(t,n)},t.prototype.copyPoints=function(e){for(var t=this._arg[e].getNodeIterator();t.hasNext();){var n=t.next();this._graph.addNode(n.getCoordinate()).setLabel(e,n.getLabel().getLocation(e))}},t.prototype.findResultAreaEdges=function(e){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&t.isResultOfOp(i.getLocation(0,Ec.RIGHT),i.getLocation(1,Ec.RIGHT),e)&&r.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var e=this._edgeList.iterator();e.hasNext();){var t=e.next(),n=t.getLabel(),r=t.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(eu.isTrue(!r.isNull(i,Ec.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Ec.LEFT,r.getLocation(i,Ec.LEFT)),eu.isTrue(!r.isNull(i,Ec.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Ec.RIGHT,r.getLocation(i,Ec.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getLabel();t.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(t,0):this.labelIncompleteNode(t,1)),t.getEdges().updateLabelling(n)}},t.prototype.isCoveredByA=function(e){return!!this.isCovered(e,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Sd);Ed.overlayOp=function(e,t,n){return new Ed(e,t).getResultGeometry(n)},Ed.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return Ed.createEmptyResult(Ed.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var n=t;return Vp.map(e,{interfaces_:function(){return[Cd.MapOp]},map:function(e){return e.intersection(n)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),id.overlayOp(e,t,Ed.INTERSECTION)},Ed.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return Ed.createEmptyResult(Ed.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),id.overlayOp(e,t,Ed.SYMDIFFERENCE)},Ed.resultDimension=function(e,t,n){var r=t.getDimension(),i=n.getDimension(),s=-1;switch(e){case Ed.INTERSECTION:s=Math.min(r,i);break;case Ed.UNION:s=Math.max(r,i);break;case Ed.DIFFERENCE:s=r;break;case Ed.SYMDIFFERENCE:s=Math.max(r,i)}return s},Ed.createEmptyResult=function(e,t,n,r){var i=null;switch(Ed.resultDimension(e,t,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Ed.difference=function(e,t){return e.isEmpty()?Ed.createEmptyResult(Ed.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),id.overlayOp(e,t,Ed.DIFFERENCE))},Ed.isResultOfOp=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=e.getLocation(0),r=e.getLocation(1);return Ed.isResultOfOp(n,r,t)}if(3===arguments.length){var i=arguments[0],s=arguments[1],o=arguments[2];switch(i===Al.BOUNDARY&&(i=Al.INTERIOR),s===Al.BOUNDARY&&(s=Al.INTERIOR),o){case Ed.INTERSECTION:return i===Al.INTERIOR&&s===Al.INTERIOR;case Ed.UNION:return i===Al.INTERIOR||s===Al.INTERIOR;case Ed.DIFFERENCE:return i===Al.INTERIOR&&s!==Al.INTERIOR;case Ed.SYMDIFFERENCE:return i===Al.INTERIOR&&s!==Al.INTERIOR||i!==Al.INTERIOR&&s===Al.INTERIOR}return!1}},Ed.INTERSECTION=1,Ed.UNION=2,Ed.DIFFERENCE=3,Ed.SYMDIFFERENCE=4;var Td=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Cp,this._seg=new fh;var e=arguments[0],t=arguments[1];this._g=e,this._boundaryDistanceTolerance=t,this._linework=this.extractLinework(e)};Td.prototype.isWithinToleranceOfBoundary=function(e){for(var t=0;t<this._linework.getNumGeometries();t++)for(var n=this._linework.getGeometryN(t).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(e)<=this._boundaryDistanceTolerance)return!0;return!1},Td.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?Al.BOUNDARY:this._ptLocator.locate(e,this._g)},Td.prototype.extractLinework=function(e){var t=new Ad;e.apply(t);var n=t.getLinework(),r=gc.toLineStringArray(n);return e.getFactory().createMultiLineString(r)},Td.prototype.interfaces_=function(){return[]},Td.prototype.getClass=function(){return Td};var Ad=function(){this._linework=null,this._linework=new Su};Ad.prototype.getLinework=function(){return this._linework},Ad.prototype.filter=function(e){if(e instanceof $u){var t=e;this._linework.add(t.getExteriorRing());for(var n=0;n<t.getNumInteriorRing();n++)this._linework.add(t.getInteriorRingN(n))}},Ad.prototype.interfaces_=function(){return[zu]},Ad.prototype.getClass=function(){return Ad};var Pd=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Pd.prototype.extractPoints=function(e,t,n){for(var r=e.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],t,n)},Pd.prototype.setSidesToGenerate=function(e,t){this._doLeft=e,this._doRight=t},Pd.prototype.getPoints=function(e){for(var t=new Su,n=Sp.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,e,t)}return t},Pd.prototype.computeOffsetPoints=function(e,t,n,r){var i=t.x-e.x,s=t.y-e.y,o=Math.sqrt(i*i+s*s),a=n*i/o,l=n*s/o,u=(t.x+e.x)/2,c=(t.y+e.y)/2;if(this._doLeft){var h=new Sl(u-l,c+a);r.add(h)}if(this._doRight){var p=new Sl(u+l,c-a);r.add(p)}},Pd.prototype.interfaces_=function(){return[]},Pd.prototype.getClass=function(){return Pd};var Id=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new Su;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(t,n),this._geom=[t,n,r],this._locFinder=[new Td(this._geom[0],this._boundaryDistanceTolerance),new Td(this._geom[1],this._boundaryDistanceTolerance),new Td(this._geom[2],this._boundaryDistanceTolerance)]},Ld={TOLERANCE:{configurable:!0}};Id.prototype.reportResult=function(e,t,n){jl.out.println("Overlay result invalid - A:"+Al.toLocationSymbol(t[0])+" B:"+Al.toLocationSymbol(t[1])+" expected:"+(n?"i":"e")+" actual:"+Al.toLocationSymbol(t[2]))},Id.prototype.isValid=function(e){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var t=this.checkValid(e);return t},Id.prototype.checkValid=function(){if(1===arguments.length){for(var e=arguments[0],t=0;t<this._testCoords.size();t++){var n=this._testCoords.get(t);if(!this.checkValid(e,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!Id.hasLocation(this._location,Al.BOUNDARY)||this.isValidResult(r,this._location)}},Id.prototype.addTestPts=function(e){var t=new Pd(e);this._testCoords.addAll(t.getPoints(5*this._boundaryDistanceTolerance))},Id.prototype.isValidResult=function(e,t){var n=Ed.isResultOfOp(t[0],t[1],e),r=!(n^t[2]===Al.INTERIOR);return r||this.reportResult(e,t,n),r},Id.prototype.getInvalidLocation=function(){return this._invalidLocation},Id.prototype.interfaces_=function(){return[]},Id.prototype.getClass=function(){return Id},Id.hasLocation=function(e,t){for(var n=0;n<3;n++)if(e[n]===t)return!0;return!1},Id.computeBoundaryDistanceTolerance=function(e,t){return Math.min(Zp.computeSizeBasedSnapTolerance(e),Zp.computeSizeBasedSnapTolerance(t))},Id.isValid=function(e,t,n,r){return new Id(e,t,r).isValid(n)},Ld.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Id,Ld);var Md=function e(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(t),this._inputGeoms=t};Md.prototype.extractElements=function(e,t){if(null===e)return null;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);this._skipEmpty&&r.isEmpty()||t.add(r)}},Md.prototype.combine=function(){for(var e=new Su,t=this._inputGeoms.iterator();t.hasNext();){var n=t.next();this.extractElements(n,e)}return 0===e.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(e)},Md.prototype.interfaces_=function(){return[]},Md.prototype.getClass=function(){return Md},Md.combine=function(){if(1===arguments.length){var e=arguments[0];return new Md(e).combine()}if(2===arguments.length){var t=arguments[0],n=arguments[1];return new Md(Md.createList(t,n)).combine()}if(3===arguments.length){var r=arguments[0],i=arguments[1],s=arguments[2];return new Md(Md.createList(r,i,s)).combine()}},Md.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},Md.createList=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new Su;return n.add(e),n.add(t),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],s=arguments[2],o=new Su;return o.add(r),o.add(i),o.add(s),o}};var Od=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,null===this._inputPolys&&(this._inputPolys=new Su)},kd={STRTREE_NODE_CAPACITY:{configurable:!0}};Od.prototype.reduceToGeometries=function(e){for(var t=new Su,n=e.iterator();n.hasNext();){var r=n.next(),i=null;Il(r,wu)?i=this.unionTree(r):r instanceof uu&&(i=r),t.add(i)}return t},Od.prototype.extractByEnvelope=function(e,t,n){for(var r=new Su,i=0;i<t.getNumGeometries();i++){var s=t.getGeometryN(i);s.getEnvelopeInternal().intersects(e)?r.add(s):n.add(s)}return this._geomFactory.buildGeometry(r)},Od.prototype.unionOptimized=function(e,t){var n=e.getEnvelopeInternal(),r=t.getEnvelopeInternal();if(!n.intersects(r))return Md.combine(e,t);if(e.getNumGeometries()<=1&&t.getNumGeometries()<=1)return this.unionActual(e,t);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(e,t,i)},Od.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new sh(Od.STRTREE_NODE_CAPACITY),t=this._inputPolys.iterator();t.hasNext();){var n=t.next();e.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=e.itemsTree();return this.unionTree(r)},Od.prototype.binaryUnion=function(){if(1===arguments.length){var e=arguments[0];return this.binaryUnion(e,0,e.size())}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=Od.getGeometry(t,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(Od.getGeometry(t,n),Od.getGeometry(t,n+1));var s=Math.trunc((r+n)/2),o=this.binaryUnion(t,n,s),a=this.binaryUnion(t,s,r);return this.unionSafe(o,a)}},Od.prototype.repeatedUnion=function(e){for(var t=null,n=e.iterator();n.hasNext();){var r=n.next();t=null===t?r.copy():t.union(r)}return t},Od.prototype.unionSafe=function(e,t){return null===e&&null===t?null:null===e?t.copy():null===t?e.copy():this.unionOptimized(e,t)},Od.prototype.unionActual=function(e,t){return Od.restrictToPolygons(e.union(t))},Od.prototype.unionTree=function(e){var t=this.reduceToGeometries(e);return this.binaryUnion(t)},Od.prototype.unionUsingEnvelopeIntersection=function(e,t,n){var r=new Su,i=this.extractByEnvelope(n,e,r),s=this.extractByEnvelope(n,t,r),o=this.unionActual(i,s);return r.add(o),Md.combine(r)},Od.prototype.bufferUnion=function(){if(1===arguments.length){var e=arguments[0];return e.get(0).getFactory().buildGeometry(e).buffer(0)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t.getFactory().createGeometryCollection([t,n]).buffer(0)}},Od.prototype.interfaces_=function(){return[]},Od.prototype.getClass=function(){return Od},Od.restrictToPolygons=function(e){if(Il(e,Qu))return e;var t=wp.getPolygons(e);return 1===t.size()?t.get(0):e.getFactory().createMultiPolygon(gc.toPolygonArray(t))},Od.getGeometry=function(e,t){return t>=e.size()?null:e.get(t)},Od.union=function(e){return new Od(e).union()},kd.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Od,kd);var Nd=function(){};Nd.prototype.interfaces_=function(){return[]},Nd.prototype.getClass=function(){return Nd},Nd.union=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return Ed.createEmptyResult(Ed.UNION,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),id.overlayOp(e,t,Ed.UNION)};var Rd=function(){return new Wi};Wi.prototype={constructor:Wi,reset:function(){this.s=this.t=0},add:function(e){Hi(Dd,e,this.t),Hi(this,Dd.s,this.s),this.s?this.t+=Dd.t:this.s=Dd.t},valueOf:function(){return this.s}};var Dd=new Wi,Fd=1e-6,Bd=Math.PI,qd=Bd/2,zd=Bd/4,Ud=2*Bd,Gd=180/Bd,jd=Bd/180,Vd=Math.abs,Wd=Math.atan,Hd=Math.atan2,Jd=Math.cos,Xd=Math.exp,Zd=Math.log,Yd=Math.sin,Kd=Math.sqrt,Qd=Math.tan,$d={Feature:function(e,t){Zi(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Zi(n[r].geometry,t)}},ef={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Yi(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Yi(n[r],t,0)},Polygon:function(e,t){Ki(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ki(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Zi(n[r],t)}},tf=function(e,t){e&&$d.hasOwnProperty(e.type)?$d[e.type](e,t):Zi(e,t)},nf=(Rd(),Rd(),Rd(),function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n});ss.invert=ss;var rf=function(e){function t(t){return t=e(t[0]*jd,t[1]*jd),t[0]*=Gd,t[1]*=Gd,t}return e=os(e[0]*jd,e[1]*jd,e.length>2?e[2]*jd:0),t.invert=function(t){return t=e.invert(t[0]*jd,t[1]*jd),t[0]*=Gd,t[1]*=Gd,t},t},sf=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Xi,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},of=function(e,t,n,r,i,s){var o,a=e[0],l=e[1],u=0,c=1,h=t[0]-a,p=t[1]-l;if(o=n-a,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>u&&(u=o)}if(o=i-a,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<c&&(c=o)}if(o=r-l,p||!(o>0)){if(o/=p,p<0){if(o<u)return;o<c&&(c=o)}else if(p>0){if(o>c)return;o>u&&(u=o)}if(o=s-l,p||!(o<0)){if(o/=p,p<0){if(o>c)return;o>u&&(u=o)}else if(p>0){if(o<u)return;o<c&&(c=o)}return u>0&&(e[0]=a+u*h,e[1]=l+u*p),c<1&&(t[0]=a+c*h,t[1]=l+c*p),!0}}}}},af=function(e,t){return Vd(e[0]-t[0])<Fd&&Vd(e[1]-t[1])<Fd},lf=function(e,t,n,r,i){var s,o,a=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(af(r,o)){for(i.lineStart(),s=0;s<t;++s)i.point((r=e[s])[0],r[1]);i.lineEnd()}else a.push(n=new hs(r,e,null,!0)),l.push(n.o=new hs(r,null,n,!1)),a.push(n=new hs(o,e,null,!1)),l.push(n.o=new hs(o,null,n,!0))}})),a.length){for(l.sort(t),ps(a),ps(l),s=0,o=l.length;s<o;++s)l[s].e=n=!n;for(var u,c,h=a[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;u=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(s=0,o=u.length;s<o;++s)i.point((c=u[s])[0],c[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d)for(u=p.p.z,s=u.length-1;s>=0;--s)i.point((c=u[s])[0],c[1]);else r(p.x,p.p.x,-1,i);p=p.p}u=(p=p.o).z,d=!d}while(!p.v);i.lineEnd()}}},uf=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},cf=(function(e){1===e.length&&(e=function(e){return function(t,n){return uf(e(t),n)}}(e))}(uf),function(e){for(var t,n,r,i=e.length,s=-1,o=0;++s<i;)o+=e[s].length;for(n=new Array(o);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--o]=r[t];return n}),hf=1e9,pf=-hf,df=Rd(),ff=(Rd(),function(e){return e}),mf=(Rd(),Rd(),1/0),yf=mf,gf=-mf,_f=gf,vf={point:function(e,t){e<mf&&(mf=e),e>gf&&(gf=e),t<yf&&(yf=t),t>_f&&(_f=t)},lineStart:Xi,lineEnd:Xi,polygonStart:Xi,polygonEnd:Xi,result:function(){var e=[[mf,yf],[gf,_f]];return gf=_f=-(yf=mf=1/0),e}},bf=(Rd(),function(e,t,n,r){return function(i,s){function o(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&s.point(t,n)}function a(e,t){var n=i(e,t);y.point(n[0],n[1])}function l(){x.point=a,y.lineStart()}function u(){x.point=o,y.lineEnd()}function c(e,t){m.push([e,t]);var n=i(e,t);v.point(n[0],n[1])}function h(){v.lineStart(),m=[]}function p(){c(m[0][0],m[0][1]),v.lineEnd();var e,t,n,r,i=v.clean(),o=_.result(),a=o.length;if(m.pop(),d.push(m),m=null,a)if(1&i){if(n=o[0],(t=n.length-1)>0){for(b||(s.polygonStart(),b=!0),s.lineStart(),e=0;e<t;++e)s.point((r=n[e])[0],r[1]);s.lineEnd()}}else a>1&&2&i&&o.push(o.pop().concat(o.shift())),f.push(o.filter(fs))}var d,f,m,y=t(s),g=i.invert(r[0],r[1]),_=sf(),v=t(_),b=!1,x={point:o,lineStart:l,lineEnd:u,polygonStart:function(){x.point=c,x.lineStart=h,x.lineEnd=p,f=[],d=[]},polygonEnd:function(){x.point=o,x.lineStart=l,x.lineEnd=u,f=cf(f);var e=function(e,t){var n=t[0],r=t[1],i=[Yd(n),-Jd(n),0],s=0,o=0;df.reset();for(var a=0,l=e.length;a<l;++a)if(c=(u=e[a]).length)for(var u,c,h=u[c-1],p=h[0],d=h[1]/2+zd,f=Yd(d),m=Jd(d),y=0;y<c;++y,p=_,f=b,m=x,h=g){var g=u[y],_=g[0],v=g[1]/2+zd,b=Yd(v),x=Jd(v),w=_-p,S=w>=0?1:-1,C=S*w,E=C>Bd,T=f*b;if(df.add(Hd(T*S*Yd(C),m*x+T*Jd(C))),s+=E?w+S*Ud:w,E^p>=n^_>=n){var A=ts($i(h),$i(g));is(A);var P=ts(i,A);is(P);var I=(E^w>=0?-1:1)*Ji(P[2]);(r>I||r===I&&(A[0]||A[1]))&&(o+=E^w>=0?1:-1)}}return(s<-Fd||s<Fd&&df<-Fd)^1&o}(d,g);f.length?(b||(s.polygonStart(),b=!0),lf(f,ms,e,n,s)):e&&(b||(s.polygonStart(),b=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),b&&(s.polygonEnd(),b=!1),f=d=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};return x}}),xf=bf((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(s,o){var a=s>0?Bd:-Bd,l=Vd(s-n);Vd(l-Bd)<Fd?(e.point(n,r=(r+o)/2>0?qd:-qd),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(a,r),e.point(s,r),t=0):i!==a&&l>=Bd&&(Vd(n-i)<Fd&&(n-=i*Fd),Vd(s-a)<Fd&&(s-=a*Fd),r=function(e,t,n,r){var i,s,o=Yd(e-n);return Vd(o)>Fd?Wd((Yd(t)*(s=Jd(r))*Yd(n)-Yd(r)*(i=Jd(t))*Yd(e))/(i*s*o)):(t+r)/2}(n,r,s,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(a,r),t=0),e.point(n=s,r=o),i=a},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*qd,r.point(-Bd,i),r.point(0,i),r.point(Bd,i),r.point(Bd,0),r.point(Bd,-i),r.point(0,-i),r.point(-Bd,-i),r.point(-Bd,0),r.point(-Bd,i);else if(Vd(e[0]-t[0])>Fd){var s=e[0]<t[0]?Bd:-Bd;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(t[0],t[1])}),[-Bd,-qd]),wf=function(e,t){function n(e,t){return Jd(e)*Jd(t)>s}function r(e,t,n){var r=[1,0,0],i=ts($i(e),$i(t)),o=es(i,i),a=i[0],l=o-a*a;if(!l)return!n&&e;var u=s*o/l,c=-s*a/l,h=ts(r,i),p=rs(r,u);ns(p,rs(i,c));var d=h,f=es(p,d),m=es(d,d),y=f*f-m*(es(p,p)-1);if(!(y<0)){var g=Kd(y),_=rs(d,(-f-g)/m);if(ns(_,p),_=Qi(_),!n)return _;var v,b=e[0],x=t[0],w=e[1],S=t[1];x<b&&(v=b,b=x,x=v);var C=x-b,E=Vd(C-Bd)<Fd;if(!E&&S<w&&(v=w,w=S,S=v),E||C<Fd?E?w+S>0^_[1]<(Vd(_[0]-b)<Fd?w:S):w<=_[1]&&_[1]<=S:C>Bd^(b<=_[0]&&_[0]<=x)){var T=rs(d,(-f+g)/m);return ns(T,p),[_,Qi(T)]}}}function i(t,n){var r=o?e:Bd-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var s=Jd(e),o=s>0,a=Vd(s)>Fd;return bf(n,(function(e){var t,s,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,p){var d,f=[h,p],m=n(h,p),y=o?m?0:i(h,p):m?i(h+(h<0?Bd:-Bd),p):0;if(!t&&(u=l=m)&&e.lineStart(),m!==l&&(!(d=r(t,f))||af(t,d)||af(f,d))&&(f[0]+=Fd,f[1]+=Fd,m=n(f[0],f[1])),m!==l)c=0,m?(e.lineStart(),d=r(f,t),e.point(d[0],d[1])):(d=r(t,f),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(a&&t&&o^m){var g;y&s||!(g=r(f,t,!0))||(c=0,o?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!m||t&&af(t,f)||e.point(f[0],f[1]),t=f,l=m,s=y},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}),(function(n,r,i,s){!function(e,t,n,r,i,s){if(n){var o=Jd(t),a=Yd(t),l=r*n;null==i?(i=t+r*Ud,s=t-l/2):(i=cs(o,i),s=cs(o,s),(r>0?i<s:i>s)&&(i+=r*Ud));for(var u,c=i;r>0?c>s:c<s;c-=l)u=Qi([o,-a*Jd(c),-a*Yd(c)]),e.point(u[0],u[1])}}(s,e,t,i,n,r)}),o?[0,-e]:[-Bd,e-Bd])};gs.prototype={constructor:gs,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Sf=16,Cf=Jd(30*jd),Ef=function(e,t){return+t?function(e,t){function n(r,i,s,o,a,l,u,c,h,p,d,f,m,y){var g=u-r,_=c-i,v=g*g+_*_;if(v>4*t&&m--){var b=o+p,x=a+d,w=l+f,S=Kd(b*b+x*x+w*w),C=Ji(w/=S),E=Vd(Vd(w)-1)<Fd||Vd(s-h)<Fd?(s+h)/2:Hd(x,b),T=e(E,C),A=T[0],P=T[1],I=A-r,L=P-i,M=_*I-g*L;(M*M/v>t||Vd((g*I+_*L)/v-.5)>.3||o*p+a*d+l*f<Cf)&&(n(r,i,s,o,a,l,A,P,E,b/=S,x/=S,w,m,y),y.point(A,P),n(A,P,E,b,x,w,u,c,h,p,d,f,m,y))}}return function(t){function r(n,r){n=e(n,r),t.point(n[0],n[1])}function i(){g=NaN,w.point=s,t.lineStart()}function s(r,i){var s=$i([r,i]),o=e(r,i);n(g,_,y,v,b,x,g=o[0],_=o[1],y=r,v=s[0],b=s[1],x=s[2],Sf,t),t.point(g,_)}function o(){w.point=r,t.lineEnd()}function a(){i(),w.point=l,w.lineEnd=u}function l(e,t){s(c=e,t),h=g,p=_,d=v,f=b,m=x,w.point=s}function u(){n(g,_,y,v,b,x,h,p,c,d,f,m,Sf,t),w.lineEnd=o,o()}var c,h,p,d,f,m,y,g,_,v,b,x,w={point:r,lineStart:i,lineEnd:o,polygonStart:function(){t.polygonStart(),w.lineStart=a},polygonEnd:function(){t.polygonEnd(),w.lineStart=i}};return w}}(e,t):function(e){return ys({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)},Tf=ys({point:function(e,t){this.stream.point(e*jd,t*jd)}});bs.invert=function(e,t){return[e,2*Wd(Xd(t))-qd]},xs.invert=function(e,t){return[-t,2*Wd(Xd(e))-qd]};var Af=function(){var e=function(e){function t(){var t=Bd*a(),o=s(rf(s.rotate()).invert([0,0]));return u(null==c?[[o[0]-t,o[1]-t],[o[0]+t,o[1]+t]]:e===bs?[[Math.max(o[0]-t,c),n],[Math.min(o[0]+t,r),i]]:[[c,Math.max(o[1]-t,n)],[r,Math.min(o[1]+t,i)]])}var n,r,i,s=vs(e),o=s.center,a=s.scale,l=s.translate,u=s.clipExtent,c=null;return s.scale=function(e){return arguments.length?(a(e),t()):a()},s.translate=function(e){return arguments.length?(l(e),t()):l()},s.center=function(e){return arguments.length?(o(e),t()):o()},s.clipExtent=function(e){return arguments.length?(null==e?c=n=r=i=null:(c=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),t()):null==c?null:[[c,n],[r,i]]},t()}(xs),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90]).scale(159.155)};e.projection=To,e.random=fl,e.clusters=ml,e.helpers=qs,e.invariant=Us,e.meta=zs,e.isolines=function(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},s=n.breaksProperties||[];if(X(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks must be an Array");if(!C(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(s))throw new Error("breaksProperties must be an Array");var o=re(e,{zProperty:r,flip:!0});return u(function(e,t,n){var r=G(n),i=r[2]-r[0],s=r[3]-r[1],o=r[0],a=r[1],l=t[0].length-1,u=t.length-1,c=i/l,h=s/u,p=function(e){e[0]=e[0]*c+o,e[1]=e[1]*h+a};return e.forEach((function(e){A(e,p)})),e}(function(e,t,n,r,i){for(var s=[],o=1;o<t.length;o++){var a=+t[o],l=Object.assign({},r,i[o]);l[n]=a;var u=c(Q(e,a),l);s.push(u)}return s}(o,t,r,i,s),o,e))},e.convex=Ie,e.pointsWithinPolygon=Oe,e.concave=function(e,n){if(n=n||{},!C(n))throw new Error("options is invalid");if(!e)throw new Error("points is required");var r=n.maxEdge||1/0;if(!S(r))throw new Error("maxEdge is invalid");var i=ke(function(e){var t=[],n={};return M(e,(function(e){if(e.geometry){var r=e.geometry.coordinates.join("-");n.hasOwnProperty(r)||(t.push(e),n[r]=!0)}})),u(t)}(e));if(i.features=i.features.filter((function(e){var t=e.geometry.coordinates[0][0],i=e.geometry.coordinates[0][1],s=e.geometry.coordinates[0][2],o=Fe(t,i,n),a=Fe(i,s,n),l=Fe(t,s,n);return o<=r&&a<=r&&l<=r})),i.features.length<1)return null;var s=$e(i,n);return 1===s.coordinates.length&&(s.coordinates=s.coordinates[0],s.type="Polygon"),t(s)},e.collect=function(e,t,n,r){var i=Ws(6),s=t.features.map((function(e){return{minX:e.geometry.coordinates[0],minY:e.geometry.coordinates[1],maxX:e.geometry.coordinates[0],maxY:e.geometry.coordinates[1],property:e.properties[n]}}));return i.load(s),e.features.forEach((function(e){e.properties||(e.properties={});var t=G(e),n=[];i.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}).forEach((function(t){Le([t.minX,t.minY],e)&&n.push(t.property)})),e.properties[r]=n})),e},e.flip=function(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.mutate;if(!e)throw new Error("geojson is required");return!1!==n&&void 0!==n||(e=Be(e)),A(e,(function(e){var t=e[0],n=e[1];e[0]=n,e[1]=t})),e},e.simplify=function(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=void 0!==t.tolerance?t.tolerance:1,r=t.highQuality||!1,i=t.mutate||!1;if(!e)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(e=Be(e)),N(e,(function(e){!function(e,t,n){var r=e.type;if("Point"===r||"MultiPoint"===r)return e;et(e,!0);var i=e.coordinates;switch(r){case"LineString":e.coordinates=ot(i,t,n);break;case"MultiLineString":e.coordinates=i.map((function(e){return ot(e,t,n)}));break;case"Polygon":e.coordinates=at(i,t,n);break;case"MultiPolygon":e.coordinates=i.map((function(e){return at(e,t,n)}))}}(e,n,r)})),e},e.bezierSpline=lt,e.tag=function(e,t,n,r){return e=Be(e),t=Be(t),M(e,(function(e){e.properties||(e.properties={}),M(t,(function(t){void 0===e.properties[r]&&Le(e,t)&&(e.properties[r]=t.properties[n])}))})),e},e.sample=function(e,t){if(!e)throw new Error("featurecollection is required");if(null===t||void 0===t)throw new Error("num is required");if("number"!=typeof t)throw new Error("num must be a number");return u(function(e,t){for(var n,r,i=e.slice(0),s=e.length,o=s-t;s-- >o;)r=Math.floor((s+1)*Math.random()),n=i[r],i[r]=i[s],i[s]=n;return i.slice(o)}(e.features,t))},e.envelope=ct,e.square=ht,e.circle=dt,e.midpoint=function(e,t){return pt(e,Fe(e,t)/2,ft(e,t))},e.center=mt,e.centerOfMass=gt,e.centroid=yt,e.combine=function(e){function n(e,t,n){n?r[t].coordinates=r[t].coordinates.concat(e.geometry.coordinates):r[t].coordinates.push(e.geometry.coordinates),r[t].properties.push(e.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},i=Object.keys(r).reduce((function(e,t){return e[t.replace("Multi","")]=t,e}),{});return M(e,(function(e){e.geometry&&(r[e.geometry.type]?n(e,e.geometry.type,!0):i[e.geometry.type]&&n(e,i[e.geometry.type],!1))})),u(Object.keys(r).filter((function(e){return r[e].coordinates.length})).sort().map((function(e){return t({type:e,coordinates:r[e].coordinates},{collectedProperties:r[e].properties})})))},e.distance=Fe,e.explode=_t,e.bbox=G,e.tesselate=function(e){if(!e.geometry||"Polygon"!==e.geometry.type&&"MultiPolygon"!==e.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var t={type:"FeatureCollection",features:[]};return"Polygon"===e.geometry.type?t.features=Rt(e.geometry.coordinates):e.geometry.coordinates.forEach((function(e){t.features=t.features.concat(Rt(e))})),t},e.bboxPolygon=ut,e.booleanPointInPolygon=Le,e.nearestPoint=Dt,e.nearestPointOnLine=sn,e.nearestPointToLine=function(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units,i=n.properties||{};if(!e)throw new Error("points is required");if(!(e=function(e){var t=[];switch(e.geometry?e.geometry.type:e.type){case"GeometryCollection":return N(e,(function(e){"Point"===e.type&&t.push({type:"Feature",properties:{},geometry:e})})),{type:"FeatureCollection",features:t};case"FeatureCollection":return e.features=e.features.filter((function(e){return"Point"===e.geometry.type})),e;default:throw new Error("points must be a Point Collection")}}(e)).features.length)throw new Error("points must contain features");if(!t)throw new Error("line is required");if("LineString"!==K(t))throw new Error("line must be a LineString");var s=1/0,o=null;return M(e,(function(e){var n=fn(e,t,{units:r});n<s&&(s=n,o=e)})),o&&(o.properties=Object.assign({dist:s},o.properties,i)),o},e.planepoint=function(e,t){var n=j(e),r=Z(t).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=t.properties||{},s=i.a,o=i.b,a=i.c,l=n[0],u=n[1],c=r[0][0],h=r[0][1],p=void 0!==s?s:r[0][2],d=r[1][0],f=r[1][1],m=void 0!==o?o:r[1][2],y=r[2][0],g=r[2][1],_=void 0!==a?a:r[2][2];return(_*(l-c)*(u-f)+p*(l-d)*(u-g)+m*(l-y)*(u-h)-m*(l-c)*(u-g)-_*(l-d)*(u-h)-p*(l-y)*(u-f))/((l-c)*(u-f)+(l-d)*(u-g)+(l-y)*(u-h)-(l-c)*(u-g)-(l-d)*(u-h)-(l-y)*(u-f))},e.tin=ke,e.bearing=ft,e.destination=pt,e.kinks=function(e){var t,n,i={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===e.type?e.geometry:e).type)t=[n.coordinates];else if("MultiLineString"===n.type)t=n.coordinates;else if("MultiPolygon"===n.type)t=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");t=n.coordinates}return t.forEach((function(e){t.forEach((function(t){for(var n=0;n<e.length-1;n++)for(var s=n;s<t.length-1;s++){if(e===t){if(1===Math.abs(n-s))continue;if(0===n&&s===e.length-2&&e[n][0]===e[e.length-1][0]&&e[n][1]===e[e.length-1][1])continue}var o=function(e,t,n,r,i,s,o,a){var l,u,c,h,p,d={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(l=(a-s)*(n-e)-(o-i)*(r-t))?null!==d.x&&null!==d.y&&d:(u=t-s,c=e-i,h=(o-i)*u-(a-s)*c,p=(n-e)*u-(r-t)*c,u=h/l,c=p/l,d.x=e+u*(n-e),d.y=t+u*(r-t),u>=0&&u<=1&&(d.onLine1=!0),c>=0&&c<=1&&(d.onLine2=!0),!(!d.onLine1||!d.onLine2)&&[d.x,d.y])}(e[n][0],e[n][1],e[n+1][0],e[n+1][1],t[s][0],t[s][1],t[s+1][0],t[s+1][1]);o&&i.features.push(r([o[0],o[1]]))}}))})),i},e.pointOnFeature=yn,e.area=_n,e.along=function(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var i;if("Feature"===e.type)i=e.geometry.coordinates;else{if("LineString"!==e.type)throw new Error("input must be a LineString Feature or Geometry");i=e.coordinates}if(!S(t))throw new Error("distance must be a number");for(var s=0,o=0;o<i.length&&!(t>=s&&o===i.length-1);o++){if(s>=t){var a=t-s;if(a){var l=ft(i[o],i[o-1])-180;return pt(i[o],a,l,n)}return r(i[o])}s+=Fe(i[o],i[o+1],n)}return r(i[i.length-1])},e.length=Sn,e.lineSlice=function(e,t,n){var r=V(n);if("LineString"!==K(n))throw new Error("line must be a LineString");for(var i,s=sn(n,e),o=sn(n,t),l=[(i=s.properties.index<=o.properties.index?[s,o]:[o,s])[0].geometry.coordinates],u=i[0].properties.index+1;u<i[1].properties.index+1;u++)l.push(r[u]);return l.push(i[1].geometry.coordinates),a(l,n.properties)},e.lineSliceAlong=Cn,e.pointGrid=In,e.truncate=Ln,e.flatten=function(e){if(!e)throw new Error("geojson is required");var t=[];return D(e,(function(e){t.push(e)})),u(t)},e.lineIntersect=nn,e.lineChunk=function(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!e)throw new Error("geojson is required");if(t<=0)throw new Error("segmentLength must be greater than 0");var s=[];return D(e,(function(e){i&&(e.geometry.coordinates=e.geometry.coordinates.reverse()),function(e,t,n,r){var i=Sn(e,{units:n});if(i<=t)return r(e);var s=i/t;Number.isInteger(s)||(s=Math.floor(s)+1);for(var o=0;o<s;o++){var a=Cn(e,t*o,t*(o+1),{units:n});r(a,o)}}(e,t,r,(function(e){s.push(e)}))})),u(s)},e.unkinkPolygon=function(e){var t=[];return D(e,(function(e){"Polygon"===e.geometry.type&&M(Io(e),(function(n){t.push(s(n.geometry.coordinates,e.properties))}))})),u(t)},e.greatCircle=function(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,s=n.offset;return e=j(e),t=j(t),r=r||{},i=i||100,s=s||10,new Fo({x:e[0],y:e[1]},{x:t[0],y:t[1]},r).Arc(i,{offset:s}).json()},e.lineSegment=tn,e.lineSplit=function(e,t){if(!e)throw new Error("line is required");if(!t)throw new Error("splitter is required");var n=K(e),r=K(t);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=Ln(t,{precision:7});switch(r){case"Point":return Rn(e,i);case"MultiPoint":return Nn(e,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Nn(e,nn(e,i))}},e.lineArc=Bn,e.polygonToLine=zn,e.lineToPolygon=Gn,e.bboxClip=function(e,t){var n=function(e){return e.geometry?e.geometry.type:e.type}(e),r=V(e),i=e.properties;switch(n){case"LineString":case"MultiLineString":var o=[];return"LineString"===n&&(r=[r]),r.forEach((function(e){Bo(e,t,o)})),1===o.length?a(o[0],i):c(o,i);case"Polygon":return s(Xn(r,t),i);case"MultiPolygon":return p(r.map((function(e){return Xn(e,t)})),i);default:throw new Error("geometry "+n+" not supported")}},e.lineOverlap=$n,e.sector=function(e,t,n,r,i){if(i=i||{},!C(i))throw new Error("options is invalid");if(!e)throw new Error("center is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===r||null===r)throw new Error("bearing2 is required");if(!t)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(tr(n)===tr(r))return dt(e,t,i);var o=V(e),a=[[o]];return A(Bn(e,t,n,r,i),(function(e){a[0].push(e)})),a[0].push(o),s(a)},e.rhumbBearing=on,e.rhumbDistance=ln,e.rhumbDestination=nr,e.polygonTangents=function(e,t){var n,i,s,o=V(e),a=V(t);switch(K(t)){case"Polygon":n=a[0][0],i=a[0][0],s=ir(a[0][0],a[0][a[0].length-1],o);var l=rr(a[0],o,s,void 0,n,i);n=l[0],i=l[1];break;case"MultiPolygon":n=a[0][0][0],i=a[0][0][0],s=ir(a[0][0][0],a[0][0][a[0][0].length-1],o),a.forEach((function(e){var t=rr(e[0],o,s,void 0,n,i);n=t[0],i=t[1]}))}return u([r(n),r(i)])},e.rewind=function(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.reverse||!1,r=t.mutate||!1;if(!e)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(e=Be(e));var i=[];switch(e.type){case"GeometryCollection":return N(e,(function(e){or(e,n)})),e;case"FeatureCollection":return M(e,(function(e){M(or(e,n),(function(e){i.push(e)}))})),u(i)}return or(e,n)},e.isobands=function(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(X(e,"Point","Input must contain Points"),!t)throw new Error("breaks is required");if(!Array.isArray(t))throw new Error("breaks is not an Array");if(!C(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(o))throw new Error("breaksProperties is not an Array");var a=ur(e,{zProperty:r,flip:!0}),l=function(e,t,n){for(var r=[],i=1;i<t.length;i++){var o=+t[i-1],a=+t[i],l=cr(e,o,a-o),u=function(e){var t=[],n=[];e.forEach((function(e){var r=_n(s([e]));n.push(r),t.push({ring:e,area:r})})),n.sort((function(e,t){return t-e}));var r=[];return n.forEach((function(e){for(var n=0;n<t.length;n++)if(t[n].area===e){r.push(t[n].ring),t.splice(n,1);break}})),r}(l),c=function(e){for(var t=e.map((function(e){return{lrCoordinates:e,grouped:!1}})),n=[];!function(e){for(var t=0;t<e.length;t++)if(!1===e[t].grouped)return!1;return!0}(t);)for(var r=0;r<t.length;r++)if(!t[r].grouped){var i=[];i.push(t[r].lrCoordinates),t[r].grouped=!0;for(var o=s([t[r].lrCoordinates]),a=r+1;a<t.length;a++)if(!t[a].grouped){var l=s([t[a].lrCoordinates]);(function(e,t){for(var n=_t(e),r=0;r<n.features.length;r++)if(!Le(n.features[r],t))return!1;return!0})(l,o)&&(i.push(t[a].lrCoordinates),t[a].grouped=!0)}n.push(i)}return n}(u),h={};h.groupedRings=c,h[n]=o+"-"+a,r.push(h)}return r}(a,t,r);return u((l=function(e,t,n){var r=G(n),i=r[2]-r[0],s=r[3]-r[1],o=r[0],a=r[1],l=t[0].length-1,u=t.length-1,c=i/l,h=s/u,p=function(e){e[0]=e[0]*c+o,e[1]=e[1]*h+a};return e.forEach((function(e){e.groupedRings.forEach((function(e){e.forEach((function(e){e.forEach(p)}))}))})),e}(l,a,e)).map((function(e,t){if(o[t]&&!C(o[t]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},i,o[t]);return n[r]=e[r],p(e.groupedRings,n)})))},e.transformRotate=dr,e.transformScale=fr,e.transformTranslate=function(e,t,n,r){if(r=r||{},!C(r))throw new Error("options is invalid");var i=r.units,s=r.zTranslation,o=r.mutate;if(!e)throw new Error("geojson is required");if(void 0===t||null===t||isNaN(t))throw new Error("distance is required");if(s&&"number"!=typeof s&&isNaN(s))throw new Error("zTranslation is not a number");if(s=void 0!==s?s:0,0===t&&0===s)return e;if(void 0===n||null===n||isNaN(n))throw new Error("direction is required");return t<0&&(t=-t,n=-n),!1!==o&&void 0!==o||(e=Be(e)),A(e,(function(e){var r=V(nr(e,t,n,{units:i}));e[0]=r[0],e[1]=r[1],s&&3===e.length&&(e[2]+=s)})),e},e.lineOffset=function(e,t,n){if(n=n||{},!C(n))throw new Error("options is invalid");var r=n.units;if(!e)throw new Error("geojson is required");if(void 0===t||null===t||isNaN(t))throw new Error("distance is required");var i=K(e),s=e.properties;switch(i){case"LineString":return vr(e,t,r);case"MultiLineString":var o=[];return D(e,(function(e){o.push(vr(e,t,r).geometry.coordinates)})),c(o,s);default:throw new Error("geometry "+i+" is not supported")}},e.polygonize=function(e){var t=Fa.fromGeoJson(e);t.deleteDangles(),t.deleteCutEdges();var n=[],r=[];return t.getEdgeRings().filter((function(e){return e.isValid()})).forEach((function(e){e.isHole()?n.push(e):r.push(e)})),n.forEach((function(e){Ra.findEdgeRingContaining(e,r)&&r.push(e)})),u(r.map((function(e){return e.toPolygon()})))},e.booleanDisjoint=function(e,t){var n;return D(e,(function(e){D(t,(function(t){if(!1===n)return!1;n=function(e,t){switch(e.type){case"Point":switch(t.type){case"Point":return!function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.coordinates,t.coordinates);case"LineString":return!wr(t,e);case"Polygon":return!Le(e,t)}break;case"LineString":switch(t.type){case"Point":return!wr(e,t);case"LineString":return!function(e,t){return nn(e,t).features.length>0}(e,t);case"Polygon":return!Sr(t,e)}break;case"Polygon":switch(t.type){case"Point":return!Le(t,e);case"LineString":return!Sr(e,t);case"Polygon":return!function(e,t){for(var n=0;n<e.coordinates[0].length;n++)if(Le(e.coordinates[0][n],t))return!0;for(var r=0;r<t.coordinates[0].length;r++)if(Le(t.coordinates[0][r],e))return!0;return!1}(t,e)}}}(e.geometry,t.geometry)}))})),n},e.booleanContains=function(e,t){var n=K(e),r=K(t),i=Z(e),s=Z(t),o=V(e),a=V(t);switch(n){case"Point":switch(r){case"Point":return Er(o,a);default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"Point":return function(e,t){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(Er(e.coordinates[n],t.coordinates)){r=!0;break}return r}(i,s);case"MultiPoint":return function(e,t){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)if(Er(t.coordinates[n],e.coordinates[i])){r=!0;break}if(!r)return!1}return!0}(i,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"Point":return En(s,i,{ignoreEndVertices:!0});case"LineString":return function(e,t){for(var n=!1,r=0;r<t.coordinates.length;r++)if(En({type:"Point",coordinates:t.coordinates[r]},e,{ignoreEndVertices:!0})&&(n=!0),!En({type:"Point",coordinates:t.coordinates[r]},e,{ignoreEndVertices:!1}))return!1;return n}(i,s);case"MultiPoint":return function(e,t){for(var n=!1,r=0;r<t.coordinates.length;r++)if(En(t.coordinates[r],e,{ignoreEndVertices:!0})&&(n=!0),!En(t.coordinates[r],e))return!1;return!!n}(i,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Point":return Le(s,i,{ignoreBoundary:!0});case"LineString":return function(e,t){var n=!1,r=0,i=G(e),s=G(t);if(!Cr(i,s))return!1;for(;r<t.coordinates.length-1;r++){var o=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}(t.coordinates[r],t.coordinates[r+1]);if(Le({type:"Point",coordinates:o},e,{ignoreBoundary:!0})){n=!0;break}}return n}(i,s);case"Polygon":return function(e,t){var n=G(e),r=G(t);if(!Cr(n,r))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!Le(t.coordinates[0][i],e))return!1;return!0}(i,s);case"MultiPoint":return function(e,t){for(var n=0;n<t.coordinates.length;n++)if(!Le(t.coordinates[n],e,{ignoreBoundary:!0}))return!1;return!0}(i,s);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},e.booleanCrosses=function(e,t){var n=K(e),r=K(t),i=Z(e),s=Z(t);switch(n){case"MultiPoint":switch(r){case"LineString":return Tr(i,s);case"Polygon":return Pr(i,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"MultiPoint":return Tr(s,i);case"LineString":return function(e,t){if(nn(e,t).features.length>0)for(var n=0;n<e.coordinates.length-1;n++)for(var r=0;r<t.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==t.coordinates.length-2||(i=!1),Ir(e.coordinates[n],e.coordinates[n+1],t.coordinates[r],i))return!0}return!1}(i,s);case"Polygon":return Ar(i,s);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"MultiPoint":return Pr(s,i);case"LineString":return Ar(s,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},e.booleanClockwise=sr,e.booleanOverlap=kr,e.booleanPointOnLine=En,e.booleanEqual=function(e,t){if(!e)throw new Error("feature1 is required");if(!t)throw new Error("feature2 is required");return K(e)===K(t)&&new Ga({precision:6}).compare(et(e),et(t))},e.booleanWithin=Tn,e.clone=Be,e.cleanCoords=et,e.clustersDbscan=function(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.minPoints,i=n.units;if(X(e,"Point","Input must contain Points"),null===t||void 0===t)throw new Error("maxDistance is required");if(!(Math.sign(t)>0))throw new Error("Invalid maxDistance");if(!(void 0===r||null===r||Math.sign(r)>0))throw new Error("Invalid minPoints");e=Be(e),r=r||3;var s=new Ja.DBSCAN,o=-1;return s.run(k(e),x(t,i),r,Fe).forEach((function(t){o++,t.forEach((function(t){var n=e.features[t];n.properties||(n.properties={}),n.properties.cluster=o,n.properties.dbscan="core"}))})),s.noise.forEach((function(t){var n=e.features[t];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),e},e.clustersKmeans=function(e,t){if("object"!=typeof(t=t||{}))throw new Error("options is invalid");var n=t.numberOfClusters,r=t.mutate;X(e,"Point","Input must contain Points");var i=e.features.length;(n=n||Math.round(Math.sqrt(i/2)))>i&&(n=i),!1!==r&&void 0!==r||(e=Be(e));var s=k(e),o=s.slice(0,n),a=tl(s,n,o),l={};return a.centroids.forEach((function(e,t){l[t]=e})),M(e,(function(e,t){var n=a.idxs[t];e.properties.cluster=n,e.properties.centroid=l[n]})),e},e.pointToLineDistance=fn,e.booleanParallel=function(e,t){if(!e)throw new Error("line1 is required");if(!t)throw new Error("line2 is required");if("LineString"!==Rr(e,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==Rr(t,"line2"))throw new Error("line2 must be a LineString");for(var n=tn(et(e)).features,r=tn(et(t)).features,i=0;i<n.length;i++){var s=n[i].geometry.coordinates;if(!r[i])break;if(!function(e,t){var n=_(on(e[0],e[1])),r=_(on(t[0],t[1]));return n===r}(s,r[i].geometry.coordinates))return!1}return!0},e.shortestPath=function(e,n,i){if(i=i||{},!C(i))throw new Error("options is invalid");var s=i.resolution,o=i.minDistance,l=i.obstacles||u([]);if(!e)throw new Error("start is required");if(!n)throw new Error("end is required");if(s&&!S(s)||s<=0)throw new Error("options.resolution must be a number, greater than 0");if(o)throw new Error("options.minDistance is not yet implemented");var c=j(e),h=j(n);switch(e=r(c),n=r(h),K(l)){case"FeatureCollection":if(0===l.features.length)return a([c,h]);break;case"Polygon":l=u([t(Z(l))]);break;default:throw new Error("invalid obstacles")}var p=l;p.features.push(e),p.features.push(n);var d=G(fr(ut(G(p)),1.15));s||(s=Fe([d[0],d[1]],[d[2],d[1]],i)/100),p.features.pop(),p.features.pop();for(var f=d[0],m=d[1],y=d[2],g=d[3],_=s/Fe([f,m],[y,m],i)*(y-f),v=s/Fe([f,m],[f,g],i)*(g-m),b=y-f,x=g-m,w=(b-Math.floor(b/_)*_)/2,E=[],T=[],A=[],P=[],I=1/0,L=1/0,M=g-(x-Math.floor(x/v)*v)/2,O=0;M>=m;){for(var k=[],N=[],R=f+w,D=0;R<=y;){var F=r([R,M]),B=function(e,t){for(var n=0;n<t.features.length;n++)if(Le(e,t.features[n]))return!0;return!1}(F,l);k.push(B?0:1),N.push(R+"|"+M);var q=Fe(F,e);!B&&q<I&&(I=q,A={x:D,y:O});var z=Fe(F,n);!B&&z<L&&(L=z,P={x:D,y:O}),R+=_,D++}T.push(k),E.push(N),M-=v,O++}var U=new Fr(T,{diagonal:!0}),V=U.grid[A.y][A.x],W=U.grid[P.y][P.x],H=[c];return nl.search(U,V,W).forEach((function(e){var t=E[e.x][e.y].split("|");H.push([+t[0],+t[1]])})),H.push(h),et(a(H))},e.voronoi=function(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return X(e,"Point","points"),u(dl().x((function(e){return e.geometry.coordinates[0]})).y((function(e){return e.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(e.features).map(hi))},e.ellipse=pi,e.centerMean=fi,e.centerMedian=function(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.counter||10;if(!S(n))throw new Error("counter must be a number");var r=t.weight,i=fi(e,{weight:t.weight}),s=u([]);return M(e,(function(e){s.features.push(yt(e,{weight:e.properties[r]}))})),s.properties={tolerance:t.tolerance,medianCandidates:[]},mi(i.geometry.coordinates,[0,0],s,n)},e.standardDeviationalEllipse=function(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.steps||64,r=t.weight,i=t.properties||{};if(!S(n))throw new Error("steps must be a number");if(!C(i))throw new Error("properties must be a number");var s=k(e).length,o=fi(e,{weight:r}),a=0,l=0,c=0;M(e,(function(e){var t=e.properties[r]||1,n=yi(V(e),V(o));a+=Math.pow(n.x,2)*t,l+=Math.pow(n.y,2)*t,c+=n.x*n.y*t}));var h=a-l,p=Math.sqrt(Math.pow(h,2)+4*Math.pow(c,2)),d=2*c,f=Math.atan((h+p)/d),m=180*f/Math.PI,y=0,g=0,_=0;M(e,(function(e){var t=e.properties[r]||1,n=yi(V(e),V(o));y+=Math.pow(n.x*Math.cos(f)-n.y*Math.sin(f),2)*t,g+=Math.pow(n.x*Math.sin(f)+n.y*Math.cos(f),2)*t,_+=t}));var v=Math.sqrt(2*y/_),b=Math.sqrt(2*g/_),x=pi(o,v,b,{units:"degrees",angle:m,steps:n,properties:i}),w=Oe(e,u([x])),E={meanCenterCoordinates:V(o),semiMajorAxis:v,semiMinorAxis:b,numberOfFeatures:s,angle:m,percentageWithinEllipse:100*k(w).length/s};return x.properties.standardDeviationalEllipse=E,x},e.difference=function(e,n){var r=Z(e),i=Z(n),s=e.properties||{};if(r=Vi(r),i=Vi(i),!r)return null;if(!i)return t(r,s);var o=new Sc,a=o.read(r),l=o.read(i),u=Ed.difference(a,l);return u.isEmpty()?null:t((new Cc).write(u),s)},e.buffer=function(e,t,n){var r=(n=n||{}).units,i=n.steps||64;if(!e)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");i=i||64,r=r||"kilometers";var s=[];switch(e.type){case"GeometryCollection":return N(e,(function(e){var n=ws(e,t,r,i);n&&s.push(n)})),u(s);case"FeatureCollection":return M(e,(function(e){var n=ws(e,t,r,i);n&&M(n,(function(e){e&&s.push(e)}))})),u(s)}return ws(e,t,r,i)},e.union=As,e.intersect=Ps,e.dissolve=function(e,t){if(t=t||{},!C(t))throw new Error("options is invalid");var n=t.propertyName;X(e,"Polygon","dissolve");var r=Be(e),i=r.features,s=[];i.forEach((function(e,t){e.properties.origIndexPosition=t}));var o=Qt();for(var l in o.load(r),i){var u=i[l],c=!1;if(o.search(u).features.forEach((function(e){u=i[l];var t=e.properties.origIndexPosition;if(s.length>0&&0!==t)if(t>s[s.length-1])t-=s.length;else{var r=Is(t,s);0!==r&&(t-=r)}if(t!==+l){var h=i[t];h&&u&&(void 0!==n&&h.properties[n]!==u.properties[n]||kr(u,h)&&function(e,t){var n=a(k(e)),r=a(k(t));return nn(n,r).features.length>0}(u,h)&&(i[l]=As(u,h),s.push(e.properties.origIndexPosition),s.sort((function(e,t){return e-t})),o.remove(e),i.splice(t,1),u.properties.origIndexPosition=l,o.remove(u,(function(e,t){return e.properties.origIndexPosition===t.properties.origIndexPosition})),c=!0))}})),c){if(!u)continue;u.properties.origIndexPosition=l,o.insert(u),l--}}return i.forEach((function(e){delete e.properties.origIndexPosition,delete e.bbox})),r},e.hexGrid=Ls,e.mask=function(e,t){var n=function(e){return s(e&&e.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(t),r=function(e){var t=[],n=[];return D(e,(function(e){var r=e.geometry.coordinates,i=r[0],o=r.slice(1);t.push(s([i])),o.forEach((function(e){n.push(s([e]))}))})),[u(t),u(n)]}(e),i=r[0],o=r[1];return function(e,t,n){var r=[];return r.push(e.geometry.coordinates[0]),D(t,(function(e){r.push(e.geometry.coordinates[0])})),D(n,(function(e){r.push(e.geometry.coordinates[0])})),s(r)}(n,i=Ms(i),o=Ms(o))},e.squareGrid=ks,e.triangleGrid=Ns,e.interpolate=function(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,s=n.weight;if(!e)throw new Error("points is required");if(X(e,"Point","input must contain Points"),!t)throw new Error("cellSize is required");if(void 0!==s&&"number"!=typeof s)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",s=s||1;var o,a=G(e);switch(r){case"point":case"points":o=In(a,t,n);break;case"square":case"squares":o=ks(a,t,n);break;case"hex":case"hexes":o=Ls(a,t,n);break;case"triangle":case"triangles":o=Ns(a,t,n);break;default:throw new Error("invalid gridType")}var l=[];return M(o,(function(t){var o=0,a=0;M(e,(function(e){var l,u=Fe("point"===r?t:yt(t),e,n);if(void 0!==i&&(l=e.properties[i]),void 0===l&&(l=e.geometry.coordinates[2]),void 0===l)throw new Error("zValue is missing");0===u&&(o=l);var c=1/Math.pow(u,s);a+=c,o+=c*l}));var u=Be(t);u.properties[i]=o/a,l.push(u)})),u(l)},e.pointOnSurface=yn,e.polygonToLineString=zn,e.lineStringToPolygon=Gn,e.inside=Le,e.within=Oe,e.bezier=lt,e.nearest=Dt,e.pointOnLine=sn,e.lineDistance=Sn,e.radians2degrees=v,e.degrees2radians=b,e.distanceToDegrees=g,e.distanceToRadians=y,e.radiansToDistance=m,e.bearingToAngle=_,e.convertDistance=x,e.toMercator=un,e.toWgs84=cn,e.randomPosition=gi,e.randomPoint=_i,e.randomPolygon=vi,e.randomLineString=bi,e.getCluster=wi,e.clusterEach=Si,e.clusterReduce=Ci,e.createBins=Ei,e.applyFilter=Ti,e.propertiesContainsFilter=Ai,e.filterProperties=Pi,e.earthRadius=Rs,e.factors=Ds,e.unitsFactors=Fs,e.areaFactors=Bs,e.feature=t,e.geometry=n,e.point=r,e.points=i,e.polygon=s,e.polygons=o,e.lineString=a,e.lineStrings=l,e.featureCollection=u,e.multiLineString=c,e.multiPoint=h,e.multiPolygon=p,e.geometryCollection=d,e.round=f,e.radiansToLength=m,e.lengthToRadians=y,e.lengthToDegrees=g,e.bearingToAzimuth=_,e.radiansToDegrees=v,e.degreesToRadians=b,e.convertLength=x,e.convertArea=w,e.isNumber=S,e.isObject=C,e.validateBBox=E,e.validateId=T,e.getCoord=j,e.getCoords=V,e.containsNumber=W,e.geojsonType=H,e.featureOf=J,e.collectionOf=X,e.getGeom=Z,e.getGeomType=Y,e.getType=K,e.coordEach=A,e.coordReduce=P,e.propEach=I,e.propReduce=L,e.featureEach=M,e.featureReduce=O,e.coordAll=k,e.geomEach=N,e.geomReduce=R,e.flattenEach=D,e.flattenReduce=F,e.segmentEach=B,e.segmentReduce=q,e.lineEach=z,e.lineReduce=U,Object.defineProperty(e,"__esModule",{value:!0})}))},"5b01":function(e,t,n){var r=n("8eeb"),i=n("ec69");function s(e,t){return e&&r(t,i(t),e)}e.exports=s},"5c69":function(e,t,n){var r=n("087d"),i=n("0621");function s(e,t,n,o,a){var l=-1,u=e.length;n||(n=i),a||(a=[]);while(++l<u){var c=e[l];t>0&&n(c)?t>1?s(c,t-1,n,o,a):r(a,c):o||(a[a.length]=c)}return a}e.exports=s},"5d89":function(e,t,n){var r=n("f8af");function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}e.exports=i},"5e2e":function(e,t,n){var r=n("28c9"),i=n("69d5"),s=n("b4c0"),o=n("fba5"),a=n("67ca");function l(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l},6044:function(e,t,n){var r=n("0b07"),i=r(Object,"create");e.exports=i},"60ed":function(e,t,n){var r=n("3729"),i=n("2dcb"),s=n("1310"),o="[object Object]",a=Function.prototype,l=Object.prototype,u=a.toString,c=l.hasOwnProperty,h=u.call(Object);function p(e){if(!s(e)||r(e)!=o)return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==h}e.exports=p},6149:function(e,t,n){(function(e){var n,r;
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var i,s,o,a,l,u,c,h,p,d,f,m,y,g,_,v,b,x,w,S,C,E,T,A,P,I,L,M,O,k,N,R,D,F,B,q,z,U,G,j,V,W,H,J,X,Z,Y,K,Q,$,ee,te,ne,re,ie,se,oe,ae,le,ue,ce,he,pe,de,fe,me,ye,ge,_e,ve,be,xe,we,Se,Ce,Ee,Te,Ae,Pe,Ie,Le,Me=[].slice;Te=function(){var e,t,n,r,i;for(e={},i="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),r=0,t=i.length;r<t;r++)n=i[r],e["[object "+n+"]"]=n.toLowerCase();return function(t){var n;return n=Object.prototype.toString.call(t),e[n]||"object"}}(),Y=function(e,t,n){return null==t&&(t=0),null==n&&(n=1),e<t&&(e=t),e>n&&(e=n),e},Ae=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},C=function(e){var t,n;for(e._clipped=!1,e._unclipped=e.slice(0),t=n=0;n<3;t=++n)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e._clipped||delete e._unclipped,e},a=Math.PI,xe=Math.round,T=Math.cos,M=Math.floor,se=Math.pow,K=Math.log,Se=Math.sin,Ce=Math.sqrt,g=Math.atan2,ee=Math.max,y=Math.abs,c=2*a,l=a/3,s=a/180,u=180/a,S=function(){return arguments[0]instanceof i?arguments[0]:function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,arguments,(function(){}))},S["default"]=S,m=[],null!==e&&null!=e.exports&&(e.exports=S),n=[],r=function(){return S}.apply(t,n),void 0===r||(e.exports=r),S.version="1.4.1",f={},p=[],d=!1,i=function(){function e(){var e,t,n,r,i,s,o,a,l;for(s=this,t=[],a=0,r=arguments.length;a<r;a++)e=arguments[a],null!=e&&t.push(e);if(t.length>1&&(o=t[t.length-1]),null!=f[o])s._rgb=C(f[o](Ae(t.slice(0,-1))));else{for(d||(p=p.sort((function(e,t){return t.p-e.p})),d=!0),l=0,i=p.length;l<i;l++)if(n=p[l],o=n.test.apply(n,t),o)break;o&&(s._rgb=C(f[o].apply(f,t)))}null==s._rgb&&console.warn("unknown format: "+t),null==s._rgb&&(s._rgb=[0,0,0]),3===s._rgb.length&&s._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),S._input=f,
/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
S.brewer=x={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,t;for(e in t=[],x)t.push(x[e.toLowerCase()]=x[e])}(),Pe={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},S.colors=Pe,W=function(){var e,t,n,r,i,s,a,l,u;return t=Ae(arguments),i=t[0],e=t[1],n=t[2],l=(i+16)/116,a=isNaN(e)?l:l+e/500,u=isNaN(n)?l:l-n/200,l=o.Yn*H(l),a=o.Xn*H(a),u=o.Zn*H(u),s=Le(3.2404542*a-1.5371385*l-.4985314*u),r=Le(-.969266*a+1.8760108*l+.041556*u),n=Le(.0556434*a-.2040259*l+1.0572252*u),[s,r,n,t.length>3?t[3]:1]},Le=function(e){return 255*(e<=.00304?12.92*e:1.055*se(e,1/2.4)-.055)},H=function(e){return e>o.t1?e*e*e:o.t2*(e-o.t0)},o={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},de=function(){var e,t,n,r,i,s,o,a;return r=Ae(arguments),n=r[0],t=r[1],e=r[2],i=_e(n,t,e),s=i[0],o=i[1],a=i[2],[116*o-16,500*(s-o),200*(o-a)]},ve=function(e){return(e/=255)<=.04045?e/12.92:se((e+.055)/1.055,2.4)},Ie=function(e){return e>o.t3?se(e,1/3):e/o.t2+o.t0},_e=function(){var e,t,n,r,i,s,a;return r=Ae(arguments),n=r[0],t=r[1],e=r[2],n=ve(n),t=ve(t),e=ve(e),i=Ie((.4124564*n+.3575761*t+.1804375*e)/o.Xn),s=Ie((.2126729*n+.7151522*t+.072175*e)/o.Yn),a=Ie((.0193339*n+.119192*t+.9503041*e)/o.Zn),[i,s,a]},S.lab=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Me.call(arguments).concat(["lab"]),(function(){}))},f.lab=W,i.prototype.lab=function(){return de(this._rgb)},_=function(e){var t,n,r,i,s,o,a,l,u,c,h;return e=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(S(i));return r}(),2===e.length?(u=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),s=u[0],o=u[1],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push(s[t]+e*(o[t]-s[t]));return r}(),S.lab.apply(S,n)}):3===e.length?(c=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),s=c[0],o=c[1],a=c[2],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*s[t]+2*(1-e)*e*o[t]+e*e*a[t]);return r}(),S.lab.apply(S,n)}):4===e.length?(h=function(){var t,n,r;for(r=[],n=0,t=e.length;n<t;n++)i=e[n],r.push(i.lab());return r}(),s=h[0],o=h[1],a=h[2],l=h[3],t=function(e){var t,n;return n=function(){var n,r;for(r=[],t=n=0;n<=2;t=++n)r.push((1-e)*(1-e)*(1-e)*s[t]+3*(1-e)*(1-e)*e*o[t]+3*(1-e)*e*e*a[t]+e*e*e*l[t]);return r}(),S.lab.apply(S,n)}):5===e.length&&(n=_(e.slice(0,3)),r=_(e.slice(2,5)),t=function(e){return e<.5?n(2*e):r(2*(e-.5))}),t},S.bezier=function(e){var t;return t=_(e),t.scale=function(){return S.scale(t)},t},S.cubehelix=function(e,t,n,r,i){var s,o,a;return null==e&&(e=300),null==t&&(t=-1.5),null==n&&(n=1),null==r&&(r=1),null==i&&(i=[0,1]),s=0,"array"===Te(i)?o=i[1]-i[0]:(o=0,i=[i,i]),a=function(a){var l,u,h,p,d,f,m,y,g;return l=c*((e+120)/360+t*a),m=se(i[0]+o*a,r),f=0!==s?n[0]+a*s:n,u=f*m*(1-m)/2,p=T(l),g=Se(l),y=m+u*(-.14861*p+1.78277*g),d=m+u*(-.29227*p-.90649*g),h=m+u*(1.97294*p),S(C([255*y,255*d,255*h,1]))},a.start=function(t){return null==t?e:(e=t,a)},a.rotations=function(e){return null==e?t:(t=e,a)},a.gamma=function(e){return null==e?r:(r=e,a)},a.hue=function(e){return null==e?n:(n=e,"array"===Te(n)?(s=n[1]-n[0],0===s&&(n=n[1])):s=0,a)},a.lightness=function(e){return null==e?i:("array"===Te(e)?(i=e,o=e[1]-e[0]):(i=[e,e],o=0),a)},a.scale=function(){return S.scale(a)},a.hue(n),a},S.random=function(){var e,t,n;for(t="0123456789abcdef",e="#",n=0;n<6;++n)e+=t.charAt(M(16*Math.random()));return new i(e)},m=[],B=function(e,t,n,r){var i,s,o,a;for(null==n&&(n=.5),null==r&&(r="rgb"),"object"!==Te(e)&&(e=S(e)),"object"!==Te(t)&&(t=S(t)),o=0,s=m.length;o<s;o++)if(i=m[o],r===i[0]){a=i[1](e,t,n,r);break}if(null==a)throw"color mode "+r+" is not supported";return a.alpha(e.alpha()+n*(t.alpha()-e.alpha()))},S.interpolate=B,i.prototype.interpolate=function(e,t,n){return B(this,e,t,n)},S.mix=B,i.prototype.mix=i.prototype.interpolate,f.rgb=function(){var e,t,n,r;for(e in t=Ae(arguments),n=[],t)r=t[e],n.push(r);return n},S.rgb=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Me.call(arguments).concat(["rgb"]),(function(){}))},i.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},i.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},p.push({p:3,test:function(e){var t;return t=Ae(arguments),"array"===Te(t)&&3===t.length||4===t.length&&"number"===Te(t[3])&&t[3]>=0&&t[3]<=1?"rgb":void 0}}),f.lrgb=f.rgb,U=function(e,t,n,r){var s,o;return s=e._rgb,o=t._rgb,new i(Ce(se(s[0],2)*(1-n)+se(o[0],2)*n),Ce(se(s[1],2)*(1-n)+se(o[1],2)*n),Ce(se(s[2],2)*(1-n)+se(o[2],2)*n),r)},h=function(e){var t,n,r,s,o,a;for(n=1/e.length,a=[0,0,0,0],s=0,r=e.length;s<r;s++)t=e[s],o=t._rgb,a[0]+=se(o[0],2)*n,a[1]+=se(o[1],2)*n,a[2]+=se(o[2],2)*n,a[3]+=o[3]*n;return a[0]=Ce(a[0]),a[1]=Ce(a[1]),a[2]=Ce(a[2]),a[3]>1&&(a[3]=1),new i(C(a))},m.push(["lrgb",U]),S.average=function(e,t){var n,r,i,s,o,l,u,c,p,d,f,m,y;if(null==t&&(t="rgb"),p=e.length,e=e.map((function(e){return S(e)})),u=e.splice(0,1)[0],"lrgb"===t)return h(e);for(c in m=u.get(t),s=[],o=0,l=0,m)m[c]=m[c]||0,s.push(isNaN(m[c])?0:1),"h"!==t.charAt(c)||isNaN(m[c])||(n=m[c]/180*a,o+=T(n),l+=Se(n));for(r=u.alpha(),f=0,d=e.length;f<d;f++)for(c in i=e[f],y=i.get(t),r+=i.alpha(),m)isNaN(y[c])||(s[c]+=1,"h"===t.charAt(c)?(n=y[c]/180*a,o+=T(n),l+=Se(n)):m[c]+=y[c]);for(c in m)if("h"===t.charAt(c)){n=g(l/s[c],o/s[c])/a*180;while(n<0)n+=360;while(n>=360)n-=360;m[c]=n}else m[c]=m[c]/s[c];return S(m,t).alpha(r/p)},k=function(e){var t,n,r,i,s,o;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),o=parseInt(e,16),i=o>>16,r=o>>8&255,n=255&o,[i,r,n,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),o=parseInt(e,16),i=o>>24&255,r=o>>16&255,n=o>>8&255,t=xe((255&o)/255*100)/100,[i,r,n,t];if(null!=f.css&&(s=f.css(e)))return s;throw"unknown color: "+e},ue=function(e,t){var n,r,i,s,o,a,l;return null==t&&(t="auto"),o=e[0],i=e[1],r=e[2],n=e[3],"auto"===t&&(t=n<1?"rgba":"rgb"),o=Math.round(o),i=Math.round(i),r=Math.round(r),l=o<<16|i<<8|r,a="000000"+l.toString(16),a=a.substr(a.length-6),s="0"+xe(255*n).toString(16),s=s.substr(s.length-2),"#"+function(){switch(t.toLowerCase()){case"rgba":return a+s;case"argb":return s+a;default:return a}}()},f.hex=function(e){return k(e)},S.hex=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Me.call(arguments).concat(["hex"]),(function(){}))},i.prototype.hex=function(e){return null==e&&(e="auto"),ue(this._rgb,e)},p.push({p:4,test:function(e){if(1===arguments.length&&"string"===Te(e))return"hex"}}),D=function(){var e,t,n,r,i,s,o,a,l,u,c,h,p,d;if(e=Ae(arguments),i=e[0],c=e[1],o=e[2],0===c)l=r=t=255*o;else{for(d=[0,0,0],n=[0,0,0],p=o<.5?o*(1+c):o+c-o*c,h=2*o-p,i/=360,d[0]=i+1/3,d[1]=i,d[2]=i-1/3,s=a=0;a<=2;s=++a)d[s]<0&&(d[s]+=1),d[s]>1&&(d[s]-=1),6*d[s]<1?n[s]=h+6*(p-h)*d[s]:2*d[s]<1?n[s]=p:3*d[s]<2?n[s]=h+(p-h)*(2/3-d[s])*6:n[s]=h;u=[xe(255*n[0]),xe(255*n[1]),xe(255*n[2])],l=u[0],r=u[1],t=u[2]}return e.length>3?[l,r,t,e[3]]:[l,r,t]},he=function(e,t,n){var r,i,s,o,a;return void 0!==e&&e.length>=3&&(o=e,e=o[0],t=o[1],n=o[2]),e/=255,t/=255,n/=255,s=Math.min(e,t,n),ee=Math.max(e,t,n),i=(ee+s)/2,ee===s?(a=0,r=Number.NaN):a=i<.5?(ee-s)/(ee+s):(ee-s)/(2-ee-s),e===ee?r=(t-n)/(ee-s):t===ee?r=2+(n-e)/(ee-s):n===ee&&(r=4+(e-t)/(ee-s)),r*=60,r<0&&(r+=360),[r,a,i]},S.hsl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Me.call(arguments).concat(["hsl"]),(function(){}))},f.hsl=D,i.prototype.hsl=function(){return he(this._rgb)},F=function(){var e,t,n,r,i,s,o,a,l,u,c,h,p,d,f,m,y,g;if(e=Ae(arguments),i=e[0],m=e[1],g=e[2],g*=255,0===m)l=r=t=g;else switch(360===i&&(i=0),i>360&&(i-=360),i<0&&(i+=360),i/=60,s=M(i),n=i-s,o=g*(1-m),a=g*(1-m*n),y=g*(1-m*(1-n)),s){case 0:u=[g,y,o],l=u[0],r=u[1],t=u[2];break;case 1:c=[a,g,o],l=c[0],r=c[1],t=c[2];break;case 2:h=[o,g,y],l=h[0],r=h[1],t=h[2];break;case 3:p=[o,a,g],l=p[0],r=p[1],t=p[2];break;case 4:d=[y,o,g],l=d[0],r=d[1],t=d[2];break;case 5:f=[g,o,a],l=f[0],r=f[1],t=f[2]}return[l,r,t,e.length>3?e[3]:1]},pe=function(){var e,t,n,r,i,s,o,a,l;return o=Ae(arguments),s=o[0],n=o[1],e=o[2],i=Math.min(s,n,e),ee=Math.max(s,n,e),t=ee-i,l=ee/255,0===ee?(r=Number.NaN,a=0):(a=t/ee,s===ee&&(r=(n-e)/t),n===ee&&(r=2+(e-s)/t),e===ee&&(r=4+(s-n)/t),r*=60,r<0&&(r+=360)),[r,a,l]},S.hsv=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Me.call(arguments).concat(["hsv"]),(function(){}))},f.hsv=F,i.prototype.hsv=function(){return pe(this._rgb)},re=function(e){var t,n,r;return"number"===Te(e)&&e>=0&&e<=16777215?(r=e>>16,n=e>>8&255,t=255&e,[r,n,t,1]):(console.warn("unknown num color: "+e),[0,0,0,1])},ye=function(){var e,t,n,r;return r=Ae(arguments),n=r[0],t=r[1],e=r[2],(n<<16)+(t<<8)+e},S.num=function(e){return new i(e,"num")},i.prototype.num=function(e){return null==e&&(e="rgb"),ye(this._rgb,e)},f.num=re,p.push({p:1,test:function(e){if(1===arguments.length&&"number"===Te(e)&&e>=0&&e<=16777215)return"num"}}),O=function(){var e,t,n,r,i,s,o,a,l,u,c,h,p,d,f,m,y,g,_,v;if(n=Ae(arguments),a=n[0],i=n[1],t=n[2],i/=100,o=o/100*255,e=255*i,0===i)h=o=r=t;else switch(360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360),a/=60,l=M(a),s=a-l,u=t*(1-i),c=u+e*(1-s),_=u+e*s,v=u+e,l){case 0:p=[v,_,u],h=p[0],o=p[1],r=p[2];break;case 1:d=[c,v,u],h=d[0],o=d[1],r=d[2];break;case 2:f=[u,v,_],h=f[0],o=f[1],r=f[2];break;case 3:m=[u,c,v],h=m[0],o=m[1],r=m[2];break;case 4:y=[_,u,v],h=y[0],o=y[1],r=y[2];break;case 5:g=[v,u,c],h=g[0],o=g[1],r=g[2]}return[h,o,r,n.length>3?n[3]:1]},le=function(){var e,t,n,r,i,s,o,a,l;return l=Ae(arguments),a=l[0],i=l[1],t=l[2],o=Math.min(a,i,t),ee=Math.max(a,i,t),r=ee-o,n=100*r/255,e=o/(255-r)*100,0===r?s=Number.NaN:(a===ee&&(s=(i-t)/r),i===ee&&(s=2+(t-a)/r),t===ee&&(s=4+(a-i)/r),s*=60,s<0&&(s+=360)),[s,n,e]},S.hcg=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Me.call(arguments).concat(["hcg"]),(function(){}))},f.hcg=O,i.prototype.hcg=function(){return le(this._rgb)},A=function(e){var t,n,r,i,s,o,a,l;if(e=e.toLowerCase(),null!=S.colors&&S.colors[e])return k(S.colors[e]);if(s=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(a=s.slice(1,4),i=o=0;o<=2;i=++o)a[i]=+a[i];a[3]=1}else if(s=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(a=s.slice(1,5),i=l=0;l<=3;i=++l)a[i]=+a[i];else if(s=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(a=s.slice(1,4),i=t=0;t<=2;i=++t)a[i]=xe(2.55*a[i]);a[3]=1}else if(s=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(a=s.slice(1,5),i=n=0;n<=2;i=++n)a[i]=xe(2.55*a[i]);a[3]=+a[3]}else(s=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(r=s.slice(1,4),r[1]*=.01,r[2]*=.01,a=D(r),a[3]=1):(s=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(r=s.slice(1,4),r[1]*=.01,r[2]*=.01,a=D(r),a[3]=+s[4]);return a},ae=function(e){var t;return t=e[3]<1?"rgba":"rgb","rgb"===t?t+"("+e.slice(0,3).map(xe).join(",")+")":"rgba"===t?t+"("+e.slice(0,3).map(xe).join(",")+","+e[3]+")":void 0},be=function(e){return xe(100*e)/100},R=function(e,t){var n;return n=t<1?"hsla":"hsl",e[0]=be(e[0]||0),e[1]=be(100*e[1])+"%",e[2]=be(100*e[2])+"%","hsla"===n&&(e[3]=t),n+"("+e.join(",")+")"},f.css=function(e){return A(e)},S.css=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Me.call(arguments).concat(["css"]),(function(){}))},i.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?ae(this._rgb):"hsl"===e.slice(0,3)?R(this.hsl(),this.alpha()):void 0},f.named=function(e){return k(Pe[e])},p.push({p:5,test:function(e){if(1===arguments.length&&null!=Pe[e])return"named"}}),i.prototype.name=function(e){var t,n;for(n in arguments.length&&(Pe[e]&&(this._rgb=k(Pe[e])),this._rgb[3]=1),t=this.hex("rgb"),Pe)if(t===Pe[n])return n;return t},J=function(){var e,t,n,r;return r=Ae(arguments),n=r[0],e=r[1],t=r[2],t*=s,[n,T(t)*e,Se(t)*e]},X=function(){var e,t,n,r,i,s,o,a,l,u,c;return n=Ae(arguments),a=n[0],i=n[1],o=n[2],u=J(a,i,o),e=u[0],t=u[1],r=u[2],c=W(e,t,r),l=c[0],s=c[1],r=c[2],[l,s,r,n.length>3?n[3]:1]},V=function(){var e,t,n,r,i,s;return s=Ae(arguments),i=s[0],e=s[1],t=s[2],n=Ce(e*e+t*t),r=(g(t,e)*u+360)%360,0===xe(1e4*n)&&(r=Number.NaN),[i,n,r]},fe=function(){var e,t,n,r,i,s,o;return s=Ae(arguments),i=s[0],n=s[1],t=s[2],o=de(i,n,t),r=o[0],e=o[1],t=o[2],V(r,e,t)},S.lch=function(){var e;return e=Ae(arguments),new i(e,"lch")},S.hcl=function(){var e;return e=Ae(arguments),new i(e,"hcl")},f.lch=X,f.hcl=function(){var e,t,n,r;return r=Ae(arguments),t=r[0],e=r[1],n=r[2],X([n,e,t])},i.prototype.lch=function(){return fe(this._rgb)},i.prototype.hcl=function(){return fe(this._rgb).reverse()},oe=function(e){var t,n,r,i,s,o,a,l,u;return null==e&&(e="rgb"),l=Ae(arguments),a=l[0],i=l[1],t=l[2],a/=255,i/=255,t/=255,s=1-Math.max(a,Math.max(i,t)),r=s<1?1/(1-s):0,n=(1-a-s)*r,o=(1-i-s)*r,u=(1-t-s)*r,[n,o,u,s]},E=function(){var e,t,n,r,i,s,o,a,l;return t=Ae(arguments),r=t[0],o=t[1],l=t[2],s=t[3],e=t.length>4?t[4]:1,1===s?[0,0,0,e]:(a=r>=1?0:255*(1-r)*(1-s),i=o>=1?0:255*(1-o)*(1-s),n=l>=1?0:255*(1-l)*(1-s),[a,i,n,e])},f.cmyk=function(){return E(Ae(arguments))},S.cmyk=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Me.call(arguments).concat(["cmyk"]),(function(){}))},i.prototype.cmyk=function(){return oe(this._rgb)},f.gl=function(){var e,t,n,r,i;for(r=function(){var e,n;for(t in e=Ae(arguments),n=[],e)i=e[t],n.push(i);return n}.apply(this,arguments),e=n=0;n<=2;e=++n)r[e]*=255;return r},S.gl=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Me.call(arguments).concat(["gl"]),(function(){}))},i.prototype.gl=function(){var e;return e=this._rgb,[e[0]/255,e[1]/255,e[2]/255,e[3]]},me=function(e,t,n){var r;return r=Ae(arguments),e=r[0],t=r[1],n=r[2],e=Q(e),t=Q(t),n=Q(n),.2126*e+.7152*t+.0722*n},Q=function(e){return e/=255,e<=.03928?e/12.92:se((e+.055)/1.055,2.4)},j=function(e,t,n,r){var s,o;return s=e._rgb,o=t._rgb,new i(s[0]+n*(o[0]-s[0]),s[1]+n*(o[1]-s[1]),s[2]+n*(o[2]-s[2]),r)},m.push(["rgb",j]),i.prototype.luminance=function(e,t){var n,r,i,s,o;return null==t&&(t="rgb"),arguments.length?(s=this._rgb,0===e?s=[0,0,0,this._rgb[3]]:1===e?s=[255,255,255,this[3]]:(n=me(this._rgb),r=1e-7,i=20,o=function(n,s){var a,l;return l=n.interpolate(s,.5,t),a=l.luminance(),Math.abs(e-a)<r||!i--?l:a>e?o(n,l):o(l,s)},s=n>e?o(S("black"),this).rgba():o(this,S("white")).rgba()),S(s).alpha(this.alpha())):me(this._rgb)},Ee=function(e){var t,n,r,i;return i=e/100,i<66?(r=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*K(n),t=i<20?0:.8274096064007395*(t=i-10)-254.76935184120902+115.67994401066147*K(t)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*K(r),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*K(n),t=255),[r,n,t]},ge=function(){var e,t,n,r,i,s,o,a;s=Ae(arguments),i=s[0],s[1],e=s[2],r=1e3,n=4e4,t=.4;while(n-r>t)a=.5*(n+r),o=Ee(a),o[2]/o[0]>=e/i?n=a:r=a;return xe(a)},S.temperature=S.kelvin=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Me.call(arguments).concat(["temperature"]),(function(){}))},f.temperature=f.kelvin=f.K=Ee,i.prototype.temperature=function(){return ge(this._rgb)},i.prototype.kelvin=i.prototype.temperature,S.contrast=function(e,t){var n,r,s,o;return"string"!==(s=Te(e))&&"number"!==s||(e=new i(e)),"string"!==(o=Te(t))&&"number"!==o||(t=new i(t)),n=e.luminance(),r=t.luminance(),n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},S.distance=function(e,t,n){var r,s,o,a,l,u,c;for(s in null==n&&(n="lab"),"string"!==(l=Te(e))&&"number"!==l||(e=new i(e)),"string"!==(u=Te(t))&&"number"!==u||(t=new i(t)),o=e.get(n),a=t.get(n),c=0,o)r=(o[s]||0)-(a[s]||0),c+=r*r;return Math.sqrt(c)},S.deltaE=function(e,t,n,r){var s,o,l,u,c,h,p,d,f,m,_,v,b,x,w,S,C,E,A,P,I,L,M,O,k,N,R;null==n&&(n=1),null==r&&(r=1),"string"!==(C=Te(e))&&"number"!==C||(e=new i(e)),"string"!==(E=Te(t))&&"number"!==E||(t=new i(t)),A=e.lab(),s=A[0],l=A[1],c=A[2],P=t.lab(),o=P[0],u=P[1],h=P[2],p=Ce(l*l+c*c),d=Ce(u*u+h*h),M=s<16?.511:.040975*s/(1+.01765*s),I=.0638*p/(1+.0131*p)+.638,S=p<1e-6?0:180*g(c,l)/a;while(S<0)S+=360;while(S>=360)S-=360;return O=S>=164&&S<=345?.56+y(.2*T(a*(S+168)/180)):.36+y(.4*T(a*(S+35)/180)),f=p*p*p*p,w=Ce(f/(f+1900)),L=I*(w*O+1-w),x=s-o,b=p-d,_=l-u,v=c-h,m=_*_+v*v-b*b,k=x/(n*M),N=b/(r*I),R=L,Ce(k*k+N*N+m/(R*R))},i.prototype.get=function(e){var t,n,r,i,s,o;return r=this,s=e.split("."),i=s[0],t=s[1],o=r[i](),t?(n=i.indexOf(t),n>-1?o[n]:console.warn("unknown channel "+t+" in mode "+i)):o},i.prototype.set=function(e,t){var n,r,i,s,o,a;if(i=this,o=e.split("."),s=o[0],n=o[1],n)if(a=i[s](),r=s.indexOf(n),r>-1)if("string"===Te(t))switch(t.charAt(0)){case"+":a[r]+=+t;break;case"-":a[r]+=+t;break;case"*":a[r]*=+t.substr(1);break;case"/":a[r]/=+t.substr(1);break;default:a[r]=+t}else a[r]=t;else console.warn("unknown channel "+n+" in mode "+s);else a=t;return S(a,s).alpha(i.alpha())},i.prototype.clipped=function(){return this._rgb._clipped||!1},i.prototype.alpha=function(e){return arguments.length?S.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},i.prototype.darken=function(e){var t,n;return null==e&&(e=1),n=this,t=n.lab(),t[0]-=o.Kn*e,S.lab(t).alpha(n.alpha())},i.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},i.prototype.darker=i.prototype.darken,i.prototype.brighter=i.prototype.brighten,i.prototype.saturate=function(e){var t,n;return null==e&&(e=1),n=this,t=n.lch(),t[1]+=e*o.Kn,t[1]<0&&(t[1]=0),S.lch(t).alpha(n.alpha())},i.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},i.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),S(t[0]*e,t[1]*e,t[2]*e,e)},v=function(e,t,n){if(!v[n])throw"unknown blend mode "+n;return v[n](e,t)},b=function(e){return function(t,n){var r,i;return r=S(n).rgb(),i=S(t).rgb(),S(e(r,i),"rgb")}},L=function(e){return function(t,n){var r,i,s;for(s=[],r=i=0;i<=3;r=++i)s[r]=e(t[r],n[r]);return s}},ne=function(e,t){return e},te=function(e,t){return e*t/255},P=function(e,t){return e>t?t:e},Z=function(e,t){return e>t?e:t},we=function(e,t){return 255*(1-(1-e/255)*(1-t/255))},ie=function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))},w=function(e,t){return 255*(1-(1-t/255)/(e/255))},I=function(e,t){return 255===e?255:(e=t/255*255/(1-e/255),e>255?255:e)},v.normal=b(L(ne)),v.multiply=b(L(te)),v.screen=b(L(we)),v.overlay=b(L(ie)),v.darken=b(L(P)),v.lighten=b(L(Z)),v.dodge=b(L(I)),v.burn=b(L(w)),S.blend=v,S.analyze=function(e){var t,n,r,i;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},n=0,t=e.length;n<t;n++)i=e[n],null==i||isNaN(i)||(r.values.push(i),r.sum+=i,i<r.min&&(r.min=i),i>r.max&&(r.max=i),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,t){return S.limits(r,e,t)},r},S.scale=function(e,t){var n,r,i,s,o,a,l,u,c,h,p,d,f,m,y,g,_,v,b,x,w;return c="rgb",h=S("#ccc"),m=0,!1,o=[0,1],f=[],d=[0,0],n=!1,i=[],p=!1,u=0,l=1,s=!1,r={},y=!0,a=1,x=function(e){var t,n,r,s,o,a;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===Te(e)&&null!=S.brewer&&(e=S.brewer[e]||S.brewer[e.toLowerCase()]||e),"array"===Te(e)){for(1===e.length&&(e=[e[0],e[0]]),e=e.slice(0),t=r=0,s=e.length-1;0<=s?r<=s:r>=s;t=0<=s?++r:--r)n=e[t],"string"===Te(n)&&(e[t]=S(n));for(f.length=0,t=a=0,o=e.length-1;0<=o?a<=o:a>=o;t=0<=o?++a:--a)f.push(t/(e.length-1))}return b(),i=e},_=function(e){var t,r;if(null!=n){r=n.length-1,t=0;while(t<r&&e>=n[t])t++;return t-1}return 0},w=function(e){return e},function(e){var t,r,i,s,o;return o=e,n.length>2&&(s=n.length-1,t=_(e),i=n[0]+(n[1]-n[0])*(0+.5*m),r=n[s-1]+(n[s]-n[s-1])*(1-.5*m),o=u+(n[t]+.5*(n[t+1]-n[t])-i)/(r-i)*(l-u)),o},v=function(e,t){var s,o,p,m,g,v,b,x;if(null==t&&(t=!1),isNaN(e)||null===e)return h;if(t?x=e:n&&n.length>2?(s=_(e),x=s/(n.length-2)):x=l!==u?(e-u)/(l-u):1,t||(x=w(x)),1!==a&&(x=se(x,a)),x=d[0]+x*(1-d[0]-d[1]),x=Math.min(1,Math.max(0,x)),m=Math.floor(1e4*x),y&&r[m])o=r[m];else{if("array"===Te(i))for(p=g=0,b=f.length-1;0<=b?g<=b:g>=b;p=0<=b?++g:--g){if(v=f[p],x<=v){o=i[p];break}if(x>=v&&p===f.length-1){o=i[p];break}if(x>v&&x<f[p+1]){x=(x-v)/(f[p+1]-v),o=S.interpolate(i[p],i[p+1],x,c);break}}else"function"===Te(i)&&(o=i(x));y&&(r[m]=o)}return o},b=function(){return r={}},x(e),g=function(e){var t;return t=S(v(e)),p&&t[p]?t[p]():t},g.classes=function(e){var t;return null!=e?("array"===Te(e)?(n=e,o=[e[0],e[e.length-1]]):(t=S.analyze(o),n=0===e?[t.min,t.max]:S.limits(t,"e",e)),g):n},g.domain=function(e){var t,n,r,s,a,c,h;if(!arguments.length)return o;if(u=e[0],l=e[e.length-1],f=[],r=i.length,e.length===r&&u!==l)for(a=0,s=e.length;a<s;a++)n=e[a],f.push((n-u)/(l-u));else for(t=h=0,c=r-1;0<=c?h<=c:h>=c;t=0<=c?++h:--h)f.push(t/(r-1));return o=[u,l],g},g.mode=function(e){return arguments.length?(c=e,b(),g):c},g.range=function(e,t){return x(e,t),g},g.out=function(e){return p=e,g},g.spread=function(e){return arguments.length?(m=e,g):m},g.correctLightness=function(e){return null==e&&(e=!0),s=e,b(),w=s?function(e){var t,n,r,i,s,o,a,l,u;t=v(0,!0).lab()[0],n=v(1,!0).lab()[0],a=t>n,r=v(e,!0).lab()[0],s=t+(n-t)*e,i=r-s,l=0,u=1,o=20;while(Math.abs(i)>.01&&o-- >0)(function(){a&&(i*=-1),i<0?(l=e,e+=.5*(u-e)):(u=e,e+=.5*(l-e)),r=v(e,!0).lab()[0],i=r-s})();return e}:function(e){return e},g},g.padding=function(e){return null!=e?("number"===Te(e)&&(e=[e,e]),d=e,g):d},g.colors=function(t,r){var s,a,l,u,c,h,p,d;if(arguments.length<2&&(r="hex"),c=[],0===arguments.length)c=i.slice(0);else if(1===t)c=[g(.5)];else if(t>1)a=o[0],s=o[1]-a,c=function(){h=[];for(var e=0;0<=t?e<t:e>t;0<=t?e++:e--)h.push(e);return h}.apply(this).map((function(e){return g(a+e/(t-1)*s)}));else{if(e=[],p=[],n&&n.length>2)for(l=d=1,u=n.length;1<=u?d<u:d>u;l=1<=u?++d:--d)p.push(.5*(n[l-1]+n[l]));else p=o;c=p.map((function(e){return g(e)}))}return S[r]&&(c=c.map((function(e){return e[r]()}))),c},g.cache=function(e){return null!=e?(y=e,g):y},g.gamma=function(e){return null!=e?(a=e,g):a},g.nodata=function(e){return null!=e?(h=S(e),g):h},g},null==S.scales&&(S.scales={}),S.scales.cool=function(){return S.scale([S.hsl(180,1,.9),S.hsl(250,.7,.4)])},S.scales.hot=function(){return S.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},S.analyze=function(e,t,n){var r,i,s,o,a,l,u;if(a={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==n&&(n=function(){return!0}),r=function(e){null==e||isNaN(e)||(a.values.push(e),a.sum+=e,e<a.min&&(a.min=e),e>a.max&&(a.max=e),a.count+=1)},u=function(e,i){if(n(e,i))return null!=t&&"function"===Te(t)?r(t(e)):null!=t&&"string"===Te(t)||"number"===Te(t)?r(e[t]):r(e)},"array"===Te(e))for(o=0,s=e.length;o<s;o++)l=e[o],u(l);else for(i in e)l=e[i],u(l,i);return a.domain=[a.min,a.max],a.limits=function(e,t){return S.limits(a,e,t)},a},S.limits=function(e,t,n){var r,i,s,o,a,l,u,c,h,p,d,f,m,g,_,v,b,x,w,C,E,T,A,P,I,L,O,k,N,R,D,F,B,q,z,U,G,j,V,W,H,J,X,Z,Y,Q,$,te,ne,re,ie,oe,ae,le,ue;if(null==t&&(t="equal"),null==n&&(n=7),"array"===Te(e)&&(e=S.analyze(e)),I=e.min,ee=e.max,e.sum,le=e.values.sort((function(e,t){return e-t})),1===n)return[I,ee];if(A=[],"c"===t.substr(0,1)&&(A.push(I),A.push(ee)),"e"===t.substr(0,1)){for(A.push(I),C=D=1,z=n-1;1<=z?D<=z:D>=z;C=1<=z?++D:--D)A.push(I+C/n*(ee-I));A.push(ee)}else if("l"===t.substr(0,1)){if(I<=0)throw"Logarithmic scales are only possible for values > 0";for(L=Math.LOG10E*K(I),P=Math.LOG10E*K(ee),A.push(I),C=ue=1,U=n-1;1<=U?ue<=U:ue>=U;C=1<=U?++ue:--ue)A.push(se(10,L+C/n*(P-L)));A.push(ee)}else if("q"===t.substr(0,1)){for(A.push(I),C=r=1,J=n-1;1<=J?r<=J:r>=J;C=1<=J?++r:--r)F=(le.length-1)*C/n,B=M(F),B===F?A.push(le[B]):(q=F-B,A.push(le[B]*(1-q)+le[B+1]*q));A.push(ee)}else if("k"===t.substr(0,1)){for(k=le.length,g=new Array(k),x=new Array(n),re=!0,N=0,v=null,v=[],v.push(I),C=i=1,X=n-1;1<=X?i<=X:i>=X;C=1<=X?++i:--i)v.push(I+C/n*(ee-I));v.push(ee);while(re){for(E=s=0,Z=n-1;0<=Z?s<=Z:s>=Z;E=0<=Z?++s:--s)x[E]=0;for(C=o=0,Y=k-1;0<=Y?o<=Y:o>=Y;C=0<=Y?++o:--o){for(ae=le[C],O=Number.MAX_VALUE,E=a=0,Q=n-1;0<=Q?a<=Q:a>=Q;E=0<=Q?++a:--a)w=y(v[E]-ae),w<O&&(O=w,_=E);x[_]++,g[C]=_}for(R=new Array(n),E=l=0,$=n-1;0<=$?l<=$:l>=$;E=0<=$?++l:--l)R[E]=null;for(C=u=0,te=k-1;0<=te?u<=te:u>=te;C=0<=te?++u:--u)b=g[C],null===R[b]?R[b]=le[C]:R[b]+=le[C];for(E=c=0,ne=n-1;0<=ne?c<=ne:c>=ne;E=0<=ne?++c:--c)R[E]*=1/x[E];for(re=!1,E=h=0,G=n-1;0<=G?h<=G:h>=G;E=0<=G?++h:--h)if(R[E]!==v[C]){re=!0;break}v=R,N++,N>200&&(re=!1)}for(T={},E=p=0,j=n-1;0<=j?p<=j:p>=j;E=0<=j?++p:--p)T[E]=[];for(C=d=0,V=k-1;0<=V?d<=V:d>=V;C=0<=V?++d:--d)b=g[C],T[b].push(le[C]);for(ie=[],E=f=0,W=n-1;0<=W?f<=W:f>=W;E=0<=W?++f:--f)ie.push(T[E][0]),ie.push(T[E][T[E].length-1]);for(ie=ie.sort((function(e,t){return e-t})),A.push(ie[0]),C=m=1,H=ie.length-1;m<=H;C=m+=2)oe=ie[C],isNaN(oe)||-1!==A.indexOf(oe)||A.push(oe)}return A},N=function(e,t,n){var r,i,s,o;return r=Ae(arguments),e=r[0],t=r[1],n=r[2],isNaN(e)&&(e=0),e/=360,e<1/3?(i=(1-t)/3,o=(1+t*T(c*e)/T(l-c*e))/3,s=1-(i+o)):e<2/3?(e-=1/3,o=(1-t)/3,s=(1+t*T(c*e)/T(l-c*e))/3,i=1-(o+s)):(e-=2/3,s=(1-t)/3,i=(1+t*T(c*e)/T(l-c*e))/3,o=1-(s+i)),o=Y(n*o*3),s=Y(n*s*3),i=Y(n*i*3),[255*o,255*s,255*i,r.length>3?r[3]:1]},ce=function(){var e,t,n,r,i,s,o,a;return o=Ae(arguments),s=o[0],t=o[1],e=o[2],c=2*Math.PI,s/=255,t/=255,e/=255,i=Math.min(s,t,e),r=(s+t+e)/3,a=1-i/r,0===a?n=0:(n=(s-t+(s-e))/2,n/=Math.sqrt((s-t)*(s-t)+(s-e)*(t-e)),n=Math.acos(n),e>t&&(n=c-n),n/=c),[360*n,a,r]},S.hsi=function(){return function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t);return Object(i)===i?i:r}(i,Me.call(arguments).concat(["hsi"]),(function(){}))},f.hsi=N,i.prototype.hsi=function(){return ce(this._rgb)},q=function(e,t,n,r){var i,s,o,a,l,u,c,h,p,d,f,m;return"hsl"===r?(f=e.hsl(),m=t.hsl()):"hsv"===r?(f=e.hsv(),m=t.hsv()):"hcg"===r?(f=e.hcg(),m=t.hcg()):"hsi"===r?(f=e.hsi(),m=t.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",f=e.hcl(),m=t.hcl()),"h"===r.substr(0,1)&&(o=f[0],p=f[1],u=f[2],a=m[0],d=m[1],c=m[2]),isNaN(o)||isNaN(a)?isNaN(o)?isNaN(a)?s=Number.NaN:(s=a,1!==u&&0!==u||"hsv"===r||(h=d)):(s=o,1!==c&&0!==c||"hsv"===r||(h=p)):(i=a>o&&a-o>180?a-(o+360):a<o&&o-a>180?a+360-o:a-o,s=o+n*i),null==h&&(h=p+n*(d-p)),l=u+n*(c-u),S[r](s,h,l)},m=m.concat(function(){var e,t,n,r;for(n=["hsv","hsl","hsi","hcl","lch","hcg"],r=[],t=0,e=n.length;t<e;t++)$=n[t],r.push([$,q]);return r}()),G=function(e,t,n,r){var i,s;return i=e.num(),s=t.num(),S.num(i+(s-i)*n,"num")},m.push(["num",G]),z=function(e,t,n,r){var s,o;return s=e.lab(),o=t.lab(),new i(s[0]+n*(o[0]-s[0]),s[1]+n*(o[1]-s[1]),s[2]+n*(o[2]-s[2]),r)},m.push(["lab",z])}).call(this)}).call(this,n("62e4")(e))},"642a":function(e,t,n){var r=n("966f"),i=n("3bb4"),s=n("20ec");function o(e){var t=i(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}e.exports=o},"656b":function(e,t,n){var r=n("e2e4"),i=n("f4d6");function s(e,t){t=r(t,e);var n=0,s=t.length;while(null!=e&&n<s)e=e[i(t[n++])];return n&&n==s?e:void 0}e.exports=s},6747:function(e,t){var n=Array.isArray;e.exports=n},"67ca":function(e,t,n){var r=n("cb5a");function i(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}e.exports=i},"69d5":function(e,t,n){var r=n("cb5a"),i=Array.prototype,s=i.splice;function o(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():s.call(t,n,1),--this.size,!0}e.exports=o},"6cc54":function(e,t,n){},"6f6c":function(e,t){var n=/\w*$/;function r(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}e.exports=r},"6fcd":function(e,t,n){var r=n("50d8"),i=n("d370"),s=n("6747"),o=n("0d24"),a=n("c0983"),l=n("73ac"),u=Object.prototype,c=u.hasOwnProperty;function h(e,t){var n=s(e),u=!n&&i(e),h=!n&&!u&&o(e),p=!n&&!u&&!h&&l(e),d=n||u||h||p,f=d?r(e.length,String):[],m=f.length;for(var y in e)!t&&!c.call(e,y)||d&&("length"==y||h&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||a(y,m))||f.push(y);return f}e.exports=h},7159:function(e,t,n){var r=n("266a"),i=n("9934");function s(e){return null==e?[]:r(e,i(e))}e.exports=s},"726c":function(e,t,n){e.exports={_default:n("e95e"),7.6:n("e95e"),7.5:n("32c1"),7.4:n("31cb"),7.3:n("1b3e"),7.2:n("8332"),7.7:n("8d3f"),"7.x":n("35be"),master:n("1d41")}},"72af":function(e,t,n){var r=n("99cd"),i=r();e.exports=i},"72ce":function(e,t,n){var r=n("2ef0"),i=/\[(?:(.*)\/)?(.+?):(\d+)\]/;function s(e){return function(t){return r.transform(t,(function(t,n,s){var o=r.get(n,e);if(o){var a={host:void 0,port:void 0,_meta:{id:s,name:n.name,version:n.version}},l=new Error("Malformed "+e+". Got "+JSON.stringify(o)+' and expected it to match "{hostname?}/{ip}:{port}".'),u=i.exec(o);if(u)return a.host=u[1]||u[2],a.port=parseInt(u[3],10),void t.push(a);if(o.indexOf("/")>-1){var c=o.split("/");if(2!==c.length)throw l;a.host=c.shift(),o=c.shift()}if(o.indexOf(":")<0)throw l;var h=o.split(":");if(2!==h.length)throw l;a.host=a.host||h[0],a.port=parseInt(h[1],10),t.push(a)}}),[])}}e.exports=s("http.publish_address")},"72f0":function(e,t){function n(e){return function(){return e}}e.exports=n},7319:function(e,t,n){!function(e,n){n(t)}(0,(function(e){"use strict";var t=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,n=this._zoom;if(e.__parent)for(;t.__parent._zoom>=n;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var n,r=this._featureGroup,i=this._nonPointGroup,s=this.options.chunkedLoading,o=this.options.chunkInterval,a=this.options.chunkProgress,l=e.length,u=0,c=!0;if(this._map){var h=(new Date).getTime(),p=L.bind((function(){for(var d=(new Date).getTime();l>u;u++){if(s&&0===u%200){var f=(new Date).getTime()-d;if(f>o)break}if(n=e[u],n instanceof L.LayerGroup)c&&(e=e.slice(),c=!1),this._extractNonGroupLayers(n,e),l=e.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),t||this.fire("layeradd",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var m=n.__parent.getAllChildMarkers(),y=m[0]===n?m[1]:m[0];r.removeLayer(y)}}else i.addLayer(n),t||this.fire("layeradd",{layer:n})}a&&a(u,l,(new Date).getTime()-h),u===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(p,this.options.chunkDelay)}),this);p()}else for(var d=this._needsClustering;l>u;u++)n=e[u],n instanceof L.LayerGroup?(c&&(e=e.slice(),c=!1),this._extractNonGroupLayers(n,e),l=e.length):n.getLatLng?this.hasLayer(n)||d.push(n):i.addLayer(n);return this},removeLayers:function(e){var t,n,r=e.length,i=this._featureGroup,s=this._nonPointGroup,o=!0;if(!this._map){for(t=0;r>t;t++)n=e[t],n instanceof L.LayerGroup?(o&&(e=e.slice(),o=!1),this._extractNonGroupLayers(n,e),r=e.length):(this._arraySplice(this._needsClustering,n),s.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var a=e.slice(),l=r;for(t=0;l>t;t++)n=a[t],n instanceof L.LayerGroup?(this._extractNonGroupLayers(n,a),l=a.length):this._unspiderfyLayer(n)}for(t=0;r>t;t++)n=e[t],n instanceof L.LayerGroup?(o&&(e=e.slice(),o=!1),this._extractNonGroupLayers(n,e),r=e.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),i.hasLayer(n)&&(i.removeLayer(n),n.clusterShow&&n.clusterShow())):(s.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;t>=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var n,r,i,s=this._needsClustering.slice(),o=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),r=s.length-1;r>=0;r--){for(n=!0,i=o.length-1;i>=0;i--)if(o[i].layer===s[r]){n=!1;break}n&&e.call(t,s[r])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer((function(t){e.push(t)})),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer((function(n){L.stamp(n)===e&&(t=n)})),t},hasLayer:function(e){if(!e)return!1;var t,n=this._needsClustering;for(t=n.length-1;t>=0;t--)if(n[t]===e)return!0;for(n=this._needsRemoving,t=n.length-1;t>=0;t--)if(n[t].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){"function"!=typeof t&&(t=function(){});var n=function(){!e._icon&&!e.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),e._icon?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),e.__parent.zoomToBounds())},onAdd:function(e){var t,n,r;if(this._map=e,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,n=this._needsRemoving.length;n>t;t++)r=this._needsRemoving[t],r.newlatlng=r.layer._latlng,r.layer._latlng=r.latlng;for(t=0,n=this._needsRemoving.length;n>t;t++)r=this._needsRemoving[t],this._removeLayer(r.layer,!0),r.layer._latlng=r.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return e.splice(n,1),!0},_removeFromGridUnclustered:function(e,t){for(var n=this._map,r=this._gridUnclustered,i=Math.floor(this._map.getMinZoom());t>=i&&r[t].removeObject(e,n.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var t=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&&e.target.openPopup()}},_moveChild:function(e,t,n){e._latlng=t,this.removeLayer(e),e._latlng=n,this.addLayer(e)},_childMarkerDragEnd:function(e){var t=e.target.__dragStart;delete e.target.__dragStart,t&&this._moveChild(e.target,t,e.target._latlng)},_removeLayer:function(e,t,n){var r=this._gridClusters,i=this._gridUnclustered,s=this._featureGroup,o=this._map,a=Math.floor(this._map.getMinZoom());t&&this._removeFromGridUnclustered(e,this._maxZoom);var l,u=e.__parent,c=u._markers;for(this._arraySplice(c,e);u&&(u._childCount--,u._boundsNeedUpdate=!0,!(u._zoom<a));)t&&u._childCount<=1?(l=u._markers[0]===e?u._markers[1]:u._markers[0],r[u._zoom].removeObject(u,o.project(u._cLatLng,u._zoom)),i[u._zoom].addObject(l,o.project(l.getLatLng(),u._zoom)),this._arraySplice(u.__parent._childClusters,u),u.__parent._markers.push(l),l.__parent=u.__parent,u._icon&&(s.removeLayer(u),n||s.addLayer(l))):u._iconNeedsUpdate=!0,u=u.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,n){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,n)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),n=" marker-cluster-";return n+=10>t?"small":100>t?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,r=this.options.zoomToBoundsOnClick;(t||r)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){for(var t=e.layer,n=t;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===t._childCount&&this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,r=this._map;(e||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),r.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),t=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,r=n;"function"!=typeof n&&(r=function(){return n}),null!==this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var i=e;i>=t;i--)this._gridClusters[i]=new L.DistanceGrid(r(i)),this._gridUnclustered[i]=new L.DistanceGrid(r(i));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var n,r,i=this._gridClusters,s=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);t>=o;t--){n=this._map.project(e.getLatLng(),t);var a=i[t].getNearObject(n);if(a)return a._addChild(e),void(e.__parent=a);if(a=s[t].getNearObject(n)){var l=a.__parent;l&&this._removeLayer(a,!1);var u=new this._markerCluster(this,t,a,e);i[t].addObject(u,this._map.project(u._cLatLng,t)),a.__parent=u,e.__parent=u;var c=u;for(r=t-1;r>l._zoom;r--)c=new this._markerCluster(this,r,c),i[r].addObject(c,this._map.project(a.getLatLng(),r));return l._addChild(c),void this._removeFromGridUnclustered(a,t)}s[t].addObject(e,n)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()}))},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return void 0!==t&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var n=t.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var n,r=e.getLayers(),i=0;for(t=t||[];i<r.length;i++)n=r[i],n instanceof L.LayerGroup?this._extractNonGroupLayers(n,t):t.push(n);return t},_overrideMarkerIcon:function(e){var t=e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}});return t}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var n,r=this._getExpandedVisibleBounds(),i=this._featureGroup,s=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(r,e,s,(function(s){var o,a=s._latlng,l=s._markers;for(r.contains(a)||(a=null),s._isSingleParent()&&e+1===t?(i.removeLayer(s),s._recursivelyAddChildrenToMap(null,t,r)):(s.clusterHide(),s._recursivelyAddChildrenToMap(a,t,r)),n=l.length-1;n>=0;n--)o=l[n],r.contains(o._latlng)||i.removeLayer(o)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(r,t),i.eachLayer((function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()})),this._topClusterLevel._recursively(r,e,t,(function(e){e._recursivelyRestoreChildPositions(t)})),this._ignoreMove=!1,this._enqueue((function(){this._topClusterLevel._recursively(r,e,s,(function(e){i.removeLayer(e),e.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var n=this,r=this._featureGroup;r.addLayer(e),t!==e&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue((function(){r.removeLayer(e),e.clusterShow(),n._animationEnd()}))):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,n){var r=this._getExpandedVisibleBounds(),i=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(r,i,t+1,n);var s=this;this._forceLayout(),e._recursivelyBecomeVisible(r,n),this._enqueue((function(){if(1===e._childCount){var o=e._markers[0];this._ignoreMove=!0,o.setLatLng(o.getLatLng()),this._ignoreMove=!1,o.clusterShow&&o.clusterShow()}else e._recursively(r,n,i,(function(e){e._recursivelyRemoveChildrenFromMap(r,i,t+1)}));s._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)};var n=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(e,t,n,r){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),r&&this._addChild(r)},getAllChildMarkers:function(e,t){e=e||[];for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n].getAllChildMarkers(e);for(var r=this._markers.length-1;r>=0;r--)t&&this._markers[r].__dragStart||e.push(this._markers[r]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){for(var t,n=this._childClusters.slice(),r=this._group._map,i=r.getBoundsZoom(this._bounds),s=this._zoom+1,o=r.getZoom();n.length>0&&i>s;){s++;var a=[];for(t=0;t<n.length;t++)a=a.concat(n[t]._childClusters);n=a}i>s?this._group._map.setView(this._latlng,s):o>=i?this._group._map.setView(this._latlng,o+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e,t,n,r,i=this._markers,s=this._childClusters,o=0,a=0,l=this._childCount;if(0!==l){for(this._resetBounds(),e=0;e<i.length;e++)n=i[e]._latlng,this._bounds.extend(n),o+=n.lat,a+=n.lng;for(e=0;e<s.length;e++)t=s[e],t._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),n=t._wLatLng,r=t._childCount,o+=n.lat*r,a+=n.lng*r;this._latlng=this._wLatLng=new L.LatLng(o/l,a/l),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,n){this._recursively(e,this._group._map.getMinZoom(),n-1,(function(e){var n,r,i=e._markers;for(n=i.length-1;n>=0;n--)r=i[n],r._icon&&(r._setPos(t),r.clusterHide())}),(function(e){var n,r,i=e._childClusters;for(n=i.length-1;n>=0;n--)r=i[n],r._icon&&(r._setPos(t),r.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,n,r){this._recursively(e,r,t,(function(i){i._recursivelyAnimateChildrenIn(e,i._group._map.latLngToLayerPoint(i.getLatLng()).round(),n),i._isSingleParent()&&n-1===r?(i.clusterShow(),i._recursivelyRemoveChildrenFromMap(e,t,n)):i.clusterHide(),i._addToMap()}))},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,(function(e){e.clusterShow()}))},_recursivelyAddChildrenToMap:function(e,t,n){this._recursively(n,this._group._map.getMinZoom()-1,t,(function(r){if(t!==r._zoom)for(var i=r._markers.length-1;i>=0;i--){var s=r._markers[i];n.contains(s._latlng)&&(e&&(s._backupLatlng=s.getLatLng(),s.setLatLng(e),s.clusterHide&&s.clusterHide()),r._group._featureGroup.addLayer(s))}}),(function(t){t._addToMap(e)}))},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;t>=0;t--){var n=this._markers[t];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(e-1===this._zoom)for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._restorePosition();else for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,n,r){var i,s;this._recursively(e,t-1,n-1,(function(e){for(s=e._markers.length-1;s>=0;s--)i=e._markers[s],r&&r.contains(i._latlng)||(e._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())}),(function(e){for(s=e._childClusters.length-1;s>=0;s--)i=e._childClusters[s],r&&r.contains(i._latlng)||(e._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())}))},_recursively:function(e,t,n,r,i){var s,o,a=this._childClusters,l=this._zoom;if(l>=t&&(r&&r(this),i&&l===n&&i(this)),t>l||n>l)for(s=a.length-1;s>=0;s--)o=a[s],o._boundsNeedUpdate&&o._recalculateBounds(),e.intersects(o._bounds)&&o._recursively(e,t,n,r,i)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var e=this.options.opacity;return this.setOpacity(0),this.options.opacity=e,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var n=this._getCoord(t.x),r=this._getCoord(t.y),i=this._grid,s=i[r]=i[r]||{},o=s[n]=s[n]||[],a=L.Util.stamp(e);this._objectPoint[a]=t,o.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var n,r,i=this._getCoord(t.x),s=this._getCoord(t.y),o=this._grid,a=o[s]=o[s]||{},l=a[i]=a[i]||[];for(delete this._objectPoint[L.Util.stamp(e)],n=0,r=l.length;r>n;n++)if(l[n]===e)return l.splice(n,1),1===r&&delete a[i],!0},eachObject:function(e,t){var n,r,i,s,o,a,l,u=this._grid;for(n in u)for(r in o=u[n],o)for(a=o[r],i=0,s=a.length;s>i;i++)l=e.call(t,a[i]),l&&(i--,s--)},getNearObject:function(e){var t,n,r,i,s,o,a,l,u=this._getCoord(e.x),c=this._getCoord(e.y),h=this._objectPoint,p=this._sqCellSize,d=null;for(t=c-1;c+1>=t;t++)if(i=this._grid[t])for(n=u-1;u+1>=n;n++)if(s=i[n])for(r=0,o=s.length;o>r;r++)a=s[r],l=this._sqDist(h[L.Util.stamp(a)],e),(p>l||p>=l&&null===d)&&(p=l,d=a);return d},_getCoord:function(e){var t=Math.floor(e/this._cellSize);return isFinite(t)?t:e},_sqDist:function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}},function(){L.QuickHull={getDistant:function(e,t){var n=t[1].lat-t[0].lat,r=t[0].lng-t[1].lng;return r*(e.lat-t[0].lat)+n*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var n,r,i,s=0,o=null,a=[];for(n=t.length-1;n>=0;n--)r=t[n],i=this.getDistant(r,e),i>0&&(a.push(r),i>s&&(s=i,o=r));return{maxPoint:o,newPoints:a}},buildConvexHull:function(e,t){var n=[],r=this.findMostDistantPointFromBaseLine(e,t);return r.maxPoint?(n=n.concat(this.buildConvexHull([e[0],r.maxPoint],r.newPoints)),n=n.concat(this.buildConvexHull([r.maxPoint,e[1]],r.newPoints))):[e[0]]},getConvexHull:function(e){var t,n=!1,r=!1,i=!1,s=!1,o=null,a=null,l=null,u=null,c=null,h=null;for(t=e.length-1;t>=0;t--){var p=e[t];(!1===n||p.lat>n)&&(o=p,n=p.lat),(!1===r||p.lat<r)&&(a=p,r=p.lat),(!1===i||p.lng>i)&&(l=p,i=p.lng),(!1===s||p.lng<s)&&(u=p,s=p.lng)}r!==n?(h=a,c=o):(h=u,c=l);var d=[].concat(this.buildConvexHull([h,c],e),this.buildConvexHull([c,h],e));return d}}}(),L.MarkerCluster.include({getConvexHull:function(){var e,t,n=this.getAllChildMarkers(),r=[];for(t=n.length-1;t>=0;t--)e=n[t].getLatLng(),r.push(e);return L.QuickHull.getConvexHull(r)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(null,!0),n=this._group,r=n._map,i=r.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,i):(i.y+=10,e=this._generatePointsCircle(t.length,i)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var n,r,i=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e),s=i/this._2PI,o=this._2PI/e,a=[];for(s=Math.max(s,35),a.length=e,n=0;e>n;n++)r=this._circleStartAngle+n*o,a[n]=new L.Point(t.x+s*Math.cos(r),t.y+s*Math.sin(r))._round();return a},_generatePointsSpiral:function(e,t){var n,r=this._group.options.spiderfyDistanceMultiplier,i=r*this._spiralLengthStart,s=r*this._spiralFootSeparation,o=r*this._spiralLengthFactor*this._2PI,a=0,l=[];for(l.length=e,n=e;n>=0;n--)e>n&&(l[n]=new L.Point(t.x+i*Math.cos(a),t.y+i*Math.sin(a))._round()),a+=s/i+5e-4*n,i+=o/a;return l},_noanimationUnspiderfy:function(){var e,t,n=this._group,r=n._map,i=n._featureGroup,s=this.getAllChildMarkers(null,!0);for(n._ignoreMove=!0,this.setOpacity(1),t=s.length-1;t>=0;t--)e=s[t],i.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(r.removeLayer(e._spiderLeg),delete e._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:s}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var n,r,i,s,o=this._group,a=o._map,l=o._featureGroup,u=this._group.options.spiderLegPolylineOptions;for(o._ignoreMove=!0,n=0;n<e.length;n++)s=a.layerPointToLatLng(t[n]),r=e[n],i=new L.Polyline([this._latlng,s],u),a.addLayer(i),r._spiderLeg=i,r._preSpiderfyLatlng=r._latlng,r.setLatLng(s),r.setZIndexOffset&&r.setZIndexOffset(1e6),l.addLayer(r);this.setOpacity(.3),o._ignoreMove=!1,o.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var n,r,i,s,o,a,l=this,u=this._group,c=u._map,h=u._featureGroup,p=this._latlng,d=c.latLngToLayerPoint(p),f=L.Path.SVG,m=L.extend({},this._group.options.spiderLegPolylineOptions),y=m.opacity;for(void 0===y&&(y=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),f?(m.opacity=0,m.className=(m.className||"")+" leaflet-cluster-spider-leg"):m.opacity=y,u._ignoreMove=!0,n=0;n<e.length;n++)r=e[n],a=c.layerPointToLatLng(t[n]),i=new L.Polyline([p,a],m),c.addLayer(i),r._spiderLeg=i,f&&(s=i._path,o=s.getTotalLength()+.1,s.style.strokeDasharray=o,s.style.strokeDashoffset=o),r.setZIndexOffset&&r.setZIndexOffset(1e6),r.clusterHide&&r.clusterHide(),h.addLayer(r),r._setPos&&r._setPos(d);for(u._forceLayout(),u._animationStart(),n=e.length-1;n>=0;n--)a=c.layerPointToLatLng(t[n]),r=e[n],r._preSpiderfyLatlng=r._latlng,r.setLatLng(a),r.clusterShow&&r.clusterShow(),f&&(i=r._spiderLeg,s=i._path,s.style.strokeDashoffset=0,i.setStyle({opacity:y}));this.setOpacity(.3),u._ignoreMove=!1,setTimeout((function(){u._animationEnd(),u.fire("spiderfied",{cluster:l,markers:e})}),200)},_animationUnspiderfy:function(e){var t,n,r,i,s,o,a=this,l=this._group,u=l._map,c=l._featureGroup,h=e?u._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):u.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(null,!0),d=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),n=p.length-1;n>=0;n--)t=p[n],t._preSpiderfyLatlng&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,o=!0,t._setPos&&(t._setPos(h),o=!1),t.clusterHide&&(t.clusterHide(),o=!1),o&&c.removeLayer(t),d&&(r=t._spiderLeg,i=r._path,s=i.getTotalLength()+.1,i.style.strokeDashoffset=s,r.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout((function(){var e=0;for(n=p.length-1;n>=0;n--)t=p[n],t._spiderLeg&&e++;for(n=p.length-1;n>=0;n--)t=p[n],t._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),e>1&&c.removeLayer(t),u.removeLayer(t._spiderLeg),delete t._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:a,markers:p})}),200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,n;for(t in e)for(n=e[t].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,n;for(t in e)n=e[t],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(e,t){var n=this.options.icon;return L.setOptions(n,e),this.setIcon(n),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),e.MarkerClusterGroup=t,e.MarkerCluster=n}))},"73ac":function(e,t,n){var r=n("743f"),i=n("b047"),s=n("99d3"),o=s&&s.isTypedArray,a=o?i(o):r;e.exports=a},"740e":function(e,t,n){e.exports.VectorTile=n("07dd"),e.exports.VectorTileFeature=n("1dfc"),e.exports.VectorTileLayer=n("0e21")},"743f":function(e,t,n){var r=n("3729"),i=n("b218"),s=n("1310"),o="[object Arguments]",a="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",h="[object Function]",p="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",y="[object Set]",g="[object String]",_="[object WeakMap]",v="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",P="[object Uint16Array]",I="[object Uint32Array]",L={};function M(e){return s(e)&&i(e.length)&&!!L[r(e)]}L[x]=L[w]=L[S]=L[C]=L[E]=L[T]=L[A]=L[P]=L[I]=!0,L[o]=L[a]=L[v]=L[l]=L[b]=L[u]=L[c]=L[h]=L[p]=L[d]=L[f]=L[m]=L[y]=L[g]=L[_]=!1,e.exports=M},"74c8":function(e,t,n){var r=n("972c"),i=n("242e"),s=n("badf");function o(e,t){return r(e,s(t,3),i)}e.exports=o},7530:function(e,t,n){var r=n("1a8c"),i=Object.create,s=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=s},"76dd":function(e,t,n){var r=n("ce86");function i(e){return null==e?"":r(e)}e.exports=i},"77c1":function(e,t,n){var r=n("7948"),i=n("badf"),s=n("89d9"),o=n("1bac");function a(e,t){if(null==e)return{};var n=r(o(e),(function(e){return[e]}));return t=i(t),s(e,n,(function(e,n){return t(e,n[0])}))}e.exports=a},7915:function(e,t,n){"use strict";e.exports=i;var r=n("9152");function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var s=4294967296,o=1/s,a=12,l="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");function u(e,t,n){var r,i,s=n.buf;if(i=s[n.pos++],r=(112&i)>>4,i<128)return h(e,r,t);if(i=s[n.pos++],r|=(127&i)<<3,i<128)return h(e,r,t);if(i=s[n.pos++],r|=(127&i)<<10,i<128)return h(e,r,t);if(i=s[n.pos++],r|=(127&i)<<17,i<128)return h(e,r,t);if(i=s[n.pos++],r|=(127&i)<<24,i<128)return h(e,r,t);if(i=s[n.pos++],r|=(1&i)<<31,i<128)return h(e,r,t);throw new Error("Expected varint not more than 10 bytes")}function c(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function h(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function p(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),d(n,r,t),f(r,t)}function d(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}function f(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}function m(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function y(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function _(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function v(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function b(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function x(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function w(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function S(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function C(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function E(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function T(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function A(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function P(e,t,n){var r="",i=t;while(i<n){var s,o,a,l=e[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>n)break;1===c?l<128&&(u=l):2===c?(s=e[i+1],128===(192&s)&&(u=(31&l)<<6|63&s,u<=127&&(u=null))):3===c?(s=e[i+1],o=e[i+2],128===(192&s)&&128===(192&o)&&(u=(15&l)<<12|(63&s)<<6|63&o,(u<=2047||u>=55296&&u<=57343)&&(u=null))):4===c&&(s=e[i+1],o=e[i+2],a=e[i+3],128===(192&s)&&128===(192&o)&&128===(192&a)&&(u=(15&l)<<18|(63&s)<<12|(63&o)<<6|63&a,(u<=65535||u>=1114112)&&(u=null))),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}function I(e,t,n){return l.decode(e.subarray(t,n))}function L(e,t,n){for(var r,i,s=0;s<t.length;s++){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){r>56319||s+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){n=n||this.length;while(this.pos<n){var r=this.readVarint(),i=r>>3,s=this.pos;this.type=7&r,e(i,t,this),this.pos===s&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=E(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=A(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=E(this.buf,this.pos)+E(this.buf,this.pos+4)*s;return this.pos+=8,e},readSFixed64:function(){var e=E(this.buf,this.pos)+A(this.buf,this.pos+4)*s;return this.pos+=8,e},readFloat:function(){var e=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return n=r[this.pos++],t=127&n,n<128?t:(n=r[this.pos++],t|=(127&n)<<7,n<128?t:(n=r[this.pos++],t|=(127&n)<<14,n<128?t:(n=r[this.pos++],t|=(127&n)<<21,n<128?t:(n=r[this.pos],t|=(15&n)<<28,u(t,e,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=a&&l?I(this.buf,t,e):P(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==i.Bytes)return e.push(this.readVarint(t));var n=c(this);e=e||[];while(this.pos<n)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==i.Bytes)return e.push(this.readSVarint());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==i.Bytes)return e.push(this.readBoolean());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==i.Bytes)return e.push(this.readFloat());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==i.Bytes)return e.push(this.readDouble());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed32());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed32());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed64());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed64());var t=c(this);e=e||[];while(this.pos<t)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===i.Varint)while(this.buf[this.pos++]>127);else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else{if(t!==i.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){var t=this.length||16;while(t<this.pos+e)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),T(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),T(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),T(this.buf,-1&e,this.pos),T(this.buf,Math.floor(e*o),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),T(this.buf,-1&e,this.pos),T(this.buf,Math.floor(e*o),this.pos+4),this.pos+=8},writeVarint:function(e){e=+e||0,e>268435455||e<0?p(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=L(this.buf,e,this.pos);var n=this.pos-t;n>=128&&m(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),r.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),r.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&m(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,i.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,y,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,b,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,_,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,v,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,x,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,w,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,S,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,C,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},"793d":function(e,t,n){e.exports={angular:n("fb15"),json:n("d972")}},7948:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}e.exports=n},"79bc":function(e,t,n){var r=n("0b07"),i=n("2b3e"),s=r(i,"Map");e.exports=s},"7a1a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:e.style},[n("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:e.id}}),e._l(e.compConf.style.proLayer,(function(t){return n(t.componentName,{key:t.id,ref:t.id,refInFor:!0,tag:"component",attrs:{gisBase:e.globalMap,compConf:e.getCompConf(t.id)},on:{updateProLayer:e.updateGisProLayer,clearProLayer:e.clearGisProLayer}})})),e._l(e.compConf.style.vecLayer,(function(t){return n(t.componentName,{key:t.id,ref:t.id,refInFor:!0,tag:"component",attrs:{gisBase:e.globalMap,compConf:e.getCompConf(t.id)},on:{updateVecLayer:e.updateGisVecLayer,clearVecLayer:e.clearGisVecLayer}})})),e.styleConf.legend.show||e.legendShow?n("div",{class:["legend","ver"===e.styleConf.legend.style?"legend-vertical":""],style:e.legendStyle},[e.styleConf.legend.title?n("h4",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.styleConf.legend.titleText))]):e._e(),e._l(e.legend.points,(function(t){return n("el-row",{key:t.id,staticStyle:{"margin-top":"3px"}},[n("h4",{staticClass:"ly-name"},[e._v(e._s(t.name))]),t.list.length>0?n("div",{staticClass:"p-list"},e._l(t.list,(function(t){return n("div",{key:t.name,staticClass:"point"},[""!==t.name?n("div",{staticClass:"p-label"},[e._v(e._s(t.name))]):e._e(),"divIcon"===t.style.icon.iconType?n("div",{staticClass:"p-vec"},[n("div",{style:"width:"+t.style.icon.options.iconSize[0]+"px;height:"+t.style.icon.options.iconSize[1]+"px;",domProps:{innerHTML:e._s(t.style.icon.options.html)}})]):"pulseIcon"===t.style.icon.iconType?n("div",{staticClass:"p-vec"},[n("div",{style:"border-radius:50%;width:"+t.style.icon.options.iconSize[0]+"px;height:"+t.style.icon.options.iconSize[1]+"px;background:"+t.style.icon.options.fillColor})]):n("div",{staticClass:"p-img"},[n("img",{staticStyle:{width:"16px",height:"16px"},attrs:{src:t.style.icon.options.iconUrl}})])])})),0):e._e()])})),e._l(e.legend.lines,(function(t){return n("el-row",{key:t.id,staticStyle:{"margin-top":"3px"}},[n("h4",{staticClass:"ly-name"},[e._v(e._s(t.name))]),t.list.length>0?n("div",{staticClass:"p-list"},e._l(t.list,(function(t){return n("div",{key:t.name,staticClass:"line"},[""!==t.name?n("div",{staticClass:"line-label"},[e._v(e._s(t.name))]):e._e(),n("div",{staticClass:"line-shape"},[n("div",{style:"width:20px;height:"+t.style.weight+"px;opacity:"+t.style.opacity+";background:"+t.style.color})])])})),0):e._e()])})),e._l(e.legend.regions,(function(t){return n("el-row",{key:t.id,staticStyle:{"margin-top":"3px"}},[n("h4",{staticClass:"ly-name"},[e._v(e._s(t.name))]),t.list.length>0?n("div",{staticClass:"p-list"},e._l(t.list,(function(t){return n("div",{key:t.name,staticClass:"region"},[""!==t.name?n("div",{staticClass:"region-label"},[e._v(e._s(t.name))]):e._e(),n("div",{staticClass:"region-shape"},[n("div",{style:"width:20px;height:15px;opacity:"+t.style.opacity+";background:"+t.style.fillColor})])])})),0):e._e()])}))],2):e._e()],2)},i=[],s=(n("c975"),n("d81d"),n("a434"),n("b64b"),n("e25e"),n("5530")),o=(n("99af"),n("4160"),n("b0c0"),n("d3b7"),n("159b"),n("e11e")),a=n.n(o),l=(n("6cc54"),n("f6af"),n("02b3")),u=window.SuperMap=window.SuperMap||{};u.Components=window.SuperMap.Components||{};var c=u.DataFormat={GEOJSON:"GEOJSON",ISERVER:"ISERVER"},h=u.ServerType={ISERVER:"ISERVER",IPORTAL:"IPORTAL",ONLINE:"ONLINE"},p=u.GeometryType={LINE:"LINE",LINEM:"LINEM",POINT:"POINT",REGION:"REGION",POINTEPS:"POINTEPS",LINEEPS:"LINEEPS",REGIONEPS:"REGIONEPS",ELLIPSE:"ELLIPSE",CIRCLE:"CIRCLE",TEXT:"TEXT",RECTANGLE:"RECTANGLE",UNKNOWN:"UNKNOWN",GEOCOMPOUND:"GEOCOMPOUND"},d=u.QueryOption={ATTRIBUTE:"ATTRIBUTE",ATTRIBUTEANDGEOMETRY:"ATTRIBUTEANDGEOMETRY",GEOMETRY:"GEOMETRY"},f=(u.JoinType={INNERJOIN:"INNERJOIN",LEFTJOIN:"LEFTJOIN"},u.SpatialQueryMode={CONTAIN:"CONTAIN",CROSS:"CROSS",DISJOINT:"DISJOINT",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",NONE:"NONE",OVERLAP:"OVERLAP",TOUCH:"TOUCH",WITHIN:"WITHIN"}),m=(u.SpatialRelationType={CONTAIN:"CONTAIN",INTERSECT:"INTERSECT",WITHIN:"WITHIN"},u.MeasureMode={DISTANCE:"DISTANCE",AREA:"AREA"}),y=u.Unit={METER:"METER",KILOMETER:"KILOMETER",MILE:"MILE",YARD:"YARD",DEGREE:"DEGREE",MILLIMETER:"MILLIMETER",CENTIMETER:"CENTIMETER",INCH:"INCH",DECIMETER:"DECIMETER",FOOT:"FOOT",SECOND:"SECOND",MINUTE:"MINUTE",RADIAN:"RADIAN"},g=u.BufferRadiusUnit={CENTIMETER:"CENTIMETER",DECIMETER:"DECIMETER",FOOT:"FOOT",INCH:"INCH",KILOMETER:"KILOMETER",METER:"METER",MILE:"MILE",MILLIMETER:"MILLIMETER",YARD:"YARD"},_=(u.EngineType={IMAGEPLUGINS:"IMAGEPLUGINS",OGC:"OGC",ORACLEPLUS:"ORACLEPLUS",SDBPLUS:"SDBPLUS",SQLPLUS:"SQLPLUS",UDB:"UDB"},u.ThemeGraphTextFormat={CAPTION:"CAPTION",CAPTION_PERCENT:"CAPTION_PERCENT",CAPTION_VALUE:"CAPTION_VALUE",PERCENT:"PERCENT",VALUE:"VALUE"}),v=u.ThemeGraphType={AREA:"AREA",BAR:"BAR",BAR3D:"BAR3D",LINE:"LINE",PIE:"PIE",PIE3D:"PIE3D",POINT:"POINT",RING:"RING",ROSE:"ROSE",ROSE3D:"ROSE3D",STACK_BAR:"STACK_BAR",STACK_BAR3D:"STACK_BAR3D",STEP:"STEP"},b=u.GraphAxesTextDisplayMode={ALL:"ALL",NONE:"NONE",YAXES:"YAXES"},x=u.GraduatedMode={CONSTANT:"CONSTANT",LOGARITHM:"LOGARITHM",SQUAREROOT:"SQUAREROOT"},w=u.RangeMode={CUSTOMINTERVAL:"CUSTOMINTERVAL",EQUALINTERVAL:"EQUALINTERVAL",LOGARITHM:"LOGARITHM",QUANTILE:"QUANTILE",SQUAREROOT:"SQUAREROOT",STDDEVIATION:"STDDEVIATION"},S=(u.ThemeType={DOTDENSITY:"DOTDENSITY",GRADUATEDSYMBOL:"GRADUATEDSYMBOL",GRAPH:"GRAPH",LABEL:"LABEL",RANGE:"RANGE",UNIQUE:"UNIQUE"},u.ColorGradientType={BLACK_WHITE:"BLACKWHITE",BLUE_BLACK:"BLUEBLACK",BLUE_RED:"BLUERED",BLUE_WHITE:"BLUEWHITE",CYAN_BLACK:"CYANBLACK",CYAN_BLUE:"CYANBLUE",CYAN_GREEN:"CYANGREEN",CYAN_WHITE:"CYANWHITE",GREEN_BLACK:"GREENBLACK",GREEN_BLUE:"GREENBLUE",GREEN_ORANGE_VIOLET:"GREENORANGEVIOLET",GREEN_RED:"GREENRED",GREEN_WHITE:"GREENWHITE",PINK_BLACK:"PINKBLACK",PINK_BLUE:"PINKBLUE",PINK_RED:"PINKRED",PINK_WHITE:"PINKWHITE",RAIN_BOW:"RAINBOW",RED_BLACK:"REDBLACK",RED_WHITE:"REDWHITE",SPECTRUM:"SPECTRUM",TERRAIN:"TERRAIN",YELLOW_BLACK:"YELLOWBLACK",YELLOW_BLUE:"YELLOWBLUE",YELLOW_GREEN:"YELLOWGREEN",YELLOW_RED:"YELLOWRED",YELLOW_WHITE:"YELLOWWHITE"}),C=u.TextAlignment={TOPLEFT:"TOPLEFT",TOPCENTER:"TOPCENTER",TOPRIGHT:"TOPRIGHT",BASELINELEFT:"BASELINELEFT",BASELINECENTER:"BASELINECENTER",BASELINERIGHT:"BASELINERIGHT",BOTTOMLEFT:"BOTTOMLEFT",BOTTOMCENTER:"BOTTOMCENTER",BOTTOMRIGHT:"BOTTOMRIGHT",MIDDLELEFT:"MIDDLELEFT",MIDDLECENTER:"MIDDLECENTER",MIDDLERIGHT:"MIDDLERIGHT"},E=(u.FillGradientMode={NONE:"NONE",LINEAR:"LINEAR",RADIAL:"RADIAL",CONICAL:"CONICAL",SQUARE:"SQUARE"},u.AlongLineDirection={NORMAL:"ALONG_LINE_NORMAL",LB_TO_RT:"LEFT_BOTTOM_TO_RIGHT_TOP",LT_TO_RB:"LEFT_TOP_TO_RIGHT_BOTTOM",RB_TO_LT:"RIGHT_BOTTOM_TO_LEFT_TOP",RT_TO_LB:"RIGHT_TOP_TO_LEFT_BOTTOM"}),T=u.LabelBackShape={DIAMOND:"DIAMOND",ELLIPSE:"ELLIPSE",MARKER:"MARKER",NONE:"NONE",RECT:"RECT",ROUNDRECT:"ROUNDRECT",TRIANGLE:"TRIANGLE"},A=u.LabelOverLengthMode={NEWLINE:"NEWLINE",NONE:"NONE",OMIT:"OMIT"},P=(u.DirectionType={EAST:"EAST",NONE:"NONE",NORTH:"NORTH",SOURTH:"SOURTH",WEST:"WEST"},u.SideType={LEFT:"LEFT",MIDDLE:"MIDDLE",NONE:"NONE",RIGHT:"RIGHT"},u.SupplyCenterType={FIXEDCENTER:"FIXEDCENTER",NULL:"NULL",OPTIONALCENTER:"OPTIONALCENTER"},u.TurnType={AHEAD:"AHEAD",BACK:"BACK",END:"END",LEFT:"LEFT",NONE:"NONE",RIGHT:"RIGHT"},u.BufferEndType={FLAT:"FLAT",ROUND:"ROUND"}),I=u.OverlayOperationType={CLIP:"CLIP",ERASE:"ERASE",IDENTITY:"IDENTITY",INTERSECT:"INTERSECT",UNION:"UNION",UPDATE:"UPDATE",XOR:"XOR"},M=u.OutputType={INDEXEDHDFS:"INDEXEDHDFS",UDB:"UDB",MONGODB:"MONGODB",PG:"PG"},O=u.SmoothMethod={BSPLINE:"BSPLINE",POLISH:"POLISH"},k=u.SurfaceAnalystMethod={ISOLINE:"ISOLINE",ISOREGION:"ISOREGION"},N=u.DataReturnMode={DATASET_AND_RECORDSET:"DATASET_AND_RECORDSET",DATASET_ONLY:"DATASET_ONLY",RECORDSET_ONLY:"RECORDSET_ONLY"},R=u.EditType={ADD:"add",UPDATE:"update",DELETE:"delete"},D=u.TransferTactic={LESS_TIME:"LESS_TIME",LESS_TRANSFER:"LESS_TRANSFER",LESS_WALK:"LESS_WALK",MIN_DISTANCE:"MIN_DISTANCE"},F=u.TransferPreference={BUS:"BUS",SUBWAY:"SUBWAY",NO_SUBWAY:"NO_SUBWAY",NONE:"NONE"},B=(u.GridType={CROSS:"CROSS",GRID:"GRID",POINT:"POINT"},u.ColorSpaceType={CMYK:"CMYK",RGB:"RGB"},u.LayerType={UGC:"UGC",WMS:"WMS",WFS:"WFS",CUSTOM:"CUSTOM"},u.UGCLayerType={THEME:"THEME",VECTOR:"VECTOR",GRID:"GRID",IMAGE:"IMAGE"},u.StatisticMode={AVERAGE:"AVERAGE",MAX:"MAX",MIN:"MIN",STDDEVIATION:"STDDEVIATION",SUM:"SUM",VARIANCE:"VARIANCE"},u.PixelFormat={BIT16:"BIT16",BIT32:"BIT32",BIT64:"BIT64",SINGLE:"SINGLE",DOUBLE:"DOUBLE",UBIT1:"UBIT1",UBIT4:"UBIT4",UBIT8:"UBIT8",UBIT24:"UBIT24",UBIT32:"UBIT32"},u.SearchMode={KDTREE_FIXED_COUNT:"KDTREE_FIXED_COUNT",KDTREE_FIXED_RADIUS:"KDTREE_FIXED_RADIUS",NONE:"NONE",QUADTREE:"QUADTREE"},u.InterpolationAlgorithmType={KRIGING:"KRIGING",SimpleKriging:"SimpleKriging",UniversalKriging:"UniversalKriging"},u.VariogramMode={EXPONENTIAL:"EXPONENTIAL",GAUSSIAN:"GAUSSIAN",SPHERICAL:"SPHERICAL"}),q=u.Exponent={EXP1:"EXP1",EXP2:"EXP2"},z=u.ClientType={IP:"IP",REFERER:"Referer",REQUESTIP:"RequestIP",NONE:"NONE",SERVER:"SERVER",WEB:"WEB"},U=(u.ChartType={BAR:"Bar",BAR3D:"Bar3D",CIRCLE:"Circle",PIE:"Pie",POINT:"Point",LINE:"Line",RING:"Ring"},u.ClipAnalystMode={CLIP:"clip",INTERSECT:"intersect"}),G=u.AnalystAreaUnit={SQUAREMETER:"SquareMeter",SQUAREKILOMETER:"SquareKiloMeter",HECTARE:"Hectare",ARE:"Are",ACRE:"Acre",SQUAREFOOT:"SquareFoot",SQUAREYARD:"SquareYard",SQUAREMILE:"SquareMile"},j=u.AnalystSizeUnit={METER:"Meter",KILOMETER:"Kilometer",YARD:"Yard",FOOT:"Foot",MILE:"Mile"},V=u.StatisticAnalystMode={MAX:"max",MIN:"min",AVERAGE:"average",SUM:"sum",VARIANCE:"variance",STDDEVIATION:"stdDeviation"},W=u.SummaryType={SUMMARYMESH:"SUMMARYMESH",SUMMARYREGION:"SUMMARYREGION"},H=u.TopologyValidatorRule={REGIONNOOVERLAP:"REGIONNOOVERLAP",REGIONNOOVERLAPWITH:"REGIONNOOVERLAPWITH",REGIONCONTAINEDBYREGION:"REGIONCONTAINEDBYREGION",REGIONCOVEREDBYREGION:"REGIONCOVEREDBYREGION",LINENOOVERLAP:"LINENOOVERLAP",LINENOOVERLAPWITH:"LINENOOVERLAPWITH",POINTNOIDENTICAL:"POINTNOIDENTICAL"},J=u.AggregationType={GEOHASH_GRID:"geohash_grid",FILTER:"filter"},X=u.AggregationQueryBuilderType={GEO_BOUNDING_BOX:"geo_bounding_box"},Z=(u.GetFeatureMode={BOUNDS:"BOUNDS",BUFFER:"BUFFER",ID:"ID",SPATIAL:"SPATIAL",SQL:"SQL"},u.RasterFunctionType={NDVI:"NDVI",HILLSHADE:"HILLSHADE"});u.ResourceType={MAP:"MAP",SERVICE:"SERVICE",SCENE:"SCENE",DATA:"DATA",INSIGHTS_WORKSPACE:"INSIGHTS_WORKSPACE",MAP_DASHBOARD:"MAP_DASHBOARD"},u.OrderBy={UPDATETIME:"UPDATETIME",HEATLEVEL:"HEATLEVEL",RELEVANCE:"RELEVANCE"},u.OrderType={ASC:"ASC",DESC:"DESC"},u.SearchType={PUBLIC:"PUBLIC",MY_RES:"MY_RES",MYGROUP_RES:"MYGROUP_RES",MYDEPARTMENT_RES:"MYDEPARTMENT_RES",SHARETOME_RES:"SHARETOME_RES"},u.AggregationTypes={TAG:"TAG",TYPE:"TYPE"},u.PermissionType={SEARCH:"SEARCH",READ:"READ",READWRITE:"READWRITE",DELETE:"DELETE",DOWNLOAD:"DOWNLOAD"},u.EntityType={DEPARTMENT:"DEPARTMENT",GROUP:"GROUP",IPORTALGROUP:"IPORTALGROUP",ROLE:"ROLE",USER:"USER"},u.DataItemType={WORKSPACE:"WORKSPACE",UDB:"UDB",SHP:"SHP",EXCEL:"EXCEL",CSV:"CSV",GEOJSON:"GEOJSON",SMTILES:"SMTILES",SVTILES:"SVTILES",MBTILES:"MBTILES",TPK:"TPK",UGCV5:"UGCV5",UGCV5_MVT:"UGCV5_MVT",JSON:"JSON"},u.WebExportFormatType={PNG:"PNG",PDF:"PDF"},u.WebScaleOrientationType={HORIZONTALLABELSBELOW:"HORIZONTALLABELSBELOW",HORIZONTALLABELSABOVE:"HORIZONTALLABELSABOVE",VERTICALLABELSLEFT:"VERTICALLABELSLEFT",VERTICALLABELSRIGHT:"VERTICALLABELSRIGHT"},u.WebScaleType={LINE:"LINE",BAR:"BAR",BAR_SUB:"BAR_SUB"},u.WebScaleUnit={METER:"METER",FOOT:"FOOT",DEGREES:"DEGREES"};class Y{constructor(e,t){this.w=e?parseFloat(e):0,this.h=e?parseFloat(t):0,this.CLASS_NAME="SuperMap.Size"}toString(){return"w="+this.w+",h="+this.h}clone(){return new Y(this.w,this.h)}equals(e){var t=!1;return null!=e&&(t=this.w===e.w&&this.h===e.h||isNaN(this.w)&&isNaN(this.h)&&isNaN(e.w)&&isNaN(e.h)),t}destroy(){this.w=null,this.h=null}}u.Size=Y;class K{constructor(e,t,n){this.x=e?parseFloat(e):0,this.y=t?parseFloat(t):0,this.mode=n,this.CLASS_NAME="SuperMap.Pixel",u.Pixel.Mode={LeftTop:"lefttop",RightTop:"righttop",RightBottom:"rightbottom",LeftBottom:"leftbottom"}}toString(){return"x="+this.x+",y="+this.y}clone(){return new K(this.x,this.y,this.mode)}equals(e){var t=!1;return null!=e&&(t=this.x==e.x&&this.y==e.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(e.x)&&isNaN(e.y)),t}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}add(e,t){if(null==e||null==t)throw new TypeError("Pixel.add cannot receive null values");return new K(this.x+e,this.y+t)}offset(e){var t=this.clone();return e&&(t=this.add(e.x,e.y)),t}destroy(){this.x=null,this.y=null,this.mode=null}}u.Pixel=K,u.inherit=function(e,t){var n,r,i,s=function(){};for(s.prototype=t.prototype,e.prototype=new s,n=2,r=arguments.length;n<r;n++)i=arguments[n],"function"===typeof i&&(i=i.prototype),u.Util.extend(e.prototype,i)},u.mixin=function(...e){class t{constructor(t){for(var n=0;n<e.length;n++)i(this,new e[n](t))}}for(var n=0;n<e.length;n++){var r=e[n];i(t,r),i(t.prototype,r.prototype),i(t.prototype,new r)}return t;function i(e,t){var n=Object.getOwnPropertyNames(t);Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t)));for(var r=0;r<n.length;r++){var i=n[r];if("constructor"!==i&&"prototype"!==i&&"name"!==i&&"length"!==i){let n=Object.getOwnPropertyDescriptor(t,i);window["ActiveXObject"]?Object.defineProperty(e,i,n||{}):Object.defineProperty(e,i,n)}}}};var Q=u.String={startsWith:function(e,t){return 0==e.indexOf(t)},contains:function(e,t){return-1!=e.indexOf(t)},trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},camelize:function(e){for(var t=e.split("-"),n=t[0],r=1,i=t.length;r<i;r++){var s=t[r];n+=s.charAt(0).toUpperCase()+s.substring(1)}return n},format:function(e,t,n){t||(t=window);var r=function(e,r){for(var i,s=r.split(/\.+/),o=0;o<s.length;o++)0==o&&(i=t),i=i[s[o]];return"function"===typeof i&&(i=n?i.apply(null,n):i()),"undefined"==typeof i?"undefined":i};return e.replace(u.String.tokenRegEx,r)},tokenRegEx:/\$\{([\w.]+?)\}/g,numberRegEx:/^([+-]?)(?=\d|\.\d)\d*(\.\d*)?([Ee]([+-]?\d+))?$/,isNumeric:function(e){return u.String.numberRegEx.test(e)},numericIf:function(e){return u.String.isNumeric(e)?parseFloat(e):e}},$=u.Number={decimalSeparator:".",thousandsSeparator:",",limitSigDigs:function(e,t){var n=0;return t>0&&(n=parseFloat(e.toPrecision(t))),n},format:function(e,t,n,r){t="undefined"!=typeof t?t:0,n="undefined"!=typeof n?n:u.Number.thousandsSeparator,r="undefined"!=typeof r?r:u.Number.decimalSeparator,null!=t&&(e=parseFloat(e.toFixed(t)));var i=e.toString().split(".");1===i.length&&null==t&&(t=0);var s,o=i[0];if(n){var a=/(-?[0-9]+)([0-9]{3})/;while(a.test(o))o=o.replace(a,"$1"+n+"$2")}if(0==t)s=o;else{var l=i.length>1?i[1]:"0";null!=t&&(l+=new Array(t-l.length+1).join("0")),s=o+r+l}return s}};Number.prototype.limitSigDigs||(Number.prototype.limitSigDigs=function(e){return $.limitSigDigs(this,e)});var ee=u.Function={bind:function(e,t){var n=Array.prototype.slice.apply(arguments,[2]);return function(){var r=n.concat(Array.prototype.slice.apply(arguments,[0]));return e.apply(t,r)}},bindAsEventListener:function(e,t){return function(n){return e.call(t,n||window.event)}},False:function(){return!1},True:function(){return!0},Void:function(){}},te=(u.Array={filter:function(e,t,n){var r=[];if(Array.prototype.filter)r=e.filter(t,n);else{var i=e.length;if("function"!=typeof t)throw new TypeError;for(var s=0;s<i;s++)if(s in e){var o=e[s];t.call(n,o,s,e)&&r.push(o)}}return r}},u.Util=u.Util||{});u.Util.extend=function(e,t){if(e=e||{},t){for(var n in t){var r=t[n];void 0!==r&&(e[n]=r)}var i="function"===typeof window.Event&&t instanceof window.Event;!i&&t.hasOwnProperty&&t.hasOwnProperty("toString")&&(e.toString=t.toString)}return e},u.Util.copy=function(e,t){var n;if(e=e||{},t)for(var r in e)n=t[r],"undefined"!==typeof n&&(e[r]=n)},u.Util.reset=function(e){for(var t in e=e||{},e)if(e.hasOwnProperty(t)){if("object"===typeof e[t]&&e[t]instanceof Array){for(var n in e[t])e[t][n].destroy&&e[t][n].destroy();e[t].length=0}else"object"===typeof e[t]&&e[t]instanceof Object&&e[t].destroy&&e[t].destroy();e[t]=null}},u.Util.getElement=function(){for(var e=[],t=0,n=arguments.length;t<n;t++){var r=arguments[t];if("string"===typeof r&&(r=document.getElementById(r)),1===arguments.length)return r;e.push(r)}return e},u.Util.isElement=function(e){return!(!e||1!==e.nodeType)},u.Util.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},u.Util.removeItem=function(e,t){for(var n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1);return e},u.Util.indexOf=function(e,t){if(null==e)return-1;if("function"===typeof e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},u.Util.modifyDOMElement=function(e,t,n,r,i,s,o,a){t&&(e.id=t),n&&(e.style.left=n.x+"px",e.style.top=n.y+"px"),r&&(e.style.width=r.w+"px",e.style.height=r.h+"px"),i&&(e.style.position=i),s&&(e.style.border=s),o&&(e.style.overflow=o),parseFloat(a)>=0&&parseFloat(a)<1?(e.style.filter="alpha(opacity="+100*a+")",e.style.opacity=a):1===parseFloat(a)&&(e.style.filter="",e.style.opacity="")},u.Util.applyDefaults=function(e,t){e=e||{};var n="function"===typeof window.Event&&t instanceof window.Event;for(var r in t)(void 0===e[r]||!n&&t.hasOwnProperty&&t.hasOwnProperty(r)&&!e.hasOwnProperty(r))&&(e[r]=t[r]);return!n&&t&&t.hasOwnProperty&&t.hasOwnProperty("toString")&&!e.hasOwnProperty("toString")&&(e.toString=t.toString),e},u.Util.getParameterString=function(e){var t=[];for(var n in e){var r,i=e[n];if(null!=i&&"function"!==typeof i)r=Array.isArray(i)||"[object Object]"===i.toString()?encodeURIComponent(JSON.stringify(i)):encodeURIComponent(i),t.push(encodeURIComponent(n)+"="+r)}return t.join("&")},u.Util.urlAppend=function(e,t){var n=e;if(t){0===t.indexOf("?")&&(t=t.substring(1));var r=(e+" ").split(/[?&]/);n+=" "===r.pop()?t:r.length?"&"+t:"?"+t}return n},u.Util.urlPathAppend=function(e,t){let n=e;if(!t)return n;0===t.indexOf("/")&&(t=t.substring(1));const r=e.split("?");return r[0].indexOf("/",r[0].length-1)<0&&(r[0]+="/"),n=`${r[0]}${t}${r.length>1?"?"+r[1]:""}`,n},u.Util.DEFAULT_PRECISION=14,u.Util.toFloat=function(e,t){return null==t&&(t=u.Util.DEFAULT_PRECISION),"number"!==typeof e&&(e=parseFloat(e)),0===t?e:parseFloat(e.toPrecision(t))},u.Util.rad=function(e){return e*Math.PI/180},u.Util.getParameters=function(e){e=null===e||void 0===e?window.location.href:e;var t="";if(u.String.contains(e,"?")){var n=e.indexOf("?")+1,r=u.String.contains(e,"#")?e.indexOf("#"):e.length;t=e.substring(n,r)}for(var i={},s=t.split(/[&;]/),o=0,a=s.length;o<a;++o){var l=s[o].split("=");if(l[0]){var c=l[0];try{c=decodeURIComponent(c)}catch(p){c=unescape(c)}var h=(l[1]||"").replace(/\+/g," ");try{h=decodeURIComponent(h)}catch(p){h=unescape(h)}h=h.split(","),1==h.length&&(h=h[0]),i[c]=h}}return i},u.Util.lastSeqID=0,u.Util.createUniqueID=function(e){return null==e&&(e="id_"),u.Util.lastSeqID+=1,e+u.Util.lastSeqID},u.INCHES_PER_UNIT={inches:1,ft:12,mi:63360,m:39.3701,km:39370.1,dd:4374754,yd:36},u.INCHES_PER_UNIT["in"]=u.INCHES_PER_UNIT.inches,u.INCHES_PER_UNIT["degrees"]=u.INCHES_PER_UNIT.dd,u.INCHES_PER_UNIT["nmi"]=1852*u.INCHES_PER_UNIT.m,u.METERS_PER_INCH=.0254000508001016,u.Util.extend(u.INCHES_PER_UNIT,{Inch:u.INCHES_PER_UNIT.inches,Meter:1/u.METERS_PER_INCH,Foot:.3048006096012192/u.METERS_PER_INCH,IFoot:.3048/u.METERS_PER_INCH,ClarkeFoot:.3047972651151/u.METERS_PER_INCH,SearsFoot:.30479947153867626/u.METERS_PER_INCH,GoldCoastFoot:.3047997101815088/u.METERS_PER_INCH,IInch:.0254/u.METERS_PER_INCH,MicroInch:254e-7/u.METERS_PER_INCH,Mil:2.54e-8/u.METERS_PER_INCH,Centimeter:.01/u.METERS_PER_INCH,Kilometer:1e3/u.METERS_PER_INCH,Yard:.9144018288036576/u.METERS_PER_INCH,SearsYard:.914398414616029/u.METERS_PER_INCH,IndianYard:.9143985307444408/u.METERS_PER_INCH,IndianYd37:.91439523/u.METERS_PER_INCH,IndianYd62:.9143988/u.METERS_PER_INCH,IndianYd75:.9143985/u.METERS_PER_INCH,IndianFoot:.30479951/u.METERS_PER_INCH,IndianFt37:.30479841/u.METERS_PER_INCH,IndianFt62:.3047996/u.METERS_PER_INCH,IndianFt75:.3047995/u.METERS_PER_INCH,Mile:1609.3472186944373/u.METERS_PER_INCH,IYard:.9144/u.METERS_PER_INCH,IMile:1609.344/u.METERS_PER_INCH,NautM:1852/u.METERS_PER_INCH,"Lat-66":110943.31648893273/u.METERS_PER_INCH,"Lat-83":110946.25736872235/u.METERS_PER_INCH,Decimeter:.1/u.METERS_PER_INCH,Millimeter:.001/u.METERS_PER_INCH,Dekameter:10/u.METERS_PER_INCH,Decameter:10/u.METERS_PER_INCH,Hectometer:100/u.METERS_PER_INCH,GermanMeter:1.0000135965/u.METERS_PER_INCH,CaGrid:.999738/u.METERS_PER_INCH,ClarkeChain:20.1166194976/u.METERS_PER_INCH,GunterChain:20.11684023368047/u.METERS_PER_INCH,BenoitChain:20.116782494375872/u.METERS_PER_INCH,SearsChain:20.11676512155/u.METERS_PER_INCH,ClarkeLink:.201166194976/u.METERS_PER_INCH,GunterLink:.2011684023368047/u.METERS_PER_INCH,BenoitLink:.20116782494375873/u.METERS_PER_INCH,SearsLink:.2011676512155/u.METERS_PER_INCH,Rod:5.02921005842012/u.METERS_PER_INCH,IntnlChain:20.1168/u.METERS_PER_INCH,IntnlLink:.201168/u.METERS_PER_INCH,Perch:5.02921005842012/u.METERS_PER_INCH,Pole:5.02921005842012/u.METERS_PER_INCH,Furlong:201.1684023368046/u.METERS_PER_INCH,Rood:3.778266898/u.METERS_PER_INCH,CapeFoot:.3047972615/u.METERS_PER_INCH,Brealey:375/u.METERS_PER_INCH,ModAmFt:.304812252984506/u.METERS_PER_INCH,Fathom:1.8288/u.METERS_PER_INCH,"NautM-UK":1853.184/u.METERS_PER_INCH,"50kilometers":5e4/u.METERS_PER_INCH,"150kilometers":15e4/u.METERS_PER_INCH}),u.Util.extend(u.INCHES_PER_UNIT,{mm:u.INCHES_PER_UNIT["Meter"]/1e3,cm:u.INCHES_PER_UNIT["Meter"]/100,dm:100*u.INCHES_PER_UNIT["Meter"],km:1e3*u.INCHES_PER_UNIT["Meter"],kmi:u.INCHES_PER_UNIT["nmi"],fath:u.INCHES_PER_UNIT["Fathom"],ch:u.INCHES_PER_UNIT["IntnlChain"],link:u.INCHES_PER_UNIT["IntnlLink"],"us-in":u.INCHES_PER_UNIT["inches"],"us-ft":u.INCHES_PER_UNIT["Foot"],"us-yd":u.INCHES_PER_UNIT["Yard"],"us-ch":u.INCHES_PER_UNIT["GunterChain"],"us-mi":u.INCHES_PER_UNIT["Mile"],"ind-yd":u.INCHES_PER_UNIT["IndianYd37"],"ind-ft":u.INCHES_PER_UNIT["IndianFt37"],"ind-ch":20.11669506/u.METERS_PER_INCH}),u.DOTS_PER_INCH=96,u.Util.normalizeScale=function(e){var t=e>1?1/e:e;return t},u.Util.getResolutionFromScale=function(e,t){var n;if(e){null==t&&(t="degrees");var r=u.Util.normalizeScale(e);n=1/(r*u.INCHES_PER_UNIT[t]*u.DOTS_PER_INCH)}return n},u.Util.getScaleFromResolution=function(e,t){null==t&&(t="degrees");var n=e*u.INCHES_PER_UNIT[t]*u.DOTS_PER_INCH;return n},u.IS_GECKO=function(){var e=navigator.userAgent.toLowerCase();return-1===e.indexOf("webkit")&&-1!==e.indexOf("gecko")}(),u.Browser=function(){var e,t="",n="",r="pc",i=navigator.userAgent.toLowerCase();return i.indexOf("msie")>-1||i.indexOf("trident")>-1&&i.indexOf("rv")>-1?(t="msie",e=i.match(/msie ([\d.]+)/)||i.match(/rv:([\d.]+)/)):i.indexOf("chrome")>-1?(t="chrome",e=i.match(/chrome\/([\d.]+)/)):i.indexOf("firefox")>-1?(t="firefox",e=i.match(/firefox\/([\d.]+)/)):i.indexOf("opera")>-1?(t="opera",e=i.match(/version\/([\d.]+)/)):i.indexOf("safari")>-1&&(t="safari",e=i.match(/version\/([\d.]+)/)),n=e?e[1]:"",i.indexOf("ipad")>-1||i.indexOf("ipod")>-1||i.indexOf("iphone")>-1?r="apple":i.indexOf("android")>-1&&(e=i.match(/version\/([\d.]+)/),n=e?e[1]:"",r="android"),{name:t,version:n,device:r}}(),u.Util.getBrowser=function(){return u.Browser},u.Util.isSupportCanvas=function(){var e=!0,t=u.Util.getBrowser();return document.createElement("canvas").getContext?("firefox"===t.name&&parseFloat(t.version)<5&&(e=!1),"safari"===t.name&&parseFloat(t.version)<4&&(e=!1),"opera"===t.name&&parseFloat(t.version)<10&&(e=!1),"msie"===t.name&&parseFloat(t.version)<9&&(e=!1)):e=!1,e}(),u.Util.supportCanvas=function(){return u.Util.isSupportCanvas},u.INCHES_PER_UNIT["degree"]=u.INCHES_PER_UNIT.dd,u.INCHES_PER_UNIT["meter"]=u.INCHES_PER_UNIT.m,u.INCHES_PER_UNIT["foot"]=u.INCHES_PER_UNIT.ft,u.INCHES_PER_UNIT["inch"]=u.INCHES_PER_UNIT.inches,u.INCHES_PER_UNIT["mile"]=u.INCHES_PER_UNIT.mi,u.INCHES_PER_UNIT["kilometer"]=u.INCHES_PER_UNIT.km,u.INCHES_PER_UNIT["yard"]=u.INCHES_PER_UNIT.yd,u.Util.isInTheSameDomain=function(e){if(!e)return!0;var t=e.indexOf("//"),n=document.location.toString(),r=n.indexOf("//");if(-1===t)return!0;var i,s=i=e.substring(0,t),o=n.substring(r+2);r=o.indexOf("/");var a=o.indexOf(":"),l=o.substring(0,r),u=document.location.protocol;if(-1!==a||(l+=":"+("http:"===u.toLowerCase()?80:443)),u.toLowerCase()!==s.toLowerCase())return!1;s=e.substring(t+2);var c=s.indexOf(":");t=s.indexOf("/");var h,p=s.substring(0,t);-1!==c?h=s.substring(0,c):(h=s.substring(0,t),p+=":"+("http:"===i.toLowerCase()?80:443));var d=document.domain;return h===d&&p===l},u.Util.calculateDpi=function(e,t,n,r,i){if(e&&t&&n){var s,o=1e4,a=e.getWidth(),l=e.getHeight(),u=t.w,c=t.h;if(i=i||6378137,r=r||"degrees","degree"===r.toLowerCase()||"degrees"===r.toLowerCase()||"dd"===r.toLowerCase()){let e=a/u,t=l/c,r=e>t?e:t;s=.0254*o/r/n/(2*Math.PI*i/360)/o}else{let e=a/u;s=.0254*o/e/n/o}return s}},u.Util.toJSON=function(e){var t=e;if(null==t)return null;switch(t.constructor){case String:return t='"'+t.replace(/(["\\])/g,"\\$1")+'"',t=t.replace(/\n/g,"\\n"),t=t.replace(/\r/g,"\\r"),t=t.replace("<","&lt;"),t=t.replace(">","&gt;"),t=t.replace(/%/g,"%25"),t=t.replace(/&/g,"%26"),t;case Array:for(var n=[],r=0,i=t.length;r<i;r++)n.push(u.Util.toJSON(t[r]));return"["+n.join(",")+"]";case Number:return isFinite(t)?String(t):null;case Boolean:return String(t);case Date:var s="{'__type':\"System.DateTime\",'Year':"+t.getFullYear()+",'Month':"+(t.getMonth()+1)+",'Day':"+t.getDate()+",'Hour':"+t.getHours()+",'Minute':"+t.getMinutes()+",'Second':"+t.getSeconds()+",'Millisecond':"+t.getMilliseconds()+",'TimezoneOffset':"+t.getTimezoneOffset()+"}";return s;default:if(null!=t["toJSON"]&&"function"===typeof t["toJSON"])return t.toJSON();if("object"===typeof t){if(t.length){let e=[];for(let n=0,r=t.length;n<r;n++)e.push(u.Util.toJSON(t[n]));return"["+e.join(",")+"]"}let e=[];for(let n in t)"function"!==typeof t[n]&&"CLASS_NAME"!==n&&"parent"!==n&&e.push("'"+n+"':"+u.Util.toJSON(t[n]));return e.length>0?"{"+e.join(",")+"}":"{}"}return t.toString()}},u.Util.getResolutionFromScaleDpi=function(e,t,n,r){var i=null,s=1e4;return r=r||6378137,n=n||"",e>0&&t>0?(e=u.Util.normalizeScale(e),"degree"===n.toLowerCase()||"degrees"===n.toLowerCase()||"dd"===n.toLowerCase()?(i=.0254*s/t/e/(2*Math.PI*r/360)/s,i):(i=.0254*s/t/e/s,i)):-1},u.Util.getScaleFromResolutionDpi=function(e,t,n,r){var i=null,s=1e4;return r=r||6378137,n=n||"",e>0&&t>0?"degree"===n.toLowerCase()||"degrees"===n.toLowerCase()||"dd"===n.toLowerCase()?(i=.0254*s/t/e/(2*Math.PI*r/360)/s,i):(i=.0254*s/t/e/s,i):-1},u.Util.transformResult=function(e){return e.responseText&&"string"===typeof e.responseText&&(e=JSON.parse(e.responseText)),e},u.Util.copyAttributes=function(e,t){if(e=e||{},t)for(var n in t){var r=t[n];void 0!==r&&"CLASS_NAME"!==n&&"function"!==typeof r&&(e[n]=r)}return e},u.Util.copyAttributesWithClip=function(e,t,n){if(e=e||{},t)for(var r in t){var i=!1;if(n&&n.length)for(var s=0,o=n.length;s<o;s++)if(r===n[s]){i=!0;break}if(!0!==i){var a=t[r];void 0!==a&&"CLASS_NAME"!==r&&"function"!==typeof a&&(e[r]=a)}}return e},u.Util.cloneObject=function(e){if(null===e||"object"!==typeof e)return e;if(e instanceof Date){let t=new Date;return t.setTime(e.getTime()),t}if(e instanceof Array){let t=e.slice(0);return t}if(e instanceof Object){let n={};for(var t in e)e.hasOwnProperty(t)&&(n[t]=u.Util.cloneObject(e[t]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")},u.Util.lineIntersection=function(e,t,n,r){var i,s,o=null,a=(r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x),l=(t.x-e.x)*(e.y-n.y)-(t.y-e.y)*(e.x-n.x),c=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y);if(0!=c)i=a/c,s=l/c,o=i>=0&&s<=1&&i<=1&&s>=0?new u.Geometry.Point(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y)):"No Intersection";else if(0==a&&0==l){var h=Math.max(e.y,t.y),p=Math.min(e.y,t.y),d=Math.max(e.x,t.x),f=Math.min(e.x,t.x);o=(n.y>=p&&n.y<=h||r.y>=p&&r.y<=h)&&n.x>=f&&n.x<=d||r.x>=f&&r.x<=d?"Coincident":"Parallel"}else o="Parallel";return o},u.Util.getTextBounds=function(e,t,n){document.body.appendChild(n),n.style.width="auto",n.style.height="auto",e.fontSize&&(n.style.fontSize=e.fontSize),e.fontFamily&&(n.style.fontFamily=e.fontFamily),e.fontWeight&&(n.style.fontWeight=e.fontWeight),n.style.position="relative",n.style.visibility="hidden",n.style.display="inline-block",n.innerHTML=t;var r=n.clientWidth,i=n.clientHeight;return document.body.removeChild(n),{textWidth:r,textHeight:i}};class ne{constructor(e,t){te.isArray(e)&&(t=e[1],e=e[0]),this.lon=e?te.toFloat(e):0,this.lat=t?te.toFloat(t):0,this.CLASS_NAME="SuperMap.LonLat"}toString(){return"lon="+this.lon+",lat="+this.lat}toShortString(){return this.lon+","+this.lat}clone(){return new ne(this.lon,this.lat)}add(e,t){if(null==e||null==t)throw new TypeError("LonLat.add cannot receive null values");return new ne(this.lon+te.toFloat(e),this.lat+te.toFloat(t))}equals(e){var t=!1;return null!=e&&(t=this.lon===e.lon&&this.lat===e.lat||isNaN(this.lon)&&isNaN(this.lat)&&isNaN(e.lon)&&isNaN(e.lat)),t}wrapDateLine(e){var t=this.clone();if(e){while(t.lon<e.left)t.lon+=e.getWidth();while(t.lon>e.right)t.lon-=e.getWidth()}return t}destroy(){this.lon=null,this.lat=null}static fromString(e){var t=e.split(",");return new ne(t[0],t[1])}static fromArray(e){var t=te.isArray(e),n=t&&e[0],r=t&&e[1];return new ne(n,r)}}class re{constructor(e,t,n,r){te.isArray(e)&&(r=e[3],n=e[2],t=e[1],e=e[0]),this.left=null!=e?te.toFloat(e):this.left,this.bottom=null!=t?te.toFloat(t):this.bottom,this.right=null!=n?te.toFloat(n):this.right,this.top=null!=r?te.toFloat(r):this.top,this.centerLonLat=null,this.CLASS_NAME="SuperMap.Bounds"}clone(){return new re(this.left,this.bottom,this.right,this.top)}equals(e){var t=!1;return null!=e&&(t=this.left===e.left&&this.right===e.right&&this.top===e.top&&this.bottom===e.bottom),t}toString(){return[this.left,this.bottom,this.right,this.top].join(",")}toArray(e){return!0===e?[this.bottom,this.left,this.top,this.right]:[this.left,this.bottom,this.right,this.top]}toBBOX(e,t){null==e&&(e=6);var n=Math.pow(10,e),r=Math.round(this.left*n)/n,i=Math.round(this.bottom*n)/n,s=Math.round(this.right*n)/n,o=Math.round(this.top*n)/n;return!0===t?i+","+r+","+o+","+s:r+","+i+","+s+","+o}getWidth(){return this.right-this.left}getHeight(){return this.top-this.bottom}getSize(){return new Y(this.getWidth(),this.getHeight())}getCenterPixel(){return new K((this.left+this.right)/2,(this.bottom+this.top)/2)}getCenterLonLat(){return this.centerLonLat||(this.centerLonLat=new ne((this.left+this.right)/2,(this.bottom+this.top)/2)),this.centerLonLat}scale(e,t){var n,r;e=e||1,null==t&&(t=this.getCenterLonLat()),"SuperMap.LonLat"===t.CLASS_NAME?(n=t.lon,r=t.lat):(n=t.x,r=t.y);var i=(this.left-n)*e+n,s=(this.bottom-r)*e+r,o=(this.right-n)*e+n,a=(this.top-r)*e+r;return new re(i,s,o,a)}add(e,t){if(null==e||null==t)throw new TypeError("Bounds.add cannot receive null values");return new re(this.left+e,this.bottom+t,this.right+e,this.top+t)}extend(e){var t=null;if(e){switch(e.CLASS_NAME){case"SuperMap.LonLat":t=new re(e.lon,e.lat,e.lon,e.lat);break;case"SuperMap.Geometry.Point":t=new re(e.x,e.y,e.x,e.y);break;case"SuperMap.Bounds":t=e;break}t&&(this.centerLonLat=null,(null==this.left||t.left<this.left)&&(this.left=t.left),(null==this.bottom||t.bottom<this.bottom)&&(this.bottom=t.bottom),(null==this.right||t.right>this.right)&&(this.right=t.right),(null==this.top||t.top>this.top)&&(this.top=t.top))}}containsLonLat(e,t){"boolean"===typeof t&&(t={inclusive:t}),t=t||{};var n=this.contains(e.lon,e.lat,t.inclusive),r=t.worldBounds;if(r&&!n){var i=r.getWidth(),s=(r.left+r.right)/2,o=Math.round((e.lon-s)/i);n=this.containsLonLat({lon:e.lon-o*i,lat:e.lat},{inclusive:t.inclusive})}return n}containsPixel(e,t){return this.contains(e.x,e.y,t)}contains(e,t,n){if(null==n&&(n=!0),null==e||null==t)return!1;var r=!1;return r=n?e>=this.left&&e<=this.right&&t>=this.bottom&&t<=this.top:e>this.left&&e<this.right&&t>this.bottom&&t<this.top,r}intersectsBounds(e,t){if("boolean"===typeof t&&(t={inclusive:t}),t=t||{},t.worldBounds){var n=this.wrapDateLine(t.worldBounds);e=e.wrapDateLine(t.worldBounds)}else n=this;null==t.inclusive&&(t.inclusive=!0);var r=!1,i=n.left===e.right||n.right===e.left||n.top===e.bottom||n.bottom===e.top;if(t.inclusive||!i){var s=e.bottom>=n.bottom&&e.bottom<=n.top||n.bottom>=e.bottom&&n.bottom<=e.top,o=e.top>=n.bottom&&e.top<=n.top||n.top>e.bottom&&n.top<e.top,a=e.left>=n.left&&e.left<=n.right||n.left>=e.left&&n.left<=e.right,l=e.right>=n.left&&e.right<=n.right||n.right>=e.left&&n.right<=e.right;r=(s||o)&&(a||l)}if(t.worldBounds&&!r){var u=t.worldBounds,c=u.getWidth(),h=!u.containsBounds(n),p=!u.containsBounds(e);h&&!p?(e=e.add(-c,0),r=n.intersectsBounds(e,{inclusive:t.inclusive})):p&&!h&&(n=n.add(-c,0),r=e.intersectsBounds(n,{inclusive:t.inclusive}))}return r}containsBounds(e,t,n){null==t&&(t=!1),null==n&&(n=!0);var r=this.contains(e.left,e.bottom,n),i=this.contains(e.right,e.bottom,n),s=this.contains(e.left,e.top,n),o=this.contains(e.right,e.top,n);return t?r||i||s||o:r&&i&&s&&o}determineQuadrant(e){var t="",n=this.getCenterLonLat();return t+=e.lat<n.lat?"b":"t",t+=e.lon<n.lon?"l":"r",t}wrapDateLine(e,t){t=t||{};var n=t.leftTolerance||0,r=t.rightTolerance||0,i=this.clone();if(e){var s=e.getWidth();while(i.left<e.left&&i.right-r<=e.left)i=i.add(s,0);while(i.left+n>=e.right&&i.right>e.right)i=i.add(-s,0);var o=i.left+n;o<e.right&&o>e.left&&i.right-r>e.right&&(i=i.add(-s,0))}return i}toServerJSONObject(){var e={rightTop:{x:this.right,y:this.top},leftBottom:{x:this.left,y:this.bottom},left:this.left,right:this.right,top:this.top,bottom:this.bottom};return e}destroy(){this.left=null,this.right=null,this.top=null,this.bottom=null,this.centerLonLat=null}static fromString(e,t){var n=e.split(",");return re.fromArray(n,t)}static fromArray(e,t){return!0===t?new re(e[1],e[0],e[3],e[2]):new re(e[0],e[1],e[2],e[3])}static fromSize(e){return new re(0,e.h,e.w,0)}static oppositeQuadrant(e){var t="";return t+="t"===e.charAt(0)?"b":"t",t+="l"===e.charAt(1)?"r":"l",t}}u.Bounds=re;class ie{constructor(){this.CLASS_NAME="SuperMap.Geometry",this.id=te.createUniqueID(this.CLASS_NAME+"_"),this.parent=null,this.bounds=null,this.SRID=null}destroy(){this.id=null,this.bounds=null,this.SRID=null}clone(){return new ie}setBounds(e){e&&(this.bounds=e.clone())}clearBounds(){this.bounds=null,this.parent&&this.parent.clearBounds()}extendBounds(e){var t=this.getBounds();t?this.bounds.extend(e):this.setBounds(e)}getBounds(){return null==this.bounds&&this.calculateBounds(),this.bounds}calculateBounds(){}getVertices(e){}getArea(){return 0}}u.Geometry=ie;class se extends ie{constructor(e){super(),this.components=[],this.componentTypes=null,null!=e&&this.addComponents(e),this.CLASS_NAME="SuperMap.Geometry.Collection",this.geometryType="Collection"}destroy(){this.components.length=0,this.components=null,super.destroy()}clone(){for(var e=new se,t=0,n=this.components.length;t<n;t++)e.addComponent(this.components[t].clone());return te.applyDefaults(e,this),e}getComponentsString(){for(var e=[],t=0,n=this.components.length;t<n;t++)e.push(this.components[t].toShortString());return e.join(",")}calculateBounds(){this.bounds=null;var e=new re,t=this.components;if(t)for(var n=0,r=t.length;n<r;n++)e.extend(t[n].getBounds());null!=e.left&&null!=e.bottom&&null!=e.right&&null!=e.top&&this.setBounds(e)}addComponents(e){te.isArray(e)||(e=[e]);for(var t=0,n=e.length;t<n;t++)this.addComponent(e[t])}addComponent(e,t){var n=!1;if(e&&(null==this.componentTypes||te.indexOf(this.componentTypes,e.CLASS_NAME)>-1)){if(null!=t&&t<this.components.length){var r=this.components.slice(0,t),i=this.components.slice(t,this.components.length);r.push(e),this.components=r.concat(i)}else this.components.push(e);e.parent=this,this.clearBounds(),n=!0}return n}removeComponents(e){var t=!1;te.isArray(e)||(e=[e]);for(var n=e.length-1;n>=0;--n)t=this.removeComponent(e[n])||t;return t}removeComponent(e){return te.removeItem(this.components,e),this.clearBounds(),!0}getArea(){for(var e=0,t=0,n=this.components.length;t<n;t++)e+=this.components[t].getArea();return e}equals(e){var t=!0;if(e&&e.CLASS_NAME&&this.CLASS_NAME===e.CLASS_NAME)if(te.isArray(e.components)&&e.components.length===this.components.length){for(var n=0,r=this.components.length;n<r;++n)if(!this.components[n].equals(e.components[n])){t=!1;break}}else t=!1;else t=!1;return t}getVertices(e){for(var t=[],n=0,r=this.components.length;n<r;++n)Array.prototype.push.apply(t,this.components[n].getVertices(e));return t}}u.Geometry.Collection=se;class oe extends se{constructor(e){super(e),this.componentTypes=["SuperMap.Geometry.Point"],this.CLASS_NAME="SuperMap.Geometry.MultiPoint",this.geometryType="MultiPoint"}addPoint(e,t){this.addComponent(e,t)}removePoint(e){this.removeComponent(e)}}u.Geometry.MultiPoint=oe;class ae extends oe{constructor(e){super(e),this.componentTypes=["SuperMap.Geometry.Point","SuperMap.PointWithMeasure"],this.CLASS_NAME="SuperMap.Geometry.Curve",this.geometryType="Curve"}}u.Geometry.Curve=ae;class le extends ie{constructor(e,t,n,r){super(e,t,n,r),this.x=parseFloat(e),this.y=parseFloat(t),this.tag=r||0==r?parseFloat(r):null,this.type=n||"Point",this.CLASS_NAME="SuperMap.Geometry.Point",this.geometryType="Point"}clone(e){return null==e&&(e=new le(this.x,this.y)),te.applyDefaults(e,this),e}calculateBounds(){this.bounds=new re(this.x,this.y,this.x,this.y)}equals(e){var t=!1;return null!=e&&(t=this.x===e.x&&this.y===e.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(e.x)&&isNaN(e.y)),t}move(e,t){this.x=this.x+e,this.y=this.y+t,this.clearBounds()}toShortString(){return this.x+", "+this.y}destroy(){this.x=null,this.y=null,this.tag=null,super.destroy()}getVertices(e){return[this]}}u.Geometry.Point=le;class ue extends ae{constructor(e){super(e),this.CLASS_NAME="SuperMap.Geometry.LineString",this.geometryType="LineString"}removeComponent(e){var t=this.components&&this.components.length>2;return t&&super.removeComponent.apply(this,arguments),t}getSortedSegments(){for(var e,t,n=this.components.length-1,r=new Array(n),i=0;i<n;++i)e=this.components[i],t=this.components[i+1],e.x<t.x?r[i]={x1:e.x,y1:e.y,x2:t.x,y2:t.y}:r[i]={x1:t.x,y1:t.y,x2:e.x,y2:e.y};function s(e,t){return e.x1-t.x1}return r.sort(s)}getVertices(e){var t;return t=!0===e?[this.components[0],this.components[this.components.length-1]]:!1===e?this.components.slice(1,this.components.length-1):this.components.slice(),t}static calculateCircle(e){if(e.length<3)return e;var t={},n=e[0],r=e[1],i=e[2],s=0,o=0,a=!0,l=0,u=0,c=0,h=72,p=[],d=(i.y-n.y)/(i.x-n.x),f=i.y-d*i.x;if(i.x!=n.x&&i.y!=n.y&&r.y==d*r.x+f||i.x==n.x&&r.x==n.x||i.y==n.y&&r.y==n.y||i.x==n.x&&i.y==n.y||i.x==r.x&&i.y==r.y||n.x==r.x&&n.y==r.y)p.push(n),p.push(r),p.push(i);else{var m=(r.x*r.x+r.y*r.y-(n.x*n.x+n.y*n.y))*(2*(i.y-n.y))-(i.x*i.x+i.y*i.y-(n.x*n.x+n.y*n.y))*(2*(r.y-n.y)),y=2*(r.x-n.x)*(i.x*i.x+i.y*i.y-(n.x*n.x+n.y*n.y))-2*(i.x-n.x)*(r.x*r.x+r.y*r.y-(n.x*n.x+n.y*n.y)),g=4*((r.x-n.x)*(i.y-n.y)-(i.x-n.x)*(r.y-n.y));t.x=m/g,t.y=y/g,s=Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y));var _=(n.x-i.x)*(n.x-i.x)+(n.y-i.y)*(n.y-i.y),v=(2*s*s-_)/(2*s*s);v=v>=1?1:v,v=v<=-1?-1:v,c=180*Math.acos(v)/Math.PI,c=i.x==n.x?t.x>n.x&&r.x>n.x||t.x<n.x&&r.x<n.x?360-c:c:t.y>d*t.x+f&&r.y>d*r.x+f||t.y<d*t.x+f&&r.y<d*r.x+f?360-c:c,o=c/72,i.y!=n.y?i.x==n.x?i.y>n.y?r.x<n.x&&(a=!1):r.x>n.x&&(a=!1):i.x<n.x?r.y<d*r.x+f&&(a=!1):r.y>d*r.x+f&&(a=!1):i.x>n.x?r.y>n.y&&(a=!1):r.y<n.y&&(a=!1);var b=(n.y-t.y)/(n.x-t.x),x=b>=0?180*Math.atan(b)/Math.PI:Math.abs(180*Math.atan(b)/Math.PI)+90,w=Math.abs(t.y);n.y==w&&w==i.y&&n.x<i.x&&(x+=180);var S=n.y-t.y;p.push(n);for(var C=1;C<h;C++){l=o*C,u=x,a?S>=0?b>=0?u+=l:u=180-(u-90)+l:u=b>0?u-180+l:90-u+l:S>=0?b>=0?u-=l:u=180-(u-90)-l:u=b>=0?u-180-l:90-u-l,u=u*Math.PI/180;var E=t.x+s*Math.cos(u),T=t.y+s*Math.sin(u);p.push(new le(E,T))}p.push(i)}return p}static createLineEPS(e){var t=[],n=e.length;if(n<2)return e;for(var r=0;r<n;){var i=e[r].type;if("LTypeArc"==i){var s=ue.createLineArc(t,r,n,e);t=s[0],r=s[1]}else t.push(e[r]),r++}return t}static createLineArc(e,t,n,r){if(0==t){let i=ue.addPointEPS(r,t,n,"LTypeArc");Array.prototype.push.apply(e,i[0]),t=i[1]+1}else if(t==n-1){var i=[r[t-1],r[t]],s=ue.calculateCircle(i);Array.prototype.push.apply(e,s),t++}else{let i=ue.addPointEPS(r,t,n,"LTypeArc");e.pop(),Array.prototype.push.apply(e,i[0]),t=i[1]+1}return[e,t]}static addPointEPS(e,t,n,r){var i,s=[],o=t+1;return 0==t?Array.prototype.push.apply(s,[e[t],e[t+1]]):t==n-1?Array.prototype.push.apply(s,[e[t-1],e[t]]):Array.prototype.push.apply(s,[e[t-1],e[t],e[t+1]]),"LTypeCurve"==r?i=ue.calculatePointsFBZN(s):"LTypeArc"==r&&(i=ue.calculateCircle(s)),[i,o]}}u.Geometry.LineString=ue;class ce extends ie{constructor(e,t,n){super(e,t,n),this.x=parseFloat(e),this.y=parseFloat(t),this.text=n.toString(),this.bsInfo={h:null,w:null},this.element=document.createElement("span"),this.CLASS_NAME="SuperMap.Geometry.GeoText",this.geometryType="GeoText"}destroy(){super.destroy(),this.x=null,this.y=null,this.text=null}getCentroid(){return new le(this.x,this.y)}clone(e){return null==e&&(e=new ce(this.x,this.y,this.text)),te.applyDefaults(e,this),e}calculateBounds(){this.bounds=new re(this.x,this.y,this.x,this.y)}getLabelPxBoundsByLabel(e,t,n,r){var i,s,o,a,l,u=te.cloneObject(e),c=r.label||this.text,h=c.split("\n"),p=h.length;if(t=parseFloat(t),n=parseFloat(n),p>1&&(n=parseFloat(n)*p),r.labelAlign&&"cm"!==r.labelAlign)switch(r.labelAlign){case"lt":u.x+=t/2,u.y+=n/2;break;case"lm":u.x+=t/2;break;case"lb":u.x+=t/2,u.y-=n/2;break;case"ct":u.y+=n/2;break;case"cb":u.y-=n/2;break;case"rt":u.x-=t/2,u.y+=n/2;break;case"rm":u.x-=t/2;break;case"rb":u.x-=t/2,u.y-=n/2;break;default:break}return this.bsInfo.h=n,this.bsInfo.w=t,s=u.x-parseFloat(t)/2,o=u.y+parseFloat(n)/2,l=u.x+parseFloat(t)/2,a=u.y-parseFloat(n)/2,i=new re(s,o,l,a),i}getLabelPxBoundsByText(e,t){var n,r,i,s,o,a=this.getLabelPxSize(t),l=te.cloneObject(e);if(t.labelAlign&&"cm"!==t.labelAlign)switch(t.labelAlign){case"lt":l.x+=a.w/2,l.y+=a.h/2;break;case"lm":l.x+=a.w/2;break;case"lb":l.x+=a.w/2,l.y-=a.h/2;break;case"ct":l.y+=a.h/2;break;case"cb":l.y-=a.h/2;break;case"rt":l.x-=a.w/2,l.y+=a.h/2;break;case"rm":l.x-=a.w/2;break;case"rb":l.x-=a.w/2,l.y-=a.h/2;break;default:break}return this.bsInfo.h=a.h,this.bsInfo.w=a.w,r=l.x-a.w/2,i=l.y+a.h/2,o=t.fontStyle&&"italic"===t.fontStyle?l.x+a.w/2+parseInt(parseFloat(t.fontSize)/2):l.x+a.w/2,s=l.y-a.h/2,n=new re(r,i,o,s),n}getLabelPxSize(e){var t,n,r,i,s=1,o=.2,a=parseFloat(e.strokeWidth);t=e.label||this.text,n=e.fontSize?parseFloat(e.fontSize):parseFloat("12px");var l=t.split("\n"),u=l.length;i=u>1?n*u+u+a+o*n:n+a+o*n+1,r=0,this.labelWTmp&&r<this.labelWTmp&&(r=this.labelWTmp);for(var c=0;c<u;c++){var h=this.getTextCount(l[c]),p=this.labelWTmp=te.getTextBounds(e,l[c],this.element).textWidth+h.textC*s+a;r<p&&(r=p)}var d=new Object;return d.h=i,d.w=r,d}getTextCount(e){for(var t={},n=0,r=0,i=0;i<e.length;i++)e.charCodeAt(i)>255?n++:r++;return t.cnC=n,t.enC=r,t.textC=e.length,t}}u.Geometry.GeoText=ce;class he extends ue{constructor(e){super(e),this.componentTypes=["SuperMap.Geometry.Point"],this.CLASS_NAME="SuperMap.Geometry.LinearRing",this.geometryType="LinearRing"}addComponent(e,t){var n=!1,r=this.components.pop();null==t&&e.equals(r)||(n=super.addComponent.apply(this,arguments));var i=this.components[0];return super.addComponent.apply(this,[i]),n}removeComponent(e){var t=this.components&&this.components.length>3;if(t){this.components.pop(),super.removeComponent.apply(this,arguments);var n=this.components[0];super.addComponent.apply(this,[n])}return t}getArea(){var e=0;if(this.components&&this.components.length>2){for(var t=0,n=0,r=this.components.length;n<r-1;n++){var i=this.components[n],s=this.components[n+1];t+=(i.x+s.x)*(s.y-i.y)}e=-t/2}return e}getVertices(e){return!0===e?[]:this.components.slice(0,this.components.length-1)}}u.Geometry.LinearRing=he;class pe extends se{constructor(e){super(e),this.componentTypes=["SuperMap.Geometry.LineString"],this.CLASS_NAME="SuperMap.Geometry.MultiLineString",this.geometryType="MultiLineString"}}u.Geometry.MultiLineString=pe;class de extends se{constructor(e){super(e),this.componentTypes=["SuperMap.Geometry.Polygon"],this.CLASS_NAME="SuperMap.Geometry.MultiPolygon",this.geometryType="MultiPolygon"}}u.Geometry.MultiPolygon=de;class fe extends se{constructor(e){super(e),this.componentTypes=["SuperMap.Geometry.LinearRing"],this.CLASS_NAME="SuperMap.Geometry.Polygon",this.geometryType="Polygon"}getArea(){var e=0;if(this.components&&this.components.length>0){e+=Math.abs(this.components[0].getArea());for(var t=1,n=this.components.length;t<n;t++)e-=Math.abs(this.components[t].getArea())}return e}}u.Geometry.Polygon=fe;class me extends ie{constructor(e,t,n,r){super(e,t,n,r),this.x=e,this.y=t,this.width=n,this.height=r,this.CLASS_NAME="SuperMap.Geometry.Rectangle",this.geometryType="Rectangle"}calculateBounds(){this.bounds=new re(this.x,this.y,this.x+this.width,this.y+this.height)}getArea(){var e=this.width*this.height;return e}}u.Geometry.Rectangle=me;class ye{constructor(e,t){this.value=e||"",this.name=t||"token",this.CLASS_NAME="SuperMap.Credential"}getUrlParameters(){return this.name+"="+this.value}getValue(){return this.value}destroy(){this.value=null,this.name=null}}ye.CREDENTIAL=null,u.Credential=ye;u.Date={toISOString:function(){if("toISOString"in Date.prototype)return function(e){return e.toISOString()};{function e(e,t){var n=e+"";while(n.length<t)n="0"+n;return n}return function(t){var n;return n=isNaN(t.getTime())?"Invalid Date":t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1,2)+"-"+e(t.getUTCDate(),2)+"T"+e(t.getUTCHours(),2)+":"+e(t.getUTCMinutes(),2)+":"+e(t.getUTCSeconds(),2)+"."+e(t.getUTCMilliseconds(),3)+"Z",n}}}(),parse:function(e){var t,n=e.match(/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:(?:T(\d{1,2}):(\d{2}):(\d{2}(?:\.\d+)?)(Z|(?:[+-]\d{1,2}(?::(\d{2}))?)))|Z)?$/);if(n&&(n[1]||n[7])){var r=parseInt(n[1],10)||0,i=parseInt(n[2],10)-1||0,s=parseInt(n[3],10)||1;t=new Date(Date.UTC(r,i,s));var o=n[7];if(o){var a=parseInt(n[4],10),l=parseInt(n[5],10),u=parseFloat(n[6]),c=0|u,h=Math.round(1e3*(u-c));if(t.setUTCHours(a,l,c,h),"Z"!==o){var p=parseInt(o,10),d=parseInt(n[8],10)||0,f=-1e3*(60*p*60+60*d);t=new Date(t.getTime()+f)}}}else t=new Date("invalid");return t}};var ge=u.Event={observers:!1,KEY_SPACE:32,KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,element:function(e){return e.target||e.srcElement},isSingleTouch:function(e){return e.touches&&1===e.touches.length},isMultiTouch:function(e){return e.touches&&e.touches.length>1},isLeftClick:function(e){return e.which&&1===e.which||e.button&&1===e.button},isRightClick:function(e){return e.which&&3===e.which||e.button&&2===e.button},stop:function(e,t){t||(e.preventDefault?e.preventDefault():e.returnValue=!1),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},findElement:function(e,t){var n=u.Event.element(e);while(n.parentNode&&(!n.tagName||n.tagName.toUpperCase()!=t.toUpperCase()))n=n.parentNode;return n},observe:function(e,t,n,r){var i=te.getElement(e);if(r=r||!1,"keypress"===t&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||i.attachEvent)&&(t="keydown"),this.observers||(this.observers={}),!i._eventCacheID){var s="eventCacheID_";i.id&&(s=i.id+"_"+s),i._eventCacheID=te.createUniqueID(s)}var o=i._eventCacheID;this.observers[o]||(this.observers[o]=[]),this.observers[o].push({element:i,name:t,observer:n,useCapture:r}),i.addEventListener?"mousewheel"===t?i.addEventListener(t,n,{useCapture:r,passive:!1}):i.addEventListener(t,n,r):i.attachEvent&&i.attachEvent("on"+t,n)},stopObservingElement:function(e){var t=te.getElement(e),n=t._eventCacheID;this._removeElementObservers(u.Event.observers[n])},_removeElementObservers:function(e){if(e)for(var t=e.length-1;t>=0;t--){var n=e[t],r=new Array(n.element,n.name,n.observer,n.useCapture);u.Event.stopObserving.apply(this,r)}},stopObserving:function(e,t,n,r){r=r||!1;var i=te.getElement(e),s=i._eventCacheID;"keypress"===t&&(navigator.appVersion.match(/Konqueror|Safari|KHTML/)||i.detachEvent)&&(t="keydown");var o=!1,a=u.Event.observers[s];if(a){var l=0;while(!o&&l<a.length){var c=a[l];if(c.name===t&&c.observer===n&&c.useCapture===r){a.splice(l,1),0==a.length&&delete u.Event.observers[s],o=!0;break}l++}}return o&&(i.removeEventListener?i.removeEventListener(t,n,r):i&&i.detachEvent&&i.detachEvent("on"+t,n)),o},unloadCache:function(){if(u.Event&&u.Event.observers){for(var e in u.Event.observers){var t=u.Event.observers[e];u.Event._removeElementObservers.apply(this,[t])}u.Event.observers=!1}},CLASS_NAME:"SuperMap.Event"};u.Event=ge,u.Event.observe(window,"unload",u.Event.unloadCache,!1);class _e{constructor(e,t,n,r,i){if(this.BROWSER_EVENTS=["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown","MSPointerDown","MSPointerUp","pointerdown","pointerup","MSGestureStart","MSGestureChange","MSGestureEnd","contextmenu"],this.listeners={},this.object=e,this.element=null,this.eventTypes=[],this.eventHandler=null,this.fallThrough=r,this.includeXY=!1,this.extensions={},this.extensionCount={},this.clearMouseListener=null,te.extend(this,i),null!=n)for(var s=0,o=n.length;s<o;s++)this.addEventType(n[s]);null!=t&&this.attachToElement(t),this.CLASS_NAME="SuperMap.Events"}destroy(){for(var e in this.extensions)"boolean"!==typeof this.extensions[e]&&this.extensions[e].destroy();this.extensions=null,this.element&&(ge.stopObservingElement(this.element),this.element.hasScrollEvent&&ge.stopObserving(window,"scroll",this.clearMouseListener)),this.element=null,this.listeners=null,this.object=null,this.eventTypes=null,this.fallThrough=null,this.eventHandler=null}addEventType(e){this.listeners[e]||(this.eventTypes.push(e),this.listeners[e]=[])}attachToElement(e){this.element?ge.stopObservingElement(this.element):(this.eventHandler=ee.bindAsEventListener(this.handleBrowserEvent,this),this.clearMouseListener=ee.bind(this.clearMouseCache,this)),this.element=e;for(var t=0,n=this.BROWSER_EVENTS.length;t<n;t++){var r=this.BROWSER_EVENTS[t];this.addEventType(r),ge.observe(e,r,this.eventHandler)}ge.observe(e,"dragstart",ge.stop)}on(e){for(var t in e)"scope"!==t&&e.hasOwnProperty(t)&&this.register(t,e.scope,e[t])}register(e,t,n,r){if(e in _e&&!this.extensions[e]&&(this.extensions[e]=new _e[e](this)),null!=n&&-1!==te.indexOf(this.eventTypes,e)){null==t&&(t=this.object);var i=this.listeners[e];i||(i=[],this.listeners[e]=i,this.extensionCount[e]=0);var s={obj:t,func:n};r?(i.splice(this.extensionCount[e],0,s),"object"===typeof r&&r.extension&&this.extensionCount[e]++):i.push(s)}}registerPriority(e,t,n){this.register(e,t,n,!0)}un(e){for(var t in e)"scope"!==t&&e.hasOwnProperty(t)&&this.unregister(t,e.scope,e[t])}unregister(e,t,n){null==t&&(t=this.object);var r=this.listeners[e];if(null!=r)for(var i=0,s=r.length;i<s;i++)if(r[i].obj===t&&r[i].func===n){r.splice(i,1);break}}remove(e){null!=this.listeners[e]&&(this.listeners[e]=[])}triggerEvent(e,t){var n=this.listeners[e];if(n&&0!=n.length){var r;null==t&&(t={}),t.object=this.object,t.element=this.element,t.type||(t.type=e),n=n.slice();for(var i=0,s=n.length;i<s;i++){var o=n[i];if(r=o.func.apply(o.obj,[t]),void 0!=r&&!1===r)break}return this.fallThrough||ge.stop(t,!0),r}}handleBrowserEvent(e){var t=e.type,n=this.listeners[t];if(n&&0!=n.length){var r=e.touches;if(r&&r[0]){for(var i,s=0,o=0,a=r.length,l=0;l<a;++l)i=r[l],s+=i.clientX,o+=i.clientY;e.clientX=s/a,e.clientY=o/a}this.includeXY&&(e.xy=this.getMousePosition(e)),this.triggerEvent(t,e)}}clearMouseCache(){this.element.scrolls=null,this.element.lefttop=null;var e=document.body;e&&(0==e.scrollTop&&0==e.scrollLeft||!navigator.userAgent.match(/iPhone/i))&&(this.element.offsets=null)}getMousePosition(e){if(this.includeXY?this.element.hasScrollEvent||(ge.observe(window,"scroll",this.clearMouseListener),this.element.hasScrollEvent=!0):this.clearMouseCache(),!this.element.scrolls){var t=te.getViewportElement();this.element.scrolls=[t.scrollLeft,t.scrollTop]}return this.element.lefttop||(this.element.lefttop=[document.documentElement.clientLeft||0,document.documentElement.clientTop||0]),this.element.offsets||(this.element.offsets=te.pagePosition(this.element)),new K(e.clientX+this.element.scrolls[0]-this.element.offsets[0]-this.element.lefttop[0],e.clientY+this.element.scrolls[1]-this.element.offsets[1]-this.element.lefttop[1])}}u.Events=_e,u.Events.prototype.BROWSER_EVENTS=["mouseover","mouseout","mousedown","mouseup","mousemove","click","dblclick","rightclick","dblrightclick","resize","focus","blur","touchstart","touchmove","touchend","keydown","MSPointerDown","MSPointerUp","pointerdown","pointerup","MSGestureStart","MSGestureChange","MSGestureEnd","contextmenu"];class ve{constructor(e,t,n){this.CLASS_NAME="SuperMap.Feature",this.layer=e,this.id=te.createUniqueID(this.CLASS_NAME+"_"),this.lonlat=t,this.data=null!=n?n:{}}destroy(){this.id=null,this.lonlat=null,this.data=null}}u.Feature=ve;class be extends ve{constructor(e,t,n){super(null,null,t),this.fid=null,this.geometry=e||null,this.attributes={},t&&(this.attributes=te.extend(this.attributes,t)),this.bounds=null,this.state=null,this.style=n||null,this.url=null,this.lonlat=null,this.CLASS_NAME="SuperMap.Feature.Vector",u.State={UNKNOWN:"Unknown",INSERT:"Insert",UPDATE:"Update",DELETE:"Delete"},be.style={default:{fillColor:"#ee9900",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"inherit",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},select:{fillColor:"blue",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"blue",strokeOpacity:1,strokeWidth:2,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"pointer",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},temporary:{fillColor:"#66cccc",fillOpacity:.2,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#66cccc",strokeOpacity:1,strokeLinecap:"round",strokeWidth:2,strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"default",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},delete:{display:"none"}}}destroy(){this.layer&&(this.layer.removeFeatures(this),this.layer=null),this.geometry=null,super.destroy()}clone(){return new be(this.geometry?this.geometry.clone():null,this.attributes,this.style)}toState(e){if(e===u.State.UPDATE)switch(this.state){case u.State.UNKNOWN:case u.State.DELETE:this.state=e;break;case u.State.UPDATE:case u.State.INSERT:break}else if(e===u.State.INSERT)switch(this.state){case u.State.UNKNOWN:break;default:this.state=e;break}else if(e===u.State.DELETE)switch(this.state){case u.State.INSERT:break;case u.State.DELETE:break;case u.State.UNKNOWN:case u.State.UPDATE:this.state=e;break}else e===u.State.UNKNOWN&&(this.state=e)}}u.Feature.Vector=be;class xe{constructor(e){this.data=null,this.keepData=!1,te.extend(this,e),this.options=e,this.CLASS_NAME="SuperMap.Format"}destroy(){}read(e){}write(e){}}u.Format=u.Format||xe;class we extends xe{constructor(e){super(e),this.indent="    ",this.space=" ",this.newline="\n",this.level=0,this.pretty=!1,this.nativeJSON=function(){return!(!window.JSON||"function"!==typeof JSON.parse||"function"!==typeof JSON.stringify)}(),this.CLASS_NAME="SuperMap.Format.JSON",this.serialize={object:function(e){if(null==e)return"null";if(e.constructor===Date)return this.serialize.date.apply(this,[e]);if(e.constructor===Array)return this.serialize.array.apply(this,[e]);var t,n,r,i=["{"];this.level+=1;var s=!1;for(t in e)e.hasOwnProperty(t)&&(n=this.write.apply(this,[t,this.pretty]),r=this.write.apply(this,[e[t],this.pretty]),null!=n&&null!=r&&(s&&i.push(","),i.push(this.writeNewline(),this.writeIndent(),n,":",this.writeSpace(),r),s=!0));return this.level-=1,i.push(this.writeNewline(),this.writeIndent(),"}"),i.join("")},array:function(e){var t,n=["["];this.level+=1;for(var r=0,i=e.length;r<i;++r)t=this.write.apply(this,[e[r],this.pretty]),null!=t&&(r>0&&n.push(","),n.push(this.writeNewline(),this.writeIndent(),t));return this.level-=1,n.push(this.writeNewline(),this.writeIndent(),"]"),n.join("")},string:function(e){var t={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(e)?'"'+e.replace(/([\x00-\x1f\\"])/g,(function(e,n){var r=t[n];return r||(r=n.charCodeAt(),"\\u00"+Math.floor(r/16).toString(16)+(r%16).toString(16))}))+'"':'"'+e+'"'},number:function(e){return isFinite(e)?String(e):"null"},boolean:function(e){return String(e)},date:function(e){function t(e){return e<10?"0"+e:e}return'"'+e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+'"'}}}read(e,t){var n;if(this.nativeJSON)try{n=JSON.parse(e,t)}catch(r){}return this.keepData&&(this.data=n),n}write(e,t){this.pretty=!!t;var n=null,r=typeof e;if(this.serialize[r])try{n=!this.pretty&&this.nativeJSON?JSON.stringify(e):this.serialize[r].apply(this,[e])}catch(i){}return n}writeIndent(){var e=[];if(this.pretty)for(var t=0;t<this.level;++t)e.push(this.indent);return e.join("")}writeNewline(){return this.pretty?this.newline:""}writeSpace(){return this.pretty?this.space:""}}u.Format.JSON=we;class Se{constructor(e,t,n){this.red=e||0==e?e:255,this.green=t||0,this.blue=n||0,this.CLASS_NAME="SuperMap.ServerColor"}destroy(){var e=this;e.red=null,e.green=null,e.blue=null}static fromJson(e){if(e){var t=new Se,n=255;null!==e.red&&(n=Number(e.red)),t.red=n;var r=0;null!==e.green&&(r=Number(e.green)),t.green=r;var i=0;return null!==e.blue&&(i=Number(e.blue)),t.blue=i,t}}}u.ServerColor=Se;class Ce{constructor(e){this.fillBackColor=new Se(255,255,255),this.fillBackOpaque=!1,this.fillForeColor=new Se(255,0,0),this.fillGradientMode=null,this.fillGradientAngle=0,this.fillGradientOffsetRatioX=0,this.fillGradientOffsetRatioY=0,this.fillOpaqueRate=100,this.fillSymbolID=0,this.lineColor=new Se(0,0,0),this.lineSymbolID=0,this.lineWidth=1,this.markerAngle=0,this.markerSize=1,this.markerSymbolID=-1,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ServerStyle"}destroy(){var e=this;e.fillBackColor&&(e.fillBackColor.destroy(),e.fillBackColor=null),e.fillBackOpaque=null,e.fillForeColor&&(e.fillForeColor.destroy(),e.fillForeColor=null),e.fillGradientMode=null,e.fillGradientAngle=null,e.fillGradientOffsetRatioX=null,e.fillGradientOffsetRatioY=null,e.fillOpaqueRate=null,e.fillSymbolID=null,e.lineColor&&(e.lineColor.destroy(),e.lineColor=null),e.lineSymbolID=null,e.lineWidth=null,e.markerAngle=null,e.markerSize=null,e.markerSymbolID=null}toServerJSONObject(){var e={};return e=te.copyAttributes(e,this),e}static fromJson(e){if(e)return new Ce({fillBackColor:Se.fromJson(e.fillBackColor),fillBackOpaque:e.fillBackOpaque,fillForeColor:Se.fromJson(e.fillForeColor),fillGradientMode:e.fillGradientMode,fillGradientAngle:e.fillGradientAngle,fillGradientOffsetRatioX:e.fillGradientOffsetRatioX,fillGradientOffsetRatioY:e.fillGradientOffsetRatioY,fillOpaqueRate:e.fillOpaqueRate,fillSymbolID:e.fillSymbolID,lineColor:Se.fromJson(e.lineColor),lineSymbolID:e.lineSymbolID,lineWidth:e.lineWidth,markerAngle:e.markerAngle,markerSize:e.markerSize,markerSymbolID:e.markerSymbolID})}}u.ServerStyle=Ce;class Ee extends le{constructor(e){super(e),this.measure=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.PointWithMeasure"}equals(e){var t=!1;if(null!=e){var n=this.x===e.x&&this.y===e.y&&this.measure===e.measure,r=isNaN(this.x)&&isNaN(this.y)&&isNaN(this.measure),i=isNaN(e.x)&&isNaN(e.y)&&isNaN(e.measure);t=n||r&&i}return t}toJson(){var e="{";return null!=this.measure&&void 0!=this.measure&&(e+='"measure":'+this.measure+","),e+='"x":'+this.x+",",e+='"y":'+this.y,e+="}",e}destroy(){var e=this;e.measure=null,e.x=null,e.y=null}static fromJson(e){if(e)return new Ee({x:e.x,y:e.y,measure:e.measure})}}u.PointWithMeasure=Ee;class Te extends se{constructor(e,t){super(e,t),this.id=null,this.center=null,this.style=null,this.length=null,this.maxM=null,this.minM=null,this.parts=null,this.points=null,this.type=null,this.componentTypes=["SuperMap.Geometry.LinearRing","SuperMap.Geometry.LineString"],t&&te.extend(this,t),this.CLASS_NAME="SuperMap.Route",this.geometryType="LINEM"}toJson(){var e="{";if(null!=this.id&&void 0!=this.id&&(e+='"id":'+this.id+","),null!=this.center&&void 0!=this.center&&(e+='"center":'+this.center+","),null!=this.style&&void 0!=this.style&&(e+='"style":'+this.style+","),null!=this.length&&void 0!=this.length&&(e+='"length":'+this.length+","),null!=this.maxM&&void 0!=this.maxM&&(e+='"maxM":'+this.maxM+","),null!=this.minM&&void 0!=this.minM&&(e+='"minM":'+this.minM+","),null!=this.type&&void 0!=this.type&&(e+='"type":"'+this.type+'",'),null!=this.parts&&void 0!=this.parts){e+='"parts":['+this.parts[0];for(var t=1;t<this.parts.length;t++)e+=","+this.parts[t];e+="],"}if(null!=this.components&&this.components.length>0){e+='"points":[';for(var n=0,r=this.components.length;n<r;n++)for(var i=0,s=this.components[n].components.length;i<s;i++)e+=this.components[n].components[i].toJson()+",";e=e.replace(/,$/g,""),e+="]"}return e=e.replace(/,$/g,""),e+="}",e}destroy(){var e=this;e.id=null,e.center=null,e.style=null,e.length=null,e.maxM=null,e.minM=null,e.type=null,e.parts=null,e.components.length=0,e.components=null,e.componentTypes=null}static fromJson(e){if(e){var t=e.parts||[],n=e.points||[],r=t.length,i=[];if(!(r>0))return null;for(var s=0,o=0,a=[];s<r;s++){for(var l=0;l<t[s];l++)a.push(Ee.fromJson(n[o+l]));o+=t[s],a[0].equals(a[t[s]-1])?i.push(new he(a)):i.push(new ue(a)),a=[]}return new Te(i,{id:e.id,center:e.center,style:e.style,length:e.length,maxM:e.maxM,minM:e.minM,type:e.type,parts:e.parts})}}}u.Route=Te;class Ae{constructor(e){this.id=0,this.style=null,this.parts=null,this.points=null,this.type=null,this.prjCoordSys=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ServerGeometry"}destroy(){var e=this;e.id=null,e.style=null,e.parts=null,e.partTopo=null,e.points=null,e.type=null,e.prjCoordSys=null}toGeometry(){var e=this,t=e.type;switch(t.toUpperCase()){case p.POINT:return e.toGeoPoint();case p.LINE:return e.toGeoLine();case p.LINEM:return e.toGeoLinem();case p.REGION:return e.toGeoRegion();case p.POINTEPS:return e.toGeoPoint();case p.LINEEPS:return e.toGeoLineEPS();case p.REGIONEPS:return e.toGeoRegionEPS();case p.GEOCOMPOUND:return e.transformGeoCompound()}}toGeoPoint(){var e=this,t=e.parts||[],n=e.points||[],r=t.length;if(r>0){if(1===r)return new le(n[0].x,n[0].y);var i=[];for(let e=0;e<r;e++)i.push(new le(n[e].x,n[e].y));return new oe(i)}return null}toGeoLine(){var e=this,t=e.parts||[],n=e.points||[],r=t.length;if(r>0){if(1===r){let e=[];for(let r=0;r<t[0];r++)e.push(new le(n[r].x,n[r].y));return e[0].equals(e[t[0]-1])?new he(e):new ue(e)}{let e=[];for(let i=0;i<r;i++){let r=[];for(let e=0;e<t[i];e++)r.push(new le(n[e].x,n[e].y));e.push(new ue(r)),n.splice(0,t[i])}return new pe(e)}}return null}toGeoLineEPS(){var e,t,n,r,i,s=this,o=s.parts||[],a=s.points||[],l=o.length;if(l>0){if(1===l){for(e=0,n=[];e<o[0];e++)n.push(new le(a[e].x,a[e].y,a[e].type));return n[0].equals(n[o[0]-1])?(i=ue.createLineEPS(n),new he(i)):(i=ue.createLineEPS(n),new ue(i))}for(e=0,r=[];e<l;e++){for(t=0,n=[];t<o[e];t++)n.push(new le(a[t].x,a[t].y));i=ue.createLineEPS(n),r.push(new ue(i)),a.splice(0,o[e])}return new pe(r)}return null}toGeoLinem(){var e=this;return Te.fromJson(e)}toGeoRegion(){var e=this,t=e.parts||[],n=e.partTopo||[],r=e.points||[],i=t.length;if(i<=0)return null;var s=[],o=[];if(1==i){for(let e=0;e<r.length;e++)o.push(new le(r[e].x,r[e].y));return s.push(new fe([new he(o)])),new de(s)}var a=[],l=[],u=[],c=[],h=[];for(let m=0,y=0;m<i;m++){for(let e=0;e<t[m];e++)o.push(new le(r[y+e].x,r[y+e].y));y+=t[m];var p=new fe([new he(o)]);o=[],u.push(p),0===n.length&&c.push(p.getBounds()),h.push(1),l.push(p.getArea())}if(Ae.bubbleSort(l,u,n,c),0===n.length){var d=[];for(let e=1;e<u.length;e++)for(let t=e-1;t>=0;t--)if(d[e]=-1,c[t].containsBounds(c[e])){h[e]=-1*h[t],h[e]<0&&(d[e]=t);break}for(let e=0;e<u.length;e++)h[e]>0?s.push(u[e]):(s[d[e]].components=s[d[e]].components.concat(u[e].components),s.push(""))}else{s=new Array;for(let e=0;e<u.length;e++)if(n[e]&&-1==n[e]?a=a.concat(u[e].components):(a.length>0&&s.length>0&&(s[s.length-1].components=s[s.length-1].components.concat(a),a=[]),s.push(u[e])),e==i-1){var f=s.length;if(f)s[f-1].components=s[f-1].components.concat(a);else for(let e=0,t=a.length;e<t;e++)s.push(new fe(a))}}return new de(s)}toGeoRegionEPS(){var e=this,t=e.parts||[],n=e.partTopo||[],r=e.points||[],i=t.length;if(i<=0)return null;var s,o=[],a=[];if(1==i){for(var l=0;l<r.length;l++)a.push(new le(r[l].x,r[l].y));return s=ue.createLineEPS(a),o.push(new fe([new he(s)])),new de(o)}var u=[],c=[],h=[],p=[],d=[];for(let g=0,_=0;g<i;g++){for(let e=0;e<t[g];e++)a.push(new le(r[_+e].x,r[_+e].y));_+=t[g],s=ue.createLineEPS(a);var f=new fe([new he(s)]);a=[],h.push(f),0===n.length&&p.push(f.getBounds()),d.push(1),c.push(f.getArea())}if(Ae.bubbleSort(c,h,n,p),0===n.length){var m=[];for(let e=1;e<h.length;e++)for(let t=e-1;t>=0;t--)if(m[e]=-1,p[t].containsBounds(p[e])){d[e]=-1*d[t],d[e]<0&&(m[e]=t);break}for(let e=0;e<h.length;e++)d[e]>0?o.push(h[e]):(o[m[e]].components=o[m[e]].components.concat(h[e].components),o.push(""))}else{o=new Array;for(let e=0;e<h.length;e++)if(n[e]&&-1==n[e]?u=u.concat(h[e].components):(u.length>0&&o.length>0&&(o[o.length-1].components=o[o.length-1].components.concat(u),u=[]),o.push(h[e])),e==i-1){var y=o.length;if(y)o[y-1].components=o[y-1].components.concat(u);else for(let e=0,t=u.length;e<t;e++)o.push(new fe(u))}}return new de(o)}transformGeoCompound(){const e=this,t=e.geoParts||[],n=t.length;if(n<=0)return null;const r=[];for(let i=0;i<n;i++){const e=t[i];r.push(new Ae(e).toGeometry())}return new se(r)}static fromJson(e){if(e)return new Ae({id:e.id,style:Ce.fromJson(e.style),parts:e.parts,partTopo:e.partTopo,points:e.points,center:e.center,length:e.length,maxM:e.maxM,minM:e.minM,type:e.type})}static fromGeometry(e){if(e){var t=0,n=[],r=[],i=null,s=e.components,o=e.CLASS_NAME,a={epsgCode:e.SRID};if(isNaN(e.id)||(t=e.id),"SuperMap.Geometry.LinearRing"!=o&&"SuperMap.Geometry.LineString"!=o&&(e instanceof oe||e instanceof pe)){let e=s.length;for(let t=0;t<e;t++){let e=s[t].getVertices().length;n.push(e);for(let n=0;n<e;n++)r.push(new le(s[t].getVertices()[n].x,s[t].getVertices()[n].y))}i="SuperMap.Geometry.MultiPoint"==o?p.POINT:p.LINE}else if(e instanceof de){let e=s.length;for(let t=0;t<e;t++){let e=s[t],i=e.components,o=i.length;for(let t=0;t<o;t++){let e=i[t].getVertices().length+1;n.push(e);for(let n=0;n<e-1;n++)r.push(new le(i[t].getVertices()[n].x,i[t].getVertices()[n].y));r.push(new le(i[t].getVertices()[0].x,i[t].getVertices()[0].y))}}i=p.REGION}else if(e instanceof fe){let e=s.length;for(let t=0;t<e;t++){let e=s[t].getVertices().length+1;n.push(e);for(let n=0;n<e-1;n++)r.push(new le(s[t].getVertices()[n].x,s[t].getVertices()[n].y));r.push(new le(s[t].getVertices()[0].x,s[t].getVertices()[0].y))}i=p.REGION}else{let t=e.getVertices().length;for(let n=0;n<t;n++)r.push(new le(e.getVertices()[n].x,e.getVertices()[n].y));e instanceof he&&(r.push(new le(e.getVertices()[0].x,e.getVertices()[0].y)),t++),n.push(t),i=e instanceof le?p.POINT:p.LINE}return new Ae({id:t,style:null,parts:n,points:r,type:i,prjCoordSys:a})}}static IsClockWise(e){var t=e.length;if(t<3)return 0;var n=e[0].y*(e[t-1].x-e[1].x);e.push(e[0]);for(var r=1;r<t;r++)n+=e[r].y*(e[r-1].x-e[r+1].x);return.5*n}static bubbleSort(e,t,n,r){for(var i=0;i<e.length;i++)for(var s=0;s<e.length;s++)if(e[i]>e[s]){var o=e[s];e[s]=e[i],e[i]=o;var a=t[s];if(t[s]=t[i],t[i]=a,n&&n.length>0){var l=n[s];n[s]=n[i],n[i]=l}if(r&&r.length>0){var u=r[s];r[s]=r[i],r[i]=u}}}}u.ServerGeometry=Ae;class Pe extends we{constructor(e){super(e),this.ignoreExtraDims=!0,this.CLASS_NAME="SuperMap.Format.GeoJSON",this.parseCoords={point:function(e){if(!1===this.ignoreExtraDims&&2!=e.length)throw"Only 2D points are supported: "+e;return new le(e[0],e[1])},multipoint:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=this.parseCoords["point"].apply(this,[e[r]])}catch(s){throw s}t.push(n)}return new oe(t)},linestring:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=this.parseCoords["point"].apply(this,[e[r]])}catch(s){throw s}t.push(n)}return new ue(t)},multilinestring:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=this.parseCoords["linestring"].apply(this,[e[r]])}catch(s){throw s}t.push(n)}return new pe(t)},polygon:function(e){for(var t,n,r=[],i=0,s=e.length;i<s;++i){try{n=this.parseCoords["linestring"].apply(this,[e[i]])}catch(o){throw o}t=new he(n.components),r.push(t)}return new fe(r)},multipolygon:function(e){for(var t=[],n=null,r=0,i=e.length;r<i;++r){try{n=this.parseCoords["polygon"].apply(this,[e[r]])}catch(s){throw s}t.push(n)}return new de(t)},box:function(e){if(2!=e.length)throw"GeoJSON box coordinates must have 2 elements";return new fe([new he([new le(e[0][0],e[0][1]),new le(e[1][0],e[0][1]),new le(e[1][0],e[1][1]),new le(e[0][0],e[1][1]),new le(e[0][0],e[0][1])])])}},this.extract={feature:function(e){var t=this.extract.geometry.apply(this,[e.geometry]),n={type:"Feature",properties:this.createAttributes(e),geometry:t};return e.geometry&&"TEXT"===e.geometry.type&&(n.properties.texts=e.geometry.texts,n.properties.textStyle=e.geometry.textStyle),e.fid&&(n.id=e.fid),e.ID&&(n.id=e.ID),n},geometry:function(e){if(null==e)return null;!e.parts&&e.points&&(e.parts=[e.points.length]);var t,n,r=e.hasOwnProperty("geometryType")?e:new Ae(e).toGeometry()||e,i=r.geometryType||r.type;return"LinearRing"===i&&(i="LineString"),"LINEM"===i&&(i="MultiLineString"),t=this.extract[i.toLowerCase()].apply(this,[r]),i="TEXT"===i?"Point":i,n="Collection"===i?{type:"GeometryCollection",geometries:t}:{type:i,coordinates:t},n},point:function(e){var t=[e.x,e.y];for(var n in e)"x"===n||"y"===n||null===e[n]||isNaN(e[n])||t.push(e[n]);return t},text:function(e){return[e.points[0].x,e.points[0].y]},multipoint:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.point.apply(this,[e.components[n]]));return t},linestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.point.apply(this,[e.components[n]]));return t},multilinestring:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.linestring.apply(this,[e.components[n]]));return t},polygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.linestring.apply(this,[e.components[n]]));return t},multipolygon:function(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.polygon.apply(this,[e.components[n]]));return t},collection:function(e){for(var t=e.components.length,n=new Array(t),r=0;r<t;++r)n[r]=this.extract.geometry.apply(this,[e.components[r]]);return n}}}read(e,t,n){t=t||"FeatureCollection";var r=null,i=null;if(i="string"==typeof e?super.read(e,n):e,i){if("string"!=typeof i.type);else if(this.isValidType(i,t))switch(t){case"Geometry":try{r=this.parseGeometry(i)}catch(l){}break;case"Feature":try{r=this.parseFeature(i),r.type="Feature"}catch(l){}break;case"FeatureCollection":switch(r=[],i.type){case"Feature":try{r.push(this.parseFeature(i))}catch(l){r=null}break;case"FeatureCollection":for(var s=0,o=i.features.length;s<o;++s)try{r.push(this.parseFeature(i.features[s]))}catch(l){r=null}break;default:try{var a=this.parseGeometry(i);r.push(new be(a))}catch(l){r=null}}break;default:break}}else;return r}write(e,t){return super.write(this.toGeoJSON(e),t)}fromGeoJSON(e,t,n){let r=this.read(e,t,n);return te.isArray(r)?r.map(e=>this._toiSevrerFeature(e)):this._toiSevrerFeature(r)}toGeoJSON(e){var t={type:null};if(te.isArray(e)){t.type="FeatureCollection";var n=e.length;t.features=new Array(n);for(var r=0;r<n;++r){var i=e[r];if(s(i)){let e={};e.geometry=i,t.features[r]=this.extract.feature.apply(this,[e])}else t.features[r]=this.extract.feature.apply(this,[i])}}else if(s(e)){let n={};n.geometry=e,t=this.extract.feature.apply(this,[n])}else t=this.extract.feature.apply(this,[e]);function s(e){return e.hasOwnProperty("parts")&&e.hasOwnProperty("points")||e.hasOwnProperty("geoParts")}return t}isValidType(e,t){var n=!1;switch(t){case"Geometry":-1==te.indexOf(["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","Box","GeometryCollection"],e.type)||(n=!0);break;case"FeatureCollection":n=!0;break;default:e.type==t&&(n=!0)}return n}parseFeature(e){var t,n,r,i;r=e.properties?e.properties:{},i=e.geometry&&e.geometry.bbox||e.bbox;try{n=this.parseGeometry(e.geometry)}catch(s){throw s}return t=new be(n,r),i&&(t.bounds=re.fromArray(i)),e.id&&(t.fid=e.id),t}parseGeometry(e){if(null==e)return null;var t;if("GeometryCollection"==e.type){if(!te.isArray(e.geometries))throw"GeometryCollection must have geometries array: "+e;for(var n=e.geometries.length,r=new Array(n),i=0;i<n;++i)r[i]=this.parseGeometry.apply(this,[e.geometries[i]]);t=new se(r)}else{if(!te.isArray(e.coordinates))throw"Geometry must have coordinates array: "+e;if(!this.parseCoords[e.type.toLowerCase()])throw"Unsupported geometry type: "+e.type;try{t=this.parseCoords[e.type.toLowerCase()].apply(this,[e.coordinates])}catch(s){throw s}}return t}createCRSObject(e){var t=e.layer.projection.toString(),n={};if(t.match(/epsg:/i)){var r=parseInt(t.substring(t.indexOf(":")+1));n=4326==r?{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}}:{type:"name",properties:{name:"EPSG:"+r}}}return n}_toiSevrerFeature(e){const t=e.attributes,n=[],r=[];for(var i in t)n.push(i),r.push(t[i]);const s={fieldNames:n,fieldValues:r,geometry:Ae.fromGeometry(e.geometry)};return s.geometry.id=e.fid,s}createAttributes(e){if(!e)return null;var t={};i(e,t);var n=["fieldNames","fieldValues","geometry","stringID","ID"];for(var r in e)n.indexOf(r)>-1||(t[r]=e[r]);function i(e,t){if(e.hasOwnProperty("fieldNames")&&e.hasOwnProperty("fieldValues")){var n=e.fieldNames,r=e.fieldValues;for(var i in n)t[n[i]]=r[i]}}return t}}u.Format.GeoJSON=Pe;class Ie extends xe{constructor(e){super(e),this.regExes={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},this.CLASS_NAME="SuperMap.Format.WKT",this.extract={point:function(e){return e.x+" "+e.y},multipoint(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.point.apply(this,[e.components[n]])+")");return t.join(",")},linestring(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extract.point.apply(this,[e.components[n]]));return t.join(",")},multilinestring(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.linestring.apply(this,[e.components[n]])+")");return t.join(",")},polygon(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.linestring.apply(this,[e.components[n]])+")");return t.join(",")},multipolygon(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push("("+this.extract.polygon.apply(this,[e.components[n]])+")");return t.join(",")},collection(e){for(var t=[],n=0,r=e.components.length;n<r;++n)t.push(this.extractGeometry.apply(this,[e.components[n]]));return t.join(",")}},this.parse={point:function(e){var t=Q.trim(e).split(this.regExes.spaces);return new be(new le(t[0],t[1]))},multipoint:function(e){for(var t,n=Q.trim(e).split(","),r=[],i=0,s=n.length;i<s;++i)t=n[i].replace(this.regExes.trimParens,"$1"),r.push(this.parse.point.apply(this,[t]).geometry);return new be(new oe(r))},linestring:function(e){for(var t=Q.trim(e).split(","),n=[],r=0,i=t.length;r<i;++r)n.push(this.parse.point.apply(this,[t[r]]).geometry);return new be(new ue(n))},multilinestring:function(e){for(var t,n=Q.trim(e).split(this.regExes.parenComma),r=[],i=0,s=n.length;i<s;++i)t=n[i].replace(this.regExes.trimParens,"$1"),r.push(this.parse.linestring.apply(this,[t]).geometry);return new be(new pe(r))},polygon:function(e){for(var t,n,r,i=Q.trim(e).split(this.regExes.parenComma),s=[],o=0,a=i.length;o<a;++o)t=i[o].replace(this.regExes.trimParens,"$1"),n=this.parse.linestring.apply(this,[t]).geometry,r=new he(n.components),s.push(r);return new be(new fe(s))},multipolygon:function(e){for(var t,n=Q.trim(e).split(this.regExes.doubleParenComma),r=[],i=0,s=n.length;i<s;++i)t=n[i].replace(this.regExes.trimParens,"$1"),r.push(this.parse.polygon.apply(this,[t]).geometry);return new be(new de(r))},geometrycollection:function(e){e=e.replace(/,\s*([A-Za-z])/g,"|$1");for(var t=Q.trim(e).split("|"),n=[],r=0,i=t.length;r<i;++r)n.push(this.read(t[r]));return n}}}read(e){var t,n,r;e=e.replace(/[\n\r]/g," ");var i=this.regExes.typeStr.exec(e);return i&&(n=i[1].toLowerCase(),r=i[2],this.parse[n]&&(t=this.parse[n].apply(this,[r]))),t}write(e){var t,n,r;e.constructor===Array?(t=e,r=!0):(t=[e],r=!1);var i=[];r&&i.push("GEOMETRYCOLLECTION(");for(var s=0,o=t.length;s<o;++s)r&&s>0&&i.push(","),n=t[s].geometry,i.push(this.extractGeometry(n));return r&&i.push(")"),i.join("")}extractGeometry(e){var t=e.CLASS_NAME.split(".")[2].toLowerCase();if(!this.extract[t])return null;var n="collection"===t?"GEOMETRYCOLLECTION":t.toUpperCase(),r=n+"("+this.extract[t].apply(this,[e])+")";return r}}u.Format.WKT=Ie;var Le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAAAdCAYAAAAjHtusAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozYWZlOGIwMi01MWE3LTRiZjYtYWVkYS05MGQ2ZTQ4YjZiMmUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODg0NkFBQUE3RjEzMTFFNzhFRjJFQkY4RjcxQjc1NjIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODg0NkFBQTk3RjEzMTFFNzhFRjJFQkY4RjcxQjc1NjIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MWI3NzdhNC1lZmEyLTQ1MzUtOGQzNi03MmRjNDkyODMzN2UiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjYTYzODVjMi1jNDQ1LTExN2EtYTc0ZC1lM2I5MzJlMGE4Y2QiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5q1HM0AAAF/ElEQVR42tSabYhUVRjHZ7W01C1uaCRW4F3oi9SXCUnwQ9gsGUFvOEtQH1bLu5VS9sbYh5KicjYt29qiGQwVg2xWWKgocob91AvC+CWsoJqB3qHMSdTMpZyeU/+Df07n3pk7997Z6cBv99z7nHvOvf/z/pxJNZvNVI/jCKXmv6EquAmVkxPSlvtp2GItr0/96fFQForChJAWDiVYTkMYMu4XBFcYjLOwWS3sNwmn8NGzZ0h4Flv/zwIdchAnh/slCGmmKUNIBzYPaXOUr0vPuEjD71JAPh7l61embzinhV3V8nnCGmGT8LwlzSL8/yUh4Tfjo9T/CgnCIYNKycA2Qq21AcHU/VHE80Idoo3Qs0W6p0UtUnkZvEMDeVcCyqxEafF7hL8Qf0oYsIj+lfC9cH1CwhchWAGCtZO+AooQOkdC1Km1VtCb63StW73uFSzgKFUkNwBbmZGGmqowhvg8ZNpH9oXChcIcYRdeNomgxLkaH+S1SGubAxyIpFv+Zp+0DYjrAS00j/dem2VGEl6FJ4Qa4quEu8j2hTCJ+GJhe4JjfQMf6JCYPPbysMPxBlp0BUKOogEF9Rg9/heNvNKYfM0KsZUZaYxX4STGrzJa+zbhPeFH2DcK10KItcI+pI0rVElwXl1ULaKnIJhDw0oRQpTQc1zcbwRU8ATy4DR6yMlTzwkqMziEWHvubJ4Nk4ZtHdnqwvwY17xq3Z4FjrG+z2Kdrdf2ZSGD+xlLPh6t1R0jP9fI22ZzKI92yvQl7EbmBxI4S7Y+vIAOL87QZqsc5uNnssxZIcfYjXT9snCR7jjobidp+FkxA2v+Cq1QervMDmp4P7Xs3YZtE9kOC3P/By6JGaETl8ElwueYTNTDq4UDsKnd7YfCNbT239LF1udS72xYJt1UWxNfN4IIP4bWuTpEja01JtMFZFsm/AHbtHBlDE6yasA4moYTrUbvdBTXHqUrAH4uSadbyzF+vbBM2IsNkS3MNa5305JxqfA02T4TnkX8XOH1mPw8ruVejpxbI9hZD2Cz1U7LdrrUvjP/WfZinNZhr6V27hP+FPZh9aLvLxVO4DllX0G2OcKnlO/DCblxaz6uXBtmi+8mBaP3/SP8IuEIiTRoPPQm2TaEmEyXo0JU+F0YiPFD0hhOsiE/vqeEVwyTgF8L51OilcIZ2I4Ll5NttvAJPfukUeB2sk0ZPSbKIUUJpCII7+DasWy08uhNNazT0wGHI7mAtB7KqMKm38HhDdAUibTVKGicbB8YAqrJ9DRsp43JdB4qUof1HQrPE6XTQWu3Ce/inVzjXhXpMiTwUYugNVQ+p80jrUsV5EH0POKeuXO9QjhFq5GryNYvfEMCDhsftYVsB9ETtG0V9ZjfhCURhbcJFpfwVZ9jvhxsLHwTYtp2svlWQw3vXL8UnqHVSIG8l8ex+tHhBXgjddgqHEZ8ufAA2aaEnYgrF/KrPXrEmMUqZ9THLW06xhoBaVueQpkug+ewOUphE3Qv2Q5gGamXYa+QbVq4O+DQ5FHyZqrjxNt7UHh9uuRa0F7HjCF8o9PCTOGnscM7g2u1Hl9C9oeEnxC/1ajZg8JLiM9Hj9GHJseMShwL2DO0G5yEWn3Zh1QUods5CPkIoqlwAZxhXMsb6HrcEPBxchhdJ6wj29vCW4hfLOzo8J3rltYX50nXQAATSf/K4DEaGlTLvplsk/QCpoD60EQ7gLYZc8H9wq+I3yncEOEcNhuz6HWf3XEiwU/4Y8YEqVp2P10rt+8REvBGw026i4aDcbL9jF8r8Blmf4fCOzhViiscskygXRdehf3CO4hfigmTBXyQrl8TFtD1IzQX3CbcQrY3hPcRv4z8OmHPXwchVNln2MmE7BX6VwIFi/he6uxvb6JM3m0fdqvx/ATidxg2JeC7VDErAw5NzGfvwRJVheEIQ8Mg/pdwIM+UOmi9Q8ivCsrIy0tF+wVbEcLrd3Pb2XisEb4Tdlhsi4WP4RBbaLGrHfC3PrvMIezy9rTpGm5lz9LOMG15xvFxD/j5gjzjjDbMOzk+9zzt3v5bgAEAibzFeFHVgYkAAAAASUVORK5CYII=";class Me{constructor(e){var t=this;e=e||{},this.speed=e.speed&&e.speed>=0?e.speed:1,this.frequency=e.speed&&e.frequency>=0?e.frequency:1e3,this.startTime=e.startTime&&null!=e.startTime?e.startTime:0,this.endTime=e.endTime&&null!=e.endTime&&e.endTime>=t.startTime?e.endTime:+new Date,this.repeat=void 0===e.repeat||e.repeat,this.reverse=void 0!==e.reverse&&e.reverse,this.currentTime=null,this.oldTime=null,this.running=!1,this.EVENT_TYPES=["start","pause","stop"],t.events=new _e(this,null,this.EVENT_TYPES),t.speed=Number(t.speed),t.frequency=Number(t.frequency),t.startTime=Number(t.startTime),t.endTime=Number(t.endTime),t.startTime=Date.parse(new Date(t.startTime)),t.endTime=Date.parse(new Date(t.endTime)),t.currentTime=t.startTime,this.CLASS_NAME="SuperMap.TimeControlBase"}updateOptions(e){var t=this;e=e||{},e.speed&&e.speed>=0&&(t.speed=e.speed,t.speed=Number(t.speed)),e.speed&&e.frequency>=0&&(t.frequency=e.frequency,t.frequency=Number(t.frequency)),e.startTime&&null!=e.startTime&&(t.startTime=e.startTime,t.startTime=Date.parse(new Date(t.startTime))),e.endTime&&null!=e.endTime&&e.endTime>=t.startTime&&(t.endTime=e.endTime,t.endTime=Date.parse(new Date(t.endTime))),null!=e.repeat&&(t.repeat=e.repeat),null!=e.reverse&&(t.reverse=e.reverse)}start(){var e=this;e.running||(e.running=!0,e.tick(),e.events.triggerEvent("start",e.currentTime))}pause(){var e=this;e.running=!1,e.events.triggerEvent("pause",e.currentTime)}stop(){var e=this;e.currentTime=e.startTime,e.running&&(e.running=!1),e.events.triggerEvent("stop",e.currentTime)}toggle(){var e=this;e.running?e.pause():e.start()}setSpeed(e){var t=this;return e>=0&&(t.speed=e,!0)}getSpeed(){return this.speed}setFrequency(e){var t=this;return e>=0&&(t.frequency=e,!0)}getFrequency(){return this.frequency}setStartTime(e){var t=this;return e=Date.parse(new Date(e)),!(e>t.endTime)&&(t.startTime=e,t.currentTime<t.startTime&&(t.currentTime=t.startTime,t.tick()),!0)}getStartTime(){return this.startTime}setEndTime(e){var t=this;return t.endTime=Date.parse(new Date(t.endTime)),!(e<t.startTime)&&(t.endTime=e,t.currentTime>=t.endTime&&(t.currentTime=t.startTime,t.tick()),!0)}getEndTime(){return this.endTime}setCurrentTime(e){var t=this;return t.currentTime=Date.parse(new Date(t.currentTime)),e>=t.startTime&&e<=t.endTime&&(t.currentTime=e,t.startTime=t.currentTime,t.tick(),!0)}getCurrentTime(){return this.currentTime}setRepeat(e){this.repeat=e}getRepeat(){return this.repeat}setReverse(e){this.reverse=e}getReverse(){return this.reverse}getRunning(){return this.running}destroy(){var e=this;e.speed=null,e.frequency=null,e.startTime=null,e.endTime=null,e.currentTime=null,e.repeat=null,e.running=!1,e.reverse=null}tick(){}}u.TimeControlBase=Me;class Oe extends Me{constructor(e,t){super(t);var n=this;n.callback=e,Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),n.update=n.update.bind(n),n.oldTime=n.currentTime,n.CLASS_NAME="SuperMap.TimeFlowControl"}updateOptions(e){e=e||{},super.updateOptions(e)}start(){var e=this;e.running||(e.running=!0,e.reverse?e.currentTime===e.startTime&&(e.oldTime=e.endTime,e.currentTime=e.oldTime):e.oldTime===e.endTime&&(e.currentTime=e.startTime,e.oldTime=e.currentTime),e.tick())}stop(){super.stop();var e=this;e.oldTime=e.currentTime,e.running&&(e.running=!1),e.intervalId&&window.clearTimeout(e.intervalId)}destroy(){super.destroy();var e=this;e.oldTime=null,e.callback=null}tick(){var e=this;e.intervalId&&window.clearInterval(e.intervalId),e.intervalId=null,e.update(),e.intervalId=window.setInterval(e.update,e.frequency)}update(){var e=this;if(e.running)if(e.callback&&e.callback(e.currentTime),e.reverse){if(e.currentTime===e.startTime){if(!e.repeat)return e.running=!1,null;e.oldTime=e.endTime,e.currentTime=e.oldTime}else e.currentTime=e.oldTime,e.oldTime-=e.speed;e.oldTime<=e.startTime&&(e.oldTime=e.startTime)}else{if(e.currentTime===e.endTime){if(!e.repeat)return e.running=!1,e.stop(),null;e.stop(),e.currentTime=e.startTime,e.oldTime=e.currentTime,e.start()}else e.oldTime=e.currentTime,e.currentTime+=e.speed;e.currentTime>=e.endTime&&(e.currentTime=e.endTime)}}}u.TimeFlowControl=Oe;n("146a"),n("e901");var ke=n("d871"),Ne=n.n(ke);let Re=window.fetch;u.setCORS=function(e){u.CORS=e};var De=u.isCORS=function(){return void 0!=u.CORS?u.CORS:window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest},Fe=(u.setRequestTimeout=function(e){return u.RequestTimeout=e},u.getRequestTimeout=function(){return u.RequestTimeout||45e3}),Be=u.FetchRequest={commit:function(e,t,n,r){switch(e=e?e.toUpperCase():e,e){case"GET":return this.get(t,n,r);case"POST":return this.post(t,n,r);case"PUT":return this.put(t,n,r);case"DELETE":return this.delete(t,n,r);default:return this.get(t,n,r)}},supportDirectRequest:function(e,t){return!!te.isInTheSameDomain(e)||(void 0!=t.crossOrigin?t.crossOrigin:De()||t.proxy)},get:function(e,t,n){n=n||{};var r="GET";if(e=te.urlAppend(e,this._getParameterString(t||{})),e=this._processUrl(e,n),!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var i={url:e,data:t};return u.Util.RequestJSONPPromise.GET(i)}return this.urlIsLong(e)?this._postSimulatie(r,e.substring(0,e.indexOf("?")-1),t,n):this._fetch(e,t,n,r)},delete:function(e,t,n){n=n||{};var r="DELETE";if(e=te.urlAppend(e,this._getParameterString(t||{})),e=this._processUrl(e,n),!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var i={url:e+="&_method=DELETE",data:t};return u.Util.RequestJSONPPromise.DELETE(i)}return this.urlIsLong(e)?this._postSimulatie(r,e.substring(0,e.indexOf("?")-1),t,n):this._fetch(e,t,n,r)},post:function(e,t,n){if(n=n||{},!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e+="&_method=POST",data:t};return u.Util.RequestJSONPPromise.POST(r)}return this._fetch(this._processUrl(e,n),t,n,"POST")},put:function(e,t,n){if(n=n||{},e=this._processUrl(e,n),!this.supportDirectRequest(e,n)){e=e.replace(".json",".jsonp");var r={url:e+="&_method=PUT",data:t};return u.Util.RequestJSONPPromise.PUT(r)}return this._fetch(e,t,n,"PUT")},urlIsLong:function(e){for(var t=0,n=null,r=0,i=e.length;r<i;r++)n=e.charCodeAt(r),n<127?t++:128<=n&&n<=2047?t+=2:2048<=n&&n<=65535&&(t+=3);return!(t<2e3)},_postSimulatie:function(e,t,n,r){var i=t.indexOf("?")>-1?"&":"?";return t+=i+"_method="+e,"string"!==typeof n&&(n=JSON.stringify(n)),this.post(t,n,r)},_processUrl:function(e,t){if(this._isMVTRequest(e))return e;if(-1===e.indexOf(".json")&&!t.withoutFormatSuffix)if(e.indexOf("?")<0)e+=".json";else{var n=e.split("?");2===n.length&&(e=n[0]+".json?"+n[1])}return t&&t.proxy&&("function"===typeof t.proxy?e=t.proxy(e):(e=decodeURIComponent(e),e=t.proxy+encodeURIComponent(e))),e},_fetch:function(e,t,n,r){return n=n||{},n.headers=n.headers||{},n.headers["Content-Type"]||(n.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"),n.timeout?this._timeout(n.timeout,Re(e,{method:r,headers:n.headers,body:"PUT"===r||"POST"===r?t:void 0,credentials:this._getWithCredentials(n),mode:"cors",timeout:Fe()}).then((function(e){return e}))):Re(e,{method:r,body:"PUT"===r||"POST"===r?t:void 0,headers:n.headers,credentials:this._getWithCredentials(n),mode:"cors",timeout:Fe()}).then((function(e){return e}))},_getWithCredentials:function(e){return!0===e.withCredentials?"include":!1===e.withCredentials?"omit":"same-origin"},_fetchJsonp:function(e,t){return t=t||{},Ne()(e,{method:"GET",timeout:t.timeout}).then((function(e){return e}))},_timeout:function(e,t){return new Promise((function(n,r){setTimeout((function(){r(new Error("timeout"))}),e),t.then(n,r)}))},_getParameterString:function(e){var t=[];for(var n in e){var r,i=e[n];if(null!=i&&"function"!==typeof i)r=Array.isArray(i)||"[object Object]"===i.toString()?encodeURIComponent(JSON.stringify(i)):encodeURIComponent(i),t.push(encodeURIComponent(n)+"="+r)}return t.join("&")},_isMVTRequest:function(e){return e.indexOf(".mvt")>-1||e.indexOf(".pbf")>-1}};u.Util.RequestJSONPPromise={limitLength:1500,queryKeys:[],queryValues:[],supermap_callbacks:{},addQueryStrings:function(e){var t=this;for(var n in e){t.queryKeys.push(n),"string"!==typeof e[n]&&(e[n]=u.Util.toJSON(e[n]));var r=encodeURIComponent(e[n]);t.queryValues.push(r)}},issue:function(e){for(var t=this,n=t.getUid(),r=e.url,i=[],s=new Promise((function(e){t.supermap_callbacks[n]=function(r){delete t.supermap_callbacks[n],e(r)}})),o=r,a=0,l=t.queryKeys?t.queryKeys.length:0,u=0;u<l;u++)if(o.length+t.queryKeys[u].length+2>=t.limitLength){if(0==a)return!1;i.push(o),o=r,a=0,u--}else if(o.length+t.queryKeys[u].length+2+t.queryValues[u].length>t.limitLength){var c=t.queryValues[u];while(c.length>0){var h=t.limitLength-o.length-t.queryKeys[u].length-2;o.indexOf("?")>-1?o+="&":o+="?";var p=c.substring(0,h);"%"===p.substring(h-1,h)?(h-=1,p=c.substring(0,h)):"%"===p.substring(h-2,h-1)&&(h-=2,p=c.substring(0,h)),o+=t.queryKeys[u]+"="+p,c=c.substring(h),p.length>0&&(i.push(o),o=r,a=0)}}else a++,o.indexOf("?")>-1?o+="&":o+="?",o+=t.queryKeys[u]+"="+t.queryValues[u];return i.push(o),t.send(i,"SuperMap.Util.RequestJSONPPromise.supermap_callbacks["+n+"]",e&&e.proxy),s},getUid:function(){var e=(new Date).getTime(),t=Math.floor(1e17*Math.random());return 1e3*e+t},send:function(e,t,n){var r=e.length;if(r>0)for(var i=(new Date).getTime(),s=0;s<r;s++){var o=e[s];o.indexOf("?")>-1?o+="&":o+="?",o+="sectionCount="+r,o+="&sectionIndex="+s,o+="&jsonpUserID="+i,n&&(o=decodeURIComponent(o),o=n+encodeURIComponent(o)),Ne()(o,{jsonpCallbackFunction:t,timeout:3e4})}},GET:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings(e.params),t.issue(e)},POST:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings({requestEntity:e.data}),t.issue(e)},PUT:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings({requestEntity:e.data}),t.issue(e)},DELETE:function(e){var t=this;return t.queryKeys.length=0,t.queryValues.length=0,t.addQueryStrings({requestEntity:e.data}),t.issue(e)}};class qe{static generateToken(e,t){var n=this.servers[e];if(n)return Be.post(n.tokenServiceUrl,JSON.stringify(t.toJSON())).then((function(e){return e.text()}))}static registerServers(e){this.servers=this.servers||{},te.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];this.servers[n.server]=n}}static registerToken(e,t){if(this.tokens=this.tokens||{},e&&t){var n=this._getTokenStorageKey(e);this.tokens[n]=t}}static registerKey(e,t){if(this.keys=this.keys||{},e&&!(e.length<1)&&t){e=te.isArray(e)?e:[e];for(var n=0;n<e.length;n++){var r=this._getUrlRestString(e[0])||e[0];this.keys[r]=t}}}static getServerInfo(e){return this.servers=this.servers||{},this.servers[e]}static getToken(e){if(e){this.tokens=this.tokens||{};var t=this._getTokenStorageKey(e);return this.tokens[t]}}static getKey(e){this.keys=this.keys||{};var t=this._getUrlRestString(e)||e;return this.keys[t]}static loginiServer(e,t,n,r){e=te.urlPathAppend(e,"services/security/login");var i={username:t&&t.toString(),password:n&&n.toString(),rememberme:r};i=JSON.stringify(i);var s={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}};return Be.post(e,i,s).then((function(e){return e.json()}))}static logoutiServer(e){e=te.urlPathAppend(e,"services/security/logout");var t={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withoutFormatSuffix:!0};return Be.get(e,"",t).then((function(){return!0})).catch((function(){return!1}))}static loginOnline(e,t){var n=qe.SSO+"/login?service="+e;this._open(n,t)}static loginiPortal(e,t,n){e=te.urlPathAppend(e,"web/login");var r={username:t&&t.toString(),password:n&&n.toString()};r=JSON.stringify(r);var i={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0};return Be.post(e,r,i).then((function(e){return e.json()}))}static logoutiPortal(e){e=te.urlPathAppend(e,"services/security/logout");var t={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},withCredentials:!0,withoutFormatSuffix:!0};return Be.get(e,"",t).then((function(){return!0})).catch((function(){return!1}))}static loginManager(e,t,n){if(te.isInTheSameDomain(e)){var r=te.urlPathAppend(e,"icloud/security/tokens"),i=t||{},s={username:i.userName&&i.userName.toString(),password:i.password&&i.password.toString()};s=JSON.stringify(s);var o={headers:{Accept:"*/*","Content-Type":"application/json"}},a=this;return Be.post(r,s,o).then((function(e){e.text().then((function(e){return a.imanagerToken=e,e}))}))}var l=!n||n.isNewTab;this._open(e,l)}static destroyAllCredentials(){this.keys=null,this.tokens=null,this.servers=null}static destroyToken(e){if(e){var t=this._getTokenStorageKey(e);this.tokens=this.tokens||{},this.tokens[t]&&delete this.tokens[t]}}static destroyKey(e){if(e){this.keys=this.keys||{};var t=this._getUrlRestString(e)||e;this.keys[t]&&delete this.keys[t]}}static _open(e,t){t=null==t||t;var n=window.screen.availWidth/2-this.INNER_WINDOW_WIDTH/2,r=window.screen.availHeight/2-this.INNER_WINDOW_HEIGHT/2,i="height="+this.INNER_WINDOW_HEIGHT+", width="+this.INNER_WINDOW_WIDTH+",top="+r+", left="+n+",toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no";t?window.open(e,"login"):window.open(e,"login",i)}static _getTokenStorageKey(e){var t=/(.*?):\/\/([^\/]+)/i,n=e.match(t);return n?n[0]:e}static _getUrlRestString(e){if(!e)return e;var t=/(http|https):\/\/(.*\/rest)/i,n=e.match(t);return n?n[0]:e}}qe.INNER_WINDOW_WIDTH=600,qe.INNER_WINDOW_HEIGHT=600,qe.SSO="https://sso.supermap.com",qe.ONLINE="https://www.supermapol.com",u.SecurityManager=qe;class ze{constructor(e,t){if(e){var n=e.substr(e.length-1,1);this.serviceUrl="/"===n?e.substr(0,e.length-2):e}this.options=t||{},this.CLASS_NAME="SuperMap.iManagerServiceBase"}request(e,t,n,r){r=r||{headers:{Accept:"*/*","Content-Type":"application/json"}},r.hasOwnProperty("withCredentials")||(r["withCredentials"]=!0),r["crossOrigin"]=this.options.crossOrigin,r["headers"]=this.options.headers;var i=qe.imanagerToken;return i&&(r.headers||(r.headers=[]),r.headers["X-Auth-Token"]=i),n&&(n=JSON.stringify(n)),Be.commit(e,t,n,r).then((function(e){return e.json()}))}}u.iManagerServiceBase=ze;class Ue{constructor(e){e=e||{},this.nodeSpec="SMALL",this.nodeCount=1,this.nodeName="",this.password="",this.description="",this.physicalMachineName="",this.ips=[],this.userName="",te.extend(this,e)}}u.iManagerCreateNodeParam=Ue;class Ge extends ze{constructor(e){super(e)}load(){return this.request("GET",this.serviceUrl+"/web/api/service.json")}createIServer(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/server.json",new Ue(e))}createIPortal(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/portal.json",new Ue(e))}iServerList(){return this.request("GET",this.serviceUrl+"/icloud/web/nodes/server.json")}iPortalList(){return this.request("GET",this.serviceUrl+"/icloud/web/nodes/portal.json")}startNodes(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/started.json",e)}stopNodes(e){return this.request("POST",this.serviceUrl+"/icloud/web/nodes/stopped.json",e)}}u.iManager=Ge;class je{constructor(e,t){t=t||{},this.serviceUrl=e,this.serverType=h.iPortal,this.CLASS_NAME="SuperMap.iPortalServiceBase",this.withCredentials=t.withCredentials||!1,this.crossOrigin=t.crossOrigin,this.headers=t.headers}request(e,t,n,r={headers:this.headers,crossOrigin:this.crossOrigin,withCredentials:this.withCredentials}){return t=this.createCredentialUrl(t),Be.commit(e,t,n,r).then((function(e){return e.json()}))}createCredentialUrl(e){var t=e,n=this.getCredential();if(n){var r=t.substring(t.length-1,t.length);t.indexOf("?")>-1&&"?"===r?t+=n.getUrlParameters():t.indexOf("?")>-1&&"?"!==r?t+="&"+n.getUrlParameters():t+="?"+n.getUrlParameters()}return t}getCredential(){var e,t=qe.getToken(this.serviceUrl);return e=t?new ye(t,"token"):null,e||(t=this.getKey(),e=t?new ye(t,"key"):null),e}getKey(){}}u.iPortalServiceBase=je;class Ve{constructor(e){e=e||{},this.resourceType="",this.pageSize=12,this.currentPage=1,this.orderBy="UPDATETIME",this.orderType="DESC",this.searchType="PUBLIC",this.tags=[],this.dirIds=[],this.resourceSubTypes=[],this.aggregationTypes=[],this.text="",this.groupIds=[],this.departmentIds=[],te.extend(this,e)}}u.iPortalQueryParam=Ve;class We{constructor(e){e=e||{},this.content=[],this.total=0,this.currentPage=1,this.pageSize=12,this.aggregations=null,te.extend(this,e)}}u.iPortalQueryResult=We;class He extends je{constructor(e,t){super(e),t=t||{},this.authorizeSetting=[],this.bounds="",this.bounds4326="",this.checkStatus="",this.createTime=0,this.description=null,this.dirId=null,this.epsgCode=0,this.heatLevel=0,this.id=0,this.name="",this.personalDirId=null,this.resourceId=0,this.resourceSubType=null,this.resourceType=null,this.serviceRootUrlId=null,this.tags=null,this.thumbnail=null,this.updateTime=0,this.userName="",this.sourceJSON={},te.extend(this,t),this.resourceUrl=e+"/web/"+this.resourceType.replace("_","").toLowerCase()+"s/"+this.resourceId,this.withCredentials&&(this.resourceUrl=e+"/web/mycontent/"+this.resourceType.replace("_","").toLowerCase()+"s/"+this.resourceId)}load(){var e=this;return e.request("GET",e.resourceUrl+".json").then((function(t){if(t.error)return t;e.sourceJSON=t}))}update(){var e=this.resourceType.replace("_","").toLowerCase(),t={headers:{"Content-Type":"application/x-www-form-urlencoded"}};"data"===e&&(this.resourceUrl=this.resourceUrl+"/attributes.json");var n=JSON.stringify(this.sourceJSON);if("service"===e){var r={authorizeSetting:this.sourceJSON.authorizeSetting,metadata:this.sourceJSON.metadata,tags:this.sourceJSON.tags,thumbnail:this.sourceJSON.thumbnail,tokenRefreshUrl:this.sourceJSON.tokenRefreshUrl};n=JSON.stringify(r)}return this.request("PUT",this.resourceUrl,n,t)}}u.iPortalResource=He;class Je{constructor(e){e=e||{},this.ids=[],this.entities=[],this.resourceType="",te.extend(this,e)}}u.iPortalShareParam=Je;class Xe extends je{constructor(e,t){super(e,t),this.iportalUrl=e,t=t||{},this.withCredentials=t.withCredentials||!1}load(){return Be.get(this.iportalUrl+"/web")}queryResources(e){if(!(e instanceof Ve))return new Promise((function(e){e("queryParams is not instanceof iPortalQueryParam !")}));var t=this,n=this.iportalUrl+"/gateway/catalog/resource/search.json";return e.t=(new Date).getTime(),this.request("GET",n,e).then((function(e){var n=[];e.content.forEach((function(e){n.push(new He(t.iportalUrl,e))}));let r=new We;return r.content=n,r.total=e.total,r.currentPage=e.currentPage,r.pageSize=e.pageSize,r.aggregations=e.aggregations,r}))}updateResourcesShareSetting(e){if(!(e instanceof Je))return new Promise((function(e){e("shareParams is not instanceof iPortalShareParam !")}));var t=e.resourceType.replace("_","").toLowerCase()+"s";"datas"===t&&(t="mycontent/"+t);var n={ids:e.ids,entities:e.entities},r=this.iportalUrl+"/web/"+t+"/sharesetting.json";return this.request("PUT",r,JSON.stringify(n)).then((function(e){return e}))}}u.iPortal=Xe;class Ze{constructor(e){e=e||{},this.permissionType="",this.entityType="",this.entityName="GUEST",this.entityId=null,te.extend(this,e)}}u.iPortalShareEntity=Ze;class Ye{constructor(e){e=e||{},this.rootUrl="",this.tags=[],this.entities=[],te.extend(this,e)}}u.iPortalAddResourceParam=Ye;class Ke{constructor(e){e=e||{},this.type="",this.tags=[],this.entities=[],this.metadata={},this.addedMapNames=[],this.addedSceneNames=[],te.extend(this,e)}}u.iPortalRegisterServiceParam=Ke;class Qe{constructor(e){e=e||{},this.fileName="",this.type="",this.tags=[],this.dataMetaInfo={},te.extend(this,e)}}u.iPortalAddDataParam=Qe;class $e{constructor(e){e=e||{},this.xField="",this.yField="",this.fileEncoding="UTF-8",this.xIndex=1,this.yIndex=1,this.fieldTypes=[],this.separator="",this.firstRowIsHead=!0,this.url="",this.dataStoreInfo={},te.extend(this,e)}}u.iPortalDataMetaInfoParam=$e;class et{constructor(e){e=e||{},this.type="",this.url="",this.connectionInfo={},te.extend(this,e)}}u.iPortalDataStoreInfoParam=et;class tt{constructor(e){e=e||{},this.dataBase="",this.server="",te.extend(this,e)}}u.iPortalDataConnectionInfoParam=tt;class nt extends je{constructor(e){super(e),this.iportalUrl=e}deleteResources(e){var t=e.resourceType.replace("_","").toLowerCase(),n=this.iportalUrl+"/web/"+t+"s.json?ids="+encodeURI(JSON.stringify(e.ids));return"data"===t?(n=this.iportalUrl+"/web/mycontent/datas/delete.json",this.request("POST",n,JSON.stringify(e.ids))):this.request("DELETE",n)}addMap(e){if(!(e instanceof Ye))return this.getErrMsgPromise("addMapParams is not instanceof IPortalAddResourceParam !");let t={rootUrl:e.rootUrl,tags:e.tags,authorizeSetting:e.entities},n=this.iportalUrl+"/web/maps/batchaddmaps.json";return this.request("POST",n,JSON.stringify(t)).then((function(e){return e}))}addScene(e){if(!(e instanceof Ye))return this.getErrMsgPromise("addSceneParams is not instanceof IPortalAddResourceParam !");let t={rootUrl:e.rootUrl,tags:e.tags,authorizeSetting:e.entities},n=this.iportalUrl+"/web/scenes/batchaddscenes.json";return this.request("POST",n,JSON.stringify(t)).then((function(e){return e}))}registerService(e){if(!(e instanceof Ke))return this.getErrMsgPromise("registerParams is not instanceof IPortalRegisterServiceParam !");let t={type:e.type,tags:e.tags,authorizeSetting:e.entities,metadata:e.metadata,addedMapNames:e.addedMapNames,addedSceneNames:e.addedSceneNames},n=this.iportalUrl+"/web/services.json";return this.request("POST",n,JSON.stringify(t)).then(e=>e)}getErrMsgPromise(e){return new Promise(t=>{t(e)})}uploadDataRequest(e,t){var n=this.iportalUrl+"/web/mycontent/datas/"+e+"/upload.json";return this.request("POST",n,t)}addData(e,t){if(!(e instanceof Qe))return this.getErrMsgPromise("params is not instanceof iPortalAddDataParam !");var n,r=this.iportalUrl+"/web/mycontent/datas.json",i={fileName:e.fileName,tags:e.tags,type:e.type},s=e.type.toLowerCase();if("excel"===s||"csv"===s){if(!(e.dataMetaInfo instanceof $e))return this.getErrMsgPromise("params.dataMetaInfo is not instanceof iPortalDataMetaInfoParam !");n={xField:e.dataMetaInfo.xField,yField:e.dataMetaInfo.yField},"csv"===s&&(n.fileEncoding=e.dataMetaInfo.fileEncoding),i.coordType="WGS84",i.dataMetaInfo=n}else if("hdfs"===s||"hbase"===s){if(!(e.dataMetaInfo instanceof $e))return this.getErrMsgPromise("params.dataMetaInfo is not instanceof iPortalDataMetaInfoParam !");if(!(e.dataMetaInfo.dataStoreInfo instanceof et))return this.getErrMsgPromise("params.dataMetaInfo.dataStoreInfo is not instanceof iPortalDataStoreInfoParam !");var o={type:e.dataMetaInfo.dataStoreInfo.type};switch(s){case"hdfs":o.url=e.dataMetaInfo.dataStoreInfo.url,n={url:e.dataMetaInfo.url,dataStoreInfo:o};break;case"hbase":if(!(e.dataMetaInfo.dataStoreInfo.connectionInfo instanceof tt))return this.getErrMsgPromise("params.dataMetaInfo.dataStoreInfo.connectionInfo is not instanceof iPortalDataConnectionInfoParam !");o.connectionInfo={dataBase:e.dataMetaInfo.dataStoreInfo.connectionInfo.dataBase,server:e.dataMetaInfo.dataStoreInfo.connectionInfo.server,engineType:"HBASE"},o.datastoreType="SPATIAL",n={dataStoreInfo:o};break}i.dataMetaInfo=n}return this.request("POST",r,JSON.stringify(i)).then(e=>"hdfs"===s||"hbase"===s?e:e.childID?this.uploadDataRequest(e.childID,t):e.customResult)}publishOrUnpublish(e,t){if(!e.dataId||!e.serviceType)return this.getErrMsgPromise("option.dataID and option.serviceType are Required!");var n=e.dataId,r=e.dataServiceId,i=e.serviceType,s=this.iportalUrl+"/web/mycontent/datas/"+n+"/publishstatus.json?serviceType="+i;return r&&(s+="&dataServiceId="+r),this.request("PUT",s,JSON.stringify(t)).then(e=>t?(r||(r=e.customResult),r):e)}getDataPublishedStatus(e,t){var n=this.iportalUrl+"/web/mycontent/datas/"+e+"/publishstatus.json?dataServiceId="+t+"&forPublish=true";return this.request("GET",n)}unPublishDataService(e){return this.publishOrUnpublish(e,!1)}publishDataService(e){return this.publishOrUnpublish(e,!0)}}u.iPortalUser=nt;class rt{constructor(e,t){let n=this;this.EVENT_TYPES=["processCompleted","processFailed"],this.events=null,this.eventListeners=null,this.url=null,this.urls=null,this.proxy=null,this.serverType=null,this.index=null,this.length=null,this.options=null,this.totalTimes=null,this.POLLING_TIMES=3,this._processSuccess=null,this._processFailed=null,this.isInTheSameDomain=null,this.withCredentials=!1,te.isArray(e)?(n.urls=e,n.length=e.length,n.totalTimes=n.length,1===n.length?n.url=e[0]:(n.index=parseInt(Math.random()*n.length),n.url=e[n.index])):(n.totalTimes=1,n.url=e),te.isArray(e)&&!n.isServiceSupportPolling()&&(n.url=e[0],n.totalTimes=1),n.serverType=n.serverType||h.ISERVER,t=t||{},this.crossOrigin=t.crossOrigin,this.headers=t.headers,te.extend(this,t),n.isInTheSameDomain=te.isInTheSameDomain(n.url),n.events=new _e(n,null,n.EVENT_TYPES,!0),n.eventListeners instanceof Object&&n.events.on(n.eventListeners),this.CLASS_NAME="SuperMap.CommonServiceBase"}destroy(){let e=this;te.isArray(e.urls)&&(e.urls=null,e.index=null,e.length=null,e.totalTimes=null),e.url=null,e.options=null,e._processSuccess=null,e._processFailed=null,e.isInTheSameDomain=null,e.EVENT_TYPES=null,e.events&&(e.events.destroy(),e.events=null),e.eventListeners&&(e.eventListeners=null)}request(e){let t=this;e.url=e.url||t.url,e.proxy=e.proxy||t.proxy,e.withCredentials=void 0!=e.withCredentials?e.withCredentials:t.withCredentials,e.crossOrigin=void 0!=e.crossOrigin?e.crossOrigin:t.crossOrigin,e.headers=e.headers||t.headers,e.isInTheSameDomain=t.isInTheSameDomain;let n=this.getCredential(e.url);n&&(e.url=te.urlAppend(e.url,n.getUrlParameters())),t.calculatePollingTimes(),t._processSuccess=e.success,t._processFailed=e.failure,e.scope=t,e.success=t.getUrlCompleted,e.failure=t.getUrlFailed,t.options=e,t._commit(t.options)}getCredential(e){let t,n,r=e;switch(this.serverType){case h.IPORTAL:n=qe.getToken(r),t=n?new ye(n,"token"):null,t||(n=qe.getKey(r),t=n?new ye(n,"key"):null);break;case h.ONLINE:n=qe.getKey(r),t=n?new ye(n,"key"):null;break;default:n=qe.getToken(r),t=n?new ye(n,"token"):null;break}return t}getUrlCompleted(e){let t=this;t._processSuccess(e)}getUrlFailed(e){let t=this;t.totalTimes>0?(t.totalTimes--,t.ajaxPolling()):t._processFailed(e)}ajaxPolling(){let e=this,t=e.options.url,n=/^http:\/\/([a-z]{9}|(\d+\.){3}\d+):\d{0,4}/;e.index=parseInt(Math.random()*e.length),e.url=e.urls[e.index],t=t.replace(n,n.exec(e.url)[0]),e.options.url=t,e.options.isInTheSameDomain=te.isInTheSameDomain(t),e._commit(e.options)}calculatePollingTimes(){let e=this;e.times?e.totalTimes>e.POLLING_TIMES?e.times>e.POLLING_TIMES?e.totalTimes=e.POLLING_TIMES:e.totalTimes=e.times:e.times<e.totalTimes&&(e.totalTimes=e.times):e.totalTimes>e.POLLING_TIMES&&(e.totalTimes=e.POLLING_TIMES),e.totalTimes--}isServiceSupportPolling(){let e=this;return!("SuperMap.REST.ThemeService"===e.CLASS_NAME||"SuperMap.REST.EditFeaturesService"===e.CLASS_NAME)}serviceProcessCompleted(e){e=te.transformResult(e),this.events.triggerEvent("processCompleted",{result:e})}serviceProcessFailed(e){e=te.transformResult(e);let t=e.error||e;this.events.triggerEvent("processFailed",{error:t})}_commit(e){"POST"!==e.method&&"PUT"!==e.method||(e.params&&(e.url=te.urlAppend(e.url,te.getParameterString(e.params||{}))),e.params=e.data),Be.commit(e.method,e.url,e.params,{headers:e.headers,withCredentials:e.withCredentials,crossOrigin:e.crossOrigin,timeout:e.async?0:null,proxy:e.proxy}).then((function(e){return e.text?e.text():e.json?e.json():e})).then((function(t){var n=t;if("string"===typeof t&&(n=(new we).read(t)),(!n||n.error||n.code>=300&&304!==n.code)&&(n=n&&n.error?{error:n.error}:{error:n}),n.error){var r=e.scope?ee.bind(e.failure,e.scope):e.failure;r(n)}else{n.succeed=void 0==n.succeed||n.succeed;var i=e.scope?ee.bind(e.success,e.scope):e.success;i(n)}})).catch((function(t){var n=e.scope?ee.bind(e.failure,e.scope):e.failure;n(t)}))}}u.CommonServiceBase=rt;class it{constructor(e){e.filters&&"string"===typeof e.filters&&(e.filters=e.filters.split(",")),this.address=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,te.extend(this,e)}destroy(){this.address=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null}}u.GeoCodingParameter=it;class st{constructor(e){e.filters&&(e.filters=e.filters.split(",")),this.x=null,this.y=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,this.geoDecodingRadius=null,te.extend(this,e)}destroy(){this.x=null,this.y=null,this.fromIndex=null,this.toIndex=null,this.filters=null,this.prjCoordSys=null,this.maxReturn=null,this.geoDecodingRadius=null}}u.GeoDecodingParameter=st;class ot extends rt{constructor(e,t){super(e,t),this.options=t||{},this.CLASS_NAME="SuperMap.AddressMatchService"}destroy(){super.destroy()}code(e,t){t instanceof it&&this.processAsync(e,t)}decode(e,t){t instanceof st&&this.processAsync(e,t)}processAsync(e,t){this.request({method:"GET",url:e,params:t,scope:this,success:this.serviceProcessCompleted,failure:this.serviceProcessFailed})}serviceProcessCompleted(e){e.succeed&&delete e.succeed,super.serviceProcessCompleted(e)}serviceProcessFailed(e){super.serviceProcessFailed(e)}}u.AddressMatchService=ot;class at{constructor(e){this.name=null,this.queryType=null,this.CLASS_NAME="SuperMap.AggQueryBuilderParameter",te.extend(this,e)}destroy(){var e=this;e.name=null,e.queryType=null}}u.AggQueryBuilderParameter=at;class lt{constructor(e){this.aggName=null,this.aggType=null,this.aggFieldName=null,this.subAgg=null,this.CLASS_NAME="SuperMap.AggregationParameter",te.extend(this,e)}destroy(){var e=this;e.aggName=null,e.aggFieldName=null,e.aggType=null,e.subAgg&&(e.subAgg=null)}}u.AggregationParameter=lt;class ut{constructor(e){this.dataset=null,this.targetDatasourceName=null,this.totalGridName=null,this.diffuseDatasetGridName=null,this.durationDatasetGridName=null,this.directDatasetGridName=null,this.latitude=null,this.timeMode="MULTIDAYS",this.dayStart=null,this.dayEnd=null,this.hourStart=null,this.hourEnd=null,this.transmittance=null,this.hourInterval=null,this.dayInterval=null,this.deleteExistResultDataset=!1,te.extend(this,e),this.CLASS_NAME="SuperMap.AreaSolarRadiationParameters"}destroy(){var e=this;e.dataset=null,e.zFactor=1,e.averageCurvatureName=null,e.profileCurvatureName=null,e.planCurvatureName=null,e.deleteExistResultDataset=!0}static toObject(e,t){var n={};for(var r in e)if("dataset"!==r){var i="latitude"===r||"timeMode"===r||"dayStart"===r,s="dayEnd"===r||"hourStart"===r||"hourEnd"===r,o="transmittance"===r||"hourInterval"===r||"dayInterval"===r;i||s||o?n[r]=e[r]:t[r]=e[r]}t["parameter"]=n}}u.AreaSolarRadiationParameters=ut;class ct extends rt{constructor(e,t){super(e,t),this.format=c.GEOJSON,this.CLASS_NAME="SuperMap.SpatialAnalystBase"}destroy(){super.destroy(),this.format=null}serviceProcessCompleted(e){var t,n=this;if(e=te.transformResult(e),e&&n.format===c.GEOJSON&&"function"===typeof n.toGeoJSONResult)if(te.isArray(e)){for(var r=0;r<e.length;r++)e[r]=n.toGeoJSONResult(e[r]);t=e}else t=n.toGeoJSONResult(e);t||(t=e),n.events.triggerEvent("processCompleted",{result:t})}toGeoJSONResult(e){if(!e)return null;e.result&&e.result.resultGeometry&&(e=e.result);var t=new Pe;if(e.recordsets)for(var n=0,r=e.recordsets,i=r.length;n<i;n++)r[n].features&&(r[n].features=t.toGeoJSON(r[n].features));else e.recordset&&e.recordset.features&&(e.recordset.features=t.toGeoJSON(e.recordset.features));return e.resultGeometry&&(e.resultGeometry=t.toGeoJSON(e.resultGeometry)),e.regions&&(e.regions=t.toGeoJSON(e.regions)),e}}u.SpatialAnalystBase=ct;class ht extends ct{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.AreaSolarRadiationService"}destroy(){super.destroy()}processAsync(e){if(e instanceof ut){var t=this,n={};e instanceof ut&&(t.url=te.urlPathAppend(t.url,`datasets/${e.dataset}/solarradiation`)),t.url=te.urlAppend(t.url,"returnContent=true"),ut.toObject(e,n);var r=te.toJSON(n);t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}u.AreaSolarRadiationService=ht;class pt{constructor(e){this.exp=null,this.value=100,te.extend(this,e),this.CLASS_NAME="SuperMap.BufferDistance"}destroy(){this.exp=null,this.value=null}}u.BufferDistance=pt;class dt{constructor(e){this.endType=P.FLAT,this.leftDistance=new pt,this.rightDistance=new pt,this.semicircleLineSegment=4,this.radiusUnit=g.METER,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.BufferSetting"}destroy(){let e=this;e.endType=null,e.leftDistance&&(e.leftDistance.destroy(),e.leftDistance=null),e.rightDistance&&(e.rightDistance.destroy(),e.rightDistance=null),e.semicircleLineSegment=null,e.radiusUnit=null}}u.BufferSetting=dt;class ft{constructor(e){var t=this;t.bufferSetting=new dt,te.extend(this,e),this.CLASS_NAME="SuperMap.BufferAnalystParameters"}destroy(){var e=this;e.bufferSetting&&(e.bufferSetting.destroy(),e.bufferSetting=null)}}u.BufferAnalystParameters=ft;class mt{constructor(e){this.expectCount=1e3,this.dataset=null,this.dataReturnMode=N.RECORDSET_ONLY,this.deleteExistResultDataset=!0,te.extend(this,e),this.CLASS_NAME="SuperMap.DataReturnOption"}destroy(){var e=this;e.expectCount=null,e.dataset=null,e.dataReturnMode=null,e.deleteExistResultDataset=null}}u.DataReturnOption=mt;class yt{constructor(e){this.foreignTableName=null,this.joinFilter=null,this.joinType=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.JoinItem"}destroy(){var e=this;e.foreignTableName=null,e.joinFilter=null,e.joinType=null}toServerJSONObject(){var e={};return e=te.copyAttributes(e,this),e}}u.JoinItem=yt;class gt{constructor(e){this.alias=null,this.connect=null,this.dataBase=null,this.driver=null,this.engineType=null,this.exclusive=null,this.OpenLinkTable=null,this.password=null,this.readOnly=null,this.server=null,this.user=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.DatasourceConnectionInfo"}destroy(){var e=this;e.alias=null,e.connect=null,e.dataBase=null,e.driver=null,e.engineType=null,e.exclusive=null,e.OpenLinkTable=null,e.password=null,e.readOnly=null,e.server=null,e.user=null}}u.DatasourceConnectionInfo=gt;class _t{constructor(e){this.datasourceConnectionInfo=null,this.foreignKeys=null,this.foreignTable=null,this.linkFields=null,this.linkFilter=null,this.name=null,this.primaryKeys=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.LinkItem"}destroy(){var e=this;e.datasourceConnectionInfo instanceof gt&&(e.datasourceConnectionInfo.destroy(),e.datasourceConnectionInfo=null),e.foreignKeys=null,e.foreignTable=null,e.linkFields=null,e.linkFilter=null,e.name=null,e.primaryKeys=null}}u.LinkItem=_t;class vt{constructor(e){this.attributeFilter=null,this.name=null,this.joinItems=null,this.linkItems=null,this.ids=null,this.orderBy=null,this.groupBy=null,this.fields=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.FilterParameter"}destroy(){var e=this;if(e.attributeFilter=null,e.name=null,e.joinItems){for(let t=0,n=e.joinItems,r=n.length;t<r;t++)n[t].destroy();e.joinItems=null}if(e.linkItems){for(let t=0,n=e.linkItems,r=n.length;t<r;t++)n[t].destroy();e.linkItems=null}e.ids=null,e.orderBy=null,e.groupBy=null,e.fields=null}}u.FilterParameter=vt;class bt extends ft{constructor(e){super(e),this.dataset=null,this.filterQueryParameter=new vt,this.resultSetting=new mt,this.isAttributeRetained=!0,this.isUnion=!1,te.extend(this,e),this.CLASS_NAME="SuperMap.DatasetBufferAnalystParameters"}destroy(){super.destroy();var e=this;e.dataset=null,e.filterQueryParameter&&(e.filterQueryParameter.destroy(),e.filterQueryParameter=null),e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null),e.isAttributeRetained=null,e.isUnion=null}static toObject(e,t){for(var n in e)if("bufferSetting"===n)e.bufferSetting.radiusUnit=e.bufferSetting.radiusUnit.toUpperCase(),t.bufferAnalystParameter=e.bufferSetting;else if("resultSetting"===n)t.dataReturnOption=e.resultSetting;else{if("dataset"===n)continue;t[n]=e[n]}}}u.DatasetBufferAnalystParameters=bt;class xt extends ft{constructor(e){super(e),this.sourceGeometry=null,this.sourceGeometrySRID=null,e&&te.extend(this,e),this.CLASS_NAME=" SuperMap.GeometryBufferAnalystParameters"}destroy(){super.destroy();var e=this;e.sourceGeometry&&(e.sourceGeometry.destroy(),e.sourceGeometry=null)}static toObject(e,t){for(var n in e)if("bufferSetting"===n){var r={};for(var i in e.bufferSetting)r[i]=e.bufferSetting[i];t.analystParameter=r}else"sourceGeometry"===n?t.sourceGeometry=Ae.fromGeometry(e.sourceGeometry):t[n]=e[n]}}u.GeometryBufferAnalystParameters=xt;class wt extends ct{constructor(e,t){super(e,t),this.mode=null,t&&te.extend(this,t),this.CLASS_NAME="SuperMap.BufferAnalystService"}destroy(){super.destroy(),this.mode=null}processAsync(e){var t={},n=this;e instanceof bt?(n.mode="datasets",n.url=te.urlPathAppend(n.url,"datasets/"+e.dataset+"/buffer"),bt.toObject(e,t)):e instanceof xt&&(n.mode="geometry",n.url=te.urlPathAppend(n.url,"geometry/buffer"),xt.toObject(e,t));var r=te.toJSON(t);n.url=te.urlAppend(n.url,"returnContent=true"),n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}u.BufferAnalystService=wt;class St{constructor(e){this.type=M.UDB,this.datasetName="analystResult",this.datasourceInfo=null,this.outputPath="",te.extend(this,e),this.CLASS_NAME="SuperMap.OutputSetting"}destroy(){var e=this;e.type=null,e.datasetName=null,e.outputPath=null,e.datasourceInfo instanceof gt&&(e.datasourceInfo.destroy(),e.datasourceInfo=null)}}u.OutputSetting=St;class Ct{constructor(e){this.items=null,this.numericPrecision=1,this.rangeMode=w.EQUALINTERVAL,this.rangeCount="",this.colorGradientType=S.YELLOW_RED,te.extend(this,e),this.CLASS_NAME="SuperMap.MappingParameters"}destroy(){var e=this;if(e.items){if(e.items.length>0)for(var t in e.items)e.items[t].destroy(),e.items[t]=null;e.items=null}e.numericPrecision=null,e.rangeMode=null,e.rangeCount=null,e.colorGradientType=null}}u.MappingParameters=Ct;class Et{constructor(e){if(this.datasetName="",this.bounds="",this.distance="",this.distanceField="",this.distanceUnit=j.METER,this.dissolveField="",this.output=null,this.mappingParameters=null,!e)return this;te.extend(this,e),this.CLASS_NAME="SuperMap.BuffersAnalystJobsParameter"}destroy(){this.datasetName=null,this.bounds=null,this.distance=null,this.distanceField=null,this.distanceUnit=null,this.dissolveField=null,this.output instanceof St&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof Ct&&(this.mappingParameters.destroy(),this.mappingParameters=null)}static toObject(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t["analyst"]=t["analyst"]||{},"bounds"===n&&e[n]?t["analyst"][n]=e[n].toBBOX():t["analyst"][n]=e[n],"mappingParameters"===n&&(t["analyst"][n]=t["analyst"][n]||{},t["analyst"]["mappingParameters"]=e[n])):(t["output"]=t["output"]||{},t["output"]=e[n]):(t["input"]=t["input"]||{},t["input"][n]=e[n])}}u.BuffersAnalystJobsParameter=Et;class Tt extends rt{constructor(e,t){t=t||{},t.EVENT_TYPES=["processCompleted","processFailed","processRunning"],super(e,t),this.CLASS_NAME="SuperMap.ProcessingServiceBase"}destroy(){super.destroy()}getJobs(e){var t=this;Be.get(t._processUrl(e),null,{proxy:t.proxy}).then((function(e){return e.json()})).then((function(e){t.events.triggerEvent("processCompleted",{result:e})})).catch((function(e){t.eventListeners.processFailed({error:e})}))}addJob(e,t,n,r){var i=this,s=null;t&&t instanceof n&&(s=new Object,n.toObject(t,s));let o=Object.assign({"Content-Type":"application/x-www-form-urlencoded"},i.headers||{});var a={proxy:i.proxy,headers:o,withCredentials:i.withCredentials,crossOrigin:i.crossOrigin,isInTheSameDomain:i.isInTheSameDomain};Be.post(i._processUrl(e),JSON.stringify(s),a).then((function(e){return e.json()})).then((function(e){e.succeed?i.serviceProcessCompleted(e,r):i.serviceProcessFailed(e)})).catch((function(e){i.serviceProcessFailed({error:e})}))}serviceProcessCompleted(e,t){e=te.transformResult(e),t=t||1e3;var n=this;if(e)var r=setInterval((function(){Be.get(n._processUrl(e.newResourceLocation),{_t:(new Date).getTime()}).then((function(e){return e.json()})).then((function(e){n.events.triggerEvent("processRunning",{id:e.id,state:e.state}),"LOST"!==e.state.runState&&"KILLED"!==e.state.runState&&"FAILED"!==e.state.runState||(clearInterval(r),n.events.triggerEvent("processFailed",{error:e.state.errorMsg,state:e.state.runState})),"FINISHED"===e.state.runState&&e.setting.serviceInfo&&(clearInterval(r),n.events.triggerEvent("processCompleted",{result:e}))})).catch((function(e){clearInterval(r),n.events.triggerEvent("processFailed",{error:e})}))}),t)}serviceProcessFailed(e){super.serviceProcessFailed(e)}_processUrl(e){return qe.getToken(e)&&(e=te.urlAppend(e,"token="+qe.getToken(e))),e}}u.ProcessingServiceBase=Tt;class At extends Tt{constructor(e,t){super(e,t),this.url=te.urlPathAppend(this.url,"spatialanalyst/buffers"),this.CLASS_NAME="SuperMap.BuffersAnalystJobsService"}destroy(){super.destroy()}getBuffersJobs(){super.getJobs(this.url)}getBuffersJob(e){super.getJobs(te.urlPathAppend(this.url,e))}addBuffersJob(e,t){super.addJob(this.url,e,Et,t)}}u.BuffersAnalystJobsService=At;class Pt{constructor(e){var t=this;this.sourceNodeIDs=null,this.edgeID=null,this.nodeID=null,this.isUncertainDirectionValid=!1,te.extend(t,e),this.CLASS_NAME="SuperMap.BurstPipelineAnalystParameters"}destroy(){var e=this;e.sourceNodeIDs=null,e.edgeID=null,e.nodeID=null,e.isUncertainDirectionValid=null}}u.BurstPipelineAnalystParameters=Pt;class It extends rt{constructor(e,t){super(e,t),this.format=c.GEOJSON,this.CLASS_NAME="SuperMap.NetworkAnalystServiceBase"}destroy(){super.destroy(),this.format=null}serviceProcessCompleted(e){var t,n=this;e=te.transformResult(e),e&&n.format===c.GEOJSON&&"function"===typeof n.toGeoJSONResult&&(t=n.toGeoJSONResult(e)),t||(t=e),n.events.triggerEvent("processCompleted",{result:t})}toGeoJSONResult(e){return null}}u.NetworkAnalystServiceBase=It;class Lt extends It{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.BurstPipelineAnalystService"}destroy(){super.destroy()}processAsync(e){if(!(e instanceof Pt))return null;var t,n=this;if(n.url=te.urlPathAppend(n.url,"burstAnalyse"),t={sourceNodeIDs:e.sourceNodeIDs,isUncertainDirectionValid:e.isUncertainDirectionValid},null!==e.edgeID&&null!==e.nodeID)throw new Error("edgeID and nodeID cannot be null at the same time.");if(null===e.edgeID&&null===e.nodeID)throw new Error("edgeID and nodeID cannot be null at the same time.");null!==e.edgeID?t.edgeID=e.edgeID:t.nodeID=e.nodeID,n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}u.BurstPipelineAnalystService=Lt;class Mt extends rt{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.ChartFeatureInfoSpecsService"}destroy(){super.destroy(),te.reset(this)}processAsync(){var e=this,t="GET";e.isTempLayers||te.urlPathAppend(e.url,"chartFeatureInfoSpecs"),e.request({method:t,params:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}u.ChartFeatureInfoSpecsService=Mt;class Ot{constructor(e){this.isQueryPoint=null,this.isQueryLine=null,this.isQueryRegion=null,this.attributeFilter=null,this.chartFeatureInfoSpecCode=null,te.extend(this,e),this.CLASS_NAME="SuperMap.ChartQueryFilterParameter"}destroy(){var e=this;e.isQueryPoint=null,e.isQueryLine=null,e.isQueryRegion=null,e.attributeFilter=null,e.chartFeatureInfoSpecCode=null}toJson(){var e="";return e+='"isQueryPoint":'+this.isQueryPoint+",",e+='"isQueryLine":'+this.isQueryLine+",",e+='"isQueryRegion":'+this.isQueryRegion+",",this.attributeFilter&&(e+='"attributeFilter": "'+this.attributeFilter+'",'),e+='"chartFeatureInfoSpecCode":'+this.chartFeatureInfoSpecCode,e="{"+e+"}",e}}u.ChartQueryFilterParameter=Ot;class kt{constructor(e){this.queryMode=null,this.bounds=null,this.chartLayerNames=null,this.chartQueryFilterParameters=null,this.returnContent=!0,this.startRecord=0,this.expectCount=null,te.extend(this,e),this.CLASS_NAME="SuperMap.ChartQueryParameters"}destroy(){var e=this;e.queryMode=null,e.bounds=null,e.chartLayerNames=null,e.chartQueryFilterParameters=null,e.returnContent=!0,e.startRecord=0,e.expectCount=null}getVariablesJson(){var e="";if(e+='"queryMode":"'+this.queryMode+'",',this.chartLayerNames&&this.chartLayerNames.length){for(var t=[],n=this.chartLayerNames.length,r=0;r<n;r++)t.push('"'+this.chartLayerNames[r]+'"');var i="["+t.join(",")+"]";e+='"chartLayerNames":'+i+","}if("ChartBoundsQuery"===this.queryMode&&this.bounds&&(e+='"bounds":{"leftBottom":{"x":'+this.bounds.left+',"y":'+this.bounds.bottom+'},"rightTop":{"x":'+this.bounds.right+',"y":'+this.bounds.top+"}},"),this.chartQueryFilterParameters&&this.chartQueryFilterParameters.length){for(var s=[],o=this.chartQueryFilterParameters.length,a=0;a<o;a++){var l=this.chartQueryFilterParameters[a];l instanceof Ot&&s.push(l.toJson())}var u="["+s.join(",")+"]";u='"chartQueryParams":'+u+",",u+='"startRecord":'+this.startRecord+",",u+='"expectCount":'+this.expectCount,u="{"+u+"}",e+='"chartQueryParameters":'+u}return e="{"+e+"}",e}}u.ChartQueryParameters=kt;class Nt{constructor(e){e&&(this.customParams=null,this.prjCoordSys=null,this.expectCount=1e5,this.networkType=p.LINE,this.queryOption=d.ATTRIBUTEANDGEOMETRY,this.queryParams=null,this.startRecord=0,this.holdTime=10,this.returnCustomResult=!1,this.returnFeatureWithFieldCaption=!1,te.extend(this,e),this.CLASS_NAME="SuperMap.QueryParameters")}destroy(){var e=this;if(e.customParams=null,e.expectCount=null,e.networkType=null,e.queryOption=null,e.queryParams){for(var t=0,n=e.queryParams,r=n.length;t<r;t++)n[t].destroy();e.queryParams=null}e.startRecord=null,e.holdTime=null,e.returnCustomResult=null,e.prjCoordSys=null}}u.QueryParameters=Nt;class Rt extends rt{constructor(e,t){super(e,t),t=t||{},this.returnContent=null,this.format=c.GEOJSON,te.extend(this,t);var n=this;t.format&&(n.format=t.format.toUpperCase()),n.url&&(n.url=te.urlPathAppend(n.url,"queryResults"),this.CLASS_NAME="SuperMap.ChartQueryService")}destroy(){var e=this;rt.prototype.destroy.apply(this,arguments),e.returnContent=null,e.format=null}processAsync(e){if(e instanceof kt){var t,n=this;n.returnContent=e.returnContent,t=e.getVariablesJson(),n.returnContent&&(n.url=te.urlAppend(n.url,"returnContent=true")),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}serviceProcessCompleted(e){var t=this;if(e=te.transformResult(e),e&&e.recordsets&&t.format===c.GEOJSON)for(var n=0,r=e.recordsets,i=r.length;n<i;n++)if(r[n].features){var s=new Pe;r[n].features=s.toGeoJSON(r[n].features)}t.events.triggerEvent("processCompleted",{result:e})}getQueryParameters(e){return new Nt({queryMode:e.queryMode,bounds:e.bounds,chartLayerNames:e.chartLayerNames,chartQueryFilterParameters:e.chartQueryFilterParameters,returnContent:e.returnContent})}}u.ChartQueryService=Rt;class Dt{constructor(e){this.clipDatasetName=null,this.clipDatasourceName=null,this.clipRegion=null,this.isClipInRegion=!0,this.isExactClip=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ClipParameter"}destroy(){var e=this;e.clipDatasetName=null,e.clipDatasourceName=null,e.clipRegion=null,e.isClipInRegion=null,e.isExactClip=null}toJSON(){return te.toJSON({isClipInRegion:this.isClipInRegion,clipDatasetName:this.clipDatasetName,clipDatasourceName:this.clipDatasourceName,isExactClip:this.isExactClip,clipRegion:Ae.fromGeometry(this.clipRegion)})}}u.ClipParameter=Dt;class Ft{constructor(e){e=e||{},this.elevation=null,this.color=null,te.extend(this,e);var t=this,n=t.color;n&&(t.color=new Se(n.red,n.green,n.blue)),this.CLASS_NAME="SuperMap.ColorDictionary"}destroy(){te.reset(this)}toServerJSONObject(){var e={};return e=te.copyAttributes(e,this),e}}u.ColorDictionary=Ft;class Bt{constructor(e){e&&(this.returnEdgeFeatures=!1,this.returnEdgeGeometry=!1,this.returnEdgeIDs=!1,this.returnNodeFeatures=!1,this.returnNodeGeometry=!1,this.returnNodeIDs=!1,this.returnPathGuides=!1,this.returnRoutes=!1,te.extend(this,e),this.CLASS_NAME="SuperMap.TransportationAnalystResultSetting")}destroy(){var e=this;e.returnEdgeFeatures=null,e.returnEdgeGeometry=null,e.returnEdgeIDs=null,e.returnNodeFeatures=null,e.returnNodeGeometry=null,e.returnNodeIDs=null,e.returnPathGuides=null,e.returnRoutes=null}}u.TransportationAnalystResultSetting=Bt;class qt{constructor(e){e&&(this.barrierEdgeIDs=null,this.barrierNodeIDs=null,this.barrierPoints=null,this.weightFieldName=null,this.turnWeightField=null,this.resultSetting=new Bt,te.extend(this,e),this.CLASS_NAME="SuperMap.TransportationAnalystParameter")}destroy(){var e=this;if(e.barrierEdgeIDs=null,e.barrierNodeIDs=null,e.weightFieldName=null,e.turnWeightField=null,e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null),e.barrierPoints&&e.barrierPoints.length)for(var t in e.barrierPoints)e.barrierPoints[t].destroy();e.barrierPoints=null}}u.TransportationAnalystParameter=qt;class zt{constructor(e){this.isAnalyzeById=!1,this.nodes=null,this.parameter=new qt,te.extend(this,e),this.CLASS_NAME="SuperMap.ComputeWeightMatrixParameters"}destroy(){var e=this;e.isAnalyzeById=null,e.nodes=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}u.ComputeWeightMatrixParameters=zt;class Ut extends It{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.ComputeWeightMatrixService"}destroy(){super.destroy()}processAsync(e){if(e instanceof zt){var t,n=this;n.url=te.urlPathAppend(n.url,"weightmatrix"),t={parameter:te.toJSON(e.parameter),nodes:n.getJson(e.isAnalyzeById,e.nodes)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}getJson(e,t){var n="[",r=t?t.length:0;if(!1===e)for(let i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(let i=0;i<r;i++)i>0&&(n+=","),n+=t[i];return n+="]",n}}u.ComputeWeightMatrixService=Ut;class Gt extends rt{constructor(e,t){t=t||{},t.EVENT_TYPES=["broadcastSocketConnected","broadcastSocketError","broadcastFailed","broadcastSucceeded","subscribeSocketConnected","subscribeSocketError","messageSucceeded","setFilterParamSucceeded"],super(e,t),this.geometry=null,this.prjCoordSys=null,this.excludeField=null,te.extend(this,t),this.CLASS_NAME="SuperMap.DataFlowService"}initBroadcast(){var e=this;return this.broadcastWebSocket=this._connect(te.urlPathAppend(e.url,"broadcast")),this.broadcastWebSocket.onopen=function(t){e.broadcastWebSocket.isOpen=!0,t.eventType="broadcastSocketConnected",e.events.triggerEvent("broadcastSocketConnected",t)},this.broadcastWebSocket.onclose=function(t){e.broadcastWebSocket.isOpen=!1,t.eventType="broadcastSocketConnected",e.events.triggerEvent("broadcastSocketConnected",t)},this.broadcastWebSocket.onerror=function(t){t.eventType="broadcastSocketError",e.events.triggerEvent("broadcastSocketError",t)},this}broadcast(e){this.broadcastWebSocket&&this.broadcastWebSocket.isOpen?(this.broadcastWebSocket.send(JSON.stringify(e)),this.events.triggerEvent("broadcastSucceeded")):this.events.triggerEvent("broadcastFailed")}initSubscribe(){var e=this;return this.subscribeWebSocket=this._connect(te.urlPathAppend(e.url,"subscribe")),this.subscribeWebSocket.onopen=function(t){e.subscribeWebSocket.send(e._getFilterParams()),t.eventType="subscribeSocketConnected",e.events.triggerEvent("subscribeSocketConnected",t)},this.subscribeWebSocket.onerror=function(t){t.eventType="subscribeSocketError",e.events.triggerEvent("subscribeSocketError",t)},this.subscribeWebSocket.onmessage=function(t){e._onMessage(t)},this}setExcludeField(e){return this.excludeField=e,this.subscribeWebSocket.send(this._getFilterParams()),this}setGeometry(e){return this.geometry=e,this.subscribeWebSocket.send(this._getFilterParams()),this}unSubscribe(){this.subscribeWebSocket&&(this.subscribeWebSocket.close(),this.subscribeWebSocket=null)}unBroadcast(){this.broadcastWebSocket&&(this.broadcastWebSocket.close(),this.broadcastWebSocket=null)}destroy(){rt.prototype.destroy.apply(this,arguments);var e=this;e.geometry=null,e.prjCoordSys=null,e.excludeField=null,this.unBroadcast(),this.unSubscribe()}_getFilterParams(){var e={filterParam:{prjCoordSys:this.prjCoordSys,excludeField:this.excludeField,geometry:this.geometry}};return te.toJSON(e)}_onMessage(e){if(e.data&&e.data.indexOf("filterParam")>=0){var t=JSON.parse(e.data);return e.filterParam=t,e.eventType="setFilterParamSucceeded",void this.events.triggerEvent("setFilterParamSucceeded",e)}var n=JSON.parse(e.data);e.featureResult=n,e.eventType="messageSucceeded",this.events.triggerEvent("messageSucceeded",e)}_connect(e){if(e=this._appendCredentials(e),"WebSocket"in window)return new WebSocket(e);if("MozWebSocket"in window){var t=window.MozWebSocket;return new t(e)}return console.log("no WebSocket"),null}_appendCredentials(e){var t=qe.getToken(e);return t&&(e=te.urlAppend(e,"token="+t)),e}}u.DataFlowService=Gt;class jt{constructor(e){e=e||{},this.bounds=null,this.dataSourceName=null,this.description=null,this.encodeType=null,this.isReadOnly=null,this.name=null,this.prjCoordSys=null,this.tableName=null,this.type=null,te.extend(this,e);var t=this.bounds;t&&(this.bounds=new re(t.leftBottom.x,t.leftBottom.y,t.rightTop.x,t.rightTop.y)),this.CLASS_NAME="SuperMap.DatasetInfo"}destroy(){te.reset(this)}toServerJSONObject(){var e={};return e=te.copyAttributes(e,this),e.bounds&&e.bounds.toServerJSONObject&&(e.bounds=e.bounds.toServerJSONObject()),e}}u.DatasetInfo=jt;class Vt{constructor(e){this.operation=I.UNION,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.OverlayAnalystParameters"}destroy(){var e=this;e.operation=null}}u.OverlayAnalystParameters=Vt;class Wt extends Vt{constructor(e){super(e),this.operateDataset=null,this.operateDatasetFields=[],this.operateDatasetFilter=new vt,this.operateRegions=[],this.sourceDataset=null,this.sourceDatasetFields=[],this.sourceDatasetFilter=new vt,this.tolerance=0,this.resultSetting=new mt,te.extend(this,e),this.CLASS_NAME="SuperMap.DatasetOverlayAnalystParameters"}destroy(){super.destroy();var e=this;if(e.operateDataset=null,e.operateDatasetFields=null,e.operateDatasetFilter&&(e.operateDatasetFilter.destroy(),e.operateDatasetFilter=null),e.operateRegions){for(var t=0,n=e.operateRegions,r=n.length;t<r;t++)n[t].destroy();e.operateRegions=null}e.sourceDataset=null,e.sourceDatasetFields=null,e.sourceDatasetFilter&&(e.sourceDatasetFilter.destroy(),e.sourceDatasetFilter=null),e.tolerance=null,e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null)}static toObject(e,t){for(var n in e)if("sourceDataset"!==n)if("operateRegions"===n){t.operateRegions=[];var r=e.operateRegions;for(var i in r)r.hasOwnProperty(i)&&(t.operateRegions[i]=Ae.fromGeometry(r[i]))}else"resultSetting"===n?t.dataReturnOption=e.resultSetting:t[n]=e[n]}}u.DatasetOverlayAnalystParameters=Wt;class Ht{constructor(e){this.clipRegion=null,this.datumValue=0,this.expectedZValues=null,this.interval=0,this.resampleTolerance=0,this.smoothMethod=O.BSPLINE,this.smoothness=0,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.SurfaceAnalystParametersSetting"}destroy(){var e=this;e.clipRegion&&(e.clipRegion.destroy(),e.clipRegion=null),e.datumValue=null,e.expectedZValues=null,e.interval=null,e.resampleTolerance=null,e.smoothMethod=null,e.smoothness=null}toJSON(){let e="'datumValue':"+te.toJSON(this.datumValue);if(e+=",'interval':"+te.toJSON(this.interval),e+=",'resampleTolerance':"+te.toJSON(this.resampleTolerance),e+=",'smoothMethod':"+te.toJSON(this.smoothMethod),e+=",'smoothness':"+te.toJSON(this.smoothness),null!=this.expectedZValues&&(e+=",'expectedZValues':"+te.toJSON(this.expectedZValues)),null!=this.clipRegion){var t=this.clipRegion;this.clipRegion instanceof ie&&this.clipRegion.components&&(t=Ae.fromGeometry(this.clipRegion)),e+=",'clipRegion':"+te.toJSON(t)}return"{"+e+"}"}}u.SurfaceAnalystParametersSetting=Ht;class Jt{constructor(e){this.resolution=0,this.extractParameter=new Ht,this.resultSetting=new mt,this.surfaceAnalystMethod=k.ISOLINE,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.SurfaceAnalystParameters"}destroy(){var e=this;e.resolution=null,e.extractParameter&&(e.extractParameter.destroy(),e.extractParameter=null),e.resultSetting&&(e.resultSetting.destroy(),e.resultSetting=null),e.surfaceAnalystMethod=null}}u.SurfaceAnalystParameters=Jt;class Xt extends Jt{constructor(e){super(e),this.dataset=null,this.filterQueryParameter=new vt,this.zValueFieldName=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.DatasetSurfaceAnalystParameters"}destroy(){super.destroy();var e=this;e.dataset=null,e.filterQueryParameter&&(e.filterQueryParameter.destroy(),e.filterQueryParameter=null),e.zValueFieldName=null}static toObject(e,t){for(var n in e)if("filterQueryParameter"===n&&(t.filterQueryParameter=e.filterQueryParameter),"extractParameter"===n)e.extractParameter.clipRegion instanceof ie&&e.extractParameter.clipRegion.components&&(e.extractParameter.clipRegion=Ae.fromGeometry(e.extractParameter.clipRegion)),t.extractParameter=e.extractParameter;else{if("dataset"===n)continue;if("surfaceAnalystMethod"===n)continue;t[n]=e[n]}}}u.DatasetSurfaceAnalystParameters=Xt;class Zt{constructor(e){e&&(this.clipRegion=null,this.createResultDataset=!1,this.resultDatasetName=null,this.resultDatasourceName=null,this.returnResultRegion=!0,te.extend(this,e),this.CLASS_NAME="SuperMap.ThiessenAnalystParameters")}destroy(){var e=this;e.clipRegion&&(e.clipRegion.destroy(),e.clipRegion=null),e.createResultDataset=null,e.resultDatasetName=null,e.resultDatasourceName=null,e.returnResultRegion=null}}u.ThiessenAnalystParameters=Zt;class Yt extends Zt{constructor(e){super(e),this.filterQueryParameter=null,this.dataset=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.DatasetThiessenAnalystParameters"}destroy(){super.destroy();var e=this;e.filterQueryParameter&&(e.filterQueryParameter.destroy(),e.filterQueryParameter=null)}static toObject(e,t){for(var n in e)"clipRegion"===n?t.clipRegion=Ae.fromGeometry(e.clipRegion):t[n]=e[n]}}u.DatasetThiessenAnalystParameters=Yt;class Kt{constructor(e){this.dataset=null,this.bounds=null,this.fieldName=null,this.resultGridDatasetResolution=null,this.searchRadius=null,this.targetDatasource=null,this.resultGridName=null,this.deleteExistResultDataset=!1,te.extend(this,e),this.CLASS_NAME="SuperMap.DensityKernelAnalystParameters"}destroy(){var e=this;e.dataset=null,e.bounds=null,e.fieldName=null,e.resultGridDatasetResolution=null,e.searchRadius=null,e.targetDatasource=null,e.resultGridName=null,e.deleteExistResultDataset=null}static toObject(e,t){for(var n in e)"dataset"!==n&&(t[n]=e[n])}}u.DensityKernelAnalystParameters=Kt;class Qt extends ct{constructor(e,t){super(e,t),this.mode=null,t&&te.extend(this,t),this.CLASS_NAME="SuperMap.DensityAnalystService"}destroy(){super.destroy(),this.mode=null}processAsync(e){var t=this,n=new Object;e instanceof Kt&&(t.url=te.urlPathAppend(t.url,"datasets/"+e.dataset+"/densityanalyst/kernel"),t.mode="kernel"),Kt.toObject(e,n);var r=te.toJSON(n);t.url=te.urlAppend(t.url,"returnContent=true"),t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}u.DensityAnalystService=Qt;class $t{constructor(e){this.dataSourceName=null,this.dataSetName=null,this.features=null,this.editType=R.ADD,this.IDs=null,this.returnContent=!1,this.isUseBatch=!1,te.extend(this,e),this.CLASS_NAME="SuperMap.EditFeaturesParameters"}destroy(){var e=this;e.dataSourceName=null,e.dataSetName=null,e.features=null,e.editType=null,e.IDs=null,e.returnContent=null}static toJsonParameters(e){var t,n,r,i=e.editType;if(i===R.DELETE){if(null===e.IDs)return;r={ids:e.IDs}}else if(r=[],e.features){n=e.features.length;for(var s=0;s<n;s++)t=e.features[s],t.geometry=Ae.fromGeometry(t.geometry),r.push(t)}return te.toJSON(r)}}u.EditFeaturesParameters=$t;class en extends rt{constructor(e,t){super(e,t),this.returnContent=!1,this.isUseBatch=!1,t&&te.extend(this,t),this.url=te.urlPathAppend(this.url,"features"),this.CLASS_NAME="SuperMap.EditFeaturesService"}destroy(){super.destroy();var e=this;e.returnContent=null,e.isUseBatch=null,e.fromIndex=null,e.toIndex=null}processAsync(e){if(e instanceof $t){var t=this,n="POST",r="",i=e.editType,s=null;t.returnContent=e.returnContent,t.isUseBatch=e.isUseBatch,s=$t.toJsonParameters(e),i===R.DELETE?(r=te.toJSON(e.IDs),t.url=te.urlAppend(t.url,"ids="+r),n="DELETE",s=r):i===R.UPDATE?n="PUT":(t.isUseBatch&&(t.url=te.urlAppend(t.url,"isUseBatch="+t.isUseBatch),t.returnContent=!1),t.returnContent&&(t.url=te.urlAppend(t.url,"returnContent=true"),n="POST")),t.request({method:n,data:s,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}u.EditFeaturesService=en;class tn{constructor(e){this.edgeID=null,this.nodeID=null,this.weightName=null,this.isUncertainDirectionValid=!1,te.extend(this,e),this.CLASS_NAME="SuperMap.FacilityAnalyst3DParameters"}destroy(){var e=this;e.edgeID=null,e.nodeID=null,e.weightName=null,e.isUncertainDirectionValid=null}}u.FacilityAnalyst3DParameters=tn;class nn extends tn{constructor(e){super(e),this.CLASS_NAME="SuperMap.FacilityAnalystSinks3DParameters"}destroy(){super.destroy()}}u.FacilityAnalystSinks3DParameters=nn;class rn extends rt{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.FacilityAnalystSinks3DService"}destroy(){rt.prototype.destroy.apply(this,arguments)}processAsync(e){if(e instanceof nn){var t,n=this;n.url=te.urlPathAppend(n.url,"sinks"),t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}u.FacilityAnalystSinks3DService=rn;class sn extends tn{constructor(e){super(e),this.CLASS_NAME="SuperMap.FacilityAnalystSources3DParameters"}destroy(){super.destroy()}}u.FacilityAnalystSources3DParameters=sn;class on extends rt{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.FacilityAnalystSources3DService"}destroy(){super.destroy()}processAsync(e){if(e instanceof sn){var t,n=this;n.url=te.urlPathAppend(n.url,"sources"),t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}u.FacilityAnalystSources3DService=on;class an{constructor(e){this.sourceNodeIDs=null,this.edgeID=null,this.nodeID=null,this.isUncertainDirectionValid=!1,this.queryType=null,te.extend(this,e),this.CLASS_NAME="SuperMap.FacilityAnalystStreamParameters"}destroy(){var e=this;e.edgeID=null,e.nodeID=null,e.weightName=null,e.isUncertainDirectionValid=null,e.type=null}}u.FacilityAnalystStreamParameters=an;class ln extends It{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.FacilityAnalystStreamService"}destroy(){super.destroy()}processAsync(e){if(e instanceof an){var t,n=this;if(0===e.queryType)n.url=te.urlPathAppend(n.url,"upstreamcirticalfaclilities");else{if(1!==e.queryType)return;n.url=te.urlPathAppend(n.url,"downstreamcirticalfaclilities")}t={sourceNodeIDs:e.sourceNodeIDs,isUncertainDirectionValid:e.isUncertainDirectionValid},null!==e.edgeID&&null!==e.nodeID||null===e.edgeID&&null===e.nodeID||(null!==e.edgeID?t.edgeID=e.edgeID:t.nodeID=e.nodeID,n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed}))}}}u.FacilityAnalystStreamService=ln;class un extends tn{constructor(e){super(e),this.CLASS_NAME="SuperMap.FacilityAnalystTracedown3DParameters"}destroy(){super.destroy()}}u.FacilityAnalystTracedown3DParameters=un;class cn extends rt{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.FacilityAnalystTracedown3DService"}destroy(){super.destroy()}processAsync(e){if(e instanceof un){var t,n=this;n.url=te.urlPathAppend(n.url,"tracedownresult"),t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}u.FacilityAnalystTracedown3DService=cn;class hn extends tn{constructor(e){super(e),this.CLASS_NAME="SuperMap.FacilityAnalystTraceup3DParameters"}destroy(){super.destroy()}}u.FacilityAnalystTraceup3DParameters=hn;class pn extends rt{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.FacilityAnalystTraceup3DService"}destroy(){super.destroy()}processAsync(e){if(e instanceof hn){var t,n=this;n.url=te.urlPathAppend(n.url,"traceupresult"),t={edgeID:e.edgeID,nodeID:e.nodeID,weightName:e.weightName,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}u.FacilityAnalystTraceup3DService=pn;class dn extends tn{constructor(e){super(e),e=e||{},this.sourceNodeIDs=null,te.extend(this,e),this.CLASS_NAME="SuperMap.FacilityAnalystUpstream3DParameters"}destroy(){super.destroy(),this.sourceNodeIDs=null}}u.FacilityAnalystUpstream3DParameters=dn;class fn extends rt{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.FacilityAnalystUpstream3DService"}destroy(){super.destroy()}processAsync(e){if(e instanceof dn){var t,n=this;n.url=te.urlPathAppend(n.url,"upstreamcirticalfaclilities"),t={sourceNodeIDs:e.sourceNodeIDs,edgeID:e.edgeID,nodeID:e.nodeID,isUncertainDirectionValid:e.isUncertainDirectionValid},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}u.FacilityAnalystUpstream3DService=fn;class mn extends lt{constructor(e){super(e),this.filterParam=null,this.aggType=J.FILTER,this.CLASS_NAME="SuperMap.FilterAggParameter",te.extend(this,e)}destroy(){super.destroy();var e=this;e.filterParam&&(e.filterParam=null)}}u.FilterAggParameter=mn;class yn{constructor(e){this.datasource=null,this.dataset=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.FieldParameters"}destroy(){var e=this;e.datasource=null,e.dataset=null}}u.FieldParameters=yn;class gn extends yn{constructor(e){super(e),this.fieldName=null,this.statisticMode=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.FieldStatisticsParameters"}destroy(){var e=this;e.fieldName=null,e.statisticMode=null}}u.FieldStatisticsParameters=gn;class _n extends rt{constructor(e,t){super(e,t),this.datasource=null,this.dataset=null,this.field=null,this.statisticMode=null,t&&te.extend(this,t),this.CLASS_NAME="SuperMap.FieldStatisticService"}destroy(){super.destroy();var e=this;e.datasource=null,e.dataset=null,e.field=null,e.statisticMode=null}processAsync(){var e=this,t="datasources/"+e.datasource+"/datasets/"+e.dataset+"/fields/"+e.field+"/"+e.statisticMode;e.url=te.urlPathAppend(e.url,t),e.request({method:"GET",data:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}u.FieldStatisticService=_n;class vn{constructor(e){this.event=null,this.expectFacilityCount=1,this.facilities=null,this.fromEvent=!1,this.isAnalyzeById=!1,this.maxWeight=0,this.parameter=new qt,te.extend(this,e),this.CLASS_NAME="SuperMap.FindClosestFacilitiesParameters"}destroy(){var e=this;e.event=null,e.expectFacilityCount=null,e.facilities=null,e.fromEvent=null,e.isAnalyzeById=null,e.maxWeight=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}u.FindClosestFacilitiesParameters=vn;class bn extends It{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.FindClosestFacilitiesService"}destroy(){super.destroy()}processAsync(e){if(e instanceof vn){var t,n=this;n.url=te.urlPathAppend(n.url,"closestfacility"),t={expectFacilityCount:e.expectFacilityCount,fromEvent:e.fromEvent,maxWeight:e.maxWeight,parameter:te.toJSON(e.parameter),event:te.toJSON(e.event),facilities:n.getJson(e.isAnalyzeById,e.facilities)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}getJson(e,t){var n="[",r=t?t.length:0;if(!1===e)for(let i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(let i=0;i<r;i++)i>0&&(n+=","),n+=t[i];return n+="]",n}toGeoJSONResult(e){if(!e||!e.facilityPathList)return e;var t=new Pe;return e.facilityPathList.map((function(e){return e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures)),e})),e}}u.FindClosestFacilitiesService=bn;class xn{constructor(e){this.expectedSupplyCenterCount=null,this.isFromCenter=!1,this.supplyCenters=null,this.turnWeightField=null,this.weightName=null,te.extend(this,e),this.CLASS_NAME="SuperMap.FindLocationParameters"}destroy(){var e=this;if(e.expectedSupplyCenterCount=null,e.isFromCenter=null,e.turnWeightField=null,e.weightName=null,e.supplyCenters){for(var t=0,n=e.supplyCenters,r=n.length;t<r;t++)n[t].destroy();e.supplyCenters=null}}}u.FindLocationParameters=xn;class wn extends It{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.FindLocationService"}destroy(){super.destroy()}processAsync(e){if(e instanceof xn){var t,n=this;n.url=te.urlPathAppend(n.url,"location"),t={isFromCenter:e.isFromCenter,expectedSupplyCenterCount:e.expectedSupplyCenterCount,weightName:e.weightName,turnWeightField:e.turnWeightField,returnEdgeFeature:!0,returnEdgeGeometry:!0,returnNodeFeature:!0,mapParameter:te.toJSON(e.mapParameter),supplyCenters:n.getCentersJson(e.supplyCenters)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}getCentersJson(e){for(var t="[",n=e?e.length:0,r=0;r<n;r++)r>0&&(t+=","),t+=te.toJSON(e[r]);return t+="]",t}toGeoJSONResult(e){if(!e)return null;var t=new Pe;return e.demandResults&&(e.demandResults=t.toGeoJSON(e.demandResults)),e.supplyResults&&(e.supplyResults=t.toGeoJSON(e.supplyResults)),e}}u.FindLocationService=wn;class Sn{constructor(e){this.centers=null,this.hasLeastTotalCost=!1,this.isAnalyzeById=!1,this.nodes=null,this.parameter=new qt,te.extend(this,e),this.CLASS_NAME="SuperMap.FindMTSPPathsParameters"}destroy(){var e=this;e.centers=null,e.hasLeastTotalCost=null,e.isAnalyzeById=null,e.nodes=null,e.maxWeight=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}u.FindMTSPPathsParameters=Sn;class Cn extends It{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.FindMTSPPathsService"}destroy(){super.destroy()}processAsync(e){if(e instanceof Sn){var t,n=this,r=n.getJson(e.isAnalyzeById,e.centers),i=n.getJson(e.isAnalyzeById,e.nodes);n.url=te.urlPathAppend(n.url,"mtsppath"),t={centers:r,nodes:i,parameter:te.toJSON(e.parameter),hasLeastTotalCost:e.hasLeastTotalCost},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}getJson(e,t){var n="[",r=t?t.length:0;if(!1===e)for(let i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(let i=0;i<r;i++)i>0&&(n+=","),n+=t[i];return n+="]",n}toGeoJSONResult(e){if(!e||!e.pathList)return null;var t=new Pe;return e.pathList.map((function(e){return e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures)),e})),e}}u.FindMTSPPathsService=Cn;class En{constructor(e){this.isAnalyzeById=!1,this.hasLeastEdgeCount=null,this.nodes=null,this.parameter=new qt,te.extend(this,e),this.CLASS_NAME="SuperMap.FindPathParameters"}destroy(){var e=this;e.isAnalyzeById=null,e.hasLeastEdgeCount=null,e.nodes=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}u.FindPathParameters=En;class Tn extends It{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.FindPathService"}destroy(){super.destroy()}processAsync(e){if(e instanceof En){var t,n=this;n.url=te.urlPathAppend(n.url,"path"),t={hasLeastEdgeCount:e.hasLeastEdgeCount,parameter:te.toJSON(e.parameter),nodes:n.getJson(e.isAnalyzeById,e.nodes)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}getJson(e,t){var n="[",r=t?t.length:0;if(!1===e)for(let i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(let i=0;i<r;i++)i>0&&(n+=","),n+=t[i];return n+="]",n}toGeoJSONResult(e){if(!e||!e.pathList||e.pathList.length<1)return null;var t=new Pe;return e.pathList.forEach((function(e){e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures))})),e}}u.FindPathService=Tn;class An{constructor(e){this.isAnalyzeById=!1,this.isCenterMutuallyExclusive=!1,this.centers=null,this.isFromCenter=!1,this.weights=null,this.parameter=new qt,te.extend(this,e),this.CLASS_NAME="SuperMap.FindServiceAreasParameters"}destroy(){var e=this;e.isAnalyzeById=null,e.isCenterMutuallyExclusive=null,e.centers=null,e.isFromCenter=null,e.weights=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}u.FindServiceAreasParameters=An;class Pn extends It{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.FindServiceAreasService"}destroy(){super.destroy()}processAsync(e){if(e instanceof An){var t,n=this;n.url=te.urlPathAppend(n.url,"servicearea"),t={isFromCenter:e.isFromCenter,isCenterMutuallyExclusive:e.isCenterMutuallyExclusive,parameter:te.toJSON(e.parameter),centers:n.getJson(e.isAnalyzeById,e.centers),weights:n.getJson(!0,e.weights)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}getJson(e,t){var n="[",r=t?t.length:0;if(!1===e)for(let i=0;i<r;i++)i>0&&(n+=","),n+='{"x":'+t[i].x+',"y":'+t[i].y+"}";else if(!0===e)for(let i=0;i<r;i++)i>0&&(n+=","),n+=t[i];return n+="]",n}toGeoJSONResult(e){if(!e||!e.serviceAreaList)return e;var t=new Pe;return e.serviceAreaList.map((function(e){return e.serviceRegion&&(e.serviceRegion=t.toGeoJSON(e.serviceRegion)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures)),e.routes&&(e.routes=t.toGeoJSON(e.routes)),e})),e}}u.FindServiceAreasService=Pn;class In{constructor(e){this.endNodeAssigned=!1,this.isAnalyzeById=!1,this.nodes=null,this.parameter=new qt,te.extend(this,e),this.CLASS_NAME="SuperMap.FindTSPPathsParameters"}destroy(){var e=this;e.endNodeAssigned=null,e.isAnalyzeById=null,e.nodes=null,e.parameter&&(e.parameter.destroy(),e.parameter=null)}}u.FindTSPPathsParameters=In;class Ln extends It{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.FindTSPPathsService"}destroy(){super.destroy()}processAsync(e){if(e instanceof In){var t,n=this;n.url=te.urlPathAppend(n.url,"tsppath"),t={parameter:u.Util.toJSON(e.parameter),endNodeAssigned:e.endNodeAssigned,nodes:n.getNodesJson(e)},n.request({method:"GET",params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}getNodesJson(e){var t,n,r,i,s="";if(!1===e.isAnalyzeById){for(t="[",n=0,i=e.nodes,r=i.length;n<r;n++)n>0&&(t+=","),t+='{"x":'+i[n].x+',"y":'+i[n].y+"}";t+="]",s+=t}else if(!0===e.isAnalyzeById){let t="[",n=e.nodes,r=n.length;for(let e=0;e<r;e++)e>0&&(t+=","),t+=n[e];t+="]",s+=t}return s}toGeoJSONResult(e){if(!e||!e.tspPathList)return null;var t=new Pe;return e.tspPathList.forEach((function(e){e.route&&(e.route=t.toGeoJSON(e.route)),e.pathGuideItems&&(e.pathGuideItems=t.toGeoJSON(e.pathGuideItems)),e.edgeFeatures&&(e.edgeFeatures=t.toGeoJSON(e.edgeFeatures)),e.nodeFeatures&&(e.nodeFeatures=t.toGeoJSON(e.nodeFeatures))})),e}}u.FindTSPPathsService=Ln;class Mn{constructor(e){this.routeTable=null,this.routeIDField=null,this.attributeFilter=null,this.eventTable=null,this.eventRouteIDField=null,this.measureField=null,this.measureStartField=null,this.measureEndField=null,this.measureOffsetField=null,this.errorInfoField=null,this.retainedFields=null,this.dataReturnOption=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.GenerateSpatialDataParameters"}destroy(){var e=this;e.routeTable&&(e.routeTable=null),e.routeIDField=null,e.attributeFilter=null,e.eventTable=null,e.eventRouteIDField=null,e.measureField=null,e.measureStartField=null,e.measureEndField=null,e.measureOffsetField=null,e.errorInfoField=null,e.dataReturnOption&&(e.dataReturnOption.destroy(),e.dataReturnOption=null)}}u.GenerateSpatialDataParameters=Mn;class On extends ct{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.GenerateSpatialDataService"}destroy(){super.destroy()}processAsync(e){if(e instanceof Mn){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}getJsonParameters(e){var t="",n="datasets/"+e.routeTable+"/linearreferencing/generatespatialdata",r=this;return r.url=te.urlPathAppend(r.url,n),r.url=te.urlAppend(r.url,"returnContent=true"),t=te.toJSON(e),t}}u.GenerateSpatialDataService=On;class kn extends at{constructor(e){super(e),this.bounds=null,this.queryType=X.GEO_BOUNDING_BOX,this.CLASS_NAME="SuperMap.GeoBoundingBoxQueryBuilderParameter",te.extend(this,e)}destroy(){super.destroy(),this.bounds=null,this.queryType=null}}u.GeoBoundingBoxQueryBuilderParameter=kn;class Nn extends lt{constructor(e){super(e),this.precision=5,this.aggType=J.GEOHASH_GRID,te.extend(this,e),this.CLASS_NAME="SuperMap.GeoHashGridAggParameter"}destroy(){super.destroy(),this.aggType=null}static toJsonParameters(e){var t={aggName:e.aggName,aggFieldName:e.aggFieldName,aggType:e.aggType,precision:e.precision};return e.subAgg&&(t.subAgg=e.subAgg),te.toJson(t)}}u.GeoHashGridAggParameter=Nn;class Rn extends Vt{constructor(e){super(e),e&&e.operateGeometry&&(this.operateGeometry=e.operateGeometry),e&&e.sourceGeometry&&(this.sourceGeometry=e.sourceGeometry),e&&e.operateGeometries&&(this.operateGeometries=e.operateGeometries),e&&e.sourceGeometries&&(this.sourceGeometries=e.sourceGeometries),e&&te.extend(this,e),this.CLASS_NAME="SuperMap.GeometryOverlayAnalystParameters"}destroy(){super.destroy();var e=this;e.sourceGeometry&&(e.sourceGeometry.destroy(),e.sourceGeometry=null),e.sourceGeometries&&(e.sourceGeometries.destroy(),e.sourceGeometries=null),e.sourceGeometry&&(e.sourceGeometry.destroy(),e.sourceGeometry=null),e.operateGeometries&&(e.operateGeometries.destroy(),e.operateGeometries=null)}static toObject(e,t){for(var n in e)if("sourceGeometry"===n)t.sourceGeometry=Ae.fromGeometry(e.sourceGeometry);else if("sourceGeometries"===n){for(var r=[],i=0;i<e.sourceGeometries.length;i++)r.push(Ae.fromGeometry(e.sourceGeometries[i]));t.sourceGeometries=r}else if("operateGeometry"===n)t.operateGeometry=Ae.fromGeometry(e.operateGeometry);else if("operateGeometries"===n){for(var s=[],o=0;o<e.operateGeometries.length;o++)s.push(Ae.fromGeometry(e.operateGeometries[o]));t.operateGeometries=s}else t[n]=e[n]}}u.GeometryOverlayAnalystParameters=Rn;class Dn extends Jt{constructor(e){super(e),this.points=null,this.zValues=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.GeometrySurfaceAnalystParameters"}destroy(){super.destroy();var e=this;if(e.points){for(var t=0,n=e.points,r=n.length;t<r;t++)n[t].destroy();e.points=null}e.zValues=null}}u.GeometrySurfaceAnalystParameters=Dn;class Fn extends Zt{constructor(e){super(e),this.points=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.GeometryThiessenAnalystParameters"}destroy(){super.destroy();var e=this;if(e.points){for(var t=e.points.length-1;t>=0;t--)e.points[t].destroy();e.points=null}}static toObject(e,t){for(var n in e)"clipRegion"===n?t.clipRegion=Ae.fromGeometry(e.clipRegion):t[n]=e[n]}}u.GeometryThiessenAnalystParameters=Fn;class Bn extends rt{constructor(e,t){t=t||{},t.EVENT_TYPES=["processCompleted","processFailed","processRunning"],super(e,t),this.CLASS_NAME="SuperMap.GeoprocessingService",this.headers={},this.crossOrigin=!0}getTools(){this._get(this.url+"/list")}getTool(e){this._get(`${this.url}/${e}`)}execute(e,t,n){t=t||null,n=n||null;const r={parameter:t,environment:n};this._get(`${this.url}/${e}/execute`,r)}submitJob(e,t,n){t=t||null,n=n||null;const r={parameter:t,environments:n};this.request({url:`${this.url}/${e}/jobs`,headers:{"Content-type":"application/json"},method:"POST",data:JSON.stringify(r),scope:this,success:this.serviceProcessCompleted,failure:this.serviceProcessFailed})}waitForJobCompletion(e,t,n){const r=this,i=setInterval((function(){const s=function(e){const t=e.state.runState;switch(n.statusCallback&&n.statusCallback(t),t){case"FINISHED":clearInterval(i),r.events.triggerEvent("processCompleted",{result:e});break;case"FAILED":clearInterval(i),r.events.triggerEvent("processFailed",{result:e});break;case"CANCELED":clearInterval(i),r.events.triggerEvent("processFailed",{result:e});break}};r._get(`${r.url}/${t}/jobs/${e}`,null,s)}),n.interval)}getJobInfo(e,t){this._get(`${this.url}/${e}/jobs/${t}`)}cancelJob(e,t){this._get(`${this.url}/${e}/jobs/${t}/cancel`)}getJobs(e){let t=this.url+"/jobs";e&&(t=`${this.url}/${e}/jobs`),this._get(t)}getResults(e,t,n){let r=`${this.url}/${e}/jobs/${t}/results`;n&&(r=`${r}/${n}`),this._get(r)}_get(e,t,n,r){this.request({url:e,method:"GET",params:t,headers:{"Content-type":"application/json"},scope:this,success:n||this.serviceProcessCompleted,failure:r||this.serviceProcessFailed})}}u.GeoprocessingService=Bn;class qn{constructor(e){this.dataset=null,this.sourceFilter=null,this.referenceFilter=null,this.spatialRelationType=null,this.isBorderInside=null,this.returnFeature=null,this.returnGeoRelatedOnly=null,this.startRecord=0,this.expectCount=500,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.GeoRelationAnalystParameters"}destroy(){var e=this;e.sourceFilter&&e.sourceFilter.destroy(),e.sourceFilter=null,e.referenceFilter&&e.referenceFilter.destroy(),e.referenceFilter=null,e.dataset=null,e.spatialRelationType=null,e.isBorderInside=null,e.returnFeature=null,e.returnGeoRelatedOnly=null,e.startRecord=null,e.expectCount=null}}u.GeoRelationAnalystParameters=qn;class zn extends ct{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.GeoRelationAnalystService"}destroy(){super.destroy()}processAsync(e){if(e instanceof qn){var t=this;t.url=te.urlPathAppend(t.url,"datasets/"+e.dataset+"/georelation");var n=u.Util.toJSON(e);t.url=te.urlAppend(t.url,"returnContent=true"),t.request({method:"POST",data:n,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}u.GeoRelationAnalystService=zn;class Un{constructor(e){this.datasetNames=null,this.targetEpsgCode=null,this.targetPrj=null,this.returnContent=!0,this.fromIndex=0,this.toIndex=19,this.returnCountOnly=!1,this.maxFeatures=null,this.aggregations=null,te.extend(this,e),this.CLASS_NAME="SuperMap.GetFeaturesParametersBase"}destroy(){var e=this;e.datasetNames=null,e.returnContent=null,e.fromIndex=null,e.toIndex=null,e.maxFeatures=null,e.targetEpsgCode=null,e.targetPrj=null,e.aggregation&&(e.aggregation=null)}}u.GetFeaturesParametersBase=Un;class Gn extends Un{constructor(e){super(e),this.getFeatureMode=Gn.getFeatureMode.BOUNDS,this.bounds=null,this.fields=null,this.attributeFilter=null,this.spatialQueryMode=f.CONTAIN,te.extend(this,e),this.CLASS_NAME="SuperMap.GetFeaturesByBoundsParameters"}destroy(){super.destroy();var e=this;if(e.bounds&&(e.bounds.destroy(),e.bounds=null),e.fields){while(e.fields.length>0)e.fields.pop();e.fields=null}e.attributeFilter=null,e.spatialQueryMode=null,e.getFeatureMode=null}static toJsonParameters(e){var t,n,r;return n={leftBottom:{x:e.bounds.left,y:e.bounds.bottom},rightTop:{x:e.bounds.right,y:e.bounds.top}},r={datasetNames:e.datasetNames,getFeatureMode:Gn.getFeatureMode.BOUNDS,bounds:n,spatialQueryMode:e.spatialQueryMode},e.fields&&(t=new vt,t.name=e.datasetNames,t.fields=e.fields,r.queryParameter=t),e.attributeFilter&&(r.attributeFilter=e.attributeFilter,r.getFeatureMode=Gn.getFeatureMode.BOUNDS_ATTRIBUTEFILTER),e.maxFeatures&&!isNaN(e.maxFeatures)&&(r.maxFeatures=e.maxFeatures),e.targetEpsgCode&&(r.targetEpsgCode=e.targetEpsgCode),!e.targetEpsgCode&&e.targetPrj&&(r.targetPrj=e.targetPrj),te.toJSON(r)}}Gn.getFeatureMode={BOUNDS:"BOUNDS",BOUNDS_ATTRIBUTEFILTER:"BOUNDS_ATTRIBUTEFILTER"},u.GetFeaturesByBoundsParameters=Gn;class jn extends rt{constructor(e,t){super(e,t),t=t||{},this.returnContent=!0,this.fromIndex=0,this.toIndex=19,this.maxFeatures=null,this.format=c.GEOJSON,te.extend(this,t),this.url=te.urlPathAppend(this.url,"featureResults"),this.CLASS_NAME="SuperMap.GetFeaturesServiceBase"}destroy(){super.destroy();var e=this;e.returnContent=null,e.fromIndex=null,e.toIndex=null,e.maxFeatures=null,e.format=null}processAsync(e){if(e){var t=this,n=null,r=!0;t.returnContent=e.returnContent,t.fromIndex=e.fromIndex,t.toIndex=e.toIndex,t.maxFeatures=e.maxFeatures,t.returnContent&&(t.url=te.urlAppend(t.url,"returnContent="+t.returnContent),r=!1);var i=null!=t.fromIndex&&null!=t.toIndex&&!isNaN(t.fromIndex)&&!isNaN(t.toIndex);i&&t.fromIndex>=0&&t.toIndex>=0&&!r&&(t.url=te.urlAppend(t.url,`fromIndex=${t.fromIndex}&toIndex=${t.toIndex}`)),e.returnCountOnly&&(t.url=te.urlAppend(t.url,"&returnCountOnly="+e.returnContent)),n=t.getJsonParameters(e),t.request({method:"POST",data:n,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}serviceProcessCompleted(e){var t=this;if(e=te.transformResult(e),t.format===c.GEOJSON&&e.features){var n=new Pe;e.features=n.toGeoJSON(e.features)}t.events.triggerEvent("processCompleted",{result:e})}}u.GetFeaturesServiceBase=jn;class Vn extends jn{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.GetFeaturesByBoundsService"}destroy(){super.destroy()}getJsonParameters(e){return Gn.toJsonParameters(e)}}u.GetFeaturesByBoundsService=Vn;class Wn extends Un{constructor(e){super(e),this.bufferDistance=null,this.attributeFilter=null,this.geometry=null,this.fields=null,te.extend(this,e),this.CLASS_NAME="SuperMap.GetFeaturesByBufferParameters"}destroy(){super.destroy();var e=this;if(e.bufferDistance=null,e.attributeFilter=null,e.fields){while(e.fields.length>0)e.fields.pop();e.fields=null}e.geometry&&(e.geometry.destroy(),e.geometry=null)}static toJsonParameters(e){var t,n,r;return r=Ae.fromGeometry(e.geometry),n={datasetNames:e.datasetNames,getFeatureMode:"BUFFER",bufferDistance:e.bufferDistance,geometry:r},e.fields&&(t=new vt,t.name=e.datasetNames,t.fields=e.fields,n.queryParameter=t),e.attributeFilter&&(n.attributeFilter=e.attributeFilter,n.getFeatureMode="BUFFER_ATTRIBUTEFILTER"),e.maxFeatures&&!isNaN(e.maxFeatures)&&(n.maxFeatures=e.maxFeatures),e.targetEpsgCode&&(n.targetEpsgCode=e.targetEpsgCode),!e.targetEpsgCode&&e.targetPrj&&(n.targetPrj=e.targetPrj),te.toJSON(n)}}u.GetFeaturesByBufferParameters=Wn;class Hn extends jn{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.GetFeaturesByBufferService"}destroy(){super.destroy()}getJsonParameters(e){if(e instanceof Wn)return u.GetFeaturesByBufferParameters.toJsonParameters(e)}}u.GetFeaturesByBufferService=Hn;class Jn extends Un{constructor(e){super(e),this.getFeatureMode="SPATIAL",this.geometry=null,this.fields=null,this.attributeFilter=null,this.spatialQueryMode=f.CONTAIN,te.extend(this,e),this.CLASS_NAME="SuperMap.GetFeaturesByGeometryParameters"}destroy(){super.destroy();var e=this;if(e.geometry&&(e.geometry.destroy(),e.geometry=null),e.fields){while(e.fields.length>0)e.fields.pop();e.fields=null}e.attributeFilter=null,e.spatialQueryMode=null,e.getFeatureMode=null}static toJsonParameters(e){var t,n,r;return n=Ae.fromGeometry(e.geometry),r={datasetNames:e.datasetNames,getFeatureMode:"SPATIAL",geometry:n,spatialQueryMode:e.spatialQueryMode},e.fields&&(t=new vt,t.name=e.datasetNames,t.fields=e.fields,r.queryParameter=t),e.attributeFilter&&(r.attributeFilter=e.attributeFilter,r.getFeatureMode="SPATIAL_ATTRIBUTEFILTER"),e.maxFeatures&&!isNaN(e.maxFeatures)&&(r.maxFeatures=e.maxFeatures),e.targetEpsgCode&&(r.targetEpsgCode=e.targetEpsgCode),!e.targetEpsgCode&&e.targetPrj&&(r.targetPrj=e.targetPrj),te.toJSON(r)}}u.GetFeaturesByGeometryParameters=Jn;class Xn extends jn{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.GetFeaturesByGeometryService"}destroy(){super.destroy()}getJsonParameters(e){return Jn.toJsonParameters(e)}}u.GetFeaturesByGeometryService=Xn;class Zn extends Un{constructor(e){super(e),this.getFeatureMode="ID",this.IDs=null,this.fields=null,te.extend(this,e),this.CLASS_NAME="SuperMap.GetFeaturesByIDsParameters"}destroy(){super.destroy();var e=this;if(e.IDs=null,e.getFeatureMode=null,e.fields){while(e.fields.length>0)e.fields.pop();e.fields=null}}static toJsonParameters(e){var t,n;return t={datasetNames:e.datasetNames,getFeatureMode:"ID",ids:e.IDs},e.fields&&(n=new vt,n.name=e.datasetNames,n.fields=e.fields,t.queryParameter=n),e.targetEpsgCode&&(t.targetEpsgCode=e.targetEpsgCode),!e.targetEpsgCode&&e.targetPrj&&(t.targetPrj=e.targetPrj),te.toJSON(t)}}u.GetFeaturesByIDsParameters=Zn;class Yn extends jn{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.GetFeaturesByIDsService"}destroy(){super.destroy()}getJsonParameters(e){return Zn.toJsonParameters(e)}}u.GetFeaturesByIDsService=Yn;class Kn extends Un{constructor(e){super(e),this.getFeatureMode="SQL",this.queryParameter=null,te.extend(this,e),this.CLASS_NAME="SuperMap.GetFeaturesBySQLParameters"}destroy(){super.destroy();var e=this;e.getFeatureMode=null,e.queryParameter&&(e.queryParameter.destroy(),e.queryParameter=null)}static toJsonParameters(e){var t={datasetNames:e.datasetNames,getFeatureMode:"SQL",queryParameter:e.queryParameter};return e.maxFeatures&&!isNaN(e.maxFeatures)&&(t.maxFeatures=e.maxFeatures),e.aggregations&&(t.aggregations=e.aggregations),e.targetEpsgCode&&(t.targetEpsgCode=e.targetEpsgCode),!e.targetEpsgCode&&e.targetPrj&&(t.targetPrj=e.targetPrj),te.toJSON(t)}}u.GetFeaturesBySQLParameters=Kn;class Qn extends jn{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.GetFeaturesBySQLService"}destroy(){super.destroy()}getJsonParameters(e){return Kn.toJsonParameters(e)}}u.GetFeaturesBySQLService=Qn;class $n extends rt{constructor(e,t){super(e,t),this.datasource=null,this.dataset=null,t&&te.extend(this,t),this.CLASS_NAME="SuperMap.GetFieldsService"}destroy(){super.destroy();var e=this;e.datasource=null,e.dataset=null}processAsync(){var e=this;e.url=te.urlPathAppend(e.url,`datasources/${e.datasource}/datasets/${e.dataset}/fields`),e.request({method:"GET",data:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}u.GetFieldsService=$n;class er{constructor(e){this.datasetName=null,this.dataSourceName=null,this.X=null,this.Y=null,te.extend(this,e),this.CLASS_NAME="SuperMap.GetGridCellInfosParameters"}destroy(){var e=this;e.datasetName=null,e.dataSourceName=null,e.X=null,e.Y=null}}u.GetGridCellInfosParameters=er;class tr extends rt{constructor(e,t){super(e,t),this.datasetName=null,this.dataSourceName=null,this.datasetType=null,this.X=null,this.Y=null,t&&te.extend(this,t),this.CLASS_NAME="SuperMap.GetGridCellInfosService"}destroy(){super.destroy();var e=this;e.X=null,e.Y=null,e.datasetName=null,e.dataSourceName=null,e.datasetType=null}processAsync(e){if(e instanceof er){te.extend(this,e);var t=this;t.url=te.urlPathAppend(t.url,`datasources/${t.dataSourceName}/datasets/${t.datasetName}`),t.queryRequest(t.getDatasetInfoCompleted,t.getDatasetInfoFailed)}}queryRequest(e,t){var n=this;n.request({method:"GET",data:null,scope:n,success:e,failure:t})}getDatasetInfoCompleted(e){var t=this;e=te.transformResult(e),t.datasetType=e.datasetInfo.type,t.queryGridInfos()}queryGridInfos(){var e=this;e.url=te.urlPathAppend(e.url,"GRID"==e.datasetType?"gridValue":"imageValue"),null!=e.X&&null!=e.Y&&(e.url=te.urlAppend(e.url,`x=${e.X}&y=${e.Y}`)),e.queryRequest(e.serviceProcessCompleted,e.serviceProcessFailed)}getDatasetInfoFailed(e){var t=this;t.serviceProcessFailed(e)}}u.GetGridCellInfosService=tr;class nr{constructor(e,t){this.srcData=e,this.targetData=t,this.CLASS_NAME="SuperMap.ThemeMemoryData"}destroy(){var e=this;e.srcData=null,e.targetData=null}toJSON(){if(this.srcData&&this.targetData){for(var e="",t=Math.min(this.srcData.length,this.targetData.length),n=0;n<t;n++)e+="'"+this.srcData[n]+"':'"+this.targetData[n]+"',";return n>0&&(e=e.substring(0,e.length-1)),"{"+e+"}"}return null}}u.ThemeMemoryData=nr;class rr{constructor(e,t){if(!e)return this;this.memoryData=null,this.type=e,t&&te.extend(this,t),this.CLASS_NAME="SuperMap.Theme"}destroy(){var e=this;e.memoryData&&(e.memoryData.destroy(),e.memoryData=null),e.type=null}toServerJSONObject(){}}u.Theme=rr;class ir{constructor(e){this.align=C.BASELINECENTER,this.backColor=new Se(255,255,255),this.foreColor=new Se(0,0,0),this.backOpaque=!1,this.sizeFixed=!0,this.fontHeight=6,this.fontWidth=0,this.fontWeight=400,this.fontName="Times New Roman",this.bold=!1,this.italic=!1,this.italicAngle=0,this.shadow=!1,this.strikeout=!1,this.outline=!1,this.opaqueRate=0,this.underline=!1,this.rotation=0,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ServerTextStyle"}destroy(){var e=this;e.align=null,e.backColor&&(e.backColor.destroy(),e.backColor=null),e.foreColor&&(e.foreColor.destroy(),e.foreColor=null),e.backOpaque=null,e.sizeFixed=null,e.fontHeight=null,e.fontWidth=null,e.fontWeight=null,e.fontName=null,e.bold=null,e.italic=null,e.italicAngle=null,e.shadow=null,e.strikeout=null,e.outline=null,e.opaqueRate=null,e.underline=null,e.rotation=null}static fromObj(e){var t=new ir(e);return te.copy(t,e),t.backColor=Se.fromJson(e.backColor),t.foreColor=Se.fromJson(e.foreColor),t}}u.ServerTextStyle=ir;class sr{constructor(e){this.caption=null,this.end=0,this.start=0,this.visible=!0,this.style=new ir,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeLabelItem"}destroy(){var e=this;e.caption=null,e.end=null,e.start=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}static fromObj(e){if(e){var t=new sr;return te.copy(t,e),t}}}u.ThemeLabelItem=sr;class or{constructor(e){this.caption=null,this.style=new Ce,this.unique=null,this.visible=!0,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeUniqueItem"}destroy(){var e=this;e.caption=null,e.unique=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}toServerJSONObject(){var e={};return e=te.copyAttributes(e,this),e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}static fromObj(e){var t=new or;return te.copy(t,e),t.style=Ce.fromJson(e.style),t}}u.ThemeUniqueItem=or;class ar{constructor(e){this.flowEnabled=!1,this.leaderLineDisplayed=!1,this.leaderLineStyle=new Ce,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeFlow"}destroy(){var e=this;e.flowEnabled=null,e.leaderLineDisplayed=null,e.leaderLineStyle&&(e.leaderLineStyle.destroy(),e.leaderLineStyle=null)}static fromObj(e){if(e){var t=new ar;return te.copy(t,e),t.leaderLineStyle=Ce.fromJson(e.leaderLineStyle),t}}}u.ThemeFlow=ar;class lr{constructor(e){this.offsetFixed=!1,this.offsetX="0.0",this.offsetY="0.0",e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeOffset"}destroy(){var e=this;e.offsetFixed=null,e.offsetX=null,e.offsetY=null}static fromObj(e){if(e){var t=new lr;return te.copy(t,e),t}}}u.ThemeOffset=lr;class ur{constructor(e){this.defaultStyle=null,this.separator=null,this.separatorEnabled=!1,this.splitIndexes=null,this.styles=new ir,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.LabelMixedTextStyle"}destroy(){var e=this;if(e.defaultStyle&&(e.defaultStyle.destroy(),e.defaultStyle=null),e.separator=null,e.separatorEnabled=null,e.splitIndexes&&(e.splitIndexes=null),e.styles){for(var t=0,n=e.styles,r=n.length;t<r;t++)n[t].destroy();e.styles=null}}static fromObj(e){if(e){var t=new ur,n=e.styles;if(te.copy(t,e),t.defaultStyle=new ir(e.defaultStyle),n){t.styles=[];for(var r=0,i=n.length;r<i;r++)t.styles.push(new ir(n[r]))}return t}}}u.LabelMixedTextStyle=ur;class cr{constructor(e){this.maxTextHeight=0,this.maxTextWidth=0,this.minTextHeight=0,this.minTextWidth=0,this.uniformStyle=new ir,this.uniformMixedStyle=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeLabelText"}destroy(){var e=this;e.maxTextHeight=null,e.maxTextWidth=null,e.minTextHeight=null,e.minTextWidth=null,e.uniformStyle&&(e.uniformStyle.destroy(),e.uniformStyle=null),e.uniformMixedStyle&&(e.uniformMixedStyle.destroy(),e.uniformMixedStyle=null)}static fromObj(e){if(e){var t=new cr;return te.copy(t,e),t.uniformStyle=ir.fromObj(e.uniformStyle),t.uniformMixedStyle=ur.fromObj(e.uniformMixedStyle),t}}}u.ThemeLabelText=cr;class hr{constructor(e){this.isAlongLine=!0,this.alongLineDirection=E.LB_TO_RT,this.angleFixed=!1,this.repeatedLabelAvoided=!1,this.repeatIntervalFixed=!1,this.labelRepeatInterval=0,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeLabelAlongLine"}destroy(){var e=this;e.isAlongLine=null,e.alongLineDirection=null,e.angleFixed=null,e.repeatedLabelAvoided=null,e.repeatIntervalFixed=null,e.labelRepeatInterval=null}static fromObj(e){if(e){var t=new hr;return te.copy(t,e),t}}}u.ThemeLabelAlongLine=hr;class pr{constructor(e){this.labelBackShape=T.NONE,this.backStyle=new Ce,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeLabelBackground"}destroy(){var e=this;e.labelBackShape=null,e.backStyle&&(e.backStyle.destroy(),e.backStyle=null)}static fromObj(e){if(e){var t=new pr;return t.labelBackShape=e.labelBackShape,t.backStyle=Ce.fromJson(e.backStyle),t}}}u.ThemeLabelBackground=pr;class dr extends rr{constructor(e){super("LABEL",e),this.alongLine=new hr,this.background=new pr,this.flow=new ar,this.items=null,this.uniqueItems=null,this.labelExpression=null,this.labelOverLengthMode=A.NONE,this.matrixCells=null,this.maxLabelLength=256,this.numericPrecision=0,this.offset=new lr,this.overlapAvoided=!0,this.rangeExpression=null,this.uniqueExpression=null,this.smallGeometryLabeled=!1,this.text=new cr,this.textSpace=0,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeLabel"}destroy(){super.destroy();var e=this;if(e.alongLine=null,e.background&&(e.background.destroy(),e.background=null),e.flow=null,e.items){for(var t=0,n=e.items,r=n.length;t<r;t++)n[t].destroy();e.items=null}if(e.uniqueItems){for(var i=0,s=e.uniqueItems,o=s.length;i<o;i++)s[i].destory();e.uniqueItems=null}e.labelExpression=null,e.labelOverLengthMode=null,e.matrixCells=null,e.maxLabelLength=null,e.numericPrecision=null,e.overlapAvoided=null,e.rangeExpression=null,e.uniqueExpression=null,e.offset&&(e.offset.destroy(),e.offset=null),e.overlapAvoided=null,e.smallGeometryLabeled=null,e.text&&(e.text.destroy(),e.text=null),e.textSpace=null}toJSON(){return te.toJSON(this.toServerJSONObject())}toServerJSONObject(){var e={};return e.type=this.type,e.memoryData=this.memoryData,this.alongLine&&(e.alongLine=this.alongLine.isAlongLine,e.alongLineDirection=this.alongLine.alongLineDirection,e.angleFixed=this.alongLine.angleFixed,e.isLabelRepeated=this.alongLine.isLabelRepeated,e.labelRepeatInterval=this.alongLine.labelRepeatInterval,e.repeatedLabelAvoided=this.alongLine.repeatedLabelAvoided,e.repeatIntervalFixed=this.alongLine.repeatIntervalFixed),this.offset&&(e.offsetFixed=this.offset.offsetFixed,e.offsetX=this.offset.offsetX,e.offsetY=this.offset.offsetY),this.flow&&(e.flowEnabled=this.flow.flowEnabled,e.leaderLineDisplayed=this.flow.leaderLineDisplayed,e.leaderLineStyle=this.flow.leaderLineStyle),this.text&&(e.maxTextHeight=this.text.maxTextHeight,e.maxTextWidth=this.text.maxTextWidth,e.minTextHeight=this.text.minTextHeight,e.minTextWidth=this.text.minTextWidth,e.uniformStyle=this.text.uniformStyle,e.uniformMixedStyle=this.text.uniformMixedStyle),this.background&&(e.labelBackShape=this.background.labelBackShape,e.backStyle=this.background.backStyle),e.labelOverLengthMode=this.labelOverLengthMode,e.maxLabelLength=this.maxLabelLength,e.smallGeometryLabeled=this.smallGeometryLabeled,e.rangeExpression=this.rangeExpression,e.uniqueExpression=this.uniqueExpression,e.numericPrecision=this.numericPrecision,e.items=this.items,e.uniqueItems=this.uniqueItems,e.labelExpression=this.labelExpression,e.overlapAvoided=this.overlapAvoided,e.matrixCells=this.matrixCells,e.textSpace=this.textSpace,e}static fromObj(e){if(e){var t=new dr,n=e.items,r=e.uniqueItems,i=e.matrixCells;if(e.matrixCells=null,te.copy(t,e),t.alongLine=hr.fromObj(e),t.background=pr.fromObj(e),t.flow=new ar({flowEnabled:e.flowEnabled,leaderLineDisplayed:e.leaderLineDisplayed,leaderLineStyle:e.leaderLineStyle}),n){t.items=[];for(var s=0,o=n.length;s<o;s++)t.items.push(sr.fromObj(n[s]))}if(r){t.uniqueItems=[];for(let e=0,n=r.length;e<n;e++)t.uniqueItems.push(or.fromObj(r[e]))}if(i){t.matrixCells=[];for(let e=0,t=i.length;e<t;e++);}return t.offset=lr.fromObj(e),t.text=cr.fromObj(e),t}}}u.ThemeLabel=dr;class fr extends rr{constructor(e){super("UNIQUE",e),this.defaultStyle=new Ce,this.items=null,this.uniqueExpression=null,this.colorGradientType=S.YELLOW_RED,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeUnique"}destroy(){super.destroy();var e=this;if(e.uniqueExpression=null,e.colorGradientType=null,e.items){if(e.items.length>0)for(var t in e.items)e.items[t].destroy(),e.items[t]=null;e.items=null}e.defaultStyle&&(e.defaultStyle.destroy(),e.defaultStyle=null)}toServerJSONObject(){var e={};if(e=te.copyAttributes(e,this),e.defaultStyle&&e.defaultStyle.toServerJSONObject&&(e.defaultStyle=e.defaultStyle.toServerJSONObject()),e.items){for(var t=[],n=e.items.length,r=0;r<n;r++)t.push(e.items[r].toServerJSONObject());e.items=t}return e}static fromObj(e){var t=new fr,n=e.items,r=n?n.length:0;te.extend(t,e),t.items=[],t.defaultStyle=Ce.fromJson(e.defaultStyle);for(var i=0;i<r;i++)t.items.push(or.fromObj(n[i]));return t}}u.ThemeUnique=fr;class mr{constructor(e){this.axesColor=new Se(0,0,0),this.axesDisplayed=!1,this.axesGridDisplayed=!1,this.axesTextDisplayed=!1,this.axesTextStyle=new ir,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeGraphAxes"}destroy(){var e=this;e.axesColor&&(e.axesColor.destroy(),e.axesColor=null),e.axesDisplayed=null,e.axesGridDisplayed=null,e.axesTextDisplayed=null,e.axesTextStyle&&(e.axesTextStyle.destroy(),e.axesTextStyle=null)}static fromObj(e){if(e){var t=new mr;return te.copy(t,e),t.axesColor=Se.fromJson(e.axesColor),t.axesTextStyle=ir.fromObj(e.axesTextStyle),t}}}u.ThemeGraphAxes=mr;class yr{constructor(e){this.maxGraphSize=0,this.minGraphSize=0,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeGraphSize"}destroy(){var e=this;e.maxGraphSize=null,e.minGraphSize=null}static fromObj(e){var t=new yr;return te.copy(t,e),t}}u.ThemeGraphSize=yr;class gr{constructor(e){this.graphTextDisplayed=!1,this.graphTextFormat=_.CAPTION,this.graphTextStyle=new ir,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeGraphText"}destroy(){var e=this;e.graphTextDisplayed=null,e.graphTextFormat=null,e.graphTextStyle&&(e.graphTextStyle.destroy(),e.graphTextStyle=null)}static fromObj(e){var t=new gr;return te.copy(t,e),t.graphTextStyle=ir.fromObj(e.graphTextStyle),t}}u.ThemeGraphText=gr;class _r{constructor(e){this.caption=null,this.graphExpression=null,this.memoryDoubleValues=null,this.uniformStyle=new Ce,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeGraphItem"}destroy(){var e=this;e.caption=null,e.graphExpression=null,e.memoryDoubleValues=null,e.uniformStyle=null}static fromObj(e){if(e){var t=new _r;return te.copy(t,e),t.uniformStyle=Ce.fromJson(e.uniformStyle),t}}}u.ThemeGraphItem=_r;class vr extends rr{constructor(e){super("GRAPH",e),this.barWidth=0,this.flow=new ar,this.graduatedMode=x.CONSTANT,this.graphAxes=new mr,this.graphSize=new yr,this.graphSizeFixed=!1,this.graphText=new gr,this.graphType=v.AREA,this.graphAxesTextDisplayMode=b.NONE,this.items=null,this.memoryKeys=null,this.negativeDisplayed=!1,this.offset=new lr,this.overlapAvoided=!0,this.roseAngle=0,this.startAngle=0,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeGraph"}destroy(){super.destroy();var e=this;if(e.barWidth=null,e.flow&&(e.flow.destroy(),e.flow=null),e.graduatedMode=null,e.graphAxes&&(e.graphAxes.destroy(),e.graphAxes=null),e.graphSize&&(e.graphSize.destroy(),e.graphSize=null),e.graphSizeFixed=null,e.graphText&&(e.graphText.destroy(),e.graphText=null),e.graphType=null,e.items){for(var t=0,n=e.items,r=n.length;t<r;t++)n[t].destroy();e.items=null}e.memoryKeys=null,e.negativeDisplayed=null,e.offset&&(e.offset.destroy(),e.offset=null),e.overlapAvoided=null,e.roseAngle=null,e.startAngle=null,e.graphAxesTextDisplayMode=null}toJSON(){return te.toJSON(this.toServerJSONObject())}toServerJSONObject(){var e={};return e.type=this.type,this.graphText&&(e.graphTextDisplayed=this.graphText.graphTextDisplayed,e.graphTextFormat=this.graphText.graphTextFormat,e.graphTextStyle=this.graphText.graphTextStyle),this.flow&&(e.flowEnabled=this.flow.flowEnabled,e.leaderLineDisplayed=this.flow.leaderLineDisplayed,e.leaderLineStyle=this.flow.leaderLineStyle),this.graphAxes&&(e.axesColor=this.graphAxes.axesColor,e.axesDisplayed=this.graphAxes.axesDisplayed,e.axesGridDisplayed=this.graphAxes.axesGridDisplayed,e.axesTextDisplayed=this.graphAxes.axesTextDisplayed,e.axesTextStyle=this.graphAxes.axesTextStyle),this.graphSize&&(e.maxGraphSize=this.graphSize.maxGraphSize,e.minGraphSize=this.graphSize.minGraphSize),this.offset&&(e.offsetFixed=this.offset.offsetFixed,e.offsetX=this.offset.offsetX,e.offsetY=this.offset.offsetY),e.barWidth=this.barWidth,e.graduatedMode=this.graduatedMode,e.graphSizeFixed=this.graphSizeFixed,e.graphType=this.graphType,e.graphAxesTextDisplayMode=this.graphAxesTextDisplayMode,e.items=this.items,e.memoryKeys=this.memoryKeys,e.negativeDisplayed=this.negativeDisplayed,e.overlapAvoided=this.overlapAvoided,e.roseAngle=this.roseAngle,e.startAngle=this.startAngle,e}static fromObj(e){var t=new vr,n=e.items,r=n?n.length:0;te.copy(t,e),t.items=[],t.flow=ar.fromObj(e),t.graphAxes=mr.fromObj(e),t.graphSize=yr.fromObj(e),t.graphText=gr.fromObj(e),t.offset=lr.fromObj(e);for(var i=0;i<r;i++)t.items.push(_r.fromObj(n[i]));return t}}u.ThemeGraph=vr;class br extends rr{constructor(e){super("DOTDENSITY",e),this.dotExpression=null,this.style=new Ce,this.value=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeDotDensity"}destroy(){var e=this;e.dotExpression=null,e.value=null,e.style&&(e.style.destroy(),e.style=null)}toServerJSONObject(){var e={};return e=te.copyAttributes(e,this),e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}static fromObj(e){if(e){var t=new br;return te.copy(t,e),t.style=Ce.fromJson(e.style),t}}}u.ThemeDotDensity=br;class xr{constructor(e){this.negativeDisplayed=!1,this.negativeStyle=new Ce,this.positiveStyle=new Ce,this.zeroDisplayed=!1,this.zeroStyle=new Ce,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeGraduatedSymbolStyle"}destroy(){var e=this;e.negativeDisplayed=null,e.negativeStyle=null,e.positiveStyle=null,e.zeroDisplayed=null,e.zeroStyle=null}static fromObj(e){if(e){var t=new xr;return te.copy(t,e),t.negativeStyle=Ce.fromJson(e.negativeStyle),t.positiveStyle=Ce.fromJson(e.positiveStyle),t.zeroStyle=Ce.fromJson(e.zeroStyle),t}}}u.ThemeGraduatedSymbolStyle=xr;class wr extends rr{constructor(e){super("GRADUATEDSYMBOL",e),this.baseValue=0,this.expression=null,this.flow=new ar,this.graduatedMode=u.GraduatedMode.CONSTAN,this.offset=new lr,this.style=new xr,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeGraduatedSymbol"}destroy(){super.destroy();var e=this;e.expression=null,e.flow&&(e.flow.destroy(),e.flow=null),e.graduatedMode=x.CONSTANT,e.offset&&(e.offset.destroy(),e.offset=null),e.style&&(e.style.destroy(),e.style=null)}toJSON(){return te.toJSON(this.toServerJSONObject())}toServerJSONObject(){var e={};return e.type=this.type,e.memoryData=this.memoryData,e.baseValue=this.baseValue,e.expression=this.expression,e.graduatedMode=this.graduatedMode,this.flow&&(e.flowEnabled=this.flow.flowEnabled,e.leaderLineDisplayed=this.flow.leaderLineDisplayed,e.leaderLineStyle=this.flow.leaderLineStyle),this.offset&&(e.offsetFixed=this.offset.offsetFixed,e.offsetX=this.offset.offsetX,e.offsetY=this.offset.offsetY),this.style&&(e.negativeStyle=this.style.negativeStyle,e.negativeDisplayed=this.style.negativeDisplayed,e.positiveStyle=this.style.positiveStyle,e.zeroDisplayed=this.style.zeroDisplayed,e.zeroStyle=this.style.zeroStyle),e}static fromObj(e){if(e){var t=new u.ThemeGraduatedSymbol;return te.copy(t,e),t.flow=ar.fromObj(e),t.offset=lr.fromObj(e),t.style=xr.fromObj(e),t}}}u.ThemeGraduatedSymbol=wr;class Sr{constructor(e){this.caption=null,this.end=0,this.start=0,this.style=new Ce,this.visible=!0,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeRangeItem"}destroy(){var e=this;e.caption=null,e.end=null,e.start=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}toServerJSONObject(){var e={};return e=te.copyAttributes(e,this),e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}static fromObj(e){if(e){var t=new Sr;return te.copy(t,e),t.style=Ce.fromJson(e.style),t}}}u.ThemeRangeItem=Sr;class Cr extends rr{constructor(e){super("RANGE",e),this.precision="1.0E-12",this.items=null,this.rangeExpression=null,this.rangeMode=w.EQUALINTERVAL,this.rangeParameter=0,this.colorGradientType=S.YELLOW_RED,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeRange"}destroy(){super.destroy();var e=this;if(e.items){if(e.items.length>0)for(var t in e.items)e.items[t].destroy(),e.items[t]=null;e.items=null}e.rangeExpression=null,e.rangeMode=null,e.rangeParameter=null,e.colorGradientType=null}static fromObj(e){if(e){var t=new Cr;te.copy(t,e);var n=e.items,r=n?n.length:0;t.items=[];for(var i=0;i<r;i++)t.items.push(Sr.fromObj(n[i]));return t}}}u.ThemeRange=Cr;class Er{constructor(e){e=e||{},this.bounds=null,this.caption=null,this.description=null,this.name=null,this.queryable=null,this.subLayers=null,this.type=null,this.visible=null,te.extend(this,e),this.CLASS_NAME="SuperMap.UGCLayer"}destroy(){var e=this;te.reset(e)}fromJson(e){e=e||{},te.extend(this,e);var t=this.bounds;t&&(this.bounds=new re(t.leftBottom.x,t.leftBottom.y,t.rightTop.x,t.rightTop.y))}toServerJSONObject(){var e={};return e=te.copyAttributes(e,this),e.bounds&&e.bounds.toServerJSONObject&&(e.bounds=e.bounds.toServerJSONObject()),e}}u.UGCLayer=Er;class Tr{constructor(e){e=e||{},this.allowPointOverlap=!0,this.allowPointWithTextDisplay=!0,this.allowTextOverlap=!1,this.allowTextAndPointOverlap=!0,this.allowThemeGraduatedSymbolOverlap=!1,this.allowThemeGraphOverlap=!1,this.horizontalOverlappedSpaceSize=0,this.verticalOverlappedSpaceSize=0,te.extend(this,e),this.ugcLayer=new Er(e),this.CLASS_NAME="SuperMap.OverlapDisplayedOptions"}destroy(){te.reset(this)}fromJson(e){this.ugcLayer.fromJson.apply(this,[e])}toServerJSONObject(){var e=this.ugcLayer.toServerJSONObject.apply(this,arguments);return e}toString(){var e=this.ugcLayer.toServerJSONObject.apply(this,arguments),t="{";for(var n in e)e.hasOwnProperty(n)&&(t+="'"+n+"':"+e[n]+",");return t=t.substr(0,t.length-1),t+="}",t}}u.OverlapDisplayedOptions=Tr;class Ar extends Er{constructor(e){e=e||{},super(e),this.completeLineSymbolDisplayed=null,this.maxScale=null,this.minScale=null,this.minVisibleGeometrySize=null,this.opaqueRate=null,this.symbolScalable=null,this.symbolScale=null,this.overlapDisplayed=null,this.overlapDisplayedOptions=null,this.CLASS_NAME="SuperMap.UGCMapLayer"}destroy(){super.destroy(),te.reset(this)}fromJson(e){super.fromJson(e)}toServerJSONObject(){return super.toServerJSONObject()}}u.UGCMapLayer=Ar;class Pr extends Ar{constructor(e){e=e||{},super(e),this.datasetInfo=null,this.displayFilter=null,this.joinItems=null,this.representationField=null,this.ugcLayerType=null,this.CLASS_NAME="SuperMap.UGCSubLayer"}fromJson(e){if(super.fromJson(e),this.datasetInfo&&(this.datasetInfo=new jt(this.datasetInfo)),this.joinItems&&this.joinItems.length){for(var t=[],n=0;n<this.joinItems.length;n++)t[n]=new yt(this.joinItems[n]);this.joinItems=t}}destroy(){super.destroy(),te.reset(this)}toServerJSONObject(){var e=super.toServerJSONObject();if(e.joinItems){for(var t=[],n=0;n<e.joinItems.length;n++)e.joinItems[n].toServerJSONObject&&(t[n]=e.joinItems[n].toServerJSONObject());e.joinItems=t}return e.datasetInfo&&e.datasetInfo.toServerJSONObject&&(e.datasetInfo=e.datasetInfo.toServerJSONObject()),e}}u.UGCSubLayer=Pr;class Ir extends Pr{constructor(e){e=e||{},super(e),this.theme=null,this.themeElementPosition=null,this.CLASS_NAME="SuperMap.ServerTheme"}destroy(){super.destroy(),te.reset(this)}fromJson(e){super.fromJson(e);var t=this.theme,n=t&&t.type;switch(n){case"LABEL":this.theme=dr.fromObj(t);break;case"UNIQUE":this.theme=fr.fromObj(t);break;case"GRAPH":this.theme=vr.fromObj(t);break;case"DOTDENSITY":this.theme=br.fromObj(t);break;case"GRADUATEDSYMBOL":this.theme=wr.fromObj(t);break;case"RANGE":this.theme=Cr.fromObj(t);break;default:break}this.themeElementPosition&&(this.themeElementPosition=new ne(this.themeElementPosition.x,this.themeElementPosition.y))}toServerJSONObject(){var e=super.toServerJSONObject();return e.themeElementPosition&&e.themeElementPosition.toServerJSONObject&&(e.themeElementPosition=e.themeElementPosition.toServerJSONObject()),e.theme&&e.theme.toServerJSONObject&&(e.theme=e.theme.toServerJSONObject()),e}}u.ServerTheme=Ir;class Lr extends Pr{constructor(e){e=e||{},super(e),this.colorDictionarys=null,this.brightness=null,this.colorGradientType=null,this.colors=null,this.contrast=null,this.dashStyle=null,this.gridType=null,this.horizontalSpacing=null,this.sizeFixed=null,this.solidStyle=null,this.specialColor=null,this.specialValue=null,this.specialValueTransparent=null,this.verticalSpacing=null,this.CLASS_NAME="SuperMap.Grid"}destroy(){super.destroy(),te.reset(this)}fromJson(e){if(super.fromJson(e),this.specialColor&&(this.specialColor=new Se(this.specialColor.red,this.specialColor.green,this.specialColor.blue)),this.colors){var t,n=[];for(var r in this.colors)t=this.colors[r],n.push(new Se(t.red,t.green,t.blue));this.colors=n}if(this.dashStyle&&(this.dashStyle=new Ce(this.dashStyle)),this.solidStyle&&(this.solidStyle=new Ce(this.solidStyle)),this.colorDictionary){var i,s=[];for(var o in this.colorDictionary)i=this.colorDictionary[o],s.push(new Ft({elevation:o,color:i}));this.colorDictionarys=s}delete this.colorDictionary}toServerJSONObject(){var e=super.toServerJSONObject();return e.dashStyle&&e.dashStyle.toServerJSONObject&&(e.dashStyle=e.dashStyle.toServerJSONObject()),e.solidStyle&&e.solidStyle.toServerJSONObject&&(e.solidStyle=e.solidStyle.toServerJSONObject()),e}}u.Grid=Lr;class Mr extends Pr{constructor(e){e=e||{},super(e),this.brightness=null,this.colorSpaceType=null,this.contrast=null,this.displayBandIndexes=null,this.transparent=null,this.transparentColor=null,this.transparentColorTolerance=null,this.CLASS_NAME="SuperMap.Image"}destroy(){super.destroy(),te.reset(this)}fromJson(e){super.fromJson(e),this.transparentColor&&(this.transparentColor=new Se(this.transparentColor.red,this.transparentColor.green,this.transparentColor.blue))}toServerJSONObject(){return super.toServerJSONObject()}}u.Image=Mr;class Or extends Pr{constructor(e){e=e||{},super(e),this.style=null,this.CLASS_NAME="SuperMap.Vector"}destroy(){super.destroy(),te.reset(this)}fromJson(e){super.fromJson(e);var t=this.style;t&&(this.style=new Ce(t))}toServerJSONObject(){var e=u.toServerJSONObject();return e.style&&e.style.toServerJSONObject&&(e.style=e.style.toServerJSONObject()),e}}u.Vector=Or;class kr extends rt{constructor(e,t){super(e,t),this.isTempLayers=!1,t&&te.extend(this,t),this.CLASS_NAME="SuperMap.GetLayersInfoService"}destroy(){super.destroy(),te.reset(this)}processAsync(){var e=this,t="GET";e.isTempLayers||(e.url=te.urlPathAppend(e.url,"layers")),e.request({method:t,params:null,scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}serviceProcessCompleted(e){var t,n,r,i=this;e=te.transformResult(e),t=!!e&&e.length>0,n=t?e[0].subLayers.layers:null,r=n?n.length:0,i.handleLayers(r,n),i.events.triggerEvent("processCompleted",{result:e[0]})}handleLayers(e,t){var n,r=this;if(e)for(var i=0;i<e;i++)if(t[i].subLayers&&t[i].subLayers.layers&&t[i].subLayers.layers.length>0)r.handleLayers(t[i].subLayers.layers.length,t[i].subLayers.layers);else{var s=t[i].ugcLayerType;switch(s){case"THEME":n=new Ir,n.fromJson(t[i]),t[i]=n;break;case"GRID":n=new Lr,n.fromJson(t[i]),t[i]=n;break;case"IMAGE":n=new Mr,n.fromJson(t[i]),t[i]=n;break;case"VECTOR":n=new Or,n.fromJson(t[i]),t[i]=n;break;default:break}}}}u.GetLayersInfoService=kr;class Nr{constructor(e){e&&(this.bounds=null,this.searchRadius=0,this.zValueFieldName=null,this.zValueScale=1,this.resolution=null,this.filterQueryParameter=null,this.outputDatasetName=null,this.outputDatasourceName=null,this.pixelFormat=null,this.dataset=null,this.inputPoints=null,this.InterpolationAnalystType="dataset",this.clipParam=null,te.extend(this,e),this.CLASS_NAME="SuperMap.InterpolationAnalystParameters")}destroy(){var e=this;e.bounds=null,e.searchRadius=null,e.zValueFieldName=null,e.zValueScale=null,e.resolution=null,e.filterQueryParameter=null,e.outputDatasetName=null,e.pixelFormat=null}static toObject(e,t){for(var n in e)if("inputPoints"===n&&"geometry"===e.InterpolationAnalystType){for(var r=[],i=0;i<e.inputPoints.length;i++){var s=e.inputPoints[i],o={x:s.x,y:s.y,z:s.tag};r.push(o)}t[n]=r}else t[n]=e[n]}}u.InterpolationAnalystParameters=Nr;class Rr extends Nr{constructor(e){super(e),this.smooth=.1,this.tension=40,this.searchMode=null,this.expectedCount=12,this.maxPointCountForInterpolation=200,this.maxPointCountInNode=50,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.InterpolationRBFAnalystParameters"}destroy(){super.destroy();var e=this;e.smooth=null,e.tension=null,e.searchMode=null,e.expectedCount=null,e.maxPointCountForInterpolation=null,e.maxPointCountInNode=null}static toObject(e,t){for(var n in e)t[n]=e[n]}}u.InterpolationRBFAnalystParameters=Rr;class Dr extends Nr{constructor(e){super(e),e&&te.extend(this,e),this.CLASS_NAME="SuperMap.InterpolationDensityAnalystParameters"}destroy(){super.destroy()}}u.InterpolationDensityAnalystParameters=Dr;class Fr extends Nr{constructor(e){super(e),this.power=2,this.searchMode=null,this.expectedCount=12,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.InterpolationIDWAnalystParameters"}destroy(){super.destroy();var e=this;e.power=null,e.searchMode=null,e.expectedCount=null}}u.InterpolationIDWAnalystParameters=Fr;class Br extends Nr{constructor(e){super(e),this.type=null,this.mean=null,this.angle=0,this.nugget=0,this.range=0,this.sill=0,this.variogramMode=B.SPHERICAL,this.exponent=q.EXP1,this.searchMode=null,this.expectedCount=12,this.maxPointCountForInterpolation=200,this.maxPointCountInNode=50,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.InterpolationKrigingAnalystParameters"}destroy(){super.destroy();var e=this;e.type=null,e.mean=null,e.angle=null,e.nugget=null,e.range=null,e.sill=null,e.variogramMode=null,e.exponent=null,e.searchMode=null,e.expectedCount=null,e.maxPointCountForInterpolation=null,e.maxPointCountInNode=null}}u.InterpolationKrigingAnalystParameters=Br;class qr extends ct{constructor(e,t){super(e,t),this.mode=null,t&&te.extend(this,t)}destroy(){super.destroy(),this.mode=null,this.CLASS_NAME="SuperMap.InterpolationAnalystService"}processAsync(e){var t={},n=this;e instanceof Dr?(n.mode="Density","geometry"===e.InterpolationAnalystType?n.url=te.urlPathAppend(n.url,"geometry/interpolation/density"):n.url=te.urlPathAppend(n.url,"datasets/"+e.dataset+"/interpolation/density")):e instanceof Fr?(n.mode="IDW","geometry"===e.InterpolationAnalystType?n.url=te.urlPathAppend(n.url,"geometry/interpolation/idw"):n.url=te.urlPathAppend(n.url,"datasets/"+e.dataset+"/interpolation/idw")):e instanceof Rr?(n.mode="RBF","geometry"===e.InterpolationAnalystType?n.url=te.urlPathAppend(n.url,"geometry/interpolation/rbf"):n.url=te.urlPathAppend(n.url,"datasets/"+e.dataset+"/interpolation/rbf")):e instanceof Br&&(n.mode="Kriging","geometry"===e.InterpolationAnalystType?n.url=te.urlPathAppend(n.url,"geometry/interpolation/kriging"):n.url=te.urlPathAppend(n.url,"datasets/"+e.dataset+"/interpolation/kriging")),Nr.toObject(e,t);var r=te.toJSON(t);n.url=te.urlAppend(n.url,"returnContent=true"),n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}u.InterpolationAnalystService=qr;class zr{constructor(e){e&&(this.datasetName="",this.query="",this.resolution=80,this.method=0,this.meshType=0,this.fields="",this.radius=300,this.meshSizeUnit=j.METER,this.radiusUnit=j.METER,this.areaUnit=G.SQUAREMILE,this.output=null,this.mappingParameters=null,te.extend(this,e),this.CLASS_NAME="SuperMap.KernelDensityJobParameter")}destroy(){this.datasetName=null,this.query=null,this.resolution=null,this.method=null,this.radius=null,this.meshType=null,this.fields=null,this.meshSizeUnit=null,this.radiusUnit=null,this.areaUnit=null,this.output instanceof St&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof Ct&&(this.mappingParameters.destroy(),this.mappingParameters=null)}static toObject(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t["analyst"]=t["analyst"]||{},"query"===n&&e[n]?t["analyst"][n]=e[n].toBBOX():t["analyst"][n]=e[n],"mappingParameters"===n&&(t["analyst"][n]=t["analyst"][n]||{},t["analyst"]["mappingParameters"]=e[n])):(t["output"]=t["output"]||{},t["output"]=e[n]):(t["input"]=t["input"]||{},t["input"][n]=e[n])}}u.KernelDensityJobParameter=zr;class Ur extends Tt{constructor(e,t){super(e,t),this.url=te.urlPathAppend(this.url,"spatialanalyst/density"),this.CLASS_NAME="SuperMap.KernelDensityJobsService"}destroy(){super.destroy()}getKernelDensityJobs(){super.getJobs(this.url)}getKernelDensityJob(e){super.getJobs(te.urlPathAppend(this.url,e))}addKernelDensityJob(e,t){super.addJob(this.url,e,zr,t)}}u.KernelDensityJobsService=Ur;class Gr{constructor(){this.CLASS_NAME="LabelMatrixCell"}}u.LabelMatrixCell=Gr;class jr extends Gr{constructor(e){super(e),this.height=0,this.pathField=null,this.rotation=0,this.width=0,this.sizeFixed=!1,this.type="IMAGE",e&&te.extend(this,e),this.CLASS_NAME="SuperMap.LabelImageCell"}destroy(){var e=this;e.height=null,e.pathField=null,e.rotation=null,e.width=null,e.sizeFixed=null}}u.LabelImageCell=jr;class Vr extends Gr{constructor(e){super(e),this.style=new Ce,this.symbolIDField=null,this.type="SYMBOL",e&&te.extend(this,e),this.CLASS_NAME="SuperMap.LabelSymbolCell"}destroy(){var e=this;e.style&&(e.style.destroy(),e.style=null),e.symbolIDField=null}}u.LabelSymbolCell=Vr;class Wr extends Gr{constructor(e){super(e),this.themeLabel=new dr,this.type="THEME",e&&te.extend(this,e),this.CLASS_NAME=" SuperMap.LabelThemeCell"}destroy(){var e=this;e.themeLabel&&(e.themeLabel.destroy(),e.themeLabel=null)}}u.LabelThemeCell=Wr;class Hr{constructor(e){this.layerName=null,this.isVisible=null,this.displayFilter=null,this.fieldValuesDisplayFilter=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.LayerStatus"}destroy(){var e=this;e.layerName=null,e.isVisible=null,e.displayFilter=null}toJSON(){var e="{";e+='"type":"UGC",';var t=[];return this.layerName&&(t.push('"name":"'+this.layerName+'"'),t.push('"visible":'+this.isVisible)),this.displayFilter&&t.push('"displayFilter":"'+this.displayFilter+'"'),(this.minScale||0==this.minScale)&&t.push('"minScale":'+this.minScale),(this.maxScale||0==this.maxScale)&&t.push('"maxScale":'+this.maxScale),this.fieldValuesDisplayFilter&&t.push('"fieldValuesDisplayFilter":'+te.toJSON(this.fieldValuesDisplayFilter)),e+=t,e+="}",e}}u.LayerStatus=Hr;class Jr extends rt{constructor(e,t){super(e,t),this.projection=null,this.CLASS_NAME="SuperMap.MapService",t&&te.extend(this,t);var n=this;if(n.projection){var r=n.projection.split(":");r instanceof Array&&(2===r.length&&(n.url=te.urlAppend(n.url,"prjCoordSys="+encodeURIComponent(`{"epsgCode":"${r[1]}"}`))),1===r.length&&(n.url=te.urlAppend(n.url,"prjCoordSys="+encodeURIComponent(`{"epsgCode":"${r[0]}"}`))))}}destroy(){super.destroy();var e=this;e.events&&(e.events.un(e.eventListeners),e.events.listeners=null,e.events.destroy(),e.events=null,e.eventListeners=null)}processAsync(){var e=this;e.request({method:"GET",scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}serviceProcessCompleted(e){var t=this;e=te.transformResult(e);var n=e.code>=200&&e.code<300||0==e.code||304===e.code,r=e.code&&n;!e.code||r?t.events&&t.events.triggerEvent("processCompleted",{result:e}):t.events.triggerEvent("processFailed",{error:e})}}u.MapService=Jr;class Xr{constructor(e){e&&(this.dataset=null,this.extractRegion=null,this.expression=null,this.isZip=!1,this.ignoreNoValue=!1,this.targetDatasource=null,this.resultGridName=null,this.deleteExistResultDataset=!1,te.extend(this,e),this.CLASS_NAME="SuperMap.MathExpressionAnalysisParameters")}destroy(){var e=this;e.dataset=null,e.bounds=null,e.expression=null,e.isZip=!0,e.ignoreNoValue=!0,e.targetDatasource=null,e.resultGridName=null,e.deleteExistResultDataset=null}static toObject(e,t){for(var n in e)if("dataset"!==n&&(t[n]=e[n]),"extractRegion"===n&&e[n]){for(var r=e[n].components[0].components,i={},s=[],o="REGION",a=r.length,l=0;l<a-1;l++){var u={};u["x"]=r[l].x,u["y"]=r[l].y,s.push(u)}i["points"]=s,i["type"]=o,t[n]=i}}}u.MathExpressionAnalysisParameters=Xr;class Zr extends ct{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.MathExpressionAnalysisService"}destroy(){super.destroy()}processAsync(e){var t=this,n={};e instanceof Xr&&(t.url=te.urlPathAppend(t.url,"datasets/"+e.dataset+"/mathanalyst")),Xr.toObject(e,n);var r=te.toJSON(n);t.url=te.urlAppend(t.url,"returnContent=true"),t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}u.MathExpressionAnalysisService=Zr;class Yr{constructor(e,t){e&&(this.geometry=e,this.unit=y.METER,this.prjCoordSys=null,this.distanceMode=null,t&&te.extend(this,t),this.CLASS_NAME="SuperMap.MeasureParameters")}destroy(){var e=this;e.geometry=null,e.unit=null,e.prjCoordSys=null}}u.MeasureParameters=Yr;class Kr extends rt{constructor(e,t){super(e,t),this.measureMode=m.DISTANCE,t&&te.extend(this,t),this.CLASS_NAME="SuperMap.MeasureService"}destroy(){super.destroy();var e=this;e.measureMode=null}processAsync(e){if(e instanceof Yr){var t=this,n=e.geometry,r=0,i=null;if(n){t.url=te.urlPathAppend(t.url,t.measureMode===m.AREA?"area":"distance");var s,o,a,l=Ae.fromGeometry(n);if(l)r=l.parts[0],i=l.points.splice(0,r),e.prjCoordSys?("object"===typeof e.prjCoordSys?(o=e.prjCoordSys.projCode,s='{"epsgCode"'+o.substring(o.indexOf(":"),o.length)+"}"):"string"===typeof e.prjCoordSys&&(s='{"epsgCode"'+e.prjCoordSys.substring(e.prjCoordSys.indexOf(":"),e.prjCoordSys.length)+"}"),a={point2Ds:te.toJSON(i),unit:e.unit,prjCoordSys:s}):a={point2Ds:te.toJSON(i),unit:e.unit},t.request({method:"GET",params:a,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}}u.MeasureService=Kr;class Qr extends ct{constructor(e,t){super(e,t),this.mode=null,t&&te.extend(this,t),this.CLASS_NAME="SuperMap.OverlayAnalystService"}destroy(){super.destroy(),this.mode=null}processAsync(e){var t={},n=this;e instanceof Wt?(n.mode="datasets",n.url=te.urlPathAppend(n.url,"datasets/"+e.sourceDataset+"/overlay"),Wt.toObject(e,t)):e instanceof Rn&&(n.mode="geometry",e.operateGeometries&&e.sourceGeometries?(n.url=te.urlPathAppend(n.url,"geometry/overlay/batch"),n.url=te.urlAppend(n.url,"ignoreAnalystParam=true")):n.url=te.urlPathAppend(n.url,"geometry/overlay"),Rn.toObject(e,t)),n.url=te.urlAppend(n.url,"returnContent=true");var r=te.toJSON(t);n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}u.OverlayAnalystService=Qr;class $r{constructor(e){e&&(this.datasetName="",this.datasetOverlay="",this.mode="",this.srcFields="",this.overlayFields="",this.output=null,this.mappingParameters=null,te.extend(this,e),this.CLASS_NAME="SuperMap.OverlayGeoJobParameter")}destroy(){this.datasetName=null,this.datasetOverlay=null,this.mode=null,this.srcFields=null,this.overlayFields=null,this.output instanceof St&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof Ct&&(this.mappingParameters.destroy(),this.mappingParameters=null)}static toObject(e,t){for(var n in e)"datasetName"!=n?"output"!==n?(t["analyst"]=t["analyst"]||{},t["analyst"][n]=e[n],"mappingParameters"===n&&(t["analyst"][n]=t["analyst"][n]||{},t["analyst"]["mappingParameters"]=e[n])):(t["output"]=t["output"]||{},t["output"]=e[n]):(t["input"]=t["input"]||{},t["input"][n]=e[n])}}u.OverlayGeoJobParameter=$r;class ei extends Tt{constructor(e,t){super(e,t),this.url=te.urlPathAppend(this.url,"spatialanalyst/overlay"),this.CLASS_NAME="SuperMap.OverlayGeoJobsService"}destroy(){super.destroy()}getOverlayGeoJobs(){super.getJobs(this.url)}getOverlayGeoJob(e){super.getJobs(te.urlPathAppend(this.url,e))}addOverlayGeoJob(e,t){super.addJob(this.url,e,$r,t)}}u.OverlayGeoJobsService=ei;class ti extends Nt{constructor(e){e&&(super(e),this.returnContent=!0,this.bounds=null,te.extend(this,e),this.CLASS_NAME="SuperMap.QueryByBoundsParameters")}destroy(){super.destroy();var e=this;e.returnContent=null,e.bounds&&(e.bounds=null)}}u.QueryByBoundsParameters=ti;class ni extends rt{constructor(e,t){super(e,t),this.returnContent=!1,this.format=c.GEOJSON,this.returnFeatureWithFieldCaption=!1,t&&te.extend(this,t),this.CLASS_NAME="SuperMap.QueryService",this.url&&(t&&t.format&&(this.format=t.format.toUpperCase()),this.url=te.urlPathAppend(this.url,"queryResults"))}destroy(){super.destroy();var e=this;e.returnContent=null,e.format=null}processAsync(e){if(e instanceof Nt){var t=this,n=null,r=null;t.returnContent=e.returnContent,r=t.getJsonParameters(e),t.returnContent?t.url=te.urlAppend(t.url,"returnContent="+t.returnContent):(n=e.returnCustomResult,n&&(t.url=te.urlAppend(t.url,"returnCustomResult="+n))),t.returnFeatureWithFieldCaption=e.returnFeatureWithFieldCaption,t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}serviceProcessCompleted(e){var t=this;e=te.transformResult(e);var n=new Pe;if(e&&e.recordsets)for(var r=0,i=e.recordsets,s=i.length;r<s;r++)i[r].features&&(!0===t.returnFeatureWithFieldCaption&&i[r].features.map(e=>(e.fieldNames=i[r].fieldCaptions,e)),t.format===c.GEOJSON&&(i[r].features=n.toGeoJSON(i[r].features)));t.events.triggerEvent("processCompleted",{result:e})}getQueryParameters(e){return new Nt({customParams:e.customParams,expectCount:e.expectCount,networkType:e.networkType,queryOption:e.queryOption,queryParams:e.queryParams,startRecord:e.startRecord,prjCoordSys:e.prjCoordSys,holdTime:e.holdTime})}}u.QueryService=ni;class ri extends ni{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.QueryByBoundsService"}destroy(){super.destroy()}getJsonParameters(e){if(!(e instanceof ti))return null;var t=this,n="",r=null,i=e.bounds;return r=t.getQueryParameters(e),n+="'queryMode':'BoundsQuery','queryParameters':",n+=te.toJSON(r),n+=",'bounds': {'rightTop':{'y':"+i.top+",'x':"+i.right+"},'leftBottom':{'y':"+i.bottom+",'x':"+i.left+"}}",n="{"+n+"}",n}}u.QueryByBoundsService=ri;class ii extends Nt{constructor(e){e&&(super(e),this.distance=0,this.geometry=null,this.isNearest=null,this.returnContent=!0,te.extend(this,e),this.CLASS_NAME="SuperMap.QueryByDistanceParameters")}destroy(){super.destroy();var e=this;e.returnContent=null,e.distance=null,e.isNearest=null,e.geometry&&(e.geometry.destroy(),e.geometry=null)}}u.QueryByDistanceParameters=ii;class si extends ni{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.QueryByDistanceService"}destroy(){super.destroy()}getJsonParameters(e){if(e instanceof ii){var t=this,n="",r=t.getQueryParameters(e),i=Ae.fromGeometry(e.geometry);return n+=e.isNearest?"'queryMode':'FindNearest','queryParameters':":"'queryMode':'DistanceQuery','queryParameters':",n+=te.toJSON(r),n+=",'geometry':"+te.toJSON(i)+",'distance':"+e.distance,n="{"+n+"}",n}}}u.QueryByDistanceService=si;class oi extends Nt{constructor(e){e&&(super(e),this.returnContent=!0,this.geometry=null,this.spatialQueryMode=f.INTERSECT,te.extend(this,e),this.CLASS_NAME="SuperMap.QueryByGeometryParameters")}destroy(){super.destroy();var e=this;e.returnContent=null,e.geometry=null,e.spatialQueryMode=null}}u.QueryByGeometryParameters=oi;class ai extends ni{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.QueryByGeometryService"}destroy(){super.destroy()}getJsonParameters(e){if(e instanceof oi){var t=this,n="",r=null,i=e.geometry,s=Ae.fromGeometry(i);return r=t.getQueryParameters(e),n+="'queryMode':'SpatialQuery','queryParameters':",n+=te.toJSON(r)+",'geometry':"+te.toJSON(s)+",'spatialQueryMode':"+te.toJSON(e.spatialQueryMode),n="{"+n+"}",n}}}u.QueryByGeometryService=ai;class li extends Nt{constructor(e){e&&(super(e),this.returnContent=!0,te.extend(this,e),this.CLASS_NAME="SuperMap.QueryBySQLParameters")}destroy(){super.destroy();var e=this;e.returnContent=null}}u.QueryBySQLParameters=li;class ui extends ni{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.QueryBySQLService"}destroy(){super.destroy()}getJsonParameters(e){if(e instanceof li){var t=this,n="",r=null;return r=t.getQueryParameters(e),n+="'queryMode':'SqlQuery','queryParameters':",n+=te.toJSON(r),n="{"+n+"}",n}}}u.QueryBySQLService=ui;class ci{constructor(e){if(!e)return this;this.sourceRoute=null,this.point=null,this.tolerance=null,this.isIgnoreGap=!1,te.extend(this,e),this.CLASS_NAME="SuperMap.RouteCalculateMeasureParameters"}destroy(){var e=this;e.sourceRoute=null,e.point=null,e.tolerance&&(e.tolerance=null),e.isIgnoreGap&&(e.isIgnoreGap=!1)}}u.RouteCalculateMeasureParameters=ci;class hi extends ct{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.RouteCalculateMeasureService"}destroy(){super.destroy()}processAsync(e){if(e instanceof ci){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}getJsonParameters(e){var t,n="geometry/calculatemeasure",r=this;return r.url=te.urlPathAppend(r.url,n),r.url=te.urlAppend(r.url,"returnContent=true"),t=te.toJSON(e),t}}u.RouteCalculateMeasureService=hi;class pi{constructor(e){if(!e)return this;this.sourceRoute=null,this.dataset=null,this.routeIDField=null,this.routeID=null,this.type=null,this.measure=null,this.offset=0,this.isIgnoreGap=!1,this.startMeasure=null,this.endMeasure=null;var t=e.sourceRoute,n={};if(t&&t instanceof ie&&t.components){n.type=t.type,n.parts=t.parts;for(var r=[],i=0,s=t.components.length;i<s;i++)r=r.concat(t.components[i].components);n.points=r,e.sourceRoute=n}te.extend(this,e),this.CLASS_NAME="SuperMap.RouteLocatorParameters"}destroy(){var e=this;e.sourceRoute=null,e.type=null,e.measure=null,e.offset=0,e.isIgnoreGap=!1,e.startMeasure=null,e.endMeasure=null,e.dataset=null,e.routeID=null,e.routeIDField=null}}u.RouteLocatorParameters=pi;class di extends ct{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.RouteLocatorService"}destroy(){super.destroy()}processAsync(e){if(e instanceof pi){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}getJsonParameters(e){var t,n="geometry/routelocator",r=this;return e.dataset&&(n="datasets/"+e.dataset+"/linearreferencing/routelocator",e.sourceRoute=null),r.url=te.urlPathAppend(r.url,n),r.url=te.urlAppend(r.url,"returnContent=true"),t=te.toJSON(e),t}}u.RouteLocatorService=di;class fi{constructor(e){this.fieldNames=null,this.fieldValues=null,this.geometry=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ServerFeature"}destroy(){var e=this;e.fieldNames=null,e.fieldValues=null,e.geometry&&(e.geometry.destroy(),e.geometry=null)}toFeature(){var e,t,n,r,i={},s=this;for(var o in e=s.fieldNames,t=s.fieldValues,e)i[e[o]]=t[o];return s.geometry&&(n=s.geometry.toGeometry()),r=new be(n,i),s.geometry&&s.geometry.id&&(r.fid=s.geometry.id),r}static fromJson(e){var t=null;if(e)return t=e.geometry,t&&(t=Ae.fromJson(t)),new fi({fieldNames:e.fieldNames,fieldValues:e.fieldValues,geometry:t})}}u.ServerFeature=fi;class mi{constructor(e){e=e||{},this.resourceID=null,this.tempLayerName=null,this.layerInfo=null,te.extend(this,e),this.CLASS_NAME="SuperMap.SetLayerInfoParameters"}destroy(){var e=this;e.resourceID=null,e.tempLayerName=null,e.layerInfo=null}}u.SetLayerInfoParameters=mi;class yi extends rt{constructor(e,t){super(e,t),t&&te.extend(this,t),this.CLASS_NAME="SuperMap.SetLayerInfoService"}destroy(){super.destroy(),te.reset(this)}processAsync(e){if(e){var t=this,n=te.toJSON(e);t.request({method:"PUT",data:n,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}u.SetLayerInfoService=yi;class gi{constructor(e){e=e||{},this.isTempLayers=null,this.resourceID=null,this.layersInfo=null,te.extend(this,e),this.CLASS_NAME="SuperMap.SetLayersInfoParameters"}destroy(){var e=this;e.isTempLayers=null,e.resourceID=null,e.layersInfo=null}}u.SetLayersInfoParameters=gi;class _i extends rt{constructor(e,t){super(e,t),this.resourceID=null,this.isTempLayers=!1,t&&u.Util.extend(this,t),this.CLASS_NAME="SuperMap.SetLayersInfoService"}destroy(){super.destroy(),te.reset(this)}processAsync(e){if(e){var t,n=[],r=this,i="";r.isTempLayers?(r.url=te.urlPathAppend(r.url,"tempLayersSet/"+r.resourceID),i="PUT"):(r.url=te.urlPathAppend(r.url,"tempLayersSet"),i="POST"),e.subLayers||(e.subLayers={layers:[]}),e.subLayers.layers||(e.subLayers.layers=[]);var s=e.subLayers.layers,o=s.length;for(let e in s){if("GRID"===s[e].ugcLayerType){var a={},l=s[e].colorDictionarys;for(var u in l){var c=l[u].elevation;a[c]=l[u].color}}s[e].colorDictionary=a,delete s[e].colorDictionarys}for(let e=0;e<o;e++)s[e].toJsonObject?n.push(s[e].toJsonObject()):n.push(s[e]);t=te.extend(t,e),t.subLayers={layers:n},t.object=null;var h=te.toJSON([t]);r.request({method:i,data:h,scope:r,success:r.serviceProcessCompleted,failure:r.serviceProcessFailed})}}}u.SetLayersInfoService=_i;class vi{constructor(e){this.layerStatusList=[],this.holdTime=15,this.resourceID=null,e&&te.extend(this,e)}destroy(){var e=this;e.layerStatusList=null,e.holdTime=null,e.resourceID=null}toJSON(){var e="{";e+='"layers":[';for(var t=[],n=0,r=this.layerStatusList.length;n<r;n++)t.push(this.layerStatusList[n].toJSON());return e+=t,e+="]",e+="}",e}}u.SetLayerStatusParameters=vi;class bi extends rt{constructor(e,t){super(e,t),this.lastparams=null,this.mapUrl=e,t&&te.extend(this,t),this.CLASS_NAME="SuperMap.SetLayerStatusService"}destroy(){super.destroy(),te.reset(this)}processAsync(e){if(e instanceof vi){var t=this,n="POST";if(t.url=t.mapUrl,null==e.resourceID)t.url=te.urlPathAppend(t.url,"tempLayersSet"),t.lastparams=e,t.request({method:n,scope:t,success:t.createTempLayerComplete,failure:t.serviceProcessFailed});else{t.url=te.urlPathAppend(t.url,"tempLayersSet/"+e.resourceID),t.url=te.urlAppend(t.url,"elementRemain=true&reference="+e.resourceID+"&holdTime="+e.holdTime.toString());var r="[{";r+='"type":"UGC",',null!=e.layerStatusList&&e.layerStatusList.length>0&&(r+='"subLayers":'+e.toJSON()),r+=',"visible":true,',r+='"name":"'+this.getMapName(this.mapUrl)+'"',r+="}]",t.request({method:"PUT",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}createTempLayerComplete(e){var t=this;e=te.transformResult(e),e.succeed&&(t.lastparams.resourceID=e.newResourceID),t.processAsync(t.lastparams)}getMapName(e){var t=e;"/"===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1));var n=t.lastIndexOf("/"),r=t.substring(n+1,t.length);return r}serviceProcessCompleted(e){var t=this;e=te.transformResult(e),null!=e&&null!=t.lastparams&&(e.newResourceID=t.lastparams.resourceID),t.events.triggerEvent("processCompleted",{result:e})}}u.SetLayerStatusService=bi;class xi{constructor(e){e&&(this.datasetName="",this.datasetQuery="",this.geometryQuery="",this.mode=f.CONTAIN,this.output=null,this.mappingParameters=null,te.extend(this,e),this.CLASS_NAME="SuperMap.SingleObjectQueryJobsParameter")}destroy(){this.datasetName=null,this.datasetQuery=null,this.geometryQuery=null,this.mode=null,this.output instanceof St&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof Ct&&(this.mappingParameters.destroy(),this.mappingParameters=null)}static toObject(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t["analyst"]=t["analyst"]||{},t["analyst"][n]=e[n],"mappingParameters"===n&&(t["analyst"][n]=t["analyst"][n]||{},t["analyst"]["mappingParameters"]=e[n])):(t["output"]=t["output"]||{},t["output"]=e[n]):(t["input"]=t["input"]||{},t["input"][n]=e[n])}}u.SingleObjectQueryJobsParameter=xi;class wi extends Tt{constructor(e,t){super(e,t),this.url=te.urlPathAppend(this.url,"spatialanalyst/query"),this.CLASS_NAME="SuperMap.SingleObjectQueryJobsService"}destroy(){super.destroy()}getQueryJobs(){super.getJobs(this.url)}getQueryJob(e){super.getJobs(te.urlPathAppend(this.url,e))}addQueryJob(e,t){super.addJob(this.url,e,xi,t)}}u.SingleObjectQueryJobsService=wi;class Si{constructor(e){e=e||{},this.keyWord=null,this.returnPosition=!1,te.extend(this,e),this.CLASS_NAME="SuperMap.StopQueryParameters"}destroy(){te.reset(this)}}u.StopQueryParameters=Si;class Ci extends rt{constructor(e,t){super(e,t),t=t||{},te.extend(this,t),this.CLASS_NAME="SuperMap.StopQueryService"}destroy(){super.destroy(),te.reset(this)}processAsync(e){if(e instanceof Si){var t=this;t.url=te.urlPathAppend(t.url,"stops/keyword/"+e.keyWord),t.request({method:"GET",params:{returnPosition:e.returnPosition},scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}}u.StopQueryService=Ci;class Ei{constructor(e){e&&(this.datasetName="",this.groupField="",this.attributeField="",this.statisticModes="",this.output=null,this.mappingParameters=null,te.extend(this,e),this.CLASS_NAME="SuperMap.SummaryAttributesJobsParameter")}destroy(){this.datasetName=null,this.groupField=null,this.attributeField=null,this.statisticModes=null,this.output instanceof St&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof Ct&&(this.mappingParameters.destroy(),this.mappingParameters=null)}static toObject(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t["analyst"]=t["analyst"]||{},t["analyst"][n]=e[n],"mappingParameters"===n&&(t["analyst"][n]=t["analyst"][n]||{},t["analyst"]["mappingParameters"]=e[n])):(t["output"]=t["output"]||{},t["output"]=e[n]):(t["input"]=t["input"]||{},t["input"][n]=e[n])}}u.SummaryAttributesJobsParameter=Ei;class Ti extends Tt{constructor(e,t){super(e,t),this.url=te.urlPathAppend(this.url,"spatialanalyst/summaryattributes"),this.CLASS_NAME="SuperMap.SummaryAttributesJobsService"}destroy(){super.destroy()}getSummaryAttributesJobs(){super.getJobs(this.url)}getSummaryAttributesJob(e){super.getJobs(te.urlPathAppend(this.url,e))}addSummaryAttributesJob(e,t){super.addJob(this.url,e,Ei,t)}}u.SummaryAttributesJobsService=Ti;class Ai{constructor(e){e&&(this.datasetName="",this.regionDataset="",this.query="",this.resolution=100,this.meshType=0,this.statisticModes=V.AVERAGE,this.fields="",this.type=W.SUMMARYMESH,this.output=null,this.mappingParameters=null,te.extend(this,e),this.CLASS_NAME="SuperMap.SummaryMeshJobParameter")}destroy(){this.datasetName=null,this.query=null,this.resolution=null,this.statisticModes=null,this.meshType=null,this.fields=null,this.regionDataset=null,this.type=null,this.output instanceof St&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof Ct&&(this.mappingParameters.destroy(),this.mappingParameters=null)}static toObject(e,t){for(var n in e)"datasetName"!==n?"type"!==n?"output"!==n?("SUMMARYMESH"===e.type&&"regionDataset"!==n||"SUMMARYREGION"===e.type&&!r(["meshType","resolution","query"],n))&&(t["analyst"]=t["analyst"]||{},"query"===n&&e[n]?t["analyst"][n]=e[n].toBBOX():t["analyst"][n]=e[n],"mappingParameters"===n&&(t["analyst"][n]=t["analyst"][n]||{},t["analyst"]["mappingParameters"]=e[n])):(t["output"]=t["output"]||{},t["output"]=e[n]):t["type"]=e[n]:(t["input"]=t["input"]||{},t["input"][n]=e[n]);function r(e,t){var n=e.length;while(n--)if(e[n]===t)return!0;return!1}}}u.SummaryMeshJobParameter=Ai;class Pi extends Tt{constructor(e,t){super(e,t),this.url=te.urlPathAppend(this.url,"spatialanalyst/aggregatepoints"),this.CLASS_NAME="SuperMap.SummaryMeshJobsService"}destroy(){super.destroy()}getSummaryMeshJobs(){super.getJobs(this.url)}getSummaryMeshJob(e){super.getJobs(te.urlPathAppend(this.url,e))}addSummaryMeshJob(e,t){super.addJob(this.url,e,Ai,t)}}u.SummaryMeshJobsService=Pi;class Ii{constructor(e){e&&(this.datasetName="",this.regionDataset="",this.sumShape=!0,this.query="",this.standardSummaryFields=!1,this.standardFields="",this.standardStatisticModes="",this.weightedSummaryFields=!1,this.weightedFields="",this.weightedStatisticModes="",this.meshType=0,this.resolution=100,this.meshSizeUnit=j.METER,this.type=W.SUMMARYMESH,this.output=null,this.mappingParameters=null,te.extend(this,e),this.CLASS_NAME="SuperMap.SummaryRegionJobParameter")}destroy(){this.datasetName=null,this.sumShape=null,this.regionDataset=null,this.query=null,this.standardSummaryFields=null,this.standardFields=null,this.standardStatisticModes=null,this.weightedSummaryFields=null,this.weightedFields=null,this.weightedStatisticModes=null,this.meshType=null,this.resolution=null,this.meshSizeUnit=null,this.type=null,this.output instanceof St&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof Ct&&(this.mappingParameters.destroy(),this.mappingParameters=null)}static toObject(e,t){for(var n in e)"datasetName"!==n?"type"!==n&&"type"!==n?"output"!==n?("SUMMARYREGION"===e.type||"SUMMARYMESH"===e.type&&"regionDataset"!==n)&&(t["analyst"]=t["analyst"]||{},"query"===n&&e[n]?t["analyst"][n]=e[n].toBBOX():t["analyst"][n]=e[n],"mappingParameters"===n&&(t["analyst"][n]=t["analyst"][n]||{},t["analyst"]["mappingParameters"]=e[n])):(t["output"]=t["output"]||{},t["output"]=e[n]):t["type"]=e[n]:(t["input"]=t["input"]||{},t["input"][n]=e[n])}}u.SummaryRegionJobParameter=Ii;class Li extends Tt{constructor(e,t){super(e,t),this.url=te.urlPathAppend(this.url,"spatialanalyst/summaryregion"),this.CLASS_NAME="SuperMap.SummaryRegionJobsService"}destroy(){super.destroy()}getSummaryRegionJobs(){super.getJobs(this.url)}getSummaryRegionJob(e){super.getJobs(te.urlPathAppend(this.url,e))}addSummaryRegionJob(e,t){super.addJob(this.url,e,Ii,t)}}u.SummaryRegionJobsService=Li;class Mi{constructor(e){this.maxWeight=null,this.nodeID=null,this.resourceValue=null,this.type=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.SupplyCenter"}destroy(){var e=this;e.maxWeight=null,e.nodeID=null,e.resourceValue=null,e.type=null}static fromJson(e){if(e)return new Mi({maxWeight:e.maxWeight,nodeID:e.nodeID,resourceValue:e.resourceValue,type:e.type})}}u.SupplyCenter=Mi;class Oi extends ct{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.SurfaceAnalystService"}destroy(){super.destroy()}processAsync(e){if(e instanceof Jt){var t,n=this;t=n.getJsonParameters(e),n.request({method:"POST",data:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}getJsonParameters(e){var t="",n={},r=this;if(e instanceof Xt)r.url=te.urlPathAppend(r.url,"datasets/"+e.dataset+"/"+e.surfaceAnalystMethod.toLowerCase()),Xt.toObject(e,n),t=te.toJSON(n);else{if(!(e instanceof Dn))return;r.url=te.urlPathAppend(r.url,"geometry/"+e.surfaceAnalystMethod.toLowerCase()),t=te.toJSON(e)}return r.url=te.urlAppend(r.url,"returnContent=true"),t}}u.SurfaceAnalystService=Oi;class ki{constructor(e){e&&(this.dataset=null,this.zFactor=1,this.averageCurvatureName=null,this.profileCurvatureName="",this.planCurvatureName="",this.deleteExistResultDataset=!1,te.extend(this,e),this.CLASS_NAME="SuperMap.TerrainCurvatureCalculationParameters")}destroy(){var e=this;e.dataset=null,e.zFactor=1,e.averageCurvatureName=null,e.profileCurvatureName=null,e.planCurvatureName=null,e.deleteExistResultDataset=!0}static toObject(e,t){for(var n in e)"dataset"!==n&&(t[n]=e[n])}}u.TerrainCurvatureCalculationParameters=ki;class Ni extends ct{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.TerrainCurvatureCalculationService"}destroy(){super.destroy()}processAsync(e){var t=this,n={};e instanceof ki&&(t.url=te.urlPathAppend(t.url,"datasets/"+e.dataset+"/terraincalculation/curvature")),ki.toObject(e,n);var r=u.Util.toJSON(n);t.url=te.urlAppend(t.url,"returnContent=true"),t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}u.TerrainCurvatureCalculationService=Ni;class Ri{constructor(e){this.caption=null,this.color=new Se,this.end=0,this.start=0,this.visible=!0,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeGridRangeItem"}destroy(){var e=this;e.caption=null,e.end=null,e.start=null,e.color&&(e.color.destroy(),e.color=null),e.visible=null}toServerJSONObject(){var e={};return e=te.copyAttributes(e,this),e.color&&e.color.toServerJSONObject&&(e.color=e.color.toServerJSONObject()),e}static fromObj(e){if(e){var t=new Ri;return te.copy(t,e),t.color=Se.fromJson(e.color),t}}}u.ThemeGridRangeItem=Ri;class Di extends rr{constructor(e){super("GRIDRANGE",e),this.items=null,this.rangeMode=w.EQUALINTERVAL,this.rangeParameter=0,this.colorGradientType=S.YELLOW_RED,this.reverseColor=!1,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeGridRange"}destroy(){super.destroy();var e=this;if(e.items){if(e.items.length>0)for(var t in e.items)e.items[t].destroy(),e.items[t]=null;e.items=null}e.reverseColor=null,e.rangeMode=null,e.rangeParameter=null,e.colorGradientType=null}static fromObj(e){if(e){var t=new Di;te.copy(t,e);var n=e.items,r=n?n.length:0;t.items=[];for(var i=0;i<r;i++)t.items.push(Ri.fromObj(n[i]));return t}}}u.ThemeGridRange=Di;class Fi{constructor(e){this.caption=null,this.color=new Se,this.unique=null,this.visible=!0,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeGridUniqueItem"}destroy(){var e=this;e.caption=null,e.unique=null,e.color&&(e.color.destroy(),e.color=null),e.visible=null}toServerJSONObject(){var e={};return e=te.copyAttributes(e,this),e.color&&e.color.toServerJSONObject&&(e.color=e.color.toServerJSONObject()),e}static fromObj(e){var t=new Fi;return te.copy(t,e),t.color=Se.fromJson(e.color),t}}u.ThemeGridUniqueItem=Fi;class Bi extends rr{constructor(e){super("GRIDUNIQUE",e),this.defaultcolor=new Se,this.items=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeGridUnique"}destroy(){super.destroy();var e=this;if(e.items){if(e.items.length>0)for(var t in e.items)e.items[t].destroy(),e.items[t]=null;e.items=null}e.defaultcolor&&(e.defaultcolor.destroy(),e.defaultcolor=null)}toServerJSONObject(){var e={};if(e=te.copyAttributes(e,this),e.defaultcolor&&e.defaultcolor.toServerJSONObject&&(e.defaultcolor=e.defaultcolor.toServerJSONObject()),e.items){for(var t=[],n=e.items.length,r=0;r<n;r++)t.push(e.items[r].toServerJSONObject());e.items=t}return e}static fromObj(e){var t=new Bi,n=e.items,r=n?n.length:0;te.extend(t,e),t.items=[],t.defaultcolor=Se.fromJson(e.defaultcolor);for(var i=0;i<r;i++)t.items.push(Fi.fromObj(n[i]));return t}}u.ThemeGridUnique=Bi;class qi{constructor(e){this.caption=null,this.unique=null,this.offsetX=0,this.offsetY=0,this.visible=!0,this.style=new ir,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeLabelUniqueItem"}destroy(){var e=this;e.unique=null,e.caption=null,e.offsetX=null,e.offsetY=null,e.style&&(e.style.destroy(),e.style=null),e.visible=null}static fromObj(e){if(e){var t=new qi;return te.copy(t,e),t}}}u.ThemeLabelUniqueItem=qi;class zi{constructor(e){this.datasetNames=null,this.dataSourceNames=null,this.joinItems=null,this.themes=null,this.displayFilters=null,this.displayOrderBys=null,this.fieldValuesDisplayFilter=null,e&&te.extend(this,e),this.CLASS_NAME="SuperMap.ThemeParameters"}destroy(){var e=this;if(e.datasetNames=null,e.dataSourceNames=null,e.joinItems){for(let t=0,n=e.joinItems,r=n.length;t<r;t++)n[t].destroy();e.joinItems=null}if(e.themes){for(let t=0,n=e.themes,r=n.length;t<r;t++)n[t].destroy();e.themes=null}}}u.ThemeParameters=zi;class Ui extends rt{constructor(e,t){super(e,t),t&&u.Util.extend(this,t),this.url=te.urlPathAppend(this.url,"tempLayersSet"),this.CLASS_NAME="SuperMap.ThemeService"}destroy(){super.destroy()}processAsync(e){if(e instanceof zi){var t=this,n=null;n=t.getJsonParameters(e),t.request({method:"POST",data:n,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}getJsonParameters(e){var t,n="",r=null,i=null,s=null;n+="[{'type': 'UGC','subLayers': {'layers': [";for(var o=0;o<e.themes.length;o++){r=e.themes[o];var a=te.toJSON(r);if(a=a.slice(0,-1),n+="{'theme': "+a+"},'type': 'UGC','ugcLayerType': 'THEME',",i=e.displayFilters,i&&i.length>0&&(1===i.length?n+="'displayFilter':\""+i[0]+'",':n+="'displayFilter':\""+i[o]+'",'),s=e.displayOrderBy,s&&s.length>0&&(1===s.length?n+="'displayOrderBy':'"+s[0]+"',":n+="'displayOrderBy':'"+s[o]+"',"),t=e.fieldValuesDisplayFilter,t&&(n+="'fieldValuesDisplayFilter':"+te.toJSON(t)+","),e.joinItems&&e.joinItems.length>0&&e.joinItems[o]&&(n+="'joinItems':["+te.toJSON(e.joinItems[o])+"],"),e.datasetNames&&e.dataSourceNames){var l=e.datasetNames[o]?o:e.datasetNames.length-1,u=e.dataSourceNames[o]?o:e.dataSourceNames.length-1;n+="'datasetInfo': {'name': '"+e.datasetNames[l]+"','dataSourceName': '"+e.dataSourceNames[u]+"'}},"}else n+="},"}e.themes&&e.themes.length>0&&(n=n.substring(0,n.length-1)),n+="]},";var c=this.url.split("/"),h=c[c.length-2];return n+="'name': '"+h+"'}]",n}}u.ThemeService=Ui;class Gi extends ct{constructor(e,t){super(e,t),this.mode=null,t&&te.extend(this,t),this.CLASS_NAME="SuperMap.ThiessenAnalystService"}destroy(){super.destroy(),this.mode=null}processAsync(e){var t={},n=this;e instanceof Yt?(n.mode="datasets",n.url=te.urlPathAppend(n.url,"datasets/"+e.dataset+"/thiessenpolygon"),Yt.toObject(e,t)):e instanceof Fn&&(n.mode="geometry",n.url=te.urlPathAppend(n.url,"geometry/thiessenpolygon"),Fn.toObject(e,t));var r=te.toJSON(t);n.url=te.urlAppend(n.url,"returnContent=true"),n.request({method:"POST",data:r,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}u.ThiessenAnalystService=Gi;class ji extends ct{constructor(e,t){super(e,t),t&&te.extend(this,t),this.CLASS_NAME="SuperMap.GeometryBatchAnalystService"}processAsync(e){var t=this;t.url=te.urlPathAppend(t.url,"geometry/batchanalyst"),t.url=te.urlAppend(t.url,"returnContent=true&ignoreAnalystParam=true");var n=t._processParams(e),r=te.toJSON(n);t.request({method:"POST",data:r,scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}_processParams(e){var t=this;if(te.isArray(e)){var n=[];return e.map((function(e){return n.push(t._toJSON(e)),e})),n}}_toJSON(e){var t={};if("buffer"===e.analystName)t.analystName="buffer",t.param={},xt.toObject(e.param,t.param);else if("overlay"===e.analystName)t.analystName="overlay",t.param={},Rn.toObject(e.param,t.param);else if("interpolationDensity"===e.analystName)t.analystName="interpolationDensity",t.param={},Nr.toObject(e.param,t.param);else if("interpolationidw"===e.analystName)t.analystName="interpolationidw",t.param={},Nr.toObject(e.param,t.param);else if("interpolationRBF"===e.analystName)t.analystName="interpolationRBF",t.param={},Nr.toObject(e.param,t.param);else if("interpolationKriging"===e.analystName)t.analystName="interpolationKriging",t.param={},Nr.toObject(e.param,t.param);else{if("thiessenpolygon"!==e.analystName)return e;t.analystName="thiessenpolygon",t.param={},Fn.toObject(e.param,t.param)}return t}destroy(){super.destroy()}}u.GeometryBatchAnalystService=ji;class Vi extends rt{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.TilesetsService"}destroy(){super.destroy()}processAsync(){if(this.url){var e=this;e.url=te.urlPathAppend(e.url,"tilesets"),e.request({method:"GET",scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}}}u.TilesetsService=Vi;class Wi{constructor(e){e&&(this.datasetName="",this.datasetTopology="",this.tolerance="",this.rule=H.REGIONNOOVERLAP,this.output=null,this.mappingParameters=null,te.extend(this,e),this.CLASS_NAME="SuperMap.TopologyValidatorJobsParameter")}destroy(){this.datasetName=null,this.datasetTopology=null,this.tolerance=null,this.rule=null,this.output instanceof St&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof Ct&&(this.mappingParameters.destroy(),this.mappingParameters=null)}static toObject(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t["analyst"]=t["analyst"]||{},t["analyst"][n]=e[n],"mappingParameters"===n&&(t["analyst"][n]=t["analyst"][n]||{},t["analyst"]["mappingParameters"]=e[n])):(t["output"]=t["output"]||{},t["output"]=e[n]):(t["input"]=t["input"]||{},t["input"][n]=e[n])}}u.TopologyValidatorJobsParameter=Wi;class Hi extends Tt{constructor(e,t){super(e,t),this.url=te.urlPathAppend(this.url,"spatialanalyst/topologyvalidator"),this.CLASS_NAME="SuperMap.TopologyValidatorJobsService"}destroy(){super.destroy()}getTopologyValidatorJobs(){super.getJobs(this.url)}getTopologyValidatorJob(e){super.getJobs(te.urlPathAppend(this.url,e))}addTopologyValidatorJob(e,t){super.addJob(this.url,e,Wi,t)}}u.TopologyValidatorJobsService=Hi;class Ji{constructor(e){e=e||{},this.lineID=null,this.lineName=null,this.lineAliasName=null,this.startStopIndex=null,this.startStopName=null,this.startStopAliasName=null,this.endStopIndex=null,this.endStopName=null,this.endStopAliasName=null,te.extend(this,e),this.CLASS_NAME="SuperMap.TransferLine"}destroy(){te.reset(this)}static fromJson(e){if(e)return new Ji({lineID:e["lineID"],lineName:e["lineName"],lineAliasName:e["lineAliasName"],startStopIndex:e["startStopIndex"],startStopName:e["startStopName"],startStopAliasName:e["startStopAliasName"],endStopIndex:e["endStopIndex"],endStopName:e["endStopName"],endStopAliasName:e["endStopAliasName"]})}}u.TransferLine=Ji;class Xi{constructor(e){e=e||{},this.transferLines=null,this.points=null,te.extend(this,e),this.CLASS_NAME="SuperMap.TransferPathParameters"}destroy(){te.reset(this)}static toJson(e){if(e)return te.toJSON(e)}}u.TransferPathParameters=Xi;class Zi extends rt{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.TransferPathService"}destroy(){super.destroy()}processAsync(e){if(e instanceof Xi){var t,n=this,r="GET";n.url=te.urlPathAppend(n.url,"path"),t={points:te.toJSON(e.points),transferLines:te.toJSON(e["transferLines"])},n.request({method:r,params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}u.TransferPathService=Zi;class Yi{constructor(e){e=e||{},this.solutionCount=6,this.transferPreference=F.NONE,this.transferTactic=D.LESS_TIME,this.walkingRatio=null,this.points=!1,this.evadeLines=null,this.evadeStops=null,this.priorLines=null,this.priorStops=null,this.travelTime=null,te.extend(this,e),this.CLASS_NAME="SuperMap.TransferSolutionParameters"}destroy(){te.reset(this)}static toJson(e){if(e)return te.toJSON(e)}}u.TransferSolutionParameters=Yi;class Ki extends rt{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.TransferSolutionService"}destroy(){super.destroy()}processAsync(e){if(e instanceof Yi){var t,n=this,r="GET";n.url=te.urlPathAppend(n.url,"solutions"),t={points:te.toJSON(e.points),walkingRatio:e["walkingRatio"],transferTactic:e["transferTactic"],solutionCount:e["solutionCount"],transferPreference:e["transferPreference"]},e.evadeLines&&(t["evadeLines"]=te.toJSON(e.evadeLines)),e.evadeStops&&(t["evadeStops"]=te.toJSON(e.evadeStops)),e.priorLines&&(t["priorLines"]=te.toJSON(e.priorLines)),e.priorStops&&(t["priorStops"]=te.toJSON(e.priorStops)),e.travelTime&&(t["travelTime"]=e.travelTime),n.request({method:r,params:t,scope:n,success:n.serviceProcessCompleted,failure:n.serviceProcessFailed})}}}u.TransferSolutionService=Ki;class Qi{constructor(e){e&&(this.edgeId="",this.fromNodeId="",this.toNodeId="",this.weightField="",this.edgeWeight="",te.extend(this,e),this.CLASS_NAME="SuperMap.UpdateEdgeWeightParameters")}destroy(){this.edgeId=null,this.fromNodeId=null,this.toNodeId=null,this.weightField=null,this.edgeWeight=null}}u.UpdateEdgeWeightParameters=Qi;class $i extends It{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.UpdateEdgeWeightService"}destroy(){super.destroy()}processAsync(e){if(e instanceof Qi){var t=this,n=t.parse(e);t.url=te.urlPathAppend(t.url,n);var r=e.edgeWeight?e.edgeWeight:null;t.request({method:"PUT",scope:t,data:r,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}parse(e){if(e){var t="";for(var n in e)if(""!==e[n]&&"edgeWeight"!==e[n])switch(n){case"edgeId":t+="/edgeweight/"+e[n];break;case"fromNodeId":t+="/fromnode/"+e[n];break;case"toNodeId":t+="/tonode/"+e[n];break;case"weightField":t+="/weightfield/"+e[n];break;default:break}return t}}}u.UpdateEdgeWeightService=$i;class es{constructor(e){e&&(this.nodeId="",this.fromEdgeId="",this.toEdgeId="",this.weightField="",this.turnNodeWeight="",te.extend(this,e),this.CLASS_NAME="SuperMap.UpdateTurnNodeWeightParameters")}destroy(){this.nodeId=null,this.fromEdgeId=null,this.toEdgeId=null,this.weightField=null,this.turnNodeWeight=null}}u.UpdateTurnNodeWeightParameters=es;class ts extends It{constructor(e,t){super(e,t),this.CLASS_NAME="SuperMap.UpdateTurnNodeWeightService"}destroy(){super.destroy()}processAsync(e){if(e instanceof es){var t=this,n=t.parse(e);t.url=te.urlPathAppend(t.url,n);var r=e.turnNodeWeight?e.turnNodeWeight:null;t.request({method:"PUT",scope:t,data:r,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}parse(e){if(e){var t="";for(var n in e)if(""!==e[n]&&"turnNodeWeight"!==e[n])switch(n){case"nodeId":t+="/turnnodeweight/"+e[n];break;case"fromEdgeId":t+="/fromedge/"+e[n];break;case"toEdgeId":t+="/toedge/"+e[n];break;case"weightField":t+="/weightfield/"+e[n];break;default:break}return t}}}u.UpdateTurnNodeWeightService=ts;class ns{constructor(e){e=e||{},this.datasetName="",this.datasetVectorClip="",this.geometryClip="",this.mode=U.CLIP,this.output=null,this.mappingParameters=null,te.extend(this,e),this.CLASS_NAME="SuperMap.VectorClipJobsParameter"}destroy(){this.datasetName=null,this.datasetVectorClip=null,this.geometryClip=null,this.mode=null,this.output instanceof St&&(this.output.destroy(),this.output=null),this.mappingParameters instanceof Ct&&(this.mappingParameters.destroy(),this.mappingParameters=null)}static toObject(e,t){for(var n in e)"datasetName"!==n?"output"!==n?(t["analyst"]=t["analyst"]||{},t["analyst"][n]=e[n],"mappingParameters"===n&&(t["analyst"][n]=t["analyst"][n]||{},t["analyst"]["mappingParameters"]=e[n])):(t["output"]=t["output"]||{},t["output"]=e[n]):(t["input"]=t["input"]||{},t["input"][n]=e[n])}}u.VectorClipJobsParameter=ns;class rs extends Tt{constructor(e,t){super(e,t),this.url=te.urlPathAppend(this.url,"spatialanalyst/vectorclip"),this.CLASS_NAME="SuperMap.VectorClipJobsService"}destroy(){super.destroy()}getVectorClipJobs(){super.getJobs(this.url)}getVectorClipJob(e){super.getJobs(te.urlPathAppend(this.url,e))}addVectorClipJob(e,t){super.addJob(this.url,e,ns,t)}}u.VectorClipJobsService=rs;class is{constructor(e){e=e||{},this.type=null,te.extend(this,e),this.CLASS_NAME="SuperMap.RasterFunctionParameter"}destroy(){this.type=null}}u.RasterFunctionParameter=is;class ss extends is{constructor(e){super(e),this.redIndex=0,this.nirIndex=1,this.colorMap="0:ffffe5ff;0.1:f7fcb9ff;0.2:d9f0a3ff;0.3:addd8eff;0.4:78c679ff;0.5:41ab5dff;0.6:238443ff;0.7:006837ff;1:004529ff",this.type=Z.NDVI,te.extend(this,e),this.CLASS_NAME="SuperMap.NDVIParameter"}destroy(){super.destroy(),this.redIndex=null,this.nirIndex=null,this.colorMap=null}toJSON(){return{redIndex:this.redIndex,nirIndex:this.nirIndex,colorMap:this.colorMap,type:this.type}}}u.NDVIParameter=ss;class os extends is{constructor(e){super(e),this.altitude=45,this.azimuth=315,this.zFactor=1,this.type=Z.HILLSHADE,te.extend(this,e),this.CLASS_NAME="SuperMap.HillshadeParameter"}destroy(){super.destroy(),this.altitude=null,this.azimuth=null,this.zFactor=null}toJSON(){return{altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,type:this.type}}}u.HillshadeParameter=os;class as{constructor(e){this.name=null,this.picAsUrl=null,this.picAsBase64=null,this.CLASS_NAME="SuperMap.WebPrintingJobCustomItems",te.extend(this,e)}destroy(){var e=this;e.name=null,e.picAsUrl=null,e.picAsBase64=null}toJSON(){var e={name:this.name};return this.title&&(e.title=this.title),this.picAsUrl?e.picAsUrl=this.picAsUrl:this.picAsBase64&&(e.picAsBase64=this.picAsBase64.replace(/^data:.+;base64,/,"")),te.toJSON(e)}}u.WebPrintingJobCustomItems=as;class ls{constructor(e){this.picAsUrl=null,this.picAsBase64=null,this.CLASS_NAME="SuperMap.WebPrintingJobImage",te.extend(this,e)}destroy(){this.picAsUrl=null,this.picAsBase64=null}toJSON(){var e={};return this.picAsUrl&&(e.picAsUrl=this.picAsUrl),this.picAsBase64&&(e.picAsBase64=this.picAsBase64.replace(/^data:.+;base64,/,"")),te.toJSON(e)}}u.WebPrintingJobImage=ls;class us{constructor(e){this.name=null,this.layerType=null,this.url=null,this.CLASS_NAME="SuperMap.WebPrintingJobLayers",te.extend(this,e)}destroy(){this.name=null,this.layerType=null,this.url=null}}u.WebPrintingJobLayers=us;class cs{constructor(e){this.title=null,this.picAsUrl=null,this.picAsBase64=null,this.layers=null,this.customItems=null,this.CLASS_NAME="SuperMap.WebPrintingJobLegendOptions",te.extend(this,e)}destroy(){this.title=null,this.picAsUrl=null,this.picAsBase64=null,this.layers instanceof us&&(this.layers.destroy(),this.layers=null),this.customItems instanceof as&&(this.customItems.destroy(),this.customItems=null)}toJSON(){var e={title:this.title||""};return this.picAsUrl?e.picAsUrl=this.picAsUrl:this.picAsBase64?e.picAsBase64=this.picAsBase64.replace(/^data:.+;base64,/,""):this.customItems&&(e.customItems=this.customItems),te.toJSON(e)}}u.WebPrintingJobLegendOptions=cs;class hs{constructor(e){this.center=null,this.scale=null,this.layerNames=null,this.image=null,this.layers=null,this.CLASS_NAME="SuperMap.WebPrintingJobLittleMapOptions",te.extend(this,e)}destroy(){this.center=null,this.scale=null,this.layerNames=null,this.image instanceof ls&&(this.image.destroy(),this.image=null),this.layers instanceof us&&(this.layers.destroy(),this.layers=null)}toJSON(){var e={scale:this.scale,center:this.center};return this.layerNames?e.layerNames=this.layerNames:this.layers&&(e.layers=this.layers),this.image&&(e.image=this.image),te.toJSON(e)}}u.WebPrintingJobLittleMapOptions=hs;class ps{constructor(e){this.picAsUrl=null,this.picAsBase64=null,this.CLASS_NAME="SuperMap.WebPrintingJobNorthArrowOptions",te.extend(this,e)}destroy(){this.picAsUrl=null,this.picAsBase64=null}toJSON(){var e={};return this.picAsUrl?e.picAsUrl=this.picAsUrl:this.picAsBase64&&(e.picAsBase64=this.picAsBase64.replace(/^data:.+;base64,/,"")),te.toJSON(e)}}u.WebPrintingJobNorthArrowOptions=ps;class ds{constructor(e){this.scaleText=null,this.orientation=null,this.type=null,this.intervals=null,this.unit=null,this.CLASS_NAME="SuperMap.WebPrintingJobScaleBarOptions",te.extend(this,e)}destroy(){this.scaleText=null,this.orientation=null,this.type=null,this.intervals=null,this.unit=null}toJSON(){var e={scaleText:this.scaleText||"",type:this.type||"BAR",intervals:this.intervals||"",unit:this.unit||"METER"};return this.orientation&&(e.orientation=this.orientation),te.toJSON(e)}}u.WebPrintingJobScaleBarOptions=ds;class fs{constructor(e){this.type=null,this.url=null,this.token=null,this.value=null,this.CLASS_NAME="SuperMap.WebPrintingJobContent",te.extend(this,e)}destroy(){this.type="WEBMAP",this.url=null,this.token=null,this.value=null}toJSON(){var e={type:this.type};return this.token&&(e.token=this.token),this.url?e.url=this.url:this.value&&(e.value=this.value),te.toJSON(e)}}u.WebPrintingJobContent=fs;class ms{constructor(e){this.templateName=null,this.title=null,this.subTitle=null,this.author=null,this.copyright=null,this.scaleBarOptions=null,this.northArrowOptions=null,this.littleMapOptions=null,this.legendOptions=null,this.CLASS_NAME="SuperMap.WebPrintingJobLayoutOptions",te.extend(this,e)}destroy(){this.templateName=null,this.title=null,this.subTitle=null,this.author=null,this.copyright=null,this.scaleBarOptions instanceof ds&&(this.scaleBarOptions.destroy(),this.scaleBarOptions=null),this.northArrowOptions instanceof ps&&(this.northArrowOptions.destroy(),this.northArrowOptions=null),this.littleMapOptions instanceof hs&&(this.littleMapOptions.destroy(),this.littleMapOptions=null),this.legendOptions instanceof cs&&(this.legendOptions.destroy(),this.legendOptions=null)}toJSON(){var e={templateName:this.templateName,title:this.title,subTitle:this.subTitle,author:this.author,copyright:this.copyright};return this.scaleBarOptions&&(e.scaleBarOptions=this.scaleBarOptions),this.northArrowOptions&&(e.northArrowOptions=this.northArrowOptions),this.littleMapOptions&&(e.littleMapOptions=this.littleMapOptions),this.legendOptions&&(e.legendOptions=this.legendOptions),te.toJSON(e)}}u.WebPrintingJobLayoutOptions=ms;class ys{constructor(e){this.format=null,this.dpi=96,this.scale=null,this.rotation=null,this.center=null,this.CLASS_NAME="SuperMap.WebPrintingJobExportOptions",te.extend(this,e)}destroy(){this.format=null,this.dpi=null,this.scale=null,this.rotation=null,this.center=null,this.outputSize=null}toJSON(){var e={format:this.format||"PDF",dpi:this.dpi,scale:this.scale,center:this.center};return this.rotation&&(e.rotation=this.rotation),this.outputSize&&(e.outputSize=this.outputSize),te.toJSON(e)}}u.WebPrintingJobExportOptions=ys;class gs{constructor(e){e&&(this.content=null,this.layoutOptions=null,this.exportOptions=null,te.extend(this,e),this.CLASS_NAME="SuperMap.WebPrintingJobParameters")}destroy(){this.content instanceof fs&&(this.content.destroy(),this.content=null),this.layoutOptions instanceof ms&&(this.layoutOptions.destroy(),this.layoutOptions=null),this.exportOptions instanceof ys&&(this.exportOptions.destroy(),this.exportOptions=null)}}u.WebPrintingJobParameters=gs;class _s extends rt{constructor(e,t){super(e,t),t&&te.extend(this,t),this.CLASS_NAME="SuperMap.WebPrintingService",this.url}destroy(){super.destroy()}createWebPrintingJob(e){if(e){e.layoutOptions&&e.layoutOptions.legendOptions&&(!e.layoutOptions.legendOptions.title&&(e.layoutOptions.legendOptions.title=""),e.layoutOptions.legendOptions.picAsBase64=e.layoutOptions.legendOptions.picAsBase64&&e.layoutOptions.legendOptions.picAsBase64.replace(/^data:.+;base64,/,""),e.layoutOptions.legendOptions.customItems&&e.layoutOptions.legendOptions.customItems.hasOwnProperty("picAsBase64")&&(e.layoutOptions.legendOptions.customItems.picAsBase64=e.layoutOptions.legendOptions.customItems.picAsBase64.replace(/^data:.+;base64,/,"")));var t=this;t.request({url:t._processUrl("jobs"),method:"POST",data:te.toJSON(e),scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}}getPrintingJob(e){var t=this,n=t._processUrl("jobs/"+e);t.request({url:n,method:"GET",scope:t,success:function(e){t.rollingProcess(e,n)},failure:t.serviceProcessFailed})}getPrintingJobResult(e){var t=this;t.request({url:t._processUrl(`jobs/${e}/result`),method:"GET",scope:t,success:t.serviceProcessCompleted,failure:t.serviceProcessFailed})}getLayoutTemplates(){var e=this;e.request({url:e._processUrl("layouts"),method:"GET",scope:e,success:e.serviceProcessCompleted,failure:e.serviceProcessFailed})}rollingProcess(e,t){var n=this;if(e)var r=setInterval((function(){n.request({url:t,method:"GET",scope:n,success:function(e){switch(e.status){case"FINISHED":clearInterval(r),n.serviceProcessCompleted(e);break;case"ERROR":clearInterval(r),n.serviceProcessFailed(e);break;case"RUNNING":n.events.triggerEvent("processRunning",e);break}},failure:n.serviceProcessFailed})}),1e3)}_processUrl(e){return e?te.urlPathAppend(this.url,e):this.url}}u.WebPrintingService=_s;u.ServiceStatus={DOES_NOT_INVOLVE:"DOES_NOT_INVOLVE",PUBLISH_FAILED:"PUBLISH_FAILED",PUBLISHED:"PUBLISHED",PUBLISHING:"PUBLISHING",UNPUBLISHED:"UNPUBLISHED",UNPUBLISHED_FAILED:"UNPUBLISHED_FAILED"},u.DataItemType={AUDIO:"AUDIO",COLOR:"COLOR",COLORSCHEME:"COLORSCHEME",CSV:"CSV",EXCEL:"EXCEL",FILLSYMBOL:"FILLSYMBOL",IMAGE:"IMAGE",LAYERTEMPLATE:"LAYERTEMPLATE",LAYOUTTEMPLATE:"LAYOUTTEMPLATE",LINESYMBOL:"LINESYMBOL",MAPTEMPLATE:"MAPTEMPLATE",MARKERSYMBOL:"MARKERSYMBOL",MBTILES:"MBTILES",PHOTOS:"PHOTOS",SHP:"SHP",SMTILES:"SMTILES",SVTILES:"SVTILES",THEMETEMPLATE:"THEMETEMPLATE",TPK:"TPK",UDB:"UDB",UGCV5:"UGCV5",UNKNOWN:"UNKNOWN",VIDEO:"VIDEO",WORKENVIRONMENT:"WORKENVIRONMENT",WORKSPACE:"WORKSPACE"},u.DataItemOrderBy={FILENAME:"FILENAME",ID:"ID",LASTMODIFIEDTIME:"LASTMODIFIEDTIME",NICKNAME:"NICKNAME",SERVICESTATUS:"SERVICESTATUS",SIZE:"SIZE",STATUS:"STATUS",TYPE:"TYPE",UPDATETIME:"UPDATETIME",USERNAME:"USERNAME"},u.FilterField={LINKPAGE:"LINKPAGE",MAPTITLE:"MAPTITLE",NICKNAME:"NICKNAME",RESTITLE:"RESTITLE",USERNAME:"USERNAME"};class vs{constructor(e){e=e||{},te.extend(this,e),this.serverType=h.ONLINE,this.CLASS_NAME="SuperMap.OnlineServiceBase"}request(e,t,n,r={}){return t=this.createCredentialUrl(t),r["crossOrigin"]=this.options.crossOrigin,r["headers"]=this.options.headers,Be.commit(e,t,n,r).then((function(e){return e.json()}))}createCredentialUrl(e){var t=e,n=this.getCredential();if(n){var r="key="+n,i=t.substring(t.length-1,t.length);t.indexOf("?")>-1&&"?"===i?t+=r:t.indexOf("?")>-1&&"?"!==i?t+="&"+r:t+="?"+r}return t}getCredential(){}}u.OnlineServiceBase=vs;class bs extends vs{constructor(e,t){super(e),t=t||{},this.MD5=null,this.type=null,this.userName=null,this.fileName=null,this.size=null,this.serviceStatus=null,this.serviceId=null,this.id=null,this.lastModfiedTime=null,this.status=null,this.storageId=null,this.publishInfo=null,this.authorizeSetting=null,this.nickname=null,this.tags=[],this.description=null,this.dataItemServices=null,this.coordType=null,this.dataCheckResult=null,this.dataMetaInfo=null,this.thumbnail=null,te.extend(this,t),this.id&&(this.serviceUrl=e+"/"+this.id),this.CLASS_NAME="SuperMap.OnlineData"}load(){if(this.serviceUrl){var e=this;return e.request("GET",this.serviceUrl).then((function(t){te.extend(e,t)}))}}getPublishedServices(){return this.dataItemServices}getAuthorizeSetting(){return this.authorizeSetting}}u.OnlineData=bs;class xs{constructor(){this.rootUrl="https://www.supermapol.com",this.webUrl=this.rootUrl+"/web";var e=this.webUrl+"/mycontent";this.mDatasUrl=e+"/datas",this.CLASS_NAME="SuperMap.Online"}load(){return Be.get(this.rootUrl).then((function(e){return e}))}login(){qe.loginOnline(this.rootUrl,!0)}queryDatas(e){var t=this,n=t.mDatasUrl;return e&&(e=e.toJSON()),Be.get(n,e).then((function(e){if(e&&e.content&&!(e.content.length<1)){for(var n=[],r=e.content,i=r.length,s=0;s<i;s++){var o=r[s],a=new bs(t.mDatasUrl,o);n.push(a)}return n}}))}}u.Online=xs;class ws{constructor(e){e=e||{},this.userNames=null,this.types=null,this.fileName=null,this.serviceStatuses=null,this.serviceId=null,this.ids=null,this.keywords=null,this.orderBy=null,this.tags=null,this.filterFields=null,te.extend(this,e),this.CLASS_NAME="SuperMap.OnlineQueryDatasParameter"}toJSON(){var e=this,t={types:e.types,fileName:e.fileName,serviceStatuses:e.serviceStatuses,serviceId:e.serviceId,ids:e.ids,keywords:e.keywords,orderBy:e.orderBy,tags:e.tags,filterFields:e.filterFields};for(var n in t)null==t[n]&&delete t[n];return t}}u.OnlineQueryDatasParameter=ws;class Ss{constructor(e){this.name=null,this.serviceIds=null,this.clientType=z.SERVER,this.limitation=null,te.extend(this,e),this.CLASS_NAME="SuperMap.KeyServiceParameter"}toJSON(){return{name:this.name,serviceIds:this.serviceIds,clientType:this.clientType,limitation:this.limitation}}}u.KeyServiceParameter=Ss;class Cs{constructor(e,t){this.type=e,this.server=null,this.tokenServiceUrl=null,this.keyServiceUrl=null,te.extend(this,t),this.CLASS_NAME="SuperMap.ServerInfo",this.type=this.type||h.ISERVER,this.server||console.error("server url require is not  undefined");var n="/services/security/tokens";this.type===h.ISERVER&&this.server.indexOf("iserver")<0&&(n="/iserver"+n),this.tokenServiceUrl||(this.tokenServiceUrl=te.urlPathAppend(this.server,n)),this.keyServiceUrl||(this.type===h.IPORTAL?this.keyServiceUrl=te.urlPathAppend(this.server,"/web/mycontent/keys/register"):this.type===h.ONLINE&&(this.keyServiceUrl=te.urlPathAppend(this.server,"/web/mycontent/keys")))}}u.ServerInfo=Cs;class Es{constructor(e){this.userName=null,this.password=null,this.clientType=z.NONE,this.ip=null,this.referer=null,this.expiration=60,te.extend(this,e),this.CLASS_NAME="SuperMap.TokenServiceParameter"}toJSON(){return{userName:this.userName,password:this.password,clientType:this.clientType,ip:this.ip,referer:this.referer,expiration:this.expiration}}}u.TokenServiceParameter=Es;var Ts=n("f94d"),As=n.n(Ts);class Ps{constructor(e,t){t=t||{},this.url=e,this.client=new As.a.Client({host:this.url}),this.change=null,this.openGeoFence=!1,this.outOfGeoFence=null,this.geoFence=null,this.EVENT_TYPES=["change","error","outOfGeoFence"],this.events=new _e(this,null,this.EVENT_TYPES),this.eventListeners=null,te.extend(this,t),this.eventListeners instanceof Object&&this.events.on(this.eventListeners)}setGeoFence(e){this.geoFence=e}bulk(e,t){return this.client.bulk(e,t)}clearScroll(e,t){return this.client.clearScroll(e,t)}count(e,t){return this.client.count(e,t)}create(e,t){return this.client.create(e,t)}delete(e,t){return this.client.delete(e,t)}deleteByQuery(e,t){return this.client.deleteByQuery(e,t)}deleteScript(e,t){return this.client.deleteScript(e,t)}deleteTemplate(e,t){return this.client.deleteTemplate(e,t)}exists(e,t){return this.client.exists(e,t)}existsSource(e,t){return this.client.existsSource(e,t)}explain(e,t){return this.client.explain(e,t)}fieldCaps(e,t){return this.client.fieldCaps(e,t)}get(e,t){return this.client.get(e,t)}getScript(e,t){return this.client.getScript(e,t)}getSource(e,t){return this.client.getSource(e,t)}getTemplate(e,t){return this.client.getTemplate(e,t)}index(e,t){return this.client.index(e,t)}info(e,t){return this.client.info(e,t)}mget(e,t){return this.client.mget(e,t)}msearch(e,t){let n=this;return n.client.msearch(e).then((function(e){return n._update(e.responses,t),e}),(function(e){return t(e),n.events.triggerEvent("error",{error:e}),e}))}msearchTemplate(e,t){return this.client.msearchTemplate(e,t)}mtermvectors(e,t){return this.client.mtermvectors(e,t)}ping(e,t){return this.client.ping(e,t)}putScript(e,t){return this.client.putScript(e,t)}putTemplate(e,t){return this.client.putTemplate(e,t)}reindex(e,t){return this.client.reindex(e,t)}reindexRessrottle(e,t){return this.client.reindexRessrottle(e,t)}renderSearchTemplate(e,t){return this.client.renderSearchTemplate(e,t)}scroll(e,t){return this.client.scroll(e,t)}search(e,t){let n=this;return n.client.search(e).then((function(e){return n._update(e.responses,t),e}),(function(e){return t(e),n.events.triggerEvent("error",{error:e}),e}))}searchShards(e,t){return this.client.searchShards(e,t)}searchTemplate(e,t){return this.client.searchTemplate(e,t)}suggest(e,t){return this.client.suggest(e,t)}termvectors(e,t){return this.client.termvectors(e,t)}update(e,t){return this.client.update(e,t)}updateByQuery(e,t){return this.client.updateByQuery(e,t)}_update(e,t){let n=this;e&&(n.data=e,n.openGeoFence&&n.geoFence&&n._validateDatas(e),n.events.triggerEvent("change",{data:n.data}),n.change?n.change&&n.change(e):t&&t(void 0,{responses:e}))}_validateDatas(e){if(e){e instanceof Array||(e=[e]);var t,n=e.length;for(t=0;t<n;t++)this._validateData(e[t])}}_validateData(e){let t=this;e.hits.hits.map((function(n){let r=n._source,i=t._getMeterPerMapUnit(t.geoFence.unit),s=t.geoFence.center[0]*i,o=t.geoFence.center[1]*i,a=r.x*i,l=r.y*i,u=t._distance(a,l,s,o),c=t.geoFence.radius;return u>c&&(t.outOfGeoFence&&t.outOfGeoFence(e),t.events.triggerEvent("outOfGeoFence",{data:e})),n}))}_distance(e,t,n,r){return Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))}_getMeterPerMapUnit(e){let t,n=6378137;return"meter"===e?t=1:"degree"===e&&(t=2*Math.PI*n/360),t}}u.ElasticSearch=Ps;class Is{constructor(){this.BUILTIN_OBJECT={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},this._ctx=null,this._canvas=null,this._pixelCtx=null,this._width=null,this._height=null,this._offsetX=0,this._offsetY=0,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Util"}clone(e){var t=this.BUILTIN_OBJECT;if("object"==typeof e&&null!==e){var n=e;if(e instanceof Array){n=[];for(var r=0,i=e.length;r<i;r++)n[r]=this.clone(e[r])}else if(!t[Object.prototype.toString.call(e)])for(var s in n={},e)e.hasOwnProperty(s)&&(n[s]=this.clone(e[s]));return n}return e}mergeItem(e,t,n,r){var i=this.BUILTIN_OBJECT;t.hasOwnProperty(n)&&("object"!=typeof e[n]||i[Object.prototype.toString.call(e[n])]?!r&&n in e||(e[n]=t[n]):this.merge(e[n],t[n],r))}merge(e,t,n){for(var r in t)this.mergeItem(e,t,r,n);return e}getContext(){return this._ctx||(this._ctx=document.createElement("canvas").getContext("2d")),this._ctx}getPixelContext(){return this._pixelCtx||(this._canvas=document.createElement("canvas"),this._width=this._canvas.width,this._height=this._canvas.height,this._pixelCtx=this._canvas.getContext("2d")),this._pixelCtx}adjustCanvasSize(e,t){var n,r=this._canvas,i=this._pixelCtx,s=this._width,o=this._height,a=this._offsetX,l=this._offsetY,u=100;e+a>s&&(s=e+a+u,r.width=s,n=!0),t+l>o&&(o=t+l+u,r.height=o,n=!0),e<-a&&(a=Math.ceil(-e/u)*u,s+=a,r.width=s,n=!0),t<-l&&(l=Math.ceil(-t/u)*u,o+=l,r.height=o,n=!0),n&&i.translate(a,l)}getPixelOffset(){return{x:this._offsetX,y:this._offsetY}}indexOf(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}inherits(e,t){var n=e.prototype;function r(){}for(var i in r.prototype=t.prototype,e.prototype=new r,n)e.prototype[i]=n[i];e.constructor=e}}class Ls{constructor(){this.util=new Is,this._ctx=null,this.palette=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],this._palette=this.palette,this.highlightColor="rgba(0,0,255,1)",this._highlightColor=this.highlightColor,this.colorRegExp=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,this._nameColors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"},this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Color"}customPalette(e){this.palette=e}resetPalette(){this.palette=this._palette}getColor(e,t){return e|=0,t=t||this.palette,t[e%t.length]}customHighlight(e){this.highlightColor=e}resetHighlight(){this.highlightColor=this._highlightColor}getHighlightColor(){return this.highlightColor}getRadialGradient(e,t,n,r,i,s,o){var a=this.util;this._ctx||(this._ctx=a.getContext());for(var l=this._ctx.createRadialGradient(e,t,n,r,i,s),u=0,c=o.length;u<c;u++)l.addColorStop(o[u][0],o[u][1]);return l.__nonRecursion=!0,l}getLinearGradient(e,t,n,r,i){var s=this.util;this._ctx||(this._ctx=s.getContext());for(var o=this._ctx.createLinearGradient(e,t,n,r),a=0,l=i.length;a<l;a++)o.addColorStop(i[a][0],i[a][1]);return o.__nonRecursion=!0,o}getStepColors(e,t,n){e=this.toRGBA(e),t=this.toRGBA(t),e=this.getData(e),t=this.getData(t);for(var r=[],i=(t[0]-e[0])/n,s=(t[1]-e[1])/n,o=(t[2]-e[2])/n,a=(t[3]-e[3])/n,l=0,u=e[0],c=e[1],h=e[2],p=e[3];l<n;l++)r[l]=this.toColor([this.adjust(Math.floor(u),[0,255]),this.adjust(Math.floor(c),[0,255]),this.adjust(Math.floor(h),[0,255]),p.toFixed(4)-0],"rgba"),u+=i,c+=s,h+=o,p+=a;return u=t[0],c=t[1],h=t[2],p=t[3],r[l]=this.toColor([u,c,h,p],"rgba"),r}getGradientColors(e,t){var n=[],r=e.length;if(void 0===t&&(t=20),1===r)n=this.getStepColors(e[0],e[0],t);else if(r>1)for(var i=0,s=r-1;i<s;i++){var o=this.getStepColors(e[i],e[i+1],t);i<s-1&&o.pop(),n=n.concat(o)}return n}toColor(e,t){if(t=t||"rgb",e&&(3===e.length||4===e.length)){if(e=this.map(e,(function(e){return e>1?Math.ceil(e):e})),t.indexOf("hex")>-1)return"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1);if(t.indexOf("hs")>-1){var n=this.map(e.slice(1,3),(function(e){return e+"%"}));e[1]=n[0],e[2]=n[1]}return t.indexOf("a")>-1?(3===e.length&&e.push(1),e[3]=this.adjust(e[3],[0,1]),t+"("+e.slice(0,4).join(",")+")"):t+"("+e.slice(0,3).join(",")+")"}}toArray(e){e=this.trim(e),e.indexOf("rgba")<0&&(e=this.toRGBA(e));var t=[],n=0;return e.replace(/[\d.]+/g,(function(e){n<3?e|=0:e=+e,t[n++]=e})),t}convert(e,t){if(!this.isCalculableColor(e))return e;var n=this.getData(e),r=n[3];return"undefined"===typeof r&&(r=1),e.indexOf("hsb")>-1?n=this._HSV_2_RGB(n):e.indexOf("hsl")>-1&&(n=this._HSL_2_RGB(n)),t.indexOf("hsb")>-1||t.indexOf("hsv")>-1?n=this._RGB_2_HSB(n):t.indexOf("hsl")>-1&&(n=this._RGB_2_HSL(n)),n[3]=r,this.toColor(n,t)}toRGBA(e){return this.convert(e,"rgba")}toRGB(e){return this.convert(e,"rgb")}toHex(e){return this.convert(e,"hex")}toHSVA(e){return this.convert(e,"hsva")}toHSV(e){return this.convert(e,"hsv")}toHSBA(e){return this.convert(e,"hsba")}toHSB(e){return this.convert(e,"hsb")}toHSLA(e){return this.convert(e,"hsla")}toHSL(e){return this.convert(e,"hsl")}toName(e){for(var t in this._nameColors)if(this.toHex(this._nameColors[t])===this.toHex(e))return t;return null}trim(e){return String(e).replace(/\s+/g,"")}normalize(e){if(this._nameColors[e]&&(e=this._nameColors[e]),e=this.trim(e),e=e.replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(e)){e=parseInt(e.slice(1),16);var t=(3840&e)<<8,n=(240&e)<<4,r=15&e;e="#"+((1<<24)+(t<<4)+t+(n<<4)+n+(r<<4)+r).toString(16).slice(1)}return e}lift(e,t){if(!this.isCalculableColor(e))return e;var n=t>0?1:-1;"undefined"===typeof t&&(t=0),t=Math.abs(t)>1?1:Math.abs(t),e=this.toRGB(e);for(var r=this.getData(e),i=0;i<3;i++)r[i]=1===n?r[i]*(1-t)|0:(255-r[i])*t+r[i]|0;return"rgb("+r.join(",")+")"}reverse(e){if(!this.isCalculableColor(e))return e;var t=this.getData(this.toRGBA(e));return t=this.map(t,(function(e){return 255-e})),this.toColor(t,"rgb")}mix(e,t,n){if(!this.isCalculableColor(e)||!this.isCalculableColor(t))return e;"undefined"===typeof n&&(n=.5),n=1-this.adjust(n,[0,1]);for(var r=2*n-1,i=this.getData(this.toRGBA(e)),s=this.getData(this.toRGBA(t)),o=i[3]-s[3],a=((r*o===-1?r:(r+o)/(1+r*o))+1)/2,l=1-a,u=[],c=0;c<3;c++)u[c]=i[c]*a+s[c]*l;var h=i[3]*n+s[3]*(1-n);return h=Math.max(0,Math.min(1,h)),1===i[3]&&1===s[3]?this.toColor(u,"rgb"):(u[3]=h,this.toColor(u,"rgba"))}random(){return"#"+Math.random().toString(16).slice(2,8)}getData(e){e=this.normalize(e);var t,n,r=e.match(this.colorRegExp);if(null===r)throw new Error("The color format error");var i,s=[];if(r[2])t=r[2].replace("#","").split(""),i=[t[0]+t[1],t[2]+t[3],t[4]+t[5]],s=this.map(i,(function(e){return Ls.prototype.adjust.call(this,parseInt(e,16),[0,255])}));else if(r[4]){var o=r[4].split(",");n=o[3],i=o.slice(0,3),s=this.map(i,(function(e){return e=Math.floor(e.indexOf("%")>0?2.55*parseInt(e,0):e),Ls.prototype.adjust.call(this,e,[0,255])})),"undefined"!==typeof n&&s.push(this.adjust(parseFloat(n),[0,1]))}else if(r[5]||r[6]){var a=(r[5]||r[6]).split(","),l=parseInt(a[0],0)/360,u=a[1],c=a[2];n=a[3],s=this.map([u,c],(function(e){return Ls.prototype.adjust.call(this,parseFloat(e)/100,[0,1])})),s.unshift(l),"undefined"!==typeof n&&s.push(this.adjust(parseFloat(n),[0,1]))}return s}alpha(e,t){if(!this.isCalculableColor(e))return e;null===t&&(t=1);var n=this.getData(this.toRGBA(e));return n[3]=this.adjust(Number(t).toFixed(4),[0,1]),this.toColor(n,"rgba")}map(e,t){if("function"!==typeof t)throw new TypeError;for(var n=e?e.length:0,r=0;r<n;r++)e[r]=t(e[r]);return e}adjust(e,t){return e<=t[0]?e=t[0]:e>=t[1]&&(e=t[1]),e}isCalculableColor(e){return e instanceof Array||"string"===typeof e}_HSV_2_RGB(e){var t,n,r,i=e[0],s=e[1],o=e[2];if(0===s)t=255*o,n=255*o,r=255*o;else{var a=6*i;6===a&&(a=0);var l=0|a,u=o*(1-s),c=o*(1-s*(a-l)),h=o*(1-s*(1-(a-l))),p=0,d=0,f=0;0===l?(p=o,d=h,f=u):1===l?(p=c,d=o,f=u):2===l?(p=u,d=o,f=h):3===l?(p=u,d=c,f=o):4===l?(p=h,d=u,f=o):(p=o,d=u,f=c),t=255*p,n=255*d,r=255*f}return[t,n,r]}_HSL_2_RGB(e){var t,n,r,i=e[0],s=e[1],o=e[2];if(0===s)t=255*o,n=255*o,r=255*o;else{var a;a=o<.5?o*(1+s):o+s-s*o;var l=2*o-a;t=255*this._HUE_2_RGB(l,a,i+1/3),n=255*this._HUE_2_RGB(l,a,i),r=255*this._HUE_2_RGB(l,a,i-1/3)}return[t,n,r]}_HUE_2_RGB(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),6*n<1?e+6*(t-e)*n:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}_RGB_2_HSB(e){var t,n,r=e[0]/255,i=e[1]/255,s=e[2]/255,o=Math.min(r,i,s),a=Math.max(r,i,s),l=a-o,u=a;if(0===l)t=0,n=0;else{n=l/a;var c=((a-r)/6+l/2)/l,h=((a-i)/6+l/2)/l,p=((a-s)/6+l/2)/l;r===a?t=p-h:i===a?t=1/3+c-p:s===a&&(t=2/3+h-c),t<0&&(t+=1),t>1&&(t-=1)}return t*=360,n*=100,u*=100,[t,n,u]}_RGB_2_HSL(e){var t,n,r=e[0]/255,i=e[1]/255,s=e[2]/255,o=Math.min(r,i,s),a=Math.max(r,i,s),l=a-o,u=(a+o)/2;if(0===l)t=0,n=0;else{n=u<.5?l/(a+o):l/(2-a-o);var c=((a-r)/6+l/2)/l,h=((a-i)/6+l/2)/l,p=((a-s)/6+l/2)/l;r===a?t=p-h:i===a?t=1/3+c-p:s===a&&(t=2/3+h-c),t<0&&(t+=1),t>1&&(t-=1)}return t*=360,n*=100,u*=100,[t,n,u]}}var Ms=new Ls;class Os{static createCanvas(e,t){var n=document.createElement("canvas");return n.height=e,n.width=t,n.getContext("2d")}static getLinearGradient(e,t,n,r,i){this._ctx||(this._ctx=this.getContext());for(var s=this._ctx.createLinearGradient(e,t,n,r),o=i.length,a=1/(o-1),l=0,u=0;u<o;u++)s.addColorStop(l,i[u]),l+=a;return s.__nonRecursion=!0,s}static getContext(){return this._ctx||(this._ctx=document.createElement("canvas").getContext("2d")),this._ctx}static getStepColors(e,t,n){e=Ms.toRGBA(e),t=Ms.toRGBA(t),e=Ms.getData(e),t=Ms.getData(t);for(var r=[],i=(t[0]-e[0])/n,s=(t[1]-e[1])/n,o=(t[2]-e[2])/n,a=(t[3]-e[3])/n,l=0,u=e[0],c=e[1],h=e[2],p=e[3];l<n;l++)r[l]=Ms.toColor([Ms.adjust(Math.floor(u),[0,255]),Ms.adjust(Math.floor(c),[0,255]),Ms.adjust(Math.floor(h),[0,255]),p.toFixed(4)-0],"hex"),u+=i,c+=s,h+=o,p+=a;return u=t[0],c=t[1],h=t[2],p=t[3],r[l]=Ms.toColor([u,c,h,p],"hex"),r}static getGradientColors(e,t,n){var r,i,s,o=[],a=e.length;if(void 0!==t){if(a>=t)if("RANGE"===n)for(i=0;i<t;i++)o.push(e[i]);else for(i=0;i<t;i++){let t=Math.floor(i/2);if(i%2===0)o.push(e[t]);else{let n=e.length-1-t;o.push(e[n])}}else{for(r=Math.ceil(t/(a-1)),i=0,s=a-1;i<s;i++){var l=this.getStepColors(e[i],e[i+1],r);i<s-1&&l.pop(),o=o.concat(l)}for(var u=o.length-t,c=0,h=0;c<u;c++)o.splice(h+2,1)}return o}}}u.ColorsPickerUtil=Os;class ks{static newInstance(){return this.geostatsInstance||(this.geostatsInstance=new window.geostats),this.geostatsInstance}static getInstance(e){let t=this.newInstance();return t.setSerie(e),t}static getArrayStatistic(e,t){return e.length?"Sum"===t||""===t?this.getSum(e):"Maximum"===t||""===t?this.getMax(e):"Minimum"===t||""===t?this.getMin(e):"Average"===t||""===t?this.getMean(e):"Median"===t||""===t?this.getMedian(e):"times"===t||""===t?this.getTimes(e):void 0:0}static getArraySegments(e,t,n){if("offset"===t)return this.getEqInterval(e,n);if("jenks"===t)return this.getJenks(e,n);if("square"===t){let t=this.getMin(e);return t>=0&&this.getSqrtInterval(e,n)}if("logarithm"===t){let t=this.getMin(e);return t>0&&this.getGeometricProgression(e,n)}}static getSum(e){return this.getInstance(e).sum()}static getMax(e){return this.getInstance(e).max()}static getMin(e){return this.getInstance(e).min()}static getMean(e){return this.getInstance(e).mean()}static getMedian(e){return this.getInstance(e).median()}static getTimes(e){return e.length}static getEqInterval(e,t){return this.getInstance(e).getClassEqInterval(t)}static getJenks(e,t){return this.getInstance(e).getClassJenks(t)}static getSqrtInterval(e,t){e=e.map((function(e){return Math.sqrt(e)}));let n=this.getInstance(e).getClassEqInterval(t);return n.map((function(e){return e*e}))}static getGeometricProgression(e,t){return this.getInstance(e).getClassGeometricProgression(t)}}u.ArrayStatistic=ks;var Ns=function(e){var t,n=6378137;if(e===y.METER)t=1;else if(e===y.DEGREE)t=2*Math.PI*n/360;else if(e===y.KILOMETER)t=.001;else if(e===y.INCH)t=1/.025399999918;else{if(e!==y.FOOT)return t;t=.3048}return t},Rs=n("fec4"),Ds=n.n(Rs);class Fs{constructor(e){this.env=null,this.parser=null,this.ruleSet=null,this.cartoStr="",this.shaders=null,"string"===typeof e&&(this.cartoStr=e,this.env={frames:[],errors:[],error:function(e){this.errors.push(e)}},this.parser=this.getParser(this.env),this.parse(e),this.shaders=this.toShaders())}getParser(e){var t,n,r,i,s,o,a,l,c,h=this;function p(){i=a[r],s=n,l=n}function d(){a[r]=i,n=s,l=n}function f(){n>l&&(a[r]=a[r].slice(n-l),l=n)}function m(e){var i,s,o,u;if(e instanceof Function)return e.call(c.parsers);if("string"===typeof e)i=t.charAt(n)===e?e:null,s=1,f();else{if(f(),i=e.exec(a[r]),!i)return null;s=i[0].length}if(i){var h=n+=s;u=n+a[r].length-s;while(n<u){if(o=t.charCodeAt(n),32!==o&&10!==o&&9!==o)break;n++}return a[r]=a[r].slice(s+(n-h)),l=n,0===a[r].length&&r<a.length-1&&r++,"string"===typeof i?i:1===i.length?i[0]:i}}function y(e){return"string"===typeof e?t.charAt(n)===e:!!e.test(a[r])}function g(n){var r,i={index:o,filename:e.filename,message:"Parse error.",line:0,column:-1};for(var s in i)0===n[s]&&(n[s]=i[s]);r=n.filename&&h.env.inputs&&h.env.inputs[n.filename]?h.env.inputs[n.filename]:t,n.line=(r.slice(0,n.index).match(/\n/g)||"").length+1;for(var a=n.index;a>=0&&"\n"!==r.charAt(a);a--)n.column++;return new Error([n.filename,n.line,n.column,n.message].join(";"))}return this.env=e=e||{},this.env.filename=this.env.filename||null,this.env.inputs=this.env.inputs||{},c={parse:function(i){var s,c=null;if(n=r=l=o=0,a=[],t=i.replace(/\r\n/g,"\n"),e.filename&&(h.env.inputs[e.filename]=t),a=function(e){for(var n,r,i,s,o=0,a=/(?:@\{[\w-]+\}|[^"'`\{\}\/\(\)\\])+/g,l=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,u=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`]|\\.)*)`/g,h=0,p=e[0],d=0;d<t.length;)if(a.lastIndex=d,(n=a.exec(t))&&n.index===d&&(d+=n[0].length,p.push(n[0])),i=t.charAt(d),l.lastIndex=u.lastIndex=d,(n=u.exec(t))&&n.index===d)d+=n[0].length,p.push(n[0]);else if(r||"/"!==i||(s=t.charAt(d+1),"/"!==s&&"*"!==s||!(n=l.exec(t))||n.index!==d)){switch(i){case"{":if(!r){h++,p.push(i);break}case"}":if(!r){h--,p.push(i),e[++o]=p=[];break}case"(":if(!r){r=!0,p.push(i);break}case")":if(r){r=!1,p.push(i);break}default:p.push(i);break}d++}else d+=n[0].length,p.push(n[0]);return 0!==h&&(c={index:d-1,type:"Parse",message:h>0?"missing closing `}`":"missing opening `{`"}),e.map((function(e){return e.join("")}))}([[]]),c)throw g(c);var p=function(e,t){var n=e.specificity,r=t.specificity;return n[0]!=r[0]?r[0]-n[0]:n[1]!=r[1]?r[1]-n[1]:n[2]!=r[2]?r[2]-n[2]:r[3]-n[3]};return s=new u.CartoCSS.Tree.Ruleset([],m(this.parsers.primary)),s.root=!0,s.toList=function(){return function(e){e.error=function(t){e.errors||(e.errors=new Error("")),e.errors.message?e.errors.message+="\n"+g(t).message:e.errors.message=g(t).message},e.frames=e.frames||[];var t=this.flatten([],[],e);return t.sort(p),t}}(),s},parsers:{primary:function(){var e,t=[];while((e=m(this.rule)||m(this.ruleset)||m(this.comment))||m(/^[\s\n]+/)||(e=m(this.invalid)))e&&t.push(e);return t},invalid:function(){var e=m(/^[^;\n]*[;\n]/);if(e)return new u.CartoCSS.Tree.Invalid(e,s)},comment:function(){var e;if("/"===t.charAt(n))return"/"===t.charAt(n+1)?new u.CartoCSS.Tree.Comment(m(/^\/\/.*/),!0):(e=m(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/))?new u.CartoCSS.Tree.Comment(e):void 0},entities:{quoted:function(){if('"'===t.charAt(n)||"'"===t.charAt(n)){var e=m(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/);return e?new u.CartoCSS.Tree.Quoted(e[1]||e[2]):void 0}},field:function(){var e="[",t="]";if(m(e)){var n=m(/(^[^\]]+)/);if(m(t))return n?new u.CartoCSS.Tree.Field(n[1]):void 0}},comparison:function(){var e=m(/^=~|=|!=|<=|>=|<|>/);if(e)return e},keyword:function(){var e=m(/^[A-Za-z\u4e00-\u9fa5-]+[A-Za-z-0-9\u4e00-\u9fa5_]*/);if(e)return new u.CartoCSS.Tree.Keyword(e)},call:function(){var e,t;if(e=/^([\w\-]+|%)\(/.exec(a[r])){if(e=e[1],"url"===e)return null;n+=e.length;var i="(",s=")";if(m(i),t=m(this.entities["arguments"]),m(s))return e?new u.CartoCSS.Tree.Call(e,t,n):void 0}},arguments:function(){var e,t=[];while(e=m(this.expression)){t.push(e);var n=",";if(!m(n))break}return t},literal:function(){return m(this.entities.dimension)||m(this.entities.keywordcolor)||m(this.entities.hexcolor)||m(this.entities.quoted)},url:function(){var e;if("u"===t.charAt(n)&&m(/^url\(/)){e=m(this.entities.quoted)||m(this.entities.variable)||m(/^[\-\w%@_match\/.&=:;#+?~]+/)||"";var r=")";return m(r)?new u.CartoCSS.Tree.URL("undefined"!==typeof e.value||e instanceof u.CartoCSS.Tree.Variable?e:new u.CartoCSS.Tree.Quoted(e)):new u.CartoCSS.Tree.Invalid(e,s,"Missing closing ) in URL.")}},variable:function(){var r,i=n;if("@"===t.charAt(n)&&(r=m(/^@[\w-]+/)))return new u.CartoCSS.Tree.Variable(r,i,e.filename)},hexcolor:function(){var e;if("#"===t.charAt(n)&&(e=m(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})/)))return new u.CartoCSS.Tree.Color(e[1])},keywordcolor:function(){var e=a[r].match(/^[a-z]+/);if(e&&e[0]in u.CartoCSS.Tree.Reference.data.colors)return new u.CartoCSS.Tree.Color(u.CartoCSS.Tree.Reference.data.colors[m(/^[a-z]+/)])},dimension:function(){var e=t.charCodeAt(n);if(!(e>57||e<45||47===e)){var r=m(/^(-?\d*\.?\d+(?:[eE][-+]?\d+)?)(\%|\w+)?/);return r?new u.CartoCSS.Tree.Dimension(r[1],r[2],s):void 0}}},variable:function(){var e;if("@"===t.charAt(n)&&(e=m(/^(@[\w-]+)\s*:/)))return e[1]},entity:function(){var e=m(this.entities.call)||m(this.entities.literal),t=m(this.entities.field)||m(this.entities.variable),n=m(this.entities.url)||m(this.entities.keyword);return e||t||n},end:function(){var e=";";return m(e)||y("}")},element:function(){var e=m(/^(?:[.#][\w\u4e00-\u9fa5\-]+|\*|Map)/);if(e)return new u.CartoCSS.Tree.Element(e)},attachment:function(){var e=m(/^::([\w\-]+(?:\/[\w\-]+)*)/);if(e)return e[1]},selector:function(){var e,r,i,o,a,l=[],c=new u.CartoCSS.Tree.Filterset,h=[],p=0,d=0;while((i=m(this.element))||(a=m(this.zoom))||(o=m(this.filter))||(e=m(this.attachment))){if(p++,i)l.push(i);else if(a)h.push(a),d++;else if(o){var f=c.add(o);if(f)throw g({message:f,index:n-1});d++}else{if(r)throw g({message:"Encountered second attachment name.",index:n-1});r=e}var y=t.charAt(n);if("{"===y||"}"===y||";"===y||","===y)break}if(p)return new u.CartoCSS.Tree.Selector(c,h,l,r,d,s)},filter:function(){p();var t,n,r,i="[",o="]";if(m(i)&&(t=m(/^[a-zA-Z0-9\-_]+/)||m(this.entities.quoted)||m(this.entities.variable)||m(this.entities.keyword)||m(this.entities.field))&&(t instanceof u.CartoCSS.Tree.Quoted&&(t=new u.CartoCSS.Tree.Field(t.toString())),(n=m(this.entities.comparison))&&(r=m(this.entities.quoted)||m(this.entities.variable)||m(this.entities.dimension)||m(this.entities.keyword)||m(this.entities.field)))){if(!m(o))throw g({message:"Missing closing ] of filter.",index:s-1});return t.is||(t=new u.CartoCSS.Tree.Field(t)),new u.CartoCSS.Tree.Filter(t,n,r,s,e.filename)}},zoom:function(){p();var e,t,n="]";if(m(/^\[\s*zoom/g)&&(e=m(this.entities.comparison))&&(t=m(this.entities.variable)||m(this.entities.dimension))&&m(n))return new u.CartoCSS.Tree.Zoom(e,t,s);d()},block:function(){var e,t="{",n="}";if(m(t)&&(e=m(this.primary))&&m(n))return e},ruleset:function(){var e,t,n=[],r=",";p();while(e=m(this.selector)){n.push(e);while(m(this.comment));if(!m(r))break;while(m(this.comment));}if(e)while(m(this.comment));if(n.length>0&&(t=m(this.block))){if(1===n.length&&n[0].elements.length&&"Map"===n[0].elements[0].value){var i=new u.CartoCSS.Tree.Ruleset(n,t);return i.isMap=!0,i}return new u.CartoCSS.Tree.Ruleset(n,t)}d()},rule:function(){var r,i,a=t.charAt(n);if(p(),"."!==a&&"#"!==a&&(r=m(this.variable)||m(this.property))){if(i=m(this.value),i&&m(this.end))return new u.CartoCSS.Tree.Rule(r,i,s,e.filename);o=n,d()}},font:function(){var e,t=[],n=[],r=",";while(e=m(this.entity))n.push(e);if(t.push(new u.CartoCSS.Tree.Expression(n)),m(r))while(e=m(this.expression))if(t.push(e),!m(r))break;return new u.CartoCSS.Tree.Value(t)},value:function(){var e,t=[],n=",";while(e=m(this.expression))if(t.push(e),!m(n))break;return t.length>1?new u.CartoCSS.Tree.Value(t.map((function(e){return e.value[0]}))):1===t.length?new u.CartoCSS.Tree.Value(t):void 0},sub:function(){var e,t="(",n=")";if(m(t)&&(e=m(this.expression))&&m(n))return e},multiplication:function(){var e,t,n,r,i="/";if(e=m(this.operand)){while((n=m(i)||m("*")||m("%"))&&(t=m(this.operand)))r=new u.CartoCSS.Tree.Operation(n,[r||e,t],s);return r||e}},addition:function(){var e,r,i,o,a="+";if(e=m(this.multiplication)){while((i=m(/^[-+]\s+/)||" "!=t.charAt(n-1)&&(m(a)||m("-")))&&(r=m(this.multiplication)))o=new u.CartoCSS.Tree.Operation(i,[o||e,r],s);return o||e}},operand:function(){return m(this.sub)||m(this.entity)},expression:function(){var e,t=[];while(e=m(this.addition)||m(this.entity))t.push(e);if(t.length>0)return new u.CartoCSS.Tree.Expression(t)},property:function(){var e=m(/^(([a-z][-a-z_0-9]*\/)?\*?-?[-a-z_0-9]+)\s*:/);if(e)return e[1]}}},c}parse(e){var t=this.parser,n=this.ruleSet=t.parse(e);return n}toShaders(){if(this.ruleSet){var e=this.ruleSet;if(e){var t=e.toList(this.env);t.reverse();var n={},r=[];this._toShaders(n,r,t);for(var i=[],s={},o=0,a=t.length;o<a;++o){var l=t[o],u=l.attachment,c=n[r[o]],h=[];if(!s[u]){var p=0;for(var d in c)if("zoom"!==d&&"frames"!==d&&"attachment"!==d&&"elements"!=d)if("layer-index"===d){var f=function(e,t){var n=null;return c[d].join("\n"),n},m=f();Object.defineProperty(h,"layerIndex",{configurable:!0,enumerable:!1,value:m})}else h[p++]=function(e,t){if(!Array.isArray(e))return e;var n=e.join("\n"),r='attributes["FEATUREID"]&&attributes["FEATUREID"]',i=n.indexOf(r);if(i>=0){if(!t.featureFilter){var s=i+r.length,o=n.indexOf(")",s+1),a="featureId&&(featureId"+n.substring(s,o)+")",l=function(e){return!!a};Object.defineProperty(t,"featureFilter",{configurable:!0,enumerable:!1,value:l})}return{property:d,getValue:Function("attributes","zoom","seftFilter","var _value = null; var isExcute=typeof seftFilter=='function'?sefgFilter():seftFilter;if(isExcute){"+n+";} return _value; ")}}return{property:d,getValue:Function("attributes","zoom","var _value = null;"+n+"; return _value; ")}}(c[d],h);Object.defineProperty(h,"attachment",{configurable:!0,enumerable:!1,value:u}),Object.defineProperty(h,"elements",{configurable:!0,enumerable:!1,value:l.elements}),i.push(h),s[r[o]]=!0}Object.defineProperty(h,"zoom",{configurable:!0,enumerable:!1,value:l.zoom})}return i}}return null}_toShaders(e,t,n){for(let r=0,i=n.length;r<i;++r){let i=n[r],s=[];for(let e=0,t=i.elements.length;e<t;e++)s.push(i.elements[e]);let o=i.filters.filters,a=[];for(let e in o)a.push(o[e].id);let l=s.join("/")+"::"+i.attachment+"_"+a.join("_");t.push(l);let c=e[l]=e[l]||{};c.zoom=u.CartoCSS.Tree.Zoom.all;let h=i.toJS(this.env);for(let e in h)(c[e]=c[e]||[]).push(h[e].join("\n"))}}getShaders(){return this.shaders}destroy(){this.cartoStr=null,this.env=null,this.ruleSet=null,this.parser=null,this.shaders=null}}u._mapnik_reference_latest={version:"2.1.1",style:{"filter-mode":{type:["all","first"],doc:"Control the processing behavior of Rule filters within a Style. If 'all' is used then all Rules are processed sequentially independent of whether any previous filters matched. If 'first' is used then it means processing ends after the first match (a positive filter evaluation) and no further Rules in the Style are processed ('first' is usually the default for CSS implementations on top of Mapnik to simplify translation from CSS to Mapnik XML)","default-value":"all","default-meaning":"All Rules in a Style are processed whether they have filters or not and whether or not the filter conditions evaluate to true."},"image-filters":{css:"image-filters","default-value":"none","default-meaning":"no filters",type:"functions",functions:[["agg-stack-blur",2],["emboss",0],["blur",0],["gray",0],["sobel",0],["edge-detect",0],["x-gradient",0],["y-gradient",0],["invert",0],["sharpen",0]],doc:"A list of image filters."},"comp-op":{css:"comp-op","default-value":"src-over","default-meaning":"add the current layer on top of other layers",doc:"Composite operation. This defines how this layer should behave relative to layers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]},opacity:{css:"opacity",type:"float",doc:"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)","default-value":1,"default-meaning":"no separate buffer will be used and no alpha will be applied to the style after rendering"}},layer:{name:{"default-value":"",type:"string",required:!0,"default-meaning":"No layer name has been provided",doc:"The name of a layer. Can be anything you wish and is not strictly validated, but ideally unique  in the map"},srs:{"default-value":"",type:"string","default-meaning":"No srs value is provided and the value will be inherited from the Map's srs",doc:"The spatial reference system definition for the layer, aka the projection. Can either be a proj4 literal string like '+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs' or, if the proper proj4 epsg/nad/etc identifier files are installed, a string that uses an id like: '+init=epsg:4326'"},status:{"default-value":!0,type:"boolean","default-meaning":"This layer will be marked as active and available for processing",doc:"A property that can be set to false to disable this layer from being processed"},minzoom:{"default-value":"0",type:"float","default-meaning":"The layer will be visible at the minimum possible scale",doc:"The minimum scale denominator that this layer will be visible at. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"},maxzoom:{"default-value":"1.79769e+308",type:"float","default-meaning":"The layer will be visible at the maximum possible scale",doc:"The maximum scale denominator that this layer will be visible at. The default is the numeric limit of the C++ double type, which may vary slightly by system, but is likely a massive number like 1.79769e+308 and ensures that this layer will always be visible unless the value is reduced. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"},queryable:{"default-value":!1,type:"boolean","default-meaning":"The layer will not be available for the direct querying of data values",doc:"This property was added for GetFeatureInfo/WMS compatibility and is rarely used. It is off by default meaning that in a WMS context the layer will not be able to be queried unless the property is explicitly set to true"},"clear-label-cache":{"default-value":!1,type:"boolean","default-meaning":"The renderer's collision detector cache (used for avoiding duplicate labels and overlapping markers) will not be cleared immediately before processing this layer",doc:"This property, by default off, can be enabled to allow a user to clear the collision detector cache before a given layer is processed. This may be desirable to ensure that a given layers data shows up on the map even if it normally would not because of collisions with previously rendered labels or markers"},"group-by":{"default-value":"",type:"string","default-meaning":"No special layer grouping will be used during rendering",doc:"https://github.com/mapnik/mapnik/wiki/Grouped-rendering"},"buffer-size":{"default-value":"0",type:"float","default-meaning":"No buffer will be used",doc:"Extra tolerance around the Layer extent (in pixels) used to when querying and (potentially) clipping the layer data during rendering"},"maximum-extent":{"default-value":"none",type:"bbox","default-meaning":"No clipping extent will be used",doc:"An extent to be used to limit the bounds used to query this specific layer data during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Layer."}},symbolizers:{"*":{"image-filters":{css:"image-filters","default-value":"none","default-meaning":"no filters",type:"functions",functions:[["agg-stack-blur",2],["emboss",0],["blur",0],["gray",0],["sobel",0],["edge-detect",0],["x-gradient",0],["y-gradient",0],["invert",0],["sharpen",0]],doc:"A list of image filters."},"comp-op":{css:"comp-op","default-value":"src-over","default-meaning":"add the current layer on top of other layers",doc:"Composite operation. This defines how this layer should behave relative to layers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]},opacity:{css:"opacity",type:"float",doc:"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)","default-value":1,"default-meaning":"no separate buffer will be used and no alpha will be applied to the style after rendering"}},map:{"background-color":{css:"background-color","default-value":"none","default-meaning":"transparent",type:"color",doc:"Map Background color"},"background-image":{css:"background-image",type:"uri","default-value":"","default-meaning":"transparent",doc:"An image that is repeated below all features on a map as a background.",description:"Map Background image"},srs:{css:"srs",type:"string","default-value":"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs","default-meaning":"The proj4 literal of EPSG:4326 is assumed to be the Map's spatial reference and all data from layers within this map will be plotted using this coordinate system. If any layers do not declare an srs value then they will be assumed to be in the same srs as the Map and not transformations will be needed to plot them in the Map's coordinate space",doc:"Map spatial reference (proj4 string)"},"buffer-size":{css:"buffer-size","default-value":"0",type:"float","default-meaning":"No buffer will be used",doc:'Extra tolerance around the map (in pixels) used to ensure labels crossing tile boundaries are equally rendered in each tile (e.g. cut in each tile). Not intended to be used in combination with "avoid-edges".'},"maximum-extent":{css:"","default-value":"none",type:"bbox","default-meaning":"No clipping extent will be used",doc:"An extent to be used to limit the bounds used to query all layers during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Map."},base:{css:"base","default-value":"","default-meaning":"This base path defaults to an empty string meaning that any relative paths to files referenced in styles or layers will be interpreted relative to the application process.",type:"string",doc:"Any relative paths used to reference files will be understood as relative to this directory path if the map is loaded from an in memory object rather than from the filesystem. If the map is loaded from the filesystem and this option is not provided it will be set to the directory of the stylesheet."},"paths-from-xml":{css:"","default-value":!0,"default-meaning":"Paths read from XML will be interpreted from the location of the XML",type:"boolean",doc:"value to control whether paths in the XML will be interpreted from the location of the XML or from the working directory of the program that calls load_map()"},"minimum-version":{css:"","default-value":"none","default-meaning":"Mapnik version will not be detected and no error will be thrown about compatibility",type:"string",doc:"The minumum Mapnik version (e.g. 0.7.2) needed to use certain functionality in the stylesheet"},"font-directory":{css:"font-directory",type:"uri","default-value":"none","default-meaning":"No map-specific fonts will be registered",doc:"Path to a directory which holds fonts which should be registered when the Map is loaded (in addition to any fonts that may be automatically registered)."}},polygon:{fill:{css:"polygon-fill",type:"color","default-value":"rgba(128,128,128,1)","default-meaning":"gray and fully opaque (alpha = 1), same as rgb(128,128,128)",doc:"Fill color to assign to a polygon"},"fill-opacity":{css:"polygon-opacity",type:"float",doc:"The opacity of the polygon","default-value":1,"default-meaning":"opaque"},gamma:{css:"polygon-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of polygon edges"},"gamma-method":{css:"polygon-gamma-method",type:["power","linear","none","threshold","multiply"],"default-value":"power","default-meaning":"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",doc:"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"},clip:{css:"polygon-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"polygon-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"polygon-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"polygon-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},line:{stroke:{css:"line-color","default-value":"rgba(0,0,0,1)",type:"color","default-meaning":"black and fully opaque (alpha = 1), same as rgb(0,0,0)",doc:"The color of a drawn line"},"stroke-width":{css:"line-width","default-value":1,type:"float",doc:"The width of a line in pixels"},"stroke-opacity":{css:"line-opacity","default-value":1,type:"float","default-meaning":"opaque",doc:"The opacity of a line"},"stroke-linejoin":{css:"line-join","default-value":"miter",type:["miter","round","bevel"],doc:"The behavior of lines when joining"},"stroke-linecap":{css:"line-cap","default-value":"butt",type:["butt","round","square"],doc:"The display of line endings"},"stroke-gamma":{css:"line-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of stroke line"},"stroke-gamma-method":{css:"line-gamma-method",type:["power","linear","none","threshold","multiply"],"default-value":"power","default-meaning":"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",doc:"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"},"stroke-dasharray":{css:"line-dasharray",type:"numbers",doc:"A pair of length values [a,b], where (a) is the dash length and (b) is the gap length respectively. More than two values are supported for more complex patterns.","default-value":"none","default-meaning":"solid line"},"stroke-dashoffset":{css:"line-dash-offset",type:"numbers",doc:"valid parameter but not currently used in renderers (only exists for experimental svg support in Mapnik which is not yet enabled)","default-value":"none","default-meaning":"solid line"},"stroke-miterlimit":{css:"line-miterlimit",type:"float",doc:"The limit on the ratio of the miter length to the stroke-width. Used to automatically convert miter joins to bevel joins for sharp angles to avoid the miter extending beyond the thickness of the stroking path. Normally will not need to be set, but a larger value can sometimes help avoid jaggy artifacts.","default-value":4,"default-meaning":"Will auto-convert miters to bevel line joins when theta is less than 29 degrees as per the SVG spec: 'miterLength / stroke-width = 1 / sin ( theta / 2 )'"},clip:{css:"line-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"line-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},offset:{css:"line-offset",type:"float","default-value":0,"default-meaning":"no offset",doc:"Offsets a line a number of pixels parallel to its actual path. Postive values move the line left, negative values move it right (relative to the directionality of the line)."},rasterizer:{css:"line-rasterizer",type:["full","fast"],"default-value":"full",doc:"Exposes an alternate AGG rendering method that sacrifices some accuracy for speed."},"geometry-transform":{css:"line-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"line-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},markers:{file:{css:"marker-file",doc:"An SVG file that this marker shows at each placement. If no file is given, the marker will show an ellipse.","default-value":"","default-meaning":"An ellipse or circle, if width equals height",type:"uri"},opacity:{css:"marker-opacity",doc:"The overall opacity of the marker, if set, overrides both the opacity of both the fill and stroke","default-value":1,"default-meaning":"The stroke-opacity and fill-opacity will be used",type:"float"},"fill-opacity":{css:"marker-fill-opacity",doc:"The fill opacity of the marker","default-value":1,"default-meaning":"opaque",type:"float"},stroke:{css:"marker-line-color",doc:"The color of the stroke around a marker shape.","default-value":"black",type:"color"},"stroke-width":{css:"marker-line-width",doc:"The width of the stroke around a marker shape, in pixels. This is positioned on the boundary, so high values can cover the area itself.",type:"float"},"stroke-opacity":{css:"marker-line-opacity","default-value":1,"default-meaning":"opaque",doc:"The opacity of a line",type:"float"},placement:{css:"marker-placement",type:["point","line","interior"],"default-value":"point","default-meaning":"Place markers at the center point (centroid) of the geometry",doc:"Attempt to place markers on a point, in the center of a polygon, or if markers-placement:line, then multiple times along a line. 'interior' placement can be used to ensure that points placed on polygons are forced to be inside the polygon interior"},"multi-policy":{css:"marker-multi-policy",type:["each","whole","largest"],"default-value":"each","default-meaning":"If a feature contains multiple geometries and the placement type is either point or interior then a marker will be rendered for each",doc:"A special setting to allow the user to control rendering behavior for 'multi-geometries' (when a feature contains multiple geometries). This setting does not apply to markers placed along lines. The 'each' policy is default and means all geometries will get a marker. The 'whole' policy means that the aggregate centroid between all geometries will be used. The 'largest' policy means that only the largest (by bounding box areas) feature will get a rendered marker (this is how text labeling behaves by default)."},"marker-type":{css:"marker-type",type:["arrow","ellipse"],"default-value":"ellipse",doc:"The default marker-type. If a SVG file is not given as the marker-file parameter, the renderer provides either an arrow or an ellipse (a circle if height is equal to width)"},width:{css:"marker-width","default-value":10,doc:"The width of the marker, if using one of the default types.",type:"expression"},height:{css:"marker-height","default-value":10,doc:"The height of the marker, if using one of the default types.",type:"expression"},fill:{css:"marker-fill","default-value":"blue",doc:"The color of the area of the marker.",type:"color"},"allow-overlap":{css:"marker-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping markers are shown or hidden.","default-meaning":"Do not allow makers to overlap with each other - overlapping markers will not be shown."},"ignore-placement":{css:"marker-ignore-placement",type:"boolean","default-value":!1,"default-meaning":"do not store the bbox of this geometry in the collision detector cache",doc:"value to control whether the placement of the feature will prevent the placement of other features"},spacing:{css:"marker-spacing",doc:"Space between repeated labels","default-value":100,type:"float"},"max-error":{css:"marker-max-error",type:"float","default-value":.2,doc:"The maximum difference between actual marker placement and the marker-spacing parameter. Setting a high value can allow the renderer to try to resolve placement conflicts with other symbolizers."},transform:{css:"marker-transform",type:"functions",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]],"default-value":"","default-meaning":"No transformation",doc:"SVG transformation definition"},clip:{css:"marker-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"marker-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"marker-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"marker-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},shield:{name:{css:"shield-name",type:"expression",serialization:"content",doc:'Value to use for a shield"s text label. Data columns are specified using brackets like [column_name]'},file:{css:"shield-file",required:!0,type:"uri","default-value":"none",doc:"Image file to render behind the shield text"},"face-name":{css:"shield-face-name",type:"string",validate:"font",doc:"Font name and style to use for the shield text","default-value":"",required:!0},"unlock-image":{css:"shield-unlock-image",type:"boolean",doc:"This parameter should be set to true if you are trying to position text beside rather than on top of the shield image","default-value":!1,"default-meaning":"text alignment relative to the shield image uses the center of the image as the anchor for text positioning."},size:{css:"shield-size",type:"float",doc:"The size of the shield text in pixels"},fill:{css:"shield-fill",type:"color",doc:"The color of the shield text"},placement:{css:"shield-placement",type:["point","line","vertex","interior"],"default-value":"point",doc:"How this shield should be placed. Point placement attempts to place it on top of points, line places along lines multiple times per feature, vertex places on the vertexes of polygons, and interior attempts to place inside of polygons."},"avoid-edges":{css:"shield-avoid-edges",doc:"Tell positioning algorithm to avoid labeling near intersection edges.",type:"boolean","default-value":!1},"allow-overlap":{css:"shield-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping shields are shown or hidden.","default-meaning":"Do not allow shields to overlap with other map elements already placed."},"minimum-distance":{css:"shield-min-distance",type:"float","default-value":0,doc:"Minimum distance to the next shield symbol, not necessarily the same shield."},spacing:{css:"shield-spacing",type:"float","default-value":0,doc:"The spacing between repeated occurrences of the same shield on a line"},"minimum-padding":{css:"shield-min-padding","default-value":0,doc:"Determines the minimum amount of padding that a shield gets relative to other shields",type:"float"},"wrap-width":{css:"shield-wrap-width",type:"unsigned","default-value":0,doc:"Length of a chunk of text in characters before wrapping text"},"wrap-before":{css:"shield-wrap-before",type:"boolean","default-value":!1,doc:"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."},"wrap-character":{css:"shield-wrap-character",type:"string","default-value":" ",doc:"Use this character instead of a space to wrap long names."},"halo-fill":{css:"shield-halo-fill",type:"color","default-value":"#FFFFFF","default-meaning":"white",doc:"Specifies the color of the halo around the text."},"halo-radius":{css:"shield-halo-radius",doc:"Specify the radius of the halo in pixels","default-value":0,"default-meaning":"no halo",type:"float"},"character-spacing":{css:"shield-character-spacing",type:"unsigned","default-value":0,doc:"Horizontal spacing between characters (in pixels). Currently works for point placement only, not line placement."},"line-spacing":{css:"shield-line-spacing",doc:"Vertical spacing between lines of multiline labels (in pixels)",type:"unsigned"},dx:{css:"shield-text-dx",type:"float",doc:"Displace text within shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},dy:{css:"shield-text-dy",type:"float",doc:"Displace text within shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},"shield-dx":{css:"shield-dx",type:"float",doc:"Displace shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},"shield-dy":{css:"shield-dy",type:"float",doc:"Displace shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},opacity:{css:"shield-opacity",type:"float",doc:"(Default 1.0) - opacity of the image used for the shield","default-value":1},"text-opacity":{css:"shield-text-opacity",type:"float",doc:"(Default 1.0) - opacity of the text placed on top of the shield","default-value":1},"horizontal-alignment":{css:"shield-horizontal-alignment",type:["left","middle","right","auto"],doc:"The shield's horizontal alignment from its centerpoint","default-value":"auto"},"vertical-alignment":{css:"shield-vertical-alignment",type:["top","middle","bottom","auto"],doc:"The shield's vertical alignment from its centerpoint","default-value":"middle"},"text-transform":{css:"shield-text-transform",type:["none","uppercase","lowercase","capitalize"],doc:"Transform the case of the characters","default-value":"none"},"justify-alignment":{css:"shield-justify-alignment",type:["left","center","right","auto"],doc:"Define how text in a shield's label is justified","default-value":"auto"},clip:{css:"shield-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},"comp-op":{css:"shield-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},"line-pattern":{file:{css:"line-pattern-file",type:"uri","default-value":"none",required:!0,doc:"An image file to be repeated and warped along a line"},clip:{css:"line-pattern-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"line-pattern-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"line-pattern-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"line-pattern-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},"polygon-pattern":{file:{css:"polygon-pattern-file",type:"uri","default-value":"none",required:!0,doc:"Image to use as a repeated pattern fill within a polygon"},alignment:{css:"polygon-pattern-alignment",type:["local","global"],"default-value":"local",doc:"Specify whether to align pattern fills to the layer or to the map."},gamma:{css:"polygon-pattern-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of polygon pattern edges"},opacity:{css:"polygon-pattern-opacity",type:"float",doc:"(Default 1.0) - Apply an opacity level to the image used for the pattern","default-value":1,"default-meaning":"The image is rendered without modifications"},clip:{css:"polygon-pattern-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"polygon-pattern-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"polygon-pattern-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"polygon-pattern-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},raster:{opacity:{css:"raster-opacity","default-value":1,"default-meaning":"opaque",type:"float",doc:"The opacity of the raster symbolizer on top of other symbolizers."},"filter-factor":{css:"raster-filter-factor","default-value":-1,"default-meaning":"Allow the datasource to choose appropriate downscaling.",type:"float",doc:"This is used by the Raster or Gdal datasources to pre-downscale images using overviews. Higher numbers can sometimes cause much better scaled image output, at the cost of speed."},scaling:{css:"raster-scaling",type:["near","fast","bilinear","bilinear8","bicubic","spline16","spline36","hanning","hamming","hermite","kaiser","quadric","catrom","gaussian","bessel","mitchell","sinc","lanczos","blackman"],"default-value":"near",doc:"The scaling algorithm used to making different resolution versions of this raster layer. Bilinear is a good compromise between speed and accuracy, while lanczos gives the highest quality."},"mesh-size":{css:"raster-mesh-size","default-value":16,"default-meaning":"Reprojection mesh will be 1/16 of the resolution of the source image",type:"unsigned",doc:"A reduced resolution mesh is used for raster reprojection, and the total image size is divided by the mesh-size to determine the quality of that mesh. Values for mesh-size larger than the default will result in faster reprojection but might lead to distortion."},"comp-op":{css:"raster-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},point:{file:{css:"point-file",type:"uri",required:!1,"default-value":"none",doc:"Image file to represent a point"},"allow-overlap":{css:"point-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping points are shown or hidden.","default-meaning":"Do not allow points to overlap with each other - overlapping markers will not be shown."},"ignore-placement":{css:"point-ignore-placement",type:"boolean","default-value":!1,"default-meaning":"do not store the bbox of this geometry in the collision detector cache",doc:"value to control whether the placement of the feature will prevent the placement of other features"},opacity:{css:"point-opacity",type:"float","default-value":1,"default-meaning":"Fully opaque",doc:"A value from 0 to 1 to control the opacity of the point"},placement:{css:"point-placement",type:["centroid","interior"],doc:"How this point should be placed. Centroid calculates the geometric center of a polygon, which can be outside of it, while interior always places inside of a polygon.","default-value":"centroid"},transform:{css:"point-transform",type:"functions",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]],"default-value":"","default-meaning":"No transformation",doc:"SVG transformation definition"},"comp-op":{css:"point-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},text:{name:{css:"text-name",type:"expression",required:!0,"default-value":"",serialization:"content",doc:"Value to use for a text label. Data columns are specified using brackets like [column_name]"},"face-name":{css:"text-face-name",type:"string",validate:"font",doc:"Font name and style to render a label in",required:!0},size:{css:"text-size",type:"float","default-value":10,doc:"Text size in pixels"},"text-ratio":{css:"text-ratio",doc:"Define the amount of text (of the total) present on successive lines when wrapping occurs","default-value":0,type:"unsigned"},"wrap-width":{css:"text-wrap-width",doc:"Length of a chunk of text in characters before wrapping text","default-value":0,type:"unsigned"},"wrap-before":{css:"text-wrap-before",type:"boolean","default-value":!1,doc:"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."},"wrap-character":{css:"text-wrap-character",type:"string","default-value":" ",doc:"Use this character instead of a space to wrap long text."},spacing:{css:"text-spacing",type:"unsigned",doc:"Distance between repeated text labels on a line (aka. label-spacing)"},"character-spacing":{css:"text-character-spacing",type:"float","default-value":0,doc:"Horizontal spacing adjustment between characters in pixels"},"line-spacing":{css:"text-line-spacing","default-value":0,type:"unsigned",doc:"Vertical spacing adjustment between lines in pixels"},"label-position-tolerance":{css:"text-label-position-tolerance","default-value":0,type:"unsigned",doc:"Allows the label to be displaced from its ideal position by a number of pixels (only works with placement:line)"},"max-char-angle-delta":{css:"text-max-char-angle-delta",type:"float","default-value":"22.5",doc:"The maximum angle change, in degrees, allowed between adjacent characters in a label. This value internally is converted to radians to the default is 22.5*math.pi/180.0. The higher the value the fewer labels will be placed around around sharp corners."},fill:{css:"text-fill",doc:"Specifies the color for the text","default-value":"#000000",type:"color"},opacity:{css:"text-opacity",doc:"A number from 0 to 1 specifying the opacity for the text","default-value":1,"default-meaning":"Fully opaque",type:"float"},"halo-fill":{css:"text-halo-fill",type:"color","default-value":"#FFFFFF","default-meaning":"white",doc:"Specifies the color of the halo around the text."},"halo-radius":{css:"text-halo-radius",doc:"Specify the radius of the halo in pixels","default-value":0,"default-meaning":"no halo",type:"float"},dx:{css:"text-dx",type:"float",doc:"Displace text by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},dy:{css:"text-dy",type:"float",doc:"Displace text by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},"vertical-alignment":{css:"text-vertical-alignment",type:["top","middle","bottom","auto"],doc:"Position of label relative to point position.","default-value":"auto","default-meaning":'Default affected by value of dy; "bottom" for dy>0, "top" for dy<0.'},"avoid-edges":{css:"text-avoid-edges",doc:"Tell positioning algorithm to avoid labeling near intersection edges.","default-value":!1,type:"boolean"},"minimum-distance":{css:"text-min-distance",doc:"Minimum permitted distance to the next text symbolizer.",type:"float"},"minimum-padding":{css:"text-min-padding",doc:"Determines the minimum amount of padding that a text symbolizer gets relative to other text",type:"float"},"minimum-path-length":{css:"text-min-path-length",type:"float","default-value":0,"default-meaning":"place labels on all paths",doc:"Place labels only on paths longer than this value."},"allow-overlap":{css:"text-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping text is shown or hidden.","default-meaning":"Do not allow text to overlap with other text - overlapping markers will not be shown."},orientation:{css:"text-orientation",type:"expression",doc:"Rotate the text."},placement:{css:"text-placement",type:["point","line","vertex","interior"],"default-value":"point",doc:"Control the style of placement of a point versus the geometry it is attached to."},"placement-type":{css:"text-placement-type",doc:'Re-position and/or re-size text to avoid overlaps. "simple" for basic algorithm (using text-placements string,) "dummy" to turn this feature off.',type:["dummy","simple"],"default-value":"dummy"},placements:{css:"text-placements",type:"string","default-value":"",doc:'If "placement-type" is set to "simple", use this "POSITIONS,[SIZES]" string. An example is `text-placements: "E,NE,SE,W,NW,SW";` '},"text-transform":{css:"text-transform",type:["none","uppercase","lowercase","capitalize"],doc:"Transform the case of the characters","default-value":"none"},"horizontal-alignment":{css:"text-horizontal-alignment",type:["left","middle","right","auto"],doc:"The text's horizontal alignment from its centerpoint","default-value":"auto"},"justify-alignment":{css:"text-align",type:["left","right","center","auto"],doc:"Define how text is justified","default-value":"auto","default-meaning":"Auto alignment means that text will be centered by default except when using the `placement-type` parameter - in that case either right or left justification will be used automatically depending on where the text could be fit given the `text-placements` directives"},clip:{css:"text-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},"comp-op":{css:"text-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},building:{fill:{css:"building-fill","default-value":"#FFFFFF",doc:"The color of the buildings walls.",type:"color"},"fill-opacity":{css:"building-fill-opacity",type:"float",doc:"The opacity of the building as a whole, including all walls.","default-value":1},height:{css:"building-height",doc:"The height of the building in pixels.",type:"expression","default-value":"0"}}},colors:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50],transparent:[0,0,0,0]},filter:{value:["true","false","null","point","linestring","polygon","collection"]}},Fs["mapnik_reference"]={version:{latest:u._mapnik_reference_latest,"2.1.1":u._mapnik_reference_latest}},u.CartoCSS=Fs,u.CartoCSS.Tree={},u.CartoCSS.Tree.operate=function(e,t,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"%":return t%n;case"/":return t/n}},u.CartoCSS.Tree.functions={rgb:function(e,t,n){return this.rgba(e,t,n,1)},rgba:function(e,t,n,r){var i=this,s=[e,t,n].map((function(e){return i.number(e)}));return r=i.number(r),s.some(isNaN)||isNaN(r)?null:new u.CartoCSS.Tree.Color(s,r)},stop:function(e){var t,n;return arguments.length>1&&(t=arguments[1]),arguments.length>2&&(n=arguments[2]),{is:"tag",val:e,color:t,mode:n,toString(r){return'\n\t<stop value="'+e.ev(r)+'"'+(t?' color="'+t.ev(r)+'" ':"")+(n?' mode="'+n.ev(r)+'" ':"")+"/>"}}},hsl:function(e,t,n){return this.hsla(e,t,n,1)},hsla:function(e,t,n,r){if(e=this.number(e)%360/360,t=this.number(t),n=this.number(n),r=this.number(r),[e,t,n,r].some(isNaN))return null;var i=n<=.5?n*(t+1):n+t-n*t,s=2*n-i;return this.rgba(255*o(e+1/3),255*o(e),255*o(e-1/3),r);function o(e){return e=e<0?e+1:e>1?e-1:e,6*e<1?s+(i-s)*e*6:2*e<1?i:3*e<2?s+(i-s)*(2/3-e)*6:s}},hue:function(e){return"toHSL"in e?new u.CartoCSS.Tree.Dimension(Math.round(e.toHSL().h)):null},saturation:function(e){return"toHSL"in e?new u.CartoCSS.Tree.Dimension(Math.round(100*e.toHSL().s),"%"):null},lightness:function(e){return"toHSL"in e?new u.CartoCSS.Tree.Dimension(Math.round(100*e.toHSL().l),"%"):null},alpha:function(e){return"toHSL"in e?new u.CartoCSS.Tree.Dimension(e.toHSL().a):null},saturate:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.s+=t.value/100,n.s=this.clamp(n.s),this.hsla_simple(n)},desaturate:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.s-=t.value/100,n.s=this.clamp(n.s),this.hsla_simple(n)},lighten:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.l+=t.value/100,n.l=this.clamp(n.l),this.hsla_simple(n)},darken:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.l-=t.value/100,n.l=this.clamp(n.l),this.hsla_simple(n)},fadein:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.a+=t.value/100,n.a=this.clamp(n.a),this.hsla_simple(n)},fadeout:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL();return n.a-=t.value/100,n.a=this.clamp(n.a),this.hsla_simple(n)},spin:function(e,t){if(!("toHSL"in e))return null;var n=e.toHSL(),r=(n.h+t.value)%360;return n.h=r<0?360+r:r,this.hsla_simple(n)},replace:function(e,t,n){return"field"===e.is?e.toString+".replace("+t.toString()+", "+n.toString()+")":e.replace(t,n)},mix:function(e,t,n){var r=n.value/100,i=2*r-1,s=e.toHSL().a-t.toHSL().a,o=((i*s==-1?i:(i+s)/(1+i*s))+1)/2,a=1-o,l=[e.rgb[0]*o+t.rgb[0]*a,e.rgb[1]*o+t.rgb[1]*a,e.rgb[2]*o+t.rgb[2]*a],c=e.alpha*r+t.alpha*(1-r);return new u.CartoCSS.Tree.Color(l,c)},greyscale:function(e){return this.desaturate(e,new u.CartoCSS.Tree.Dimension(100))},"%":function(e){for(var t=Array.prototype.slice.call(arguments,1),n=e.value,r=0;r<t.length;r++)n=n.replace(/%s/,t[r].value).replace(/%[da]/,t[r].toString());return n=n.replace(/%%/g,"%"),new u.CartoCSS.Tree.Quoted(n)},hsla_simple:function(e){return this.hsla(e.h,e.s,e.l,e.a)},number:function(e){return e instanceof u.CartoCSS.Tree.Dimension?parseFloat("%"===e.unit?e.value/100:e.value):"number"===typeof e?e:NaN},clamp:function(e){return Math.min(1,Math.max(0,e))}},u.CartoCSS.Tree.Call=class{constructor(e,t,n){this.is="call",this.name=e,this.args=t,this.index=n}ev(e){for(var t=this.args.map((function(t){return t.ev(e)})),n=0;n<t.length;n++)if("undefined"===t[n].is)return{is:"undefined",value:"undefined"};if(this.name in u.CartoCSS.Tree.functions){if(u.CartoCSS.Tree.functions[this.name].length<=t.length){var r=u.CartoCSS.Tree.functions[this.name].apply(u.CartoCSS.Tree.functions,t);return null===r?(e.error({message:"incorrect arguments given to "+this.name+"()",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):r}return e.error({message:"incorrect number of arguments for "+this.name+"(). "+u.CartoCSS.Tree.functions[this.name].length+" expected.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}}var i=u.CartoCSS.Tree.Reference.mapnikFunctions[this.name];if(void 0===i){var s=Ds()(u.CartoCSS.Tree.Reference.mapnikFunctions),o=this.name,a=s.map((function(e){return[e[0],u.CartoCSS.Tree.Reference.editDistance(o,e[0]),e[1]]})).sort((function(e,t){return e[1]-t[1]}));return e.error({message:"unknown function "+this.name+"(), did you mean "+a[0][0]+"("+a[0][2]+")",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}}return i!==t.length&&-1!==i?(e.error({message:"function "+this.name+"() takes "+i+" arguments and was given "+t.length,index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):(this.args=t,this)}toString(e,t){return this.args.length?this.name+"("+this.args.join(",")+")":this.name}},u.CartoCSS.Tree.Color=class{constructor(e,t){this.is="color",Array.isArray(e)?this.rgb=e.slice(0,3):6==e.length?this.rgb=e.match(/.{2}/g).map((function(e){return parseInt(e,16)})):this.rgb=e.split("").map((function(e){return parseInt(e+e,16)})),"number"===typeof t?this.alpha=t:4===e.length?this.alpha=e[3]:this.alpha=1}ev(){return this}toString(){return"rgba("+this.rgb.map((function(e){return Math.round(e)})).concat(this.alpha).join(", ")+")"}operate(e,t,n){var r=[];n instanceof u.CartoCSS.Tree.Color||(n=n.toColor());for(var i=0;i<3;i++)r[i]=u.CartoCSS.Tree.operate(t,this.rgb[i],n.rgb[i]);return new u.CartoCSS.Tree.Color(r)}toHSL(){var e,t,n=this.rgb[0]/255,r=this.rgb[1]/255,i=this.rgb[2]/255,s=this.alpha,o=Math.max(n,r,i),a=Math.min(n,r,i),l=(o+a)/2,u=o-a;if(o===a)e=t=0;else{switch(t=l>.5?u/(2-o-a):u/(o+a),o){case n:e=(r-i)/u+(r<i?6:0);break;case r:e=(i-n)/u+2;break;case i:e=(n-r)/u+4;break;default:break}e/=6}return{h:360*e,s:t,l:l,a:s}}},u.CartoCSS.Tree.Comment=class{constructor(e,t){this.value=e,this.silent=!!t}toString(e){return"\x3c!--"+this.value+"--\x3e"}ev(){return this}},u.CartoCSS.Tree.Definition=class{constructor(e,t){this.elements=e.elements,this.rules=t,this.ruleIndex={};for(var n=0;n<this.rules.length;n++)"zoom"in this.rules[n]&&(this.rules[n]=this.rules[n].clone()),this.rules[n].zoom=e.zoom,this.ruleIndex[this.rules[n].updateID()]=!0;this.filters=e.filters,this.zoom=e.zoom,this.attachment=e.attachment||"__default__",this.specificity=e.specificity()}toString(){for(var e=this.filters.toString(),t=0;t<this.rules.length;t++)e+="\n    "+this.rules[t];return e}toJS(e){var t={},n=this.zoom,r=this.filters.toJS(e),i=[n];function s(n){if(n instanceof u.CartoCSS.Tree.Rule)t[n.name]=t[n.name]||[],r?t[n.name].push("if("+r+"){"+n.value.toJS(e)+"}"):t[n.name].push(n.value.toJS(e));else if(n instanceof u.CartoCSS.Tree.Ruleset){var i=n.toJS(e);for(var s in i)for(var o in t[s]=t[s]||[],i[s])t[s].push(i[s][o])}}for(var o in r&&i.push(r),r=i.join(" && "),this.rules)s(this.rules[o]);return t}},u.CartoCSS.Tree.Dimension=class{constructor(e,t,n){this.is="float",this.physical_units=["m","cm","in","mm","pt","pc"],this.screen_units=["px","%"],this.all_units=["m","cm","in","mm","pt","pc","px","%"],this.densities={m:.0254,mm:25.4,cm:2.54,pt:72,pc:6},this.value=parseFloat(e),this.unit=t||null,this.index=n}ev(e){if(this.unit&&this.all_units.indexOf(this.unit)<0)return e.error({message:"Invalid unit: '"+this.unit+"'",index:this.index}),{is:"undefined",value:"undefined"};if(this.unit&&this.physical_units.indexOf(this.unit)>=0){if(!e.ppi)return e.error({message:"ppi is not set, so metric units can't be used",index:this.index}),{is:"undefined",value:"undefined"};this.value=this.value/this.densities[this.unit]*e.ppi,this.unit="px"}return this}toColor(){return new u.CartoCSS.Tree.Color([this.value,this.value,this.value])}round(){return this.value=Math.round(this.value),this}toString(){return this.value.toString()}operate(e,t,n){return"%"===this.unit&&"%"!==n.unit?(e.error({message:"If two operands differ, the first must not be %",index:this.index}),{is:"undefined",value:"undefined"}):"%"!==this.unit&&"%"===n.unit?"*"===t||"/"===t||"%"===t?(e.error({message:"Percent values can only be added or subtracted from other values",index:this.index}),{is:"undefined",value:"undefined"}):new u.CartoCSS.Tree.Dimension(u.CartoCSS.Tree.operate(t,this.value,this.value*n.value*.01),this.unit):new u.CartoCSS.Tree.Dimension(u.CartoCSS.Tree.operate(t,this.value,n.value),this.unit||n.unit)}},u.CartoCSS.Tree.Element=class{constructor(e){this.value=e.trim(),"#"===this.value[0]&&(this.type="id",this.clean=this.value.replace(/^#/,"")),"."===this.value[0]&&(this.type="class",this.clean=this.value.replace(/^\./,"")),-1!==this.value.indexOf("*")&&(this.type="wildcard")}specificity(){return["id"===this.type?1:0,"class"===this.type?1:0]}toString(){return this.value}},u.CartoCSS.Tree.Expression=class{constructor(e){this.is="expression",this.value=e}ev(e){return this.value.length>1?new u.CartoCSS.Tree.Expression(this.value.map((function(t){return t.ev(e)}))):this.value[0].ev(e)}toString(e){return this.value.map((function(t){return t.toString(e)})).join(" ")}},u.CartoCSS.Tree.Field=class{constructor(e){this.is="field",this.value=e||""}toString(){return'["'+this.value.toUpperCase()+'"]'}ev(){return this}},u.CartoCSS.Tree.Filter=class{constructor(e,t,n,r,i){this.ops={"<":[" &lt; ","numeric"],">":[" &gt; ","numeric"],"=":[" = ","both"],"!=":[" != ","both"],"<=":[" &lt;= ","numeric"],">=":[" &gt;= ","numeric"],"=~":[".match(","string",")"]},this.key=e,this.op=t,this.val=n,this.index=r,this.filename=i,this.id=this.key+this.op+this.val}ev(e){return this.key=this.key.ev(e),this.val=this.val.ev(e),this}toString(){return"["+this.id+"]"}},u.CartoCSS.Tree.Filterset=class{constructor(){this.filters={}}toJS(e){function t(e){var t=e.op;"="===t&&(t="==");var n=e.val;void 0!==e._val&&(n=e._val.toString(!0)),e.key&&"scale"===e.key.value?n=+n:"string"!==typeof n&&"object"!==typeof n||(n="'"+n+"'");var r="attributes";return r+"&&"+r+e.key+"&&"+r+e.key+" "+t+n}var n=[];for(var r in this.filters)n.push(t(this.filters[r]));return n.join(" && ")}toString(){var e=[];for(var t in this.filters)e.push(this.filters[t].id);return e.sort().join("\t")}ev(e){for(var t in this.filters)this.filters[t].ev(e);return this}clone(){var e=new u.CartoCSS.Tree.Filterset;for(var t in this.filters)e.filters[t]=this.filters[t];return e}cloneWith(e){var t=[];for(var n in e.filters){var r=this.addable(e.filters[n]);if(!1===r)return!1;!0===r&&t.push(e.filters[n])}if(!t.length)return null;var i=new u.CartoCSS.Tree.Filterset;for(n in this.filters)i.filters[n]=this.filters[n];while(n=t.shift())i.add(n);return i}addable(e){var t=e.key.toString(),n=e.val.toString();switch(n.match(/^[0-9]+(\.[0-9]*)?_match/)&&(n=parseFloat(n)),e.op){case"=":return void 0!==this.filters[t+"="]?this.filters[t+"="].val.toString()==n&&null:void 0===this.filters[t+"!="+n]&&(!(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n)&&(!(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n)&&(!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n)&&!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n))));case"=~":return!0;case"!=":return void 0!==this.filters[t+"="]?this.filters[t+"="].val!==n&&null:void 0!==this.filters[t+"!="+n]||void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n||void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n||void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n?null:!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n)||null;case">":return t+"="in this.filters?!(this.filters[t+"="].val<=n)&&null:!(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n)&&(!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<=n)&&(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n)||null));case">=":return void 0!==this.filters[t+"="]?!(this.filters[t+"="].val<n)&&null:!(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n)&&(!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n)&&(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>=n)||null));case"<":return void 0!==this.filters[t+"="]?!(this.filters[t+"="].val>=n)&&null:!(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n)&&(!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>=n)&&(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n)||null));case"<=":return void 0!==this.filters[t+"="]?!(this.filters[t+"="].val>n)&&null:!(void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n)&&(!(void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n)&&(void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:!(void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<=n)||null));default:break}}conflict(e){var t=e.key.toString(),n=e.val.toString();return isNaN(parseFloat(n))||(n=parseFloat(n)),("="===e.op&&void 0!==this.filters[t+"="]&&n!=this.filters[t+"="].val.toString()||"!="===e.op&&void 0!==this.filters[t+"="]&&n==this.filters[t+"="].val.toString()||"="===e.op&&void 0!==this.filters[t+"!="]&&n===this.filters[t+"!="].val.toString())&&e.toString()+" added to "+this.toString()+" produces an invalid filter"}add(e,t){var n,r=e.key.toString(),i=e.op,s=this.conflict(e);if(s)return s;if("="===i){for(var o in this.filters)this.filters[o].key===r&&delete this.filters[o];this.filters[r+"="]=e}else if("!="===i)this.filters[r+"!="+e.val]=e;else if("=~"===i)this.filters[r+"=~"+e.val]=e;else if(">"===i){for(var a in this.filters)this.filters[a].key===r&&this.filters[a].val<=e.val&&delete this.filters[a];this.filters[r+">"]=e}else if(">="===i){for(var l in this.filters)n=+this.filters[l].val.toString(),this.filters[l].key===r&&n<e.val&&delete this.filters[l];void 0!==this.filters[r+"!="+e.val]?(delete this.filters[r+"!="+e.val],e.op=">",this.filters[r+">"]=e):this.filters[r+">="]=e}else if("<"===i){for(var u in this.filters)n=+this.filters[u].val.toString(),this.filters[u].key===r&&n>=e.val&&delete this.filters[u];this.filters[r+"<"]=e}else if("<="===i){for(var c in this.filters)n=+this.filters[c].val.toString(),this.filters[c].key===r&&n>e.val&&delete this.filters[c];void 0!==this.filters[r+"!="+e.val]?(delete this.filters[r+"!="+e.val],e.op="<",this.filters[r+"<"]=e):this.filters[r+"<="]=e}}},u.CartoCSS.Tree.Fontset=class{constructor(e,t){this.fonts=t,this.name="fontset-"+e.effects.length}},u.CartoCSS.Tree.Invalid=class{constructor(e,t,n){this.is="invalid",this.chunk=e,this.index=t,this.type="syntax",this.message=n||"Invalid code: "+this.chunk}ev(e){return e.error({chunk:this.chunk,index:this.index,type:"syntax",message:this.message||"Invalid code: "+this.chunk}),{is:"undefined"}}},u.CartoCSS.Tree.Keyword=class{ev(){return this}constructor(e){this.value=e;var t={transparent:"color",true:"boolean",false:"boolean"};this.is=t[e]?t[e]:"keyword"}toString(){return this.value}},u.CartoCSS.Tree.Literal=class{constructor(e){this.value=e||"",this.is="field"}toString(){return this.value}ev(){return this}},u.CartoCSS.Tree.Operation=class{constructor(e,t,n){this.is="operation",this.op=e.trim(),this.operands=t,this.index=n}ev(e){var t,n=this.operands[0].ev(e),r=this.operands[1].ev(e);return"undefined"===n.is||"undefined"===r.is?{is:"undefined",value:"undefined"}:(n instanceof u.CartoCSS.Tree.Dimension&&r instanceof u.CartoCSS.Tree.Color&&("*"===this.op||"+"===this.op?(t=r,r=n,n=t):e.error({name:"OperationError",message:"Can't substract or divide a color from a number",index:this.index})),n instanceof u.CartoCSS.Tree.Quoted&&r instanceof u.CartoCSS.Tree.Quoted&&"+"!==this.op?(e.error({message:"Can't subtract, divide, or multiply strings.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):n instanceof u.CartoCSS.Tree.Field||r instanceof u.CartoCSS.Tree.Field||n instanceof u.CartoCSS.Tree.Literal||r instanceof u.CartoCSS.Tree.Literal?"color"===n.is||"color"===r.is?(e.error({message:"Can't subtract, divide, or multiply colors in expressions.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):new u.CartoCSS.Tree.Literal(n.ev(e).toString(!0)+this.op+r.ev(e).toString(!0)):void 0===n.operate?(e.error({message:"Cannot do math with type "+n.is+".",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):n.operate(e,this.op,r))}},u.CartoCSS.Tree.Quoted=class{constructor(e){this.is="string",this.value=e||""}toString(e){var t=this.value.replace(/&/g,"&amp;"),n=t.replace(/\'/g,"\\'").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/\>/g,"&gt;");return!0===e?"'"+n+"'":t}ev(){return this}operate(e,t,n){return new u.CartoCSS.Tree.Quoted(u.CartoCSS.Tree.operate(t,this.toString(),n.toString(this.contains_field)))}},u.CartoCSS.Tree.Reference={_validateValue:{font:function(e,t){return!e.validation_data||!e.validation_data.fonts||-1!=e.validation_data.fonts.indexOf(t)}},setData:function(e){function t(e){var t={};for(var n in e.symbolizers)for(var r in e.symbolizers[n])e.symbolizers[n][r].hasOwnProperty("css")&&(t[e.symbolizers[n][r].css]=[e.symbolizers[n][r],n,r]);return t}function n(e){var t={};for(var n in e.symbolizers)for(var r in e.symbolizers[n])if("functions"===e.symbolizers[n][r].type)for(var i=0;i<e.symbolizers[n][r].functions.length;i++){var s=e.symbolizers[n][r].functions[i];t[s[0]]=s[1]}return t}function r(e){var t={};for(var n in e.symbolizers)for(var r in t[n]=[],e.symbolizers[n])e.symbolizers[n][r].required&&t[n].push(e.symbolizers[n][r].css);return t}this.data=e,this.selector_cache=t(e),this.mapnikFunctions=n(e),this.required_cache=r(e)},setVersion:function(e){return!!u.CartoCSS.mapnik_reference.version.hasOwnProperty(e)&&(this.setData(u.CartoCSS.mapnik_reference.version[e]),!0)},selectorData:function(e,t){if(this.selector_cache&&this.selector_cache[e])return this.selector_cache[e][t]},validSelector:function(e){return!!this.selector_cache[e]},selectorName:function(e){return this.selectorData(e,2)},selector:function(e){return this.selectorData(e,0)},symbolizer:function(e){return this.selectorData(e,1)},requiredProperties:function(e,t){var n=this.required_cache[e];for(var r in n)if(!(n[r]in t))return"Property "+n[r]+" required for defining "+e+" styles."},isFont:function(e){return"font"===this.selector(e).validate},editDistance:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;for(var n=[],r=0;r<=t.length;r++)n[r]=[r];for(var i=0;i<=e.length;i++)n[0][i]=i;for(r=1;r<=t.length;r++)for(i=1;i<=e.length;i++)t.charAt(r-1)===e.charAt(i-1)?n[r][i]=n[r-1][i-1]:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[t.length][e.length]},validValue:function(e,t,n){function r(e,t){if("string"===e.value[0].is)return!0;for(var n in e.value)for(var r in e.value[n].value){if("call"!==e.value[n].value[r].is)return!1;var i=find(this.selector(t).functions,(function(t){return t[0]===e.value[n].value[r].name}));if((!i||-1!==i[1])&&(!i||i[1]!==e.value[n].value[r].args.length))return!1}return!0}function i(e,t){return"object"===typeof this.selector(t).type?-1!==this.selector(t).type.indexOf(e.value[0].value):"string"===this.selector(t).type}var s;if(this.selector(t)){if("keyword"===n.value[0].is)return i(n,t);if("undefined"===n.value[0].is)return!0;if("numbers"===this.selector(t).type){for(s in n.value)if("float"!==n.value[s].is)return!1;return!0}if("tags"===this.selector(t).type){if(!n.value)return!1;if(!n.value[0].value)return"tag"===n.value[0].is;for(s=0;s<n.value[0].value.length;s++)if("tag"!==n.value[0].value[s].is)return!1;return!0}if("functions"==this.selector(t).type)return r(n,t);if("expression"===this.selector(t).type)return!0;if("unsigned"===this.selector(t).type)return"float"===n.value[0].is&&(n.value[0].round(),!0);if(this.selector(t).validate){var o=!1;for(s=0;s<n.value.length;s++)if(this.selector(t).type===n.value[s].is&&this._validateValue[this.selector(t).validate](e,n.value[s].value))return!0;return o}return this.selector(t).type===n.value[0].is}return!1}},u.CartoCSS.Tree.Reference.setVersion("latest"),u.CartoCSS.Tree.Rule=class{constructor(e,t,n,r){this.is="rule";var i=e.split("/");this.name=i.pop(),this.instance=i.length?i[0]:"__default__",this.value=t instanceof u.CartoCSS.Tree.Value?t:new u.CartoCSS.Tree.Value([t]),this.index=n,this.symbolizer=u.CartoCSS.Tree.Reference.symbolizer(this.name),this.filename=r,this.variable="@"===e.charAt(0)}clone(){var e=Object.create(u.CartoCSS.Tree.Rule.prototype);return e.name=this.name,e.value=this.value,e.index=this.index,e.instance=this.instance,e.symbolizer=this.symbolizer,e.filename=this.filename,e.variable=this.variable,e}updateID(){return this.id=this.zoom+"#"+this.instance+"#"+this.name}toString(){return"["+u.CartoCSS.Tree.Zoom.toString(this.zoom)+"] "+this.name+": "+this.value}ev(e){return new u.CartoCSS.Tree.Rule(this.name,this.value.ev(e),this.index,this.filename)}},u.CartoCSS.Tree.Ruleset=class{constructor(e,t){this.is="ruleset",this.selectors=e,this.rules=t,this._lookups={}}ev(e){var t,n,r=new u.CartoCSS.Tree.Ruleset(this.selectors,this.rules.slice(0));for(r.root=this.root,e.frames.unshift(r),t=0,n;t<r.rules.length;t++)n=r.rules[t],r.rules[t]=n.ev?n.ev(e):n;return e.frames.shift(),r}match(e){return!e||0===e.length}variables(){return this._variables?this._variables:this._variables=this.rules.reduce((function(e,t){return t instanceof u.CartoCSS.Tree.Rule&&!0===t.variable&&(e[t.name]=t),e}),{})}variable(e){return this.variables()[e]}rulesets(){return this._rulesets?this._rulesets:this._rulesets=this.rules.filter((function(e){return e instanceof u.CartoCSS.Tree.Ruleset}))}find(e,t){t=t||this;var n,r=[],i=e.toString();return i in this._lookups?this._lookups[i]:(this.rulesets().forEach((function(i){if(i!==t)for(var s=0;s<i.selectors.length;s++)if(n=e.match(i.selectors[s]),n){e.elements.length>1?Array.prototype.push.apply(r,i.find(new u.CartoCSS.Tree.Selector(null,null,e.elements.slice(1)),t)):r.push(i);break}})),this._lookups[i]=r)}evZooms(e){for(var t=0;t<this.selectors.length;t++){for(var n=u.CartoCSS.Tree.Zoom.all,r=0;r<this.selectors[t].zoom.length;r++)n=this.selectors[t].zoom[r].ev(e).zoom;this.selectors[t].zoom=n}}flatten(e,t,n){var r,i,s=[];for(0===this.selectors.length&&(n.frames=n.frames.concat(this.rules)),this.evZooms(n),r=0;r<this.selectors.length;r++){var o=this.selectors[r];if(o.filters)if(t.length)for(i=0;i<t.length;i++){var a=t[i],l=a.filters.cloneWith(o.filters);if(null===l){if(a.zoom===o.zoom&&a.attachment===o.attachment&&a.elements.join()===o.elements.join()){s.push(a);continue}l=a.filters}else if(!l)continue;var c=Object.create(u.CartoCSS.Tree.Selector.prototype);c.filters=l,c.zoom=o.zoom,c.elements=a.elements.concat(o.elements),a.attachment&&o.attachment?c.attachment=a.attachment+"/"+o.attachment:c.attachment=o.attachment||a.attachment,c.conditions=a.conditions+o.conditions,c.index=o.index,s.push(c)}else s.push(o)}var h=[];for(r=0;r<this.rules.length;r++){var p=this.rules[r];p instanceof u.CartoCSS.Tree.Ruleset?p.flatten(e,s,n):p instanceof u.CartoCSS.Tree.Rule?h.push(p):p instanceof u.CartoCSS.Tree.Invalid&&n.error(p)}var d=!!h.length&&h[0].index;for(r=0;r<s.length;r++)!1!==d&&(s[r].index=d),e.push(new u.CartoCSS.Tree.Definition(s[r],h.slice()));return e}},u.CartoCSS.Tree.Selector=class{constructor(e,t,n,r,i,s){this.elements=n||[],this.attachment=r,this.filters=e||{},this.zoom="undefined"!==typeof t?t:u.CartoCSS.Tree.Zoom.all,this.conditions=i,this.index=s}specificity(){return this.elements.reduce((function(e,t){var n=t.specificity();return e[0]+=n[0],e[1]+=n[1],e}),[0,0,this.conditions,this.index])}},u.CartoCSS.Tree.URL=class{constructor(e,t){this.is="uri",this.value=e,this.paths=t}toString(){return this.value.toString()}ev(e){return new u.CartoCSS.Tree.URL(this.value.ev(e),this.paths)}},u.CartoCSS.Tree.Value=class{constructor(e){this.is="value",this.value=e}ev(e){return 1===this.value.length?this.value[0].ev(e):new u.CartoCSS.Tree.Value(this.value.map((function(t){return t.ev(e)})))}toJS(e){var t=this.ev(e),n=t.toString();return"color"===t.is||"uri"===t.is||"string"===t.is||"keyword"===t.is?n="'"+n+"'":"field"===t.is?n=n.replace(/\[(.*)\]/g,"attributes['_match1']"):t.value&&"object"===typeof t.value&&(n="["+n+"]"),"_value = "+n+";"}toString(e,t,n,r){return this.value.map((function(t){return t.toString(e,r)})).join(n||", ")}clone(){var e=Object.create(u.CartoCSS.Tree.Value.prototype);return Array.isArray(e)?e.value=this.value.slice():e.value=this.value,e.is=this.is,e}},u.CartoCSS.Tree.Variable=class{constructor(e,t,n){this.is="variable",this.name=e,this.index=t,this.filename=n}toString(){return this.name}ev(e){if(this._css)return this._css;var t=e.frames.filter(function(e){return e.name===this.name}.bind(this));return t.length?t[0].value.ev(e):(e.error({message:"variable "+this.name+" is undefined",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"})}},u.CartoCSS.Tree.Zoom=class{constructor(e,t,n){this.op=e,this.value=t,this.index=n}setZoom(e){return this.zoom=e,this}ev(e){var t=parseInt(this.value.ev(e).toString(),10);switch((t>u.CartoCSS.Tree.Zoom.maxZoom||t<0)&&e.error({message:"Only zoom levels between 0 and "+u.CartoCSS.Tree.Zoom.maxZoom+" supported.",index:this.index}),this.op){case"=":return this.zoom="zoom && zoom === "+t,this;case">":this.zoom="zoom && zoom > "+t;break;case">=":this.zoom="zoom && zoom >= "+t;break;case"<":this.zoom="zoom && zoom < "+t;break;case"<=":this.zoom="zoom && zoom <= "+t;break;default:return this}return this}toString(){for(var e="",t=0;t<=u.CartoCSS.Tree.Zoom.maxZoom;t++)e+=this.zoom&1<<t?"X":".";return e}},u.CartoCSS.Tree.Zoom.all=23,u.CartoCSS.Tree.Zoom.maxZoom=22,u.CartoCSS.Tree.Zoom.ranges={0:1e9,1:5e8,2:2e8,3:1e8,4:5e7,5:25e6,6:125e5,7:65e5,8:3e6,9:15e5,10:75e4,11:4e5,12:2e5,13:1e5,14:5e4,15:25e3,16:12500,17:5e3,18:2500,19:1500,20:750,21:500,22:250,23:100};class Bs{constructor(e){e=e||{},this.fill=!0,this.fillColor="#000000",this.fillOpacity=1,this.stroke=!1,this.strokeColor="#000000",this.strokeOpacity=1,this.strokeWidth=1,this.strokeLinecap="butt",this.strokeLineJoin="miter",this.strokeDashstyle="solid",this.pointRadius=6,this.shadowBlur=0,this.shadowColor="#000000",this.shadowOffsetX=0,this.shadowOffsetY=0,this.label="",this.labelRect=!1,this.fontColor="",this.fontSize=12,this.fontStyle="normal",this.fontVariant="normal",this.fontWeight="normal",this.fontFamily="arial,sans-serif",this.labelPosition="top",this.labelAlign="center",this.labelBaseline="middle",this.labelXOffset=0,this.labelYOffset=0,te.extend(this,e)}}u.ThemeStyle=Bs;class qs{constructor(){this.refOriginalPosition=[0,0],this.refDataID=null,this.isHoverByRefDataID=!1,this.refDataHoverGroup=null,this.dataInfo=null,this.clickable=!0,this.hoverable=!0,this.style=null,this.highlightStyle={},this.CLASS_NAME="SuperMap.Feature.ShapeParameters"}destroy(){this.refOriginalPosition=null,this.refDataID=null,this.isHoverByRefDataID=null,this.refDataHoverGroup=null,this.dataInfo=null,this.clickable=null,this.hoverable=null,this.style=null,this.highlightStyle=null}}u.Feature=u.Feature||{},u.Feature.ShapeParameters=qs;class zs extends qs{constructor(e,t){super(e,t),this.x=isNaN(e)?0:e,this.y=isNaN(t)?0:t,this.r=6,this.CLASS_NAME="SuperMap.Feature.ShapeParameters.Point"}destroy(){this.x=null,this.y=null,this.r=null,super.destroy()}}u.Feature=u.Feature||{},u.Feature.ShapeParameters.Point=zs;class Us extends qs{constructor(e){super(e),this.pointList=e,this.CLASS_NAME="SuperMap.Feature.ShapeParameters.Line"}destroy(){this.pointList=null,super.destroy()}}u.Feature=u.Feature||{},u.Feature.ShapeParameters.Line=Us;class Gs extends qs{constructor(e){super(e),this.pointList=e,this.holePolygonPointLists=null,this.CLASS_NAME="SuperMap.Feature.ShapeParameters.Polygon"}destroy(){this.pointList=null,this.holePolygonPointLists=null,super.destroy()}}u.Feature=u.Feature||{},u.Feature.ShapeParameters.Polygon=Gs;class js extends qs{constructor(e,t,n,r){super(e,t,n,r),this.x=isNaN(e)?0:e,this.y=isNaN(e)?0:t,this.width=isNaN(n)?0:n,this.height=isNaN(r)?0:r,this.CLASS_NAME="SuperMap.Feature.ShapeParameters.Rectangle"}destroy(){this.x=null,this.y=null,this.width=null,this.height=null,super.destroy()}}u.Feature=u.Feature||{},u.Feature.ShapeParameters.Rectangle=js;class Vs extends qs{constructor(e,t,n,r,i,s,o){super(e,t,n,r,i,s,o),this.x=isNaN(e)?0:e,this.y=isNaN(t)?0:t,this.r=isNaN(n)?0:n,this.startAngle=isNaN(r)?0:r,this.endAngle=isNaN(i)?0:i,this.r0=isNaN(s)?0:s,this.clockWise=o,this.CLASS_NAME="SuperMap.Feature.ShapeParameters.Sector"}destroy(){this.x=null,this.y=null,this.r=null,this.startAngle=null,this.endAngle=null,this.r0=null,this.clockWise=null,super.destroy()}}u.Feature=u.Feature||{},u.Feature.ShapeParameters.Sector=Vs;class Ws extends qs{constructor(e,t,n){super(e,t,n),this.x=e,this.y=t,this.text=n,this.CLASS_NAME="SuperMap.Feature.ShapeParameters.Label"}destroy(){this.x=null,this.y=null,this.text=null,super.destroy()}}u.Feature=u.Feature||{},u.Feature.ShapeParameters.Label=Ws;class Hs extends qs{constructor(e,t,n,r,i,s,o,a,l){super(e,t,n,r,i,s,o,a,l),this.x=e,this.y=t,this.image=n,this.width=r,this.height=i,this.sx=s,this.sy=o,this.sWidth=a,this.sHeight=l,this.CLASS_NAME="SuperMap.Feature.ShapeParameters.Image"}destroy(){this.x=null,this.y=null,this.image=null,this.width=null,this.height=null,this.sx=null,this.sy=null,this.sWidth=null,this.sHeight=null,super.destroy()}}u.Feature=u.Feature||{},u.Feature.ShapeParameters.Image=Hs;class Js extends qs{constructor(e,t,n){super(e,t,n),this.x=isNaN(e)?0:e,this.y=isNaN(t)?0:t,this.r=isNaN(n)?0:n,this.CLASS_NAME="SuperMap.Feature.ShapeParameters.Circle"}destroy(){this.x=null,this.y=null,this.r=null,super.destroy()}}u.Feature=u.Feature||{},u.Feature.ShapeParameters.Circle=Js;class Xs{constructor(){this._handlers={},this.CLASS_NAME="SuperMap.LevelRenderer.Eventful"}destroy(){this._handlers=null}one(e,t,n){var r=this._handlers;return t&&e?(r[e]||(r[e]=[]),r[e].push({h:t,one:!0,ctx:n||this}),this):this}bind(e,t,n){var r=this._handlers;return t&&e?(r[e]||(r[e]=[]),r[e].push({h:t,one:!1,ctx:n||this}),this):this}unbind(e,t){var n=this._handlers;if(!e)return this._handlers={},this;if(t){if(n[e]){for(var r=[],i=0,s=n[e].length;i<s;i++)n[e][i]["h"]!=t&&r.push(n[e][i]);n[e]=r}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this}dispatch(e){if(this._handlers[e]){var t=arguments,n=t.length;n>3&&(t=Array.prototype.slice.call(t,1));for(var r=this._handlers[e],i=r.length,s=0;s<i;){switch(n){case 1:r[s]["h"].call(r[s]["ctx"]);break;case 2:r[s]["h"].call(r[s]["ctx"],t[1]);break;case 3:r[s]["h"].call(r[s]["ctx"],t[1],t[2]);break;default:r[s]["h"].apply(r[s]["ctx"],t);break}r[s]["one"]?(r.splice(s,1),i--):s++}}return this}dispatchWithContext(e){if(this._handlers[e]){var t=arguments,n=t.length;n>4&&(t=Array.prototype.slice.call(t,1,t.length-1));for(var r=t[t.length-1],i=this._handlers[e],s=i.length,o=0;o<s;){switch(n){case 1:i[o]["h"].call(r);break;case 2:i[o]["h"].call(r,t[1]);break;case 3:i[o]["h"].call(r,t[1],t[2]);break;default:i[o]["h"].apply(r,t);break}i[o]["one"]?(i.splice(o,1),s--):o++}}return this}}class Zs{constructor(){this.ArrayCtor="undefined"===typeof Float32Array?Array:Float32Array,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Vector"}create(e,t){var n=this.ArrayCtor,r=new n(2);return r[0]=e||0,r[1]=t||0,r}copy(e,t){return e[0]=t[0],e[1]=t[1],e}set(e,t,n){return e[0]=t,e[1]=n,e}add(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}scaleAndAdd(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}sub(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}len(e){return Math.sqrt(this.lenSquare(e))}lenSquare(e){return e[0]*e[0]+e[1]*e[1]}mul(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}div(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}dot(e,t){return e[0]*t[0]+e[1]*t[1]}scale(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}normalize(e,t){var n=this.len(t);return 0===n?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}distance(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}distanceSquare(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}negate(e,t){return e[0]=-t[0],e[1]=-t[1],e}lerp(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}applyTransform(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}min(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}max(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}length(e){return this.len(e)}lengthSquare(e){return this.lenSquare(e)}dist(e,t){return this.distance(e,t)}distSquare(e,t){return this.distanceSquare(e,t)}}class Ys{constructor(){this.vector=new Zs,this.EPSILON=1e-4,this.THREE_SQRT=Math.sqrt(3),this.ONE_THIRD=1/3,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Curve"}isAroundZero(e){return e>-this.EPSILON&&e<this.EPSILON}isNotAroundZero(e){return e>this.EPSILON||e<-this.EPSILON}cubicAt(e,t,n,r,i){var s=1-i;return s*s*(s*e+3*i*t)+i*i*(i*r+3*s*n)}cubicDerivativeAt(e,t,n,r,i){var s=1-i;return 3*(((t-e)*s+2*(n-t)*i)*s+(r-n)*i*i)}cubicRootAt(e,t,n,r,i,s){var o=r+3*(t-n)-e,a=3*(n-2*t+e),l=3*(t-e),u=e-i,c=a*a-3*o*l,h=a*l-9*o*u,p=l*l-3*a*u,d=0;if(this.isAroundZero(c)&&this.isAroundZero(h))if(this.isAroundZero(a))s[0]=0;else{let e=-l/a;e>=0&&e<=1&&(s[d++]=e)}else{var f=h*h-4*c*p;if(this.isAroundZero(f)){var m=h/c;let e=-a/o+m,t=-m/2;e>=0&&e<=1&&(s[d++]=e),t>=0&&t<=1&&(s[d++]=t)}else if(f>0){let e=Math.sqrt(f),t=c*a+1.5*o*(-h+e),n=c*a+1.5*o*(-h-e);t=t<0?-Math.pow(-t,this.ONE_THIRD):Math.pow(t,this.ONE_THIRD),n=n<0?-Math.pow(-n,this.ONE_THIRD):Math.pow(n,this.ONE_THIRD);let r=(-a-(t+n))/(3*o);r>=0&&r<=1&&(s[d++]=r)}else{var y=(2*c*a-3*o*h)/(2*Math.sqrt(c*c*c)),g=Math.acos(y)/3,_=Math.sqrt(c),v=Math.cos(g);let e=(-a-2*_*v)/(3*o),t=(-a+_*(v+this.THREE_SQRT*Math.sin(g)))/(3*o),n=(-a+_*(v-this.THREE_SQRT*Math.sin(g)))/(3*o);e>=0&&e<=1&&(s[d++]=e),t>=0&&t<=1&&(s[d++]=t),n>=0&&n<=1&&(s[d++]=n)}}return d}cubicExtrema(e,t,n,r,i){var s=6*n-12*t+6*e,o=9*t+3*r-3*e-9*n,a=3*t-3*e,l=0;if(this.isAroundZero(o)){if(this.isNotAroundZero(s)){let e=-a/s;e>=0&&e<=1&&(i[l++]=e)}}else{var u=s*s-4*o*a;if(this.isAroundZero(u))i[0]=-s/(2*o);else if(u>0){let e=Math.sqrt(u),t=(-s+e)/(2*o),n=(-s-e)/(2*o);t>=0&&t<=1&&(i[l++]=t),n>=0&&n<=1&&(i[l++]=n)}}return l}cubicSubdivide(e,t,n,r,i,s){var o=(t-e)*i+e,a=(n-t)*i+t,l=(r-n)*i+n,u=(a-o)*i+o,c=(l-a)*i+a,h=(c-u)*i+u;s[0]=e,s[1]=o,s[2]=u,s[3]=h,s[4]=h,s[5]=c,s[6]=l,s[7]=r}cubicProjectPoint(e,t,n,r,i,s,o,a,l,u,c){var h,p=this.vector.create(),d=this.vector.create(),f=this.vector.create(),m=.005,y=1/0;p[0]=l,p[1]=u;for(let g=0;g<1;g+=.05){d[0]=this.cubicAt(e,n,i,o,g),d[1]=this.cubicAt(t,r,s,a,g);let l=this.vector.distSquare(p,d);l<y&&(h=g,y=l)}y=1/0;for(let g=0;g<32;g++){if(m<this.EPSILON)break;let l=h-m,u=h+m;d[0]=this.cubicAt(e,n,i,o,l),d[1]=this.cubicAt(t,r,s,a,l);let c=this.vector.distSquare(d,p);if(l>=0&&c<y)h=l,y=c;else{f[0]=this.cubicAt(e,n,i,o,u),f[1]=this.cubicAt(t,r,s,a,u);let l=this.vector.distSquare(f,p);u<=1&&l<y?(h=u,y=l):m*=.5}}return c&&(c[0]=this.cubicAt(e,n,i,o,h),c[1]=this.cubicAt(t,r,s,a,h)),Math.sqrt(y)}quadraticAt(e,t,n,r){var i=1-r;return i*(i*e+2*r*t)+r*r*n}quadraticDerivativeAt(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}quadraticRootAt(e,t,n,r,i){var s=e-2*t+n,o=2*(t-e),a=e-r,l=0;if(this.isAroundZero(s)){if(this.isNotAroundZero(o)){var u=-a/o;u>=0&&u<=1&&(i[l++]=u)}}else{var c=o*o-4*s*a;if(this.isAroundZero(c)){let e=-o/(2*s);e>=0&&e<=1&&(i[l++]=e)}else if(c>0){let e=Math.sqrt(c),t=(-o+e)/(2*s),n=(-o-e)/(2*s);t>=0&&t<=1&&(i[l++]=t),n>=0&&n<=1&&(i[l++]=n)}}return l}quadraticExtremum(e,t,n){var r=e+n-2*t;return 0===r?.5:(e-t)/r}quadraticProjectPoint(e,t,n,r,i,s,o,a,l){var u,c=this.vector.create(),h=this.vector.create(),p=this.vector.create(),d=.005,f=1/0;c[0]=o,c[1]=a;for(let m=0;m<1;m+=.05){h[0]=this.quadraticAt(e,n,i,m),h[1]=this.quadraticAt(t,r,s,m);let o=this.vector.distSquare(c,h);o<f&&(u=m,f=o)}f=1/0;for(let m=0;m<32;m++){if(d<this.EPSILON)break;let o=u-d,a=u+d;h[0]=this.quadraticAt(e,n,i,o),h[1]=this.quadraticAt(t,r,s,o);let l=this.vector.distSquare(h,c);if(o>=0&&l<f)u=o,f=l;else{p[0]=this.quadraticAt(e,n,i,a),p[1]=this.quadraticAt(t,r,s,a);let o=this.vector.distSquare(p,c);a<=1&&o<f?(u=a,f=o):d*=.5}}return l&&(l[0]=this.quadraticAt(e,n,i,u),l[1]=this.quadraticAt(t,r,s,u)),Math.sqrt(f)}}class Ks{constructor(){this.util=new Is,this.curve=new Ys,this._ctx=null,this._textWidthCache={},this._textHeightCache={},this._textWidthCacheCounter=0,this._textHeightCacheCounter=0,this.TEXT_CACHE_MAX=5e3,this.PI2=2*Math.PI,this.roots=[-1,-1,-1],this.extrema=[-1,-1],this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Area"}normalizeRadian(e){return e%=this.PI2,e<0&&(e+=this.PI2),e}isInside(e,t,n,r){if(!t||!e)return!1;var i=e.type;this._ctx=this._ctx||this.util.getContext();var s=this._mathMethod(e,t,n,r);if("undefined"!=typeof s)return s;if(e.buildPath&&this._ctx.isPointInPath)return this._buildPathMethod(e,this._ctx,t,n,r);switch(i){case"ellipse":case"smicellipse":return!0;case"trochoid":var o="out"==t.location?t.r1+t.r2+t.d:t.r1-t.r2+t.d;return this.isInsideCircle(t,n,r,o);case"rose":return this.isInsideCircle(t,n,r,t.maxr);default:return!1}}_mathMethod(e,t,n,r){var i=e.type;switch(i){case"bezier-curve":return"undefined"===typeof t.cpX2?this.isInsideQuadraticStroke(t.xStart,t.yStart,t.cpX1,t.cpY1,t.xEnd,t.yEnd,t.lineWidth,n,r):this.isInsideCubicStroke(t.xStart,t.yStart,t.cpX1,t.cpY1,t.cpX2,t.cpY2,t.xEnd,t.yEnd,t.lineWidth,n,r);case"line":return this.isInsideLine(t.xStart,t.yStart,t.xEnd,t.yEnd,t.lineWidth,n,r);case"broken-line":return this.isInsideBrokenLine(t.pointList,t.lineWidth,n,r);case"smicbroken-line":{let i=n,s=r;return e.refOriginalPosition&&(i=n-e.refOriginalPosition[0],s=r-e.refOriginalPosition[1]),this.isInsideBrokenLine(t.pointList,t.lineWidth,i,s)}case"ring":return this.isInsideRing(t.x,t.y,t.r0,t.r,n,r);case"smicring":{let i=t.x,s=t.y;return e.refOriginalPosition&&(i=t.x+e.refOriginalPosition[0],s=t.y+e.refOriginalPosition[1]),this.isInsideRing(i,s,t.r0,t.r,n,r)}case"circle":return this.isInsideCircle(t.x,t.y,t.r,n,r);case"smicpoint":{let i=n,s=r;return e.refOriginalPosition&&(i=n-e.refOriginalPosition[0],s=r-e.refOriginalPosition[1]),this.isInsideCircle(t.x,t.y,t.r,i,s)}case"sector":{let e=t.startAngle*Math.PI/180,i=t.endAngle*Math.PI/180;return t.clockWise||(e=-e,i=-i),this.isInsideSector(t.x,t.y,t.r0,t.r,e,i,!t.clockWise,n,r)}case"smicsector":{let i=t.startAngle*Math.PI/180,s=t.endAngle*Math.PI/180;t.clockWise||(i=-i,s=-s);let o=t.x,a=t.y;return e.refOriginalPosition&&(o=t.x+e.refOriginalPosition[0],a=t.y+e.refOriginalPosition[1]),this.isInsideSector(o,a,t.r0,t.r,i,s,!t.clockWise,n,r)}case"path":return this.isInsidePath(t.pathArray,Math.max(t.lineWidth,5),t.brushType,n,r);case"polygon":case"star":case"smicstar":case"isogon":case"smicisogon":return this.isInsidePolygon(t.pointList,n,r);case"smicpolygon":{let i=n,p=r;if(e.refOriginalPosition&&(i=n-e.refOriginalPosition[0],p=r-e.refOriginalPosition[1]),e.holePolygonPointLists&&e.holePolygonPointLists.length>0){for(var s=this.isInsidePolygon(t.pointList,i,p),o=e.holePolygonPointLists,a=!1,l=0,u=o.length;l<u;l++){var c=o[l],h=this.isInsidePolygon(c,i,p);!0===h&&(a=!0)}return!0===s&&!1===a}return this.isInsidePolygon(t.pointList,i,p)}case"text":var p=t.__rect||e.getRect(t);return this.isInsideRect(p.x,p.y,p.width,p.height,n,r);case"smictext":var d=e.getTextBackground(t);return this.isInsidePolygon(d,n,r);case"rectangle":case"image":return this.isInsideRect(t.x,t.y,t.width,t.height,n,r);case"smicimage":{let i=t.x,s=t.y;return e.refOriginalPosition&&(i=t.x+e.refOriginalPosition[0],s=t.y+e.refOriginalPosition[1]),this.isInsideRect(i,s,t.width,t.height,n,r)}}}_buildPathMethod(e,t,n,r,i){return t.beginPath(),e.buildPath(t,n),t.closePath(),t.isPointInPath(r,i)}isOutside(e,t,n,r){return!this.isInside(e,t,n,r)}isInsideLine(e,t,n,r,i,s,o){if(0===i)return!1;var a=Math.max(i,5),l=0,u=0;if(o>t+a&&o>r+a||o<t-a&&o<r-a||s>e+a&&s>n+a||s<e-a&&s<n-a)return!1;if(e===n)return Math.abs(s-e)<=a/2;l=(t-r)/(e-n),u=(e*r-n*t)/(e-n);var c=l*s-o+u,h=c*c/(l*l+1);return h<=a/2*a/2}isInsideCubicStroke(e,t,n,r,i,s,o,a,l,u,c){if(0===l)return!1;var h=Math.max(l,5);if(c>t+h&&c>r+h&&c>s+h&&c>a+h||c<t-h&&c<r-h&&c<s-h&&c<a-h||u>e+h&&u>n+h&&u>i+h&&u>o+h||u<e-h&&u<n-h&&u<i-h&&u<o-h)return!1;var p=this.curve.cubicProjectPoint(e,t,n,r,i,s,o,a,u,c,null);return p<=h/2}isInsideQuadraticStroke(e,t,n,r,i,s,o,a,l){if(0===o)return!1;var u=Math.max(o,5);if(l>t+u&&l>r+u&&l>s+u||l<t-u&&l<r-u&&l<s-u||a>e+u&&a>n+u&&a>i+u||a<e-u&&a<n-u&&a<i-u)return!1;var c=this.curve.quadraticProjectPoint(e,t,n,r,i,s,a,l,null);return c<=u/2}isInsideArcStroke(e,t,n,r,i,s,o,a,l){var u=this.PI2;if(0===o)return!1;var c=Math.max(o,5);a-=e,l-=t;var h=Math.sqrt(a*a+l*l);if(h-c>n||h+c<n)return!1;if(Math.abs(r-i)>=u)return!0;if(s){var p=r;r=this.normalizeRadian(i),i=this.normalizeRadian(p)}else r=this.normalizeRadian(r),i=this.normalizeRadian(i);r>i&&(i+=u);var d=Math.atan2(l,a);return d<0&&(d+=u),d>=r&&d<=i||d+u>=r&&d+u<=i}isInsideBrokenLine(e,t,n,r){for(var i=Math.max(t,10),s=0,o=e.length-1;s<o;s++){var a=e[s][0],l=e[s][1],u=e[s+1][0],c=e[s+1][1];if(this.isInsideLine(a,l,u,c,i,n,r))return!0}return!1}isInsideRing(e,t,n,r,i,s){var o=(i-e)*(i-e)+(s-t)*(s-t);return o<r*r&&o>n*n}isInsideRect(e,t,n,r,i,s){return i>=e&&i<=e+n&&s>=t&&s<=t+r}isInsideCircle(e,t,n,r,i){return(r-e)*(r-e)+(i-t)*(i-t)<n*n}isInsideSector(e,t,n,r,i,s,o,a,l){return this.isInsideArcStroke(e,t,(n+r)/2,i,s,o,r-n,a,l)}isInsidePolygon(e,t,n){for(var r=e.length,i=0,s=0,o=r-1;s<r;s++){var a=e[o][0],l=e[o][1],u=e[s][0],c=e[s][1];i+=this.windingLine(a,l,u,c,t,n),o=s}return 0!==i}windingLine(e,t,n,r,i,s){if(s>t&&s>r||s<t&&s<r)return 0;if(r==t)return 0;var o=r<t?1:-1,a=(s-t)/(r-t),l=a*(n-e)+e;return l>i?o:0}swapExtrema(){var e=this.extrema[0];this.extrema[0]=this.extrema[1],this.extrema[1]=e}windingCubic(e,t,n,r,i,s,o,a,l,u){var c=this.curve,h=this.roots,p=this.extrema;if(u>t&&u>r&&u>s&&u>a||u<t&&u<r&&u<s&&u<a)return 0;var d=c.cubicRootAt(t,r,s,a,u,h);if(0===d)return 0;for(var f,m,y=0,g=-1,_=0;_<d;_++){var v=h[_],b=c.cubicAt(e,n,i,o,v);b<l||(g<0&&(g=c.cubicExtrema(t,r,s,a,p),p[1]<p[0]&&g>1&&this.swapExtrema(),f=c.cubicAt(t,r,s,a,p[0]),g>1&&(m=c.cubicAt(t,r,s,a,p[1]))),2==g?v<p[0]?y+=f<t?1:-1:v<p[1]?y+=m<f?1:-1:y+=a<m?1:-1:v<p[0]?y+=f<t?1:-1:y+=a<f?1:-1)}return y}windingQuadratic(e,t,n,r,i,s,o,a){var l=this.curve,u=this.roots;if(a>t&&a>r&&a>s||a<t&&a<r&&a<s)return 0;var c=l.quadraticRootAt(t,r,s,a,u);if(0===c)return 0;var h=l.quadraticExtremum(t,r,s);if(h>=0&&h<=1){var p=0,d=l.quadraticAt(t,r,s,h);for(let r=0;r<c;r++){let a=l.quadraticAt(e,n,i,u[r]);a>o||(u[r]<h?p+=d<t?1:-1:p+=s<d?1:-1)}return p}{let r=l.quadraticAt(e,n,i,u[0]);return r>o?0:s<t?1:-1}}windingArc(e,t,n,r,i,s,o,a){var l=this.roots,u=this.PI2;if(a-=t,a>n||a<-n)return 0;let c=Math.sqrt(n*n-a*a);if(l[0]=-c,l[1]=c,Math.abs(r-i)>=u){r=0,i=u;var h=s?1:-1;return o>=l[0]+e&&o<=l[1]+e?h:0}if(s){let e=r;r=this.normalizeRadian(i),i=this.normalizeRadian(e)}else r=this.normalizeRadian(r),i=this.normalizeRadian(i);r>i&&(i+=u);var p=0;for(let f=0;f<2;f++){var d=l[f];if(d+e>o){let e=Math.atan2(a,d),t=s?1:-1;e<0&&(e=u+e),(e>=r&&e<=i||e+u>=r&&e+u<=i)&&(e>Math.PI/2&&e<1.5*Math.PI&&(t=-t),p+=t)}}return p}isInsidePath(e,t,n,r,i){var s=0,o=0,a=0,l=0,u=0,c=!0,h=!0;n=n||"fill";for(var p="stroke"===n||"both"===n,d="fill"===n||"both"===n,f=0;f<e.length;f++){var m=e[f],y=m.points;if(c||"M"===m.command){if(f>0&&(d&&(s+=this.windingLine(o,a,l,u,r,i)),0!==s))return!0;l=y[y.length-2],u=y[y.length-1],c=!1,h&&"A"!==m.command&&(h=!1,o=l,a=u)}switch(m.command){case"M":o=y[0],a=y[1];break;case"L":if(p&&this.isInsideLine(o,a,y[0],y[1],t,r,i))return!0;d&&(s+=this.windingLine(o,a,y[0],y[1],r,i)),o=y[0],a=y[1];break;case"C":if(p&&this.isInsideCubicStroke(o,a,y[0],y[1],y[2],y[3],y[4],y[5],t,r,i))return!0;d&&(s+=this.windingCubic(o,a,y[0],y[1],y[2],y[3],y[4],y[5],r,i)),o=y[4],a=y[5];break;case"Q":if(p&&this.isInsideQuadraticStroke(o,a,y[0],y[1],y[2],y[3],t,r,i))return!0;d&&(s+=this.windingQuadratic(o,a,y[0],y[1],y[2],y[3],r,i)),o=y[2],a=y[3];break;case"A":var g=y[0],_=y[1],v=y[2],b=y[3],x=y[4],w=y[5],S=Math.cos(x)*v+g,C=Math.sin(x)*b+_;h?(h=!1,l=S,u=C):s+=this.windingLine(o,a,S,C);var E=(r-g)*b/v+g;if(p&&this.isInsideArcStroke(g,_,b,x,x+w,1-y[7],t,E,i))return!0;d&&(s+=this.windingArc(g,_,b,x,x+w,1-y[7],E,i)),o=Math.cos(x+w)*v+g,a=Math.sin(x+w)*b+_;break;case"z":if(p&&this.isInsideLine(o,a,l,u,t,r,i))return!0;c=!0;break}}return d&&(s+=this.windingLine(o,a,l,u,r,i)),0!==s}getTextWidth(e,t){var n=e+":"+t;if(this._textWidthCache[n])return this._textWidthCache[n];this._ctx=this._ctx||this.util.getContext(),this._ctx.save(),t&&(this._ctx.font=t),e=(e+"").split("\n");for(var r=0,i=0,s=e.length;i<s;i++)r=Math.max(this._ctx.measureText(e[i]).width,r);return this._ctx.restore(),this._textWidthCache[n]=r,++this._textWidthCacheCounter>this.TEXT_CACHE_MAX&&(this._textWidthCacheCounter=0,this._textWidthCache={}),r}getTextHeight(e,t){var n=e+":"+t;if(this._textHeightCache[n])return this._textHeightCache[n];this._ctx=this._ctx||this.util.getContext(),this._ctx.save(),t&&(this._ctx.font=t),e=(e+"").split("\n");var r=(this._ctx.measureText("ZH").width+2)*e.length;return this._ctx.restore(),this._textHeightCache[n]=r,++this._textHeightCacheCounter>this.TEXT_CACHE_MAX&&(this._textHeightCacheCounter=0,this._textHeightCache={}),r}}class Qs{constructor(){3===arguments.length&&this.computeBoundingBox(arguments),this.CLASS_NAME="SuperMap.LevelRenderer.Tool.ComputeBoundingBox"}computeBoundingBox(e,t,n){if(0!==e.length){for(var r=e[0][0],i=e[0][0],s=e[0][1],o=e[0][1],a=1;a<e.length;a++){var l=e[a];l[0]<r&&(r=l[0]),l[0]>i&&(i=l[0]),l[1]<s&&(s=l[1]),l[1]>o&&(o=l[1])}t[0]=r,t[1]=s,n[0]=i,n[1]=o}}cubeBezier(e,t,n,r,i,s){var o=new Ys,a=[];o.cubicExtrema(e[0],t[0],n[0],r[0],a);for(let d=0;d<a.length;d++)a[d]=o.cubicAt(e[0],t[0],n[0],r[0],a[d]);var l=[];o.cubicExtrema(e[1],t[1],n[1],r[1],l);for(let d=0;d<l.length;d++)l[d]=o.cubicAt(e[1],t[1],n[1],r[1],l[d]);a.push(e[0],r[0]),l.push(e[1],r[1]);var u=Math.min.apply(null,a),c=Math.max.apply(null,a),h=Math.min.apply(null,l),p=Math.max.apply(null,l);i[0]=u,i[1]=h,s[0]=c,s[1]=p}quadraticBezier(e,t,n,r,i){var s=new Ys,o=s.quadraticExtremum(e[0],t[0],n[0]),a=s.quadraticExtremum(e[1],t[1],n[1]);o=Math.max(Math.min(o,1),0),a=Math.max(Math.min(a,1),0);var l=1-o,u=1-a,c=l*l*e[0]+2*l*o*t[0]+o*o*n[0],h=l*l*e[1]+2*l*o*t[1]+o*o*n[1],p=u*u*e[0]+2*u*a*t[0]+a*a*n[0],d=u*u*e[1]+2*u*a*t[1]+a*a*n[1];r[0]=Math.min(e[0],n[0],c,p),r[1]=Math.min(e[1],n[1],h,d),i[0]=Math.max(e[0],n[0],c,p),i[1]=Math.max(e[1],n[1],h,d)}arc(e,t,n,r,i,s,o,a){var l=new Zs,u=l.create(),c=l.create(),h=l.create();if(u[0]=Math.cos(r)*n+e,u[1]=Math.sin(r)*n+t,c[0]=Math.cos(i)*n+e,c[1]=Math.sin(i)*n+t,l.min(o,u,c),l.max(a,u,c),r%=2*Math.PI,r<0&&(r+=2*Math.PI),i%=2*Math.PI,i<0&&(i+=2*Math.PI),r>i&&!s?i+=2*Math.PI:r<i&&s&&(r+=2*Math.PI),s){var p=i;i=r,r=p}for(var d=0;d<i;d+=Math.PI/2)d>r&&(h[0]=Math.cos(d)*n+e,h[1]=Math.sin(d)*n+t,l.min(o,h,o),l.max(a,h,a))}}class $s{constructor(){this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Env";var e=this;function t(t){var n=e.os={},r=e.browser={},i=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),s=t.match(/(Android);?[\s\/]+([\d.]+)?/),o=t.match(/(iPad).*OS\s([\d_]+)/),a=t.match(/(iPod)(.*OS\s([\d_]+))?/),l=!o&&t.match(/(iPhone\sOS)\s([\d_]+)/),u=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),c=u&&t.match(/TouchPad/),h=t.match(/Kindle\/([\d.]+)/),p=t.match(/Silk\/([\d._]+)/),d=t.match(/(BlackBerry).*Version\/([\d.]+)/),f=t.match(/(BB10).*Version\/([\d.]+)/),m=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),y=t.match(/PlayBook/),g=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),_=t.match(/Firefox\/([\d.]+)/),v=t.match(/MSIE ([\d.]+)/),b=i&&t.match(/Mobile\//)&&!g,x=t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!g;return(r.webkit=!!i)&&(r.version=i[1]),s&&(n.android=!0,n.version=s[2]),l&&!a&&(n.ios=n.iphone=!0,n.version=l[2].replace(/_/g,".")),o&&(n.ios=n.ipad=!0,n.version=o[2].replace(/_/g,".")),a&&(n.ios=n.ipod=!0,n.version=a[3]?a[3].replace(/_/g,"."):null),u&&(n.webos=!0,n.version=u[2]),c&&(n.touchpad=!0),d&&(n.blackberry=!0,n.version=d[2]),f&&(n.bb10=!0,n.version=f[2]),m&&(n.rimtabletos=!0,n.version=m[2]),y&&(r.playbook=!0),h&&(n.kindle=!0,n.version=h[1]),p&&(r.silk=!0,r.version=p[1]),!p&&n.android&&t.match(/Kindle Fire/)&&(r.silk=!0),g&&(r.chrome=!0,r.version=g[1]),_&&(r.firefox=!0,r.version=_[1]),v&&(r.ie=!0,r.version=v[1]),b&&(t.match(/Safari/)||n.ios)&&(r.safari=!0),x&&(r.webview=!0),v&&(r.ie=!0,r.version=v[1]),n.tablet=!!(o||y||s&&!t.match(/Mobile/)||_&&t.match(/Tablet/)||v&&!t.match(/Phone/)&&t.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(s||l||u||d||f||g&&t.match(/Android/)||g&&t.match(/CriOS\/([\d.]+)/)||_&&t.match(/Mobile/)||v&&t.match(/Touch/))),{browser:r,os:n,canvasSupported:!!document.createElement("canvas").getContext}}return t(navigator.userAgent)}destory(){return!0}}class eo{constructor(){this.stop="function"===typeof window.addEventListener?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0},this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Event"}getX(e){return"undefined"!=typeof e.zrenderX&&e.zrenderX||"undefined"!=typeof e.offsetX&&e.offsetX||"undefined"!=typeof e.layerX&&e.layerX||"undefined"!=typeof e.clientX&&e.clientX}getY(e){return"undefined"!=typeof e.zrenderY&&e.zrenderY||"undefined"!=typeof e.offsetY&&e.offsetY||"undefined"!=typeof e.layerY&&e.layerY||"undefined"!=typeof e.clientY&&e.clientY}getDelta(e){return"undefined"!=typeof e.zrenderDelta&&e.zrenderDelta||"undefined"!=typeof e.wheelDelta&&e.wheelDelta||"undefined"!=typeof e.detail&&-e.detail}}class to{constructor(){this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Http"}get(e,t,n){if("object"===typeof e){var r=e;e=r.url,t=r.onsuccess,n=r.onerror}var i=window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");i.open("GET",e,!0),i.onreadystatechange=function(){4==i.readyState&&(i.status>=200&&i.status<300||304===i.status?t&&t(i.responseText):n&&n(),i.onreadystatechange=new Function,i=null)},i.send(null)}}class no{}no.EVENT={RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},no.catchBrushException=!1,no.debugMode=0;class ro{constructor(){return this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Log",function(){if(0!==no.debugMode)if(1==no.debugMode)for(let e in arguments)throw new Error(arguments[e]);else if(no.debugMode>1)for(let e in arguments)console.log(arguments[e])}}destory(){return!0}}class io{constructor(){this._radians=window.Math.PI/180,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Math"}sin(e,t){return window.Math.sin(t?e*this._radians:e)}cos(e,t){return window.Math.cos(t?e*this._radians:e)}degreeToRadian(e){return e*this._radians}radianToDegree(e){return e/this._radians}}class so{constructor(){this.ArrayCtor="undefined"===typeof Float32Array?Array:Float32Array,this.CLASS_NAME="SuperMap.LevelRenderer.Tool.Matrix"}create(){var e=this.ArrayCtor,t=new e(6);return this.identity(t),t}identity(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}copy(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}mul(e,t,n){return e[0]=t[0]*n[0]+t[2]*n[1],e[1]=t[1]*n[0]+t[3]*n[1],e[2]=t[0]*n[2]+t[2]*n[3],e[3]=t[1]*n[2]+t[3]*n[3],e[4]=t[0]*n[4]+t[2]*n[5]+t[4],e[5]=t[1]*n[4]+t[3]*n[5]+t[5],e}translate(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}rotate(e,t,n){var r=t[0],i=t[2],s=t[4],o=t[1],a=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*u,e[1]=-r*u+o*c,e[2]=i*c+a*u,e[3]=-i*u+c*a,e[4]=c*s+u*l,e[5]=c*l-u*s,e}scale(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e}invert(e,t){var n=t[0],r=t[2],i=t[4],s=t[1],o=t[3],a=t[5],l=n*o-s*r;return l?(l=1/l,e[0]=o*l,e[1]=-s*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*a-o*i)*l,e[5]=(s*i-n*a)*l,e):null}mulVector(e,t,n){var r=t[0],i=t[2],s=t[4],o=t[1],a=t[3],l=t[5];return e[0]=n[0]*r+n[1]*i+s,e[1]=n[0]*o+n[1]*a+l,e}}class oo{static SUtil_smoothBezier(e,t,n,r,i){i&&2===i||(i=[0,0]);var s,o,a=i,l=[],u=[],c=[],h=[],p=!!r;if(p){s=[1/0,1/0],o=[-1/0,-1/0];let t=e.length;for(let n=0;n<t;n++)oo.Util_vector.min(s,s,[e[n][0]+a[0],e[n][1]+a[1]]),oo.Util_vector.max(o,o,[e[n][0]+a[0],e[n][1]+a[1]]);oo.Util_vector.min(s,s,r[0]),oo.Util_vector.max(o,o,r[1])}let d=e.length;for(let f=0;f<d;f++){let r,i,m=[e[f][0]+a[0],e[f][1]+a[1]];if(n)r=[e[f?f-1:d-1][0]+a[0],e[f?f-1:d-1][1]+a[1]],i=[e[(f+1)%d][0]+a[0],e[(f+1)%d][1]+a[1]];else{if(0===f||f===d-1){l.push([e[f][0]+a[0],e[f][1]+a[1]]);continue}r=[e[f-1][0]+a[0],e[f-1][1]+a[1]],i=[e[f+1][0]+a[0],e[f+1][1]+a[1]]}oo.Util_vector.sub(u,i,r),oo.Util_vector.scale(u,u,t);let y=oo.Util_vector.distance(m,r),g=oo.Util_vector.distance(m,i),_=y+g;0!==_&&(y/=_,g/=_),oo.Util_vector.scale(c,u,-y),oo.Util_vector.scale(h,u,g);let v=oo.Util_vector.add([],m,c),b=oo.Util_vector.add([],m,h);p&&(oo.Util_vector.max(v,v,s),oo.Util_vector.min(v,v,o),oo.Util_vector.max(b,b,s),oo.Util_vector.min(b,b,o)),l.push(v),l.push(b)}return n&&l.push(l.shift()),l}static SUtil_smoothSpline(e,t,n,r){r&&2===r||(r=[0,0]);var i=r,s=e.length,o=[],a=0;for(let c=1;c<s;c++)a+=oo.Util_vector.distance([e[c-1][0]+i[0],e[c-1][1]+i[1]],[e[c][0]+i[0],e[c][1]+i[1]]);var l=a/5;l=l<s?s:l;for(let c=0;c<l;c++){let n,r,a,h=c/(l-1)*(t?s:s-1),p=Math.floor(h),d=h-p,f=[e[p%s][0]+i[0],e[p%s][1]+i[1]];t?(n=[e[(p-1+s)%s][0]+i[0],e[(p-1+s)%s][1]+i[1]],r=[e[(p+1)%s][0]+i[0],e[(p+1)%s][1]+i[1]],a=[e[(p+2)%s][0]+i[0],e[(p+2)%s][1]+i[1]]):(n=[e[0===p?p:p-1][0]+i[0],e[0===p?p:p-1][1]+i[1]],r=[e[p>s-2?s-1:p+1][0]+i[0],e[p>s-2?s-1:p+1][1]+i[1]],a=[e[p>s-3?s-1:p+2][0]+i[0],e[p>s-3?s-1:p+2][1]+i[1]]);let m=d*d,y=d*m;o.push([u(n[0],f[0],r[0],a[0],d,m,y),u(n[1],f[1],r[1],a[1],d,m,y)])}return o;function u(e,t,n,r,i,s,o){var a=.5*(n-e),l=.5*(r-t);return(2*(t-n)+a+l)*o+(-3*(t-n)-2*a-l)*s+a*i+t}}static SUtil_dashedLineTo(e,t,n,r,i,s,o){var a=[5,5];if(s="number"!=typeof s?5:s,e.setLineDash)return a[0]=s,a[1]=s,o&&o instanceof Array?e.setLineDash(o):e.setLineDash(a),e.moveTo(t,n),void e.lineTo(r,i);var l=r-t,u=i-n,c=Math.floor(Math.sqrt(l*l+u*u)/s);l/=c,u/=c;for(var h=!0,p=0;p<c;++p)h?e.moveTo(t,n):e.lineTo(t,n),h=!h,t+=l,n+=u;e.lineTo(r,i)}}oo.Util_area=new Ks,oo.Util_color=new Ls,oo.Util_computeBoundingBox=new Qs,oo.Util_curve=new Ys,oo.Util_env=new $s,oo.Util_event=new eo,oo.Util_http=new to,oo.Util_log=new ro,oo.Util_math=new io,oo.Util_matrix=new so,oo.Util=new Is,oo.Util_vector=new Zs;class ao{constructor(){this.position=[0,0],this.rotation=[0,0,0],this.scale=[1,1,0,0],this.needLocalTransform=!1,this.needTransform=!1,this.CLASS_NAME="SuperMap.LevelRenderer.Transformable",this.lookAt=function(){var e=oo.Util_vector.create();return function(t){this.transform||(this.transform=oo.Util_matrix.create());var n=this.transform;function r(e){var t=5e-5;return e>-t&&e<t}oo.Util_vector.sub(e,t,this.position),r(e[0])&&r(e[1])||(oo.Util_vector.normalize(e,e),n[2]=e[0]*this.scale[1],n[3]=e[1]*this.scale[1],n[0]=e[1]*this.scale[0],n[1]=-e[0]*this.scale[0],n[4]=this.position[0],n[5]=this.position[1],this.decomposeTransform())}}()}destroy(){this.position=null,this.rotation=null,this.scale=null,this.needLocalTransform=null,this.needTransform=null}updateNeedTransform(){function e(e){var t=5e-5;return e>t||e<-t}this.needLocalTransform=e(this.rotation[0])||e(this.position[0])||e(this.position[1])||e(this.scale[0]-1)||e(this.scale[1]-1)}updateTransform(){if(this.updateNeedTransform(),this.parent?this.needTransform=this.needLocalTransform||this.parent.needTransform:this.needTransform=this.needLocalTransform,this.needTransform){var e=[0,0],t=this.transform||oo.Util_matrix.create();if(oo.Util_matrix.identity(t),this.needLocalTransform){if(n(this.scale[0])||n(this.scale[1])){e[0]=-this.scale[2]||0,e[1]=-this.scale[3]||0;let r=n(e[0])||n(e[1]);r&&oo.Util_matrix.translate(t,t,e),oo.Util_matrix.scale(t,t,this.scale),r&&(e[0]=-e[0],e[1]=-e[1],oo.Util_matrix.translate(t,t,e))}if(this.rotation instanceof Array){if(0!==this.rotation[0]){e[0]=-this.rotation[1]||0,e[1]=-this.rotation[2]||0;let r=n(e[0])||n(e[1]);r&&oo.Util_matrix.translate(t,t,e),oo.Util_matrix.rotate(t,t,this.rotation[0]),r&&(e[0]=-e[0],e[1]=-e[1],oo.Util_matrix.translate(t,t,e))}}else 0!==this.rotation&&oo.Util_matrix.rotate(t,t,this.rotation);(n(this.position[0])||n(this.position[1]))&&oo.Util_matrix.translate(t,t,this.position)}this.transform=t,this.parent&&this.parent.needTransform&&(this.needLocalTransform?oo.Util_matrix.mul(this.transform,this.parent.transform,this.transform):oo.Util_matrix.copy(this.transform,this.parent.transform))}function n(e){var t=5e-5;return e>t||e<-t}}setTransform(e){if(this.needTransform){var t=this.transform;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}}decomposeTransform(){if(this.transform){var e=this.transform,t=e[0]*e[0]+e[1]*e[1],n=this.position,r=this.scale,i=this.rotation;o(t-1)&&(t=Math.sqrt(t));var s=e[2]*e[2]+e[3]*e[3];o(s-1)&&(s=Math.sqrt(s)),n[0]=e[4],n[1]=e[5],r[0]=t,r[1]=s,r[2]=r[3]=0,i[0]=Math.atan2(-e[1]/s,e[0]/t),i[1]=i[2]=0}function o(e){var t=5e-5;return e>t||e<-t}}}class lo extends(u.mixin(Xs,ao)){constructor(e){super(e),e=e||{},this.id=null,this.style={},this.highlightStyle=null,this.parent=null,this.__dirty=!0,this.__clipShapes=[],this.invisible=!1,this.ignore=!1,this.zlevel=0,this.draggable=!1,this.clickable=!1,this.hoverable=!0,this.z=0,this.refOriginalPosition=[0,0],this.refDataID=null,this.isHoverByRefDataID=!1,this.refDataHoverGroup=null,this.dataInfo=null,te.extend(this,e),this.id=this.id||te.createUniqueID("smShape_"),this.CLASS_NAME="SuperMap.LevelRenderer.Shape",this.getTansform=function(){var e=[];return function(t,n){var r=[t,n];return this.needTransform&&this.transform&&(oo.Util_matrix.invert(e,this.transform),oo.Util_matrix.mulVector(r,e,[t,n,1]),t==r[0]&&n==r[1]&&this.updateNeedTransform()),r}}()}destroy(){this.id=null,this.style=null,this.highlightStyle=null,this.parent=null,this.__dirty=null,this.__clipShapes=null,this.invisible=null,this.ignore=null,this.zlevel=null,this.draggable=null,this.clickable=null,this.hoverable=null,this.z=null,this.refOriginalPosition=null,this.refDataID=null,this.refDataHoverGroup=null,this.isHoverByRefDataID=null,this.dataInfo=null,super.destroy()}brush(e,t){var n=this.beforeBrush(e,t);switch(e.beginPath(),this.buildPath(e,n),n.brushType){case"both":this.setCtxGlobalAlpha(e,"fill",n),e.fill(),n.lineWidth>0&&(this.setCtxGlobalAlpha(e,"stroke",n),e.stroke()),this.setCtxGlobalAlpha(e,"reset",n);break;case"stroke":this.setCtxGlobalAlpha(e,"stroke",n),n.lineWidth>0&&e.stroke(),this.setCtxGlobalAlpha(e,"reset",n);break;default:this.setCtxGlobalAlpha(e,"fill",n),e.fill(),this.setCtxGlobalAlpha(e,"reset",n);break}this.drawText(e,n,this.style),this.afterBrush(e)}beforeBrush(e,t){var n=this.style;return this.brushTypeOnly&&(n.brushType=this.brushTypeOnly),t&&(n=this.getHighlightStyle(n,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(n.strokeColor=n.strokeColor||n.color),e.save(),this.doClip(e),this.setContext(e,n),this.setTransform(e),n}afterBrush(e){e.restore()}setContext(e,t){for(var n=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]],r=0,i=n.length;r<i;r++){var s=n[r][0],o=t[s],a=n[r][1];"undefined"!=typeof o&&(e[a]=o)}}doClip(e){var t=oo.Util_matrix.create();if(this.__clipShapes)for(var n=0;n<this.__clipShapes.length;n++){var r=this.__clipShapes[n];if(r.needTransform){let n=r.transform;oo.Util_matrix.invert(t,n),e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}if(e.beginPath(),r.buildPath(e,r.style),e.clip(),r.needTransform){let n=t;e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}}}getHighlightStyle(e,t,n){var r={};for(let s in e)r[s]=e[s];var i=oo.Util_color.getHighlightColor();"stroke"!=e.brushType?(r.strokeColor=i,r.lineWidth=e.lineWidth||1,r.brushType="both"):"stroke"!=n?(r.strokeColor=i,r.lineWidth=e.lineWidth||1):r.strokeColor=t.strokeColor||oo.Util_color.mix(e.strokeColor,oo.Util_color.toRGB(i));for(let s in t)"undefined"!=typeof t[s]&&(r[s]=t[s]);return r}getHighlightZoom(){return"text"!=this.type?6:2}drift(e,t){this.position[0]+=e,this.position[1]+=t}buildPath(e,t){oo.Util_log("buildPath not implemented in "+this.type)}getRect(e){oo.Util_log("getRect not implemented in "+this.type)}isCover(e,t){var n=this.getTansform(e,t);e=n[0],t=n[1];var r=this.style.__rect;return r||(r=this.style.__rect=this.getRect(this.style)),e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height&&oo.Util_area.isInside(this,this.style,e,t)}drawText(e,t,n){if("undefined"!=typeof t.text&&!1!==t.text){var r=t.textColor||t.color||t.strokeColor;e.fillStyle=r;var i,s,o,a,l=10,u=t.textPosition||this.textPosition||"top",c=[];switch(c=this.refOriginalPosition&&2===this.refOriginalPosition.length?this.refOriginalPosition:[0,0],u){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var h=(n||t).__rect||this.getRect(n||t);switch(u){case"inside":o=h.x+h.width/2,a=h.y+h.height/2,i="center",s="middle","stroke"!=t.brushType&&r==t.color&&(e.fillStyle="#fff");break;case"left":o=h.x-l,a=h.y+h.height/2,i="end",s="middle";break;case"right":o=h.x+h.width+l,a=h.y+h.height/2,i="start",s="middle";break;case"top":o=h.x+h.width/2,a=h.y-l,i="center",s="bottom";break;case"bottom":o=h.x+h.width/2,a=h.y+h.height+l,i="center",s="top";break}}break;case"start":case"end":var p=0,d=0,f=0,m=0;if("undefined"!=typeof t.pointList){var y=t.pointList;if(y.length<2)return;var g=y.length;switch(u){case"start":p=y[0][0]+c[0],d=y[1][0]+c[0],f=y[0][1]+c[1],m=y[1][1]+c[1];break;case"end":p=y[g-2][0]+c[0],d=y[g-1][0]+c[0],f=y[g-2][1]+c[1],m=y[g-1][1]+c[1];break}}else p=t.xStart+c[0]||0,d=t.xEnd+c[0]||0,f=t.yStart+c[1]||0,m=t.yEnd+c[1]||0;switch(u){case"start":i=p<d?"end":"start",s=f<m?"bottom":"top",o=p,a=f;break;case"end":i=p<d?"start":"end",s=f<m?"top":"bottom",o=d,a=m;break}l-=4,p&&d&&p!=d?o-="end"==i?l:-l:i="center",f!=m?a-="bottom"==s?l:-l:s="middle";break;case"specific":o=t.textX||0,a=t.textY||0,i="start",s="middle";break}t.labelXOffset&&!isNaN(t.labelXOffset)&&(o+=t.labelXOffset),t.labelYOffset&&!isNaN(t.labelYOffset)&&(a+=t.labelYOffset),null!=o&&null!=a&&lo._fillText(e,t.text,o,a,t.textFont,t.textAlign||i,t.textBaseline||s)}}modSelf(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)}isSilent(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)}setCtxGlobalAlpha(e,t,n){e.globalAlpha="fill"===t?"undefined"===typeof n["fillOpacity"]?"undefined"===typeof n["opacity"]?1:n["opacity"]:n["fillOpacity"]:"stroke"===t?"undefined"===typeof n["strokeOpacity"]?"undefined"===typeof n["opacity"]?1:n["opacity"]:n["strokeOpacity"]:"undefined"===typeof n["opacity"]?1:n["opacity"]}static _fillText(e,t,n,r,i,s,o){i&&(e.font=i),e.textAlign=s,e.textBaseline=o;var a=lo._getTextRect(t,n,r,i,s,o);t=(t+"").split("\n");var l=oo.Util_area.getTextHeight("ZH",i);switch(o){case"top":r=a.y;break;case"bottom":r=a.y+l;break;default:r=a.y+l/2}for(var u=0,c=t.length;u<c;u++)e.fillText(t[u],n,r),r+=l}static _getTextRect(e,t,n,r,i,s){var o=oo.Util_area.getTextWidth(e,r),a=oo.Util_area.getTextHeight("ZH",r);switch(e=(e+"").split("\n"),i){case"end":case"right":t-=o;break;case"center":t-=o/2;break}switch(s){case"top":break;case"bottom":n-=a*e.length;break;default:n-=a*e.length/2}return{x:t,y:n,width:o,height:a*e.length}}}class uo extends lo{constructor(e){super(e),this.type="smicpoint",this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),this.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicPoint"}destroy(){this.type=null,super.destroy()}buildPath(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition;e.arc(t.x+n[0],t.y+n[1],t.r,0,2*Math.PI,!0)}getRect(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t,n=this.refOriginalPosition;return e.__rect||(t="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(e.x+n[0]-e.r-t/2),y:Math.round(e.y+n[1]-e.r-t/2),width:2*e.r+t,height:2*e.r+t}),e.__rect}}class co extends lo{constructor(e){super(e),this.type="smictext",this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),this.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicText"}destroy(){this.type=null,super.destroy()}brush(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=this.style;if(t&&(r=this.getHighlightStyle(r,this.highlightStyle||{})),"undefined"!=typeof r.text&&!1!==r.text){e.save(),this.doClip(e),this.setContext(e,r),this.setTransform(e),r.textFont&&(e.font=r.textFont),e.textAlign=r.textAlign||"start",e.textBaseline=r.textBaseline||"middle";var i,s=(r.text+"").split("\n"),o=oo.Util_area.getTextHeight("ZH",r.textFont),a=this.getRectNoRotation(r),l=r.x+n[0];i="top"==r.textBaseline?a.y:"bottom"==r.textBaseline?a.y+o:a.y+o/2;for(var u=r.x+n[0],c=r.y+n[1],h=0,p=s.length;h<p;h++){switch(r.labelRect&&(e.fillRect(a.x-2,a.y,a.width+4,a.height),e.fillStyle=r.strokeColor,e.strokeRect(a.x-2,a.y,a.width+4,a.height),e.fillStyle=r.textColor),r.brushType){case"stroke":this.setCtxGlobalAlpha(e,"stroke",r),r.textRotation&&0!==r.textRotation?(e.save(),e.translate(u,c),e.rotate(r.textRotation*Math.PI/180),"top"==r.textBaseline?r.maxWidth?e.strokeText(s[h],0,o*h,r.maxWidth):e.strokeText(s[h],0,o*h):"bottom"==r.textBaseline?r.maxWidth?e.strokeText(s[h],0,o*(h+1)-a.height,r.maxWidth):e.strokeText(s[h],0,o*(h+1)-a.height):r.maxWidth?e.strokeText(s[h],0,o*(h+1)-a.height/2-o/2,r.maxWidth):e.strokeText(s[h],0,o*(h+1)-a.height/2-o/2),e.restore()):r.maxWidth?e.strokeText(s[h],l,i,r.maxWidth):e.strokeText(s[h],l,i),this.setCtxGlobalAlpha(e,"reset",r);break;case"both":r.textRotation&&0!==r.textRotation?(e.save(),e.translate(u,c),e.rotate(r.textRotation*Math.PI/180),"top"==r.textBaseline?r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(s[h],0,o*h,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(s[h],0,o*h,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(s[h],0,o*h),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(s[h],0,o*h),this.setCtxGlobalAlpha(e,"reset",r)):"bottom"==r.textBaseline?r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(s[h],0,o*(h+1)-a.height,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(s[h],0,o*(h+1)-a.height,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(s[h],0,o*(h+1)-a.height),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(s[h],0,o*(h+1)-a.height),this.setCtxGlobalAlpha(e,"reset",r)):r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(s[h],0,o*(h+1)-a.height/2-o/2,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(s[h],0,o*(h+1)-a.height/2-o/2,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(s[h],0,o*(h+1)-a.height/2-o/2),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(s[h],0,o*(h+1)-a.height/2-o/2),this.setCtxGlobalAlpha(e,"reset",r)),e.restore()):r.maxWidth?(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(s[h],l,i,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(s[h],l,i,r.maxWidth),this.setCtxGlobalAlpha(e,"reset",r)):(this.setCtxGlobalAlpha(e,"fill",r),e.fillText(s[h],l,i),this.setCtxGlobalAlpha(e,"reset",r),this.setCtxGlobalAlpha(e,"stroke",r),e.strokeText(s[h],l,i),this.setCtxGlobalAlpha(e,"reset",r));break;default:this.setCtxGlobalAlpha(e,"fill",r),r.textRotation&&0!==r.textRotation?(e.save(),e.translate(u,c),e.rotate(r.textRotation*Math.PI/180),"top"==r.textBaseline?r.maxWidth?e.fillText(s[h],0,o*h,r.maxWidth):e.fillText(s[h],0,o*h):"bottom"==r.textBaseline?r.maxWidth?e.fillText(s[h],0,o*(h+1)-a.height,r.maxWidth):e.fillText(s[h],0,o*(h+1)-a.height):r.maxWidth?e.fillText(s[h],0,o*(h+1)-a.height/2-o/2,r.maxWidth):e.fillText(s[h],0,o*(h+1)-a.height/2-o/2),e.restore()):r.maxWidth?e.fillText(s[h],l,i,r.maxWidth):e.fillText(s[h],l,i),this.setCtxGlobalAlpha(e,"reset",r)}i+=o}e.restore()}}getRect(e){if(e.__rect)return e.__rect;for(var t,n,r,i,s=this.getTextBackground(e,!0),o=0,a=s.length;o<a;o++){var l=s[o];0==o?(t=l[0],r=l[0],n=l[1],i=l[1]):(l[0]<t&&(t=l[0]),l[0]>r&&(r=l[0]),l[1]<n&&(n=l[1]),l[1]>i&&(i=l[1]))}return e.__rect={x:t,y:n,width:r-t,height:i-n},e.__rect}getRectNoRotation(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t,n=this.refOriginalPosition,r=oo.Util_area.getTextHeight("ZH",e.textFont),i=oo.Util_area.getTextWidth(e.text,e.textFont),s=oo.Util_area.getTextHeight(e.text,e.textFont),o=e.x+n[0];"end"==e.textAlign||"right"==e.textAlign?o-=i:"center"==e.textAlign&&(o-=i/2),t="top"==e.textBaseline?e.y+n[1]:"bottom"==e.textBaseline?e.y+n[1]-s:e.y+n[1]-s/2;var a,l=!1;if(e.maxWidth){var u=parseInt(e.maxWidth);u<i&&(a=i,l=!0,i=u),o=e.x+n[0],"end"==e.textAlign||"right"==e.textAlign?o-=i:"center"==e.textAlign&&(o-=i/2)}if(e.textFont){var c=e.textFont,h=c.toLowerCase();h.indexOf("italic")>-1&&(i+=!0===l?r/3*(i/a):r/3)}var p={x:o,y:t,width:i,height:s};return p}getTextBackground(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition;if(!t&&e.__textBackground)return e.__textBackground;var r=this.getRectNoRotation(e),i=e.x+n[0],s=e.y+n[1],o=[];if(e.textRotation&&0!==e.textRotation){let t=e.textRotation,n=this.getRotatedLocation(r.x,r.y,i,s,t),a=this.getRotatedLocation(r.x+r.width,r.y,i,s,t),l=this.getRotatedLocation(r.x+r.width,r.y+r.height,i,s,t),u=this.getRotatedLocation(r.x,r.y+r.height,i,s,t);o.push(n),o.push(a),o.push(l),o.push(u)}else{let e=[r.x,r.y],t=[r.x+r.width,r.y],n=[r.x+r.width,r.y+r.height],i=[r.x,r.y+r.height];o.push(e),o.push(t),o.push(n),o.push(i)}return e.__textBackground=o,e.__textBackground}getRotatedLocation(e,t,n,r,i){var s,o,a=new Array;return t=-t,r=-r,i=-i,s=(e-n)*Math.cos(i/180*Math.PI)-(t-r)*Math.sin(i/180*Math.PI)+n,o=(e-n)*Math.sin(i/180*Math.PI)+(t-r)*Math.cos(i/180*Math.PI)+r,a[0]=s,a[1]=-o,a}}class ho extends lo{constructor(e){super(e),this.type="smiccircle",this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),this.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicCircle"}destroy(){this.type=null,super.destroy()}buildPath(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.x+n[0],i=t.y+n[1];return e.moveTo(r+t.r,i),e.arc(r,i,t.r,0,2*Math.PI,!0),!0}getRect(e){if(e.__rect)return e.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t,n=this.refOriginalPosition,r=e.x+n[0],i=e.y+n[1],s=e.r;return t="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(r-s-t/2),y:Math.round(i-s-t/2),width:2*s+t,height:2*s+t},e.__rect}}class po extends lo{constructor(e){super(e),this.type="smicpolygon",this.holePolygonPointLists=null,this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),this.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicPolygon"}destroy(){this.type=null,this.holePolygonPointLists=null,super.destroy()}brush(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.style;t&&(n=this.getHighlightStyle(n,this.highlightStyle||{})),e.save(),this.setContext(e,n),this.setTransform(e);var r=!1;"fill"!=n.brushType&&"both"!=n.brushType&&"undefined"!=typeof n.brushType||(e.beginPath(),"dashed"==n.lineType||"dotted"==n.lineType||"dot"==n.lineType||"dash"==n.lineType||"dashdot"==n.lineType||"longdash"==n.lineType||"longdashdot"==n.lineType?this.buildPath(e,{lineType:"solid",lineWidth:n.lineWidth,pointList:n.pointList}):(this.buildPath(e,n),r=!0),e.closePath(),this.setCtxGlobalAlpha(e,"fill",n),e.fill(),this.setCtxGlobalAlpha(e,"reset",n)),n.lineWidth>0&&("stroke"==n.brushType||"both"==n.brushType)&&(r||(e.beginPath(),this.buildPath(e,n)),this.setCtxGlobalAlpha(e,"stroke",n),e.stroke(),this.setCtxGlobalAlpha(e,"reset",n)),this.drawText(e,n,this.style);var i=te.cloneObject(n);if(i.pointList&&this.holePolygonPointLists&&this.holePolygonPointLists.length>0)for(var s=this.holePolygonPointLists,o=s.length,a=0;a<o;a++){var l=s[a];i.pointList=l,e.globalCompositeOperation="destination-out",r=!1,"fill"!=i.brushType&&"both"!=i.brushType&&"undefined"!=typeof i.brushType||(e.beginPath(),"dashed"==i.lineType||"dotted"==i.lineType||"dot"==i.lineType||"dash"==i.lineType||"dashdot"==i.lineType||"longdash"==i.lineType||"longdashdot"==i.lineType?this.buildPath(e,{lineType:"solid",lineWidth:i.lineWidth,pointList:i.pointList}):(this.buildPath(e,i),r=!0),e.closePath(),this.setCtxGlobalAlpha(e,"fill",i),e.fill(),this.setCtxGlobalAlpha(e,"reset",i)),i.lineWidth>0&&("stroke"==i.brushType||"both"==i.brushType)?(r||(e.beginPath(),this.buildPath(e,i)),e.globalCompositeOperation="source-over",this.setCtxGlobalAlpha(e,"stroke",i),e.stroke(),this.setCtxGlobalAlpha(e,"reset",i)):e.globalCompositeOperation="source-over"}e.restore()}buildPath(e,t){t.showShadow&&(e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY),this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.pointList;if(!(r.length<2))if(t.smooth&&"spline"!==t.smooth){var i,s,o,a=oo.SUtil_smoothBezier(r,t.smooth,!0,t.smoothConstraint,n);e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var l=r.length,u=0;u<l;u++)i=a[2*u],s=a[2*u+1],o=[r[(u+1)%l][0]+n[0],r[(u+1)%l][1]+n[1]],e.bezierCurveTo(i[0],i[1],s[0],s[1],o[0],o[1])}else if("spline"===t.smooth&&(r=oo.SUtil_smoothSpline(r,!0,null,n)),t.lineType&&"solid"!=t.lineType){if("dashed"===t.lineType||"dotted"===t.lineType||"dot"===t.lineType||"dash"===t.lineType||"longdash"===t.lineType){let i=t._dashLength||(t.lineWidth||1)*("dashed"==t.lineType?5:1);t._dashLength=i;let s=t.lineWidth||1,o=s,a=s;"dashed"===t.lineType&&(o*=5,a*=5,t.lineCap&&"butt"!==t.lineCap&&(o-=s,a+=s)),"dotted"===t.lineType&&t.lineCap&&"butt"!==t.lineCap&&(o=1,a+=s),"dot"===t.lineType&&(a*=4,t.lineCap&&"butt"!==t.lineCap&&(o=1,a+=s)),"dash"===t.lineType&&(o*=4,a*=4,t.lineCap&&"butt"!==t.lineCap&&(o-=s,a+=s)),"longdash"===t.lineType&&(o*=8,a*=4,t.lineCap&&"butt"!==t.lineCap&&(o-=s,a+=s)),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(let t=1;t<r.length;t++)oo.SUtil_dashedLineTo(e,r[t-1][0]+n[0],r[t-1][1]+n[1],r[t][0]+n[0],r[t][1]+n[1],s,[o,a]);oo.SUtil_dashedLineTo(e,r[r.length-1][0]+n[0],r[r.length-1][1]+n[1],r[0][0]+n[0],r[0][1]+n[1],s,[o,a])}else if("dashdot"===t.lineType||"longdashdot"===t.lineType){let i=t._dashLength||(t.lineWidth||1)*("dashed"==t.lineType?5:1);t._dashLength=i;let s=t.lineWidth||1,o=s,a=s,l=s,u=s;"dashdot"===t.lineType&&(o*=4,a*=4,u*=4,t.lineCap&&"butt"!==t.lineCap&&(o-=s,a+=s,l=1,u+=s)),"longdashdot"===t.lineType&&(o*=8,a*=4,u*=4,t.lineCap&&"butt"!==t.lineCap&&(o-=s,a+=s,l=1,u+=s)),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(let t=1;t<r.length;t++)oo.SUtil_dashedLineTo(e,r[t-1][0]+n[0],r[t-1][1]+n[1],r[t][0]+n[0],r[t][1]+n[1],s,[o,a,l,u]);oo.SUtil_dashedLineTo(e,r[r.length-1][0]+n[0],r[r.length-1][1]+n[1],r[0][0]+n[0],r[0][1]+n[1],s,[o,a,l,u])}}else{e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(let t=1;t<r.length;t++)e.lineTo(r[t][0]+n[0],r[t][1]+n[1]);e.lineTo(r[0][0]+n[0],r[0][1]+n[1])}}getRect(e,t){var n;if(t?n=t:(this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),n=this.refOriginalPosition),e.__rect)return e.__rect;for(var r,i=Number.MAX_VALUE,s=Number.MIN_VALUE,o=Number.MAX_VALUE,a=Number.MIN_VALUE,l=e.pointList,u=0,c=l.length;u<c;u++)l[u][0]+n[0]<i&&(i=l[u][0]+n[0]),l[u][0]+n[0]>s&&(s=l[u][0]+n[0]),l[u][1]+n[1]<o&&(o=l[u][1]+n[1]),l[u][1]+n[1]>a&&(a=l[u][1]+n[1]);return r="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(i-r/2),y:Math.round(o-r/2),width:s-i+r,height:a-o+r},e.__rect}}class fo extends lo{constructor(e){super(e),this.brushTypeOnly="stroke",this.textPosition="end",this.type="smicbroken-line",this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),this.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicBrokenLine"}destroy(){this.brushTypeOnly=null,this.textPosition=null,this.type=null,super.destroy()}buildPath(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.pointList;if(!(r.length<2)){var i=Math.min(t.pointList.length,Math.round(t.pointListLength||t.pointList.length));if(t.smooth&&"spline"!==t.smooth){var s,o,a,l=oo.SUtil_smoothBezier(r,t.smooth,!1,t.smoothConstraint,n);e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(let t=0;t<i-1;t++)s=l[2*t],o=l[2*t+1],a=[r[t+1][0]+n[0],r[t+1][1]+n[1]],e.bezierCurveTo(s[0],s[1],o[0],o[1],a[0],a[1])}else if("spline"===t.smooth&&(r=oo.SUtil_smoothSpline(r,null,null,n),i=r.length),t.lineType&&"solid"!==t.lineType){if("dashed"===t.lineType||"dotted"===t.lineType||"dot"===t.lineType||"dash"===t.lineType||"longdash"===t.lineType){let s=t.lineWidth||1,o=s,a=s;"dashed"===t.lineType&&(o*=5,a*=5,t.lineCap&&"butt"!==t.lineCap&&(o-=s,a+=s)),"dotted"===t.lineType&&t.lineCap&&"butt"!==t.lineCap&&(o=1,a+=s),"dot"===t.lineType&&(a*=4,t.lineCap&&"butt"!==t.lineCap&&(o=1,a+=s)),"dash"===t.lineType&&(o*=4,a*=4,t.lineCap&&"butt"!==t.lineCap&&(o-=s,a+=s)),"longdash"===t.lineType&&(o*=8,a*=4,t.lineCap&&"butt"!==t.lineCap&&(o-=s,a+=s)),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(var u=1;u<i;u++)oo.SUtil_dashedLineTo(e,r[u-1][0]+n[0],r[u-1][1]+n[1],r[u][0]+n[0],r[u][1]+n[1],s,[o,a])}else if("dashdot"===t.lineType||"longdashdot"===t.lineType){let s=t.lineWidth||1,o=s,a=s,l=s,u=s;"dashdot"===t.lineType&&(o*=4,a*=4,u*=4,t.lineCap&&"butt"!==t.lineCap&&(o-=s,a+=s,l=1,u+=s)),"longdashdot"===t.lineType&&(o*=8,a*=4,u*=4,t.lineCap&&"butt"!==t.lineCap&&(o-=s,a+=s,l=1,u+=s)),s=(t.lineWidth||1)*("dashed"===t.lineType?5:1),e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(let t=1;t<i;t++)oo.SUtil_dashedLineTo(e,r[t-1][0]+n[0],r[t-1][1]+n[1],r[t][0]+n[0],r[t][1]+n[1],s,[o,a,l,u])}}else{e.moveTo(r[0][0]+n[0],r[0][1]+n[1]);for(let t=1;t<i;t++)e.lineTo(r[t][0]+n[0],r[t][1]+n[1])}}}getRect(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;return po.prototype.getRect.apply(this,[e,t])}}class mo extends lo{constructor(e){super(e),this.type="smicimage",this._imageCache={},this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),this.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicImage"}destroy(){this.type=null,this._imageCache=null,super.destroy()}brush(e,t,n){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var r=this.refOriginalPosition,i=this.style||{};t&&(i=this.getHighlightStyle(i,this.highlightStyle||{}));var s=i.image,o=this;if("string"===typeof s){var a=s;this._imageCache[a]?s=this._imageCache[a]:(s=new Image,s.onload=function(){s.onload=null,clearTimeout(mo._refreshTimeout),mo._needsRefresh.push(o),mo._refreshTimeout=setTimeout((function(){n&&n(mo._needsRefresh),mo._needsRefresh=[]}),10)},s.src=a,this._imageCache[a]=s)}if(s){if("IMG"==s.nodeName.toUpperCase())if(window.ActiveXObject){if("complete"!=s.readyState)return}else if(!s.complete)return;var l=i.width||s.width,u=i.height||s.height,c=i.x+r[0],h=i.y+r[1];if(!s.width||!s.height)return;if(e.save(),this.doClip(e),this.setContext(e,i),this.setTransform(e),i.sWidth&&i.sHeight){let t=i.sx+r[0]||0,n=i.sy+r[1]||0;e.drawImage(s,t,n,i.sWidth,i.sHeight,c,h,l,u)}else if(i.sx&&i.sy){let t=i.sx+r[0],n=i.sy+r[1];var p=l-t,d=u-n;e.drawImage(s,t,n,p,d,c,h,l,u)}else e.drawImage(s,c,h,l,u);i.width||(i.width=l),i.height||(i.height=u),this.style.width||(this.style.width=l),this.style.height||(this.style.height=u),this.drawText(e,i,this.style),e.restore()}}getRect(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition;return{x:e.x+t[0],y:e.y+t[1],width:e.width,height:e.height}}clearCache(){this._imageCache={}}}mo._needsRefresh=[],mo._refreshTimeout=null;class yo extends lo{constructor(e){super(e),this.type="smicrectangle",this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),this.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicRectangle"}destroy(){this.type=null,super.destroy()}_buildRadiusPath(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n,r,i,s,o,a=this.refOriginalPosition,l=t.x+a[0],u=t.y+a[1],c=t.width,h=t.height,p=t.radius;"number"===typeof p?n=r=i=s=p:p instanceof Array?1===p.length?n=r=i=s=p[0]:2===p.length?(n=i=p[0],r=s=p[1]):3===p.length?(n=p[0],r=s=p[1],i=p[2]):(n=p[0],r=p[1],i=p[2],s=p[3]):n=r=i=s=0,n+r>c&&(o=n+r,n*=c/o,r*=c/o),i+s>c&&(o=i+s,i*=c/o,s*=c/o),r+i>h&&(o=r+i,r*=h/o,i*=h/o),n+s>h&&(o=n+s,n*=h/o,s*=h/o),e.moveTo(l+n,u),e.lineTo(l+c-r,u),0!==r&&e.quadraticCurveTo(l+c,u,l+c,u+r),e.lineTo(l+c,u+h-i),0!==i&&e.quadraticCurveTo(l+c,u+h,l+c-i,u+h),e.lineTo(l+s,u+h),0!==s&&e.quadraticCurveTo(l,u+h,l,u+h-s),e.lineTo(l,u+n),0!==n&&e.quadraticCurveTo(l,u,l+n,u)}buildPath(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition;t.radius?this._buildRadiusPath(e,t):(e.moveTo(t.x+n[0],t.y+n[1]),e.lineTo(t.x+n[0]+t.width,t.y+n[1]),e.lineTo(t.x+n[0]+t.width,t.y+n[1]+t.height),e.lineTo(t.x+n[0],t.y+n[1]+t.height),e.lineTo(t.x+n[0],t.y+n[1])),e.closePath()}getRect(e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t,n=this.refOriginalPosition;return e.__rect||(t="stroke"==e.brushType||"fill"==e.brushType?e.lineWidth||1:0,e.__rect={x:Math.round(e.x+n[0]-t/2),y:Math.round(e.y+n[1]-t/2),width:e.width+t,height:e.height+t}),e.__rect}}class go extends lo{constructor(e){super(e),this.type="smicsector",this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),this.CLASS_NAME="SuperMap.LevelRenderer.Shape.SmicSector"}destroy(){this.type=null,super.destroy()}buildPath(e,t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,r=t.x+n[0],i=t.y+n[1],s=t.r0||0,o=t.r,a=t.startAngle,l=t.endAngle,u=t.clockWise||!1;a=oo.Util_math.degreeToRadian(a),l=oo.Util_math.degreeToRadian(l),u||(a=-a,l=-l);var c=oo.Util_math.cos(a),h=oo.Util_math.sin(a);e.moveTo(c*s+r,h*s+i),e.lineTo(c*o+r,h*o+i),e.arc(r,i,o,a,l,!u),e.lineTo(oo.Util_math.cos(l)*s+r,oo.Util_math.sin(l)*s+i),0!==s&&e.arc(r,i,s,l,a,u),e.closePath()}getRect(e){if(e.__rect)return e.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var t=this.refOriginalPosition,n=oo.Util_vector.create(),r=oo.Util_vector.create(),i=oo.Util_vector.create(),s=oo.Util_vector.create(),o=e.x+t[0],a=e.y+t[1],l=e.r0||0,u=e.r,c=oo.Util_math.degreeToRadian(e.startAngle),h=oo.Util_math.degreeToRadian(e.endAngle),p=e.clockWise;return p||(c=-c,h=-h),l>1?oo.Util_computeBoundingBox.arc(o,a,l,c,h,!p,n,i):(n[0]=i[0]=o,n[1]=i[1]=a),oo.Util_computeBoundingBox.arc(o,a,u,c,h,!p,r,s),oo.Util_vector.min(n,n,r),oo.Util_vector.max(i,i,s),e.__rect={x:n[0],y:n[1],width:i[0]-n[0],height:i[1]-n[1]},e.__rect}}class _o{constructor(e){this.shapeParameters=e,this.CLASS_NAME="SuperMap.Feature.ShapeFactory"}destroy(){this.shapeParameters=null}createShape(e){if(e&&(this.shapeParameters=e),!this.shapeParameters)return null;var t=this.shapeParameters;if(t instanceof zs){let e=new Object;e["x"]=t.x,e["y"]=t.y,e["r"]=t.r,e=te.copyAttributesWithClip(e,t.style,["x","y"]);let n=new uo;return n.style=_o.transformStyle(e),n.highlightStyle=_o.transformStyle(t.highlightStyle),te.copyAttributesWithClip(n,t,["x","y","style","highlightStyle"]),n}if(t instanceof Us){if(!t.pointList)return null;let e=new Object;e["pointList"]=t.pointList,e=te.copyAttributesWithClip(e,t.style,["pointList"]);let n=new fo;return n.style=_o.transformStyle(e),n.highlightStyle=_o.transformStyle(t.highlightStyle),te.copyAttributesWithClip(n,t,["pointList","style","highlightStyle"]),n}if(t instanceof Gs){if(!t.pointList)return null;let e=new Object;e["pointList"]=t.pointList,e=te.copyAttributesWithClip(e,t.style,["pointList"]);let n=new po;return n.style=_o.transformStyle(e),n.highlightStyle=_o.transformStyle(t.highlightStyle),te.copyAttributesWithClip(n,t,["pointList","style","highlightStyle"]),n}if(t instanceof js){if(!t.x&&!t.y&!t.width&!t.height)return null;let e=new Object;e["x"]=t.x,e["y"]=t.y,e["width"]=t.width,e["height"]=t.height,e=te.copyAttributesWithClip(e,t.style,["x","y","width","height"]);let n=new yo;return n.style=_o.transformStyle(e),n.highlightStyle=_o.transformStyle(t.highlightStyle),te.copyAttributesWithClip(n,t,["x","y","width","height","style","highlightStyle"]),n}if(t instanceof Vs){let e=new Object;e["x"]=t.x,e["y"]=t.y,e["r"]=t.r,e["startAngle"]=t.startAngle,e["endAngle"]=t.endAngle,t["r0"]&&(e["r0"]=t.r0),t["clockWise"]&&(e["clockWise"]=t.clockWise),e=te.copyAttributesWithClip(e,t.style,["x","y","r","startAngle","endAngle","r0","endAngle"]);let n=new go;return n.style=_o.transformStyle(e),n.highlightStyle=_o.transformStyle(t.highlightStyle),te.copyAttributesWithClip(n,t,["x","y","r","startAngle","endAngle","r0","endAngle","style","highlightStyle"]),n}if(t instanceof Ws){let e=new Object;e["x"]=t.x,e["y"]=t.y,e["text"]=t.text,e=te.copyAttributesWithClip(e,t.style,["x","y","text"]);let n=new co;return n.style=_o.transformStyle(e),n.highlightStyle=_o.transformStyle(t.highlightStyle),te.copyAttributesWithClip(n,t,["x","y","text","style","highlightStyle"]),n}if(t instanceof Hs){let e=new Object;e["x"]=t.x,e["y"]=t.y,t["image"]&&(e["image"]=t.image),t["width"]&&(e["width"]=t.width),t["height"]&&(e["height"]=t.height),t["sx"]&&(e["sx"]=t.sx),t["sy"]&&(e["sy"]=t.sy),t["sWidth"]&&(e["sWidth"]=t.sWidth),t["sHeight"]&&(e["sHeight"]=t.sHeight),e=te.copyAttributesWithClip(e,t.style,["x","y","image","width","height","sx","sy","sWidth","sHeight"]);let n=new mo;return n.style=_o.transformStyle(e),n.highlightStyle=_o.transformStyle(t.highlightStyle),te.copyAttributesWithClip(n,t,["x","y","image","width","height","style","highlightStyle"]),n}if(t instanceof Js){let e=new Object;e["x"]=t.x,e["r"]=t.r,e["y"]=t.y,e=te.copyAttributesWithClip(e,t.style,["x","y","r"]);let n=new ho;return n.style=_o.transformStyle(e),n.highlightStyle=_o.transformStyle(t.highlightStyle),te.copyAttributesWithClip(n,t,["x","y","r","style","highlightStyle","lineWidth","text","textPosition"]),n}return null}static transformStyle(e){var t={},n=["normal","normal","normal","12","arial,sans-serif"],r=[!0,!1];for(var i in e)switch(i){case"fill":r[0]=e[i];break;case"fillColor":t["color"]=e[i];break;case"stroke":r[1]=e[i];break;case"strokeWidth":t["lineWidth"]=e[i];break;case"strokeLinecap":t["lineCap"]=e[i];break;case"strokeLineJoin":t["lineJoin"]=e[i];break;case"strokeDashstyle":t["lineType"]=e[i];break;case"pointRadius":t["r"]=e[i];break;case"label":t["text"]=e[i];break;case"labelRect":t["labelRect"]=e[i];break;case"fontColor":t["textColor"]=e[i];break;case"fontStyle":n[0]=e[i];break;case"fontVariant":n[1]=e[i];break;case"fontWeight":n[2]=e[i];break;case"fontSize":var s="";e[i]&&e[i].toString().indexOf("px")<0&&(s="px"),n[3]=e[i]+s;break;case"fontFamily":n[4]=e[i];break;case"fontOpacity":t["opacity"]=e[i];break;case"labelPosition":t["textPosition"]=e[i];break;case"labelAlign":t["textAlign"]=e[i];break;case"labelBaseline":t["textBaseline"]=e[i];break;case"labelRotation":t["textRotation"]=e[i];break;default:t[i]=e[i];break}return t["textFont"]=n.join(" "),!0===r[0]&&!1===r[1]?t["brushType"]="fill":!1===r[0]&&!0===r[1]?t["brushType"]="stroke":!0===r[0]&&!0===r[1]?t["brushType"]="both":t["brushType"]="fill",null==t["lineWidth"]&&(t["lineWidth"]=1),t}static Background(e,t,n){var r=n||{},i=new js(t[0],t[3],Math.abs(t[2]-t[0]),Math.abs(t[3]-t[1]));return i.style={fillColor:"#f3f3f3"},r.backgroundStyle&&te.copyAttributesWithClip(i.style,r.backgroundStyle),r.backgroundRadius&&(i.style["radius"]=r.backgroundRadius),i.clickable=!1,i.hoverable=!1,e.createShape(i)}static GraphAxis(e,t,n,r){var i=t,s=n||{},o=[],a=[],l=!!s.useXReferenceLine&&s.useXReferenceLine,u=s.axisYTick&&!isNaN(s.axisYTick)?s.axisYTick:0,c=[],h=[],p=[];if(0==u){if(p.push([i[0],i[3]-5]),p.push([i[0],i[1]]),s.axis3DParameter&&!isNaN(s.axis3DParameter)&&s.axis3DParameter>=15){let e=parseInt(s.axis3DParameter),t=[i[0]-e,i[1]+e];s.axisUseArrow?(h.push([t[0]+1.5,t[1]-7.5]),h.push([t[0]-1,t[1]+1]),h.push([t[0]+7.5,t[1]-1.5]),p.push([t[0],t[1]])):p.push([t[0],t[1]]),p.push([i[0],i[1]])}p.push([i[2]+5,i[1]])}else{var d=Math.abs(i[1]-i[3])/u,f=i[3];p.push([i[0],f-5]);for(var m=0;m<u;m++){if(p.push([i[0],f]),p.push([i[0]-5,f]),p.push([i[0],f]),l){var y=new Us([[i[0],f],[i[2],f]]);y.style={strokeColor:"#cfcfcf",strokeLinecap:"butt",strokeLineJoin:"round",strokeWidth:1},y.clickable=!1,y.hoverable=!1,s.xReferenceLineStyle&&te.copyAttributesWithClip(y.style,s.xReferenceLineStyle),o.push(e.createShape(y))}f+=d}if(p.push([i[0],i[1]]),s.axis3DParameter&&!isNaN(s.axis3DParameter)&&s.axis3DParameter>=15){let e=parseInt(s.axis3DParameter),t=[i[0]-e,i[1]+e];s.axisUseArrow?(h.push([t[0]+1.5,t[1]-7.5]),h.push([t[0]-1,t[1]+1]),h.push([t[0]+7.5,t[1]-1.5]),p.push([t[0],t[1]])):p.push([t[0],t[1]]),p.push([i[0],i[1]])}p.push([i[2]+5,i[1]])}if(s.axisUseArrow){var g=[[i[2]+5,i[1]+4],[i[2]+13,i[1]],[i[2]+5,i[1]-4]],_=[[i[0]-4,i[3]-5],[i[0],i[3]-13],[i[0]+4,i[3]-5]],v=new Gs(g);v.style={fillColor:"#008acd"},te.copyAttributesWithClip(v.style,s.axisStyle),a.push(e.createShape(v));var b=new Gs(_);if(b.style={fillColor:"#008acd"},te.copyAttributesWithClip(b.style,s.axisStyle),a.push(e.createShape(b)),s.axis3DParameter&&!isNaN(s.axis3DParameter)&&s.axis3DParameter>=15){var x=new Gs(h);x.style={fillColor:"#008acd"},te.copyAttributesWithClip(x.style,s.axisStyle),a.push(e.createShape(x))}}c=p;var w=new Us(c);w.style={strokeLinecap:"butt",strokeLineJoin:"round",strokeColor:"#008acd",strokeWidth:1},s.axisStyle&&te.copyAttributesWithClip(w.style,s.axisStyle),w.clickable=!1,w.hoverable=!1;var S=[e.createShape(w)],C=[];if(s.axisYLabels&&s.axisYLabels.length&&s.axisYLabels.length>0){var E=s.axisYLabels;let t=E.length;var T=[0,0];if(s.axisYLabelsOffset&&s.axisYLabelsOffset.length&&(T=s.axisYLabelsOffset),1==t){let t=new Ws(i[0]-5+T[0],i[3]+T[1],E[0]);t.style={labelAlign:"right"},s.axisYLabelsStyle&&te.copyAttributesWithClip(t.style,s.axisYLabelsStyle),t.clickable=!1,t.hoverable=!1,C.push(e.createShape(t))}else for(var A=i[3],P=Math.abs(i[1]-i[3])/(t-1),I=0;I<t;I++){let t=new Ws(i[0]-5+T[0],A+T[1],E[I]);t.style={labelAlign:"right"},s.axisYLabelsStyle&&te.copyAttributesWithClip(t.style,s.axisYLabelsStyle),t.clickable=!1,t.hoverable=!1,C.push(e.createShape(t)),A+=P}}var L=[];if(s.axisXLabels&&s.axisXLabels.length&&s.axisXLabels.length>0){let t=s.axisXLabels,n=t.length,o=[0,0];if(s.axisXLabelsOffset&&s.axisXLabelsOffset.length&&(o=s.axisXLabelsOffset),r&&r.xPositions&&r.xPositions.length&&r.xPositions.length==n){let a=r.xPositions;for(let r=0;r<n;r++){let n=new Ws(a[r]+o[0],i[1]+o[1],t[r]);n.style={labelAlign:"center",labelBaseline:"top"},s.axisXLabelsStyle&&te.copyAttributesWithClip(n.style,s.axisXLabelsStyle),n.clickable=!1,n.hoverable=!1,L.push(e.createShape(n))}}else if(1==n){let n=new Ws(i[0]-5+o[0],i[1]+o[0],t[0]);n.style={labelAlign:"center",labelBaseline:"top"},s.axisXLabelsStyle&&te.copyAttributesWithClip(n.style,s.axisXLabelsStyle),n.clickable=!1,n.hoverable=!1,L.push(e.createShape(n))}else{let r=i[0],a=Math.abs(i[2]-i[0])/(n-1);for(let l=0;l<n;l++){let n=new Ws(r+o[0],i[1]+o[1],t[l]);n.style={labelAlign:"center",labelBaseline:"top"},s.axisXLabelsStyle&&te.copyAttributesWithClip(n.style,s.axisXLabelsStyle),n.clickable=!1,n.hoverable=!1,L.push(e.createShape(n)),r+=a}}}return o.concat(S).concat(C).concat(L).concat(a)}static ShapeStyleTool(e,t,n,r,i,s){var o=e||{};if(t&&te.copyAttributesWithClip(o,t),n&&n.length&&"undefined"!==typeof i&&!isNaN(i)&&i>=0&&n[i]&&te.copyAttributesWithClip(o,n[i]),r&&r.length&&"undefined"!==typeof s)for(var a=r,l=a.length,u=parseFloat(s),c=0;c<l;c++)if(a[c].start<=u&&u<a[c].end){te.copyAttributesWithClip(o,a[c].style);break}return o}}u.Feature=u.Feature||{},u.Feature.ShapeFactory=_o;class vo{constructor(e,t){e&&t&&t.map&&t.renderer&&(this.id=te.createUniqueID(this.CLASS_NAME+"_"),this.lonlat=null,this.location=[],this.data=e,this.shapes=[],this.layer=t,this.CLASS_NAME="SuperMap.Feature.Theme")}destroy(){this.data=null,this.id=null,this.lonlat=null,this.location=null,this.shapes=null,this.layer=null}getLocalXY(e){var t=this.layer.map.getResolution(),n=this.layer.map.getExtent();if(e instanceof le||e instanceof ce){let r=e.x/t+-n.left/t,i=n.top/t-e.y/t;return[r,i]}if(e instanceof ne){let r=e.lon/t+-n.left/t,i=n.top/t-e.lat/t;return[r,i]}return null}}u.Feature=u.Feature||{},u.Feature.Theme=vo;class bo extends vo{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s),this.shapeFactory=new _o,this.shapeParameters=null,this.RelativeCoordinate=!1,this.setting=null,this.origonPoint=null,this.chartBox=null,this.chartBounds=null,this.width=null,this.height=null,this.XOffset=0,this.YOffset=0,this.DVBParameter=null,this.dataViewBox=null,this.DVBCodomain=null,this.DVBCenterPoint=null,this.DVBUnitValue=null,this.DVBOrigonPoint=null,this.DVBWidth=null,this.DVBHeight=null,this.origonPointOffset=null,this.fields=n||[],this.dataValues=null,this.lonlat=i||this.data.geometry.getBounds().getCenterLonLat(),r&&r.width&&r.height&&r.codomain&&(this.setting=r),this.CLASS_NAME="SuperMap.Feature.Theme.Graph"}destroy(){this.shapeFactory=null,this.shapeParameters=null,this.width=null,this.height=null,this.origonPoint=null,this.chartBox=null,this.dataViewBox=null,this.chartBounds=null,this.DVBParameter=null,this.DVBOrigonPoint=null,this.DVBCenterPoint=null,this.DVBWidth=null,this.DVBHeight=null,this.DVBCodomain=null,this.DVBUnitValue=null,this.origonPointOffset=null,this.XOffset=null,this.YOffset=null,this.fields=null,this.dataValues=null,this.setting=null,super.destroy()}initBaseParameter(){var e=!0;if(!this.setting)return!1;var t=this.setting;if(!(t.width&&t.height&&t.codomain))return!1;var n="undefined"===typeof t.decimalNumber||isNaN(t.decimalNumber)?-1:t.decimalNumber,r=vo.getDataValues(this.data,this.fields,n);this.dataValues=r||[],this.width=parseFloat(t.width),this.height=parseFloat(t.height),this.DVBCodomain=t.codomain,this.XOffset=t.XOffset?t.XOffset:0,this.YOffset=t.YOffset?t.YOffset:0,this.origonPoint=[],this.chartBox=[],this.dataViewBox=[],this.DVBParameter=t.dataViewBoxParameter?t.dataViewBoxParameter:[0,0,0,0],this.DVBOrigonPoint=[],this.DVBCenterPoint=[],this.origonPointOffset=[],this.resetLocation();var i=this.width,s=this.height,o=this.location;this.origonPoint=[o[0]-i/2,o[1]-s/2];var a=this.origonPoint;this.chartBox=[a[0],a[1]+s,a[0]+i,a[1]];var l=this.chartBox,u=this.DVBParameter;this.dataViewBox=[l[0]+u[0],l[1]-u[1],l[2]-u[2],l[3]+u[3]];var c=this.dataViewBox;return!(c[0]>=c[2]||c[1]<=c[3])&&(this.DVBOrigonPoint=[c[0],c[3]],this.DVBWidth=Math.abs(c[2]-c[0]),this.DVBHeight=Math.abs(c[1]-c[3]),this.DVBCenterPoint=[this.DVBOrigonPoint[0]+this.DVBWidth/2,this.DVBOrigonPoint[1]+this.DVBHeight/2],this.origonPointOffset=[this.DVBOrigonPoint[0]-a[0],this.DVBOrigonPoint[1]-a[1]],e)}resetLocation(e){e&&(this.lonlat=e);var t=this.getLocalXY(this.lonlat);t[0]+=this.XOffset,t[1]+=this.YOffset,this.location=t;var n=this.width,r=this.height,i=this.location;return this.chartBounds=new re(i[0]-n/2,i[1]+r/2,i[0]+n/2,i[1]-r/2),this.resetLinearGradient(),i}resetLinearGradient(){}shapesConvertToRelativeCoordinate(){for(var e=this.shapes,t=this.location,n=0,r=e.length;n<r;n++){e[n].refOriginalPosition=t;var i=e[n].style;for(var s in i)switch(s){case"pointList":for(var o=i[s],a=0,l=o.length;a<l;a++)o[a][0]-=t[0],o[a][1]-=t[1];break;case"x":i[s]-=t[0];break;case"y":i[s]-=t[1];break;default:break}}this.RelativeCoordinate=!0}assembleShapes(){}getLocalXY(e){return this.layer.getLocalXY(e)}}vo.getDataValues=function(e,t,n){if(!e.attributes)return!1;for(var r=[],i=e.attributes,s=0;s<t.length;s++)for(var o in i)if(o===t[s])try{!isNaN(n)&&n>=0?r.push(parseFloat(i[o].toString()).toFixed(n)):r.push(parseFloat(i[o].toString()))}catch(a){throw new Error("not a number")}return r.length===t.length&&r},u.Feature.Theme.Graph=bo;class xo extends bo{constructor(e,t,n,r,i){super(e,t,n,r,i),this.CLASS_NAME="SuperMap.Feature.Theme.Bar"}destroy(){super.destroy()}assembleShapes(){var e=[["#00FF00","#00CD00"],["#00CCFF","#5E87A2"],["#00FF66","#669985"],["#CCFF00","#94A25E"],["#FF9900","#A2945E"]],t={showShadow:!0,shadowBlur:8,shadowColor:"rgba(100,100,100,0.8)",shadowOffsetX:2,shadowOffsetY:2},n=this.setting;if(n.barLinearGradient||(n.barLinearGradient=e),n.dataViewBoxParameter||("undefined"===typeof n.useAxis||n.useAxis?n.dataViewBoxParameter=[45,15,15,15]:n.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var r=this.DVBCodomain;this.DVBUnitValue=(r[1]-r[0])/this.DVBHeight;var i=this.dataViewBox,s=this.dataValues;if(!(s.length<1)){for(let e=0,t=s.length;e<t;e++)if(s[e]<r[0]||s[e]>r[1])return;var o=this.calculateXShapeInfo();if(o){var a=o.xPositions,l=o.width;("undefined"===typeof n.useBackground||n.useBackground)&&this.shapes.push(_o.Background(this.shapeFactory,this.chartBox,n)),("undefined"===typeof n.useAxis||n.useAxis)&&(this.shapes=this.shapes.concat(_o.GraphAxis(this.shapeFactory,i,n,o)));for(var u=0;u<s.length;u++){var c=i[1]-(s[u]-r[0])/this.DVBUnitValue,h=[[a[u]-l/2,i[1]-1],[a[u]+l/2,i[1]-1],[a[u]+l/2,c],[a[u]-l/2,c]],p=new Gs(h);if("undefined"===typeof n.showShadow||n.showShadow){if(n.barShadowStyle){var d=n.barShadowStyle;d.shadowBlur&&(t.shadowBlur=d.shadowBlur),d.shadowColor&&(t.shadowColor=d.shadowColor),d.shadowOffsetX&&(t.shadowOffsetX=d.shadowOffsetX),d.shadowOffsetY&&(t.shadowOffsetY=d.shadowOffsetY)}p.style={},te.copyAttributesWithClip(p.style,t)}p.refDataID=this.data.id,p.dataInfo={field:this.fields[u],value:s[u]},"undefined"!==typeof n.barHoverAble&&(p.hoverable=n.barHoverAble),"undefined"!==typeof n.barClickAble&&(p.clickable=n.barClickAble),this.shapes.push(this.shapeFactory.createShape(p))}this.shapesConvertToRelativeCoordinate()}}}}calculateXShapeInfo(){var e,t=this.dataViewBox,n=this.setting,r=this.dataValues.length;if(r<1)return null;var i=[],s=0,o=this.DVBWidth;if(n.xShapeBlank&&n.xShapeBlank.length&&3==n.xShapeBlank.length){e=n.xShapeBlank;var a=o-(e[0]+e[2]+(r-1)*e[1]);if(a<=r)return null;s=a/r}else s=o/(2*r+1),e=[s,s,s];for(var l=0,u=0;u<r;u++)0==u?l=e[0]+s/2:l+=s+e[1],i.push(t[0]+l);return{xPositions:i,width:s}}resetLinearGradient(){if(this.RelativeCoordinate)for(var e=this.shapes.length,t=this.setting.barLinearGradient,n=-1,r=0;r<e;r++){var i=this.shapes[r];if("SuperMap.LevelRenderer.Shape.SmicPolygon"===i.CLASS_NAME){var s=i.style,o=this.location[0]+s.pointList[0][0],a=this.location[0]+s.pointList[1][0];n++,n>=t.length&&(n%=t.length);var l=t[n][0],u=t[n][1],c=new Ls,h=c.getLinearGradient(o,0,a,0,[[0,l],[1,u]]);i.style.color=h}}}}u.Feature.Theme.Bar=xo;class wo extends bo{constructor(e,t,n,r,i){super(e,t,n,r,i),this.CLASS_NAME="SuperMap.Feature.Theme.Bar3D"}destroy(){super.destroy()}assembleShapes(){var e=this.setting;if(e.dataViewBoxParameter||("undefined"===typeof e.useAxis||e.useAxis?e.dataViewBoxParameter=[45,25,20,20]:e.dataViewBoxParameter=[5,5,5,5]),e.axisUseArrow="undefined"===typeof e.axisUseArrow||e.axisUseArrow,e.axisXLabelsOffset="undefined"!==typeof e.axisXLabelsOffset?e.axisXLabelsOffset:[-10,10],this.initBaseParameter()){var t=this.DVBCodomain;this.DVBUnitValue=(t[1]-t[0])/this.DVBHeight;var n=this.dataViewBox,r=this.dataValues;if(!(r.length<1)){for(let e=0,n=r.length;e<n;e++)if(r[e]<t[0]||r[e]>t[1])return;var i=this.calculateXShapeInfo();if(i){var s=i.xPositions,o=i.width;("undefined"===typeof e.useBackground||e.useBackground)&&this.shapes.push(_o.Background(this.shapeFactory,this.chartBox,e)),(!e.axis3DParameter||isNaN(e.axis3DParameter)||e.axis3DParameter<15)&&(e.axis3DParameter=20),("undefined"===typeof e.useAxis||e.useAxis)&&(this.shapes=this.shapes.concat(_o.GraphAxis(this.shapeFactory,n,e,i)));var a=e.bar3DParameter&&!isNaN(e.bar3DParameter)?e.bar3DParameter:10;for(let i=0;i<r.length;i++){var l=n[1]-(r[i]-t[0])/this.DVBUnitValue,u=s[i]-o/2,c=s[i]+o/2,h=[[u,l],[c,l],[c-a,l+a],[u-a,l+a]],p=[[c,l],[c-a,l+a],[c-a,n[1]+a],[c,n[1]]],d=[[u-a,n[1]+a],[c-a,n[1]+a],[c-a,l+a],[u-a,l+a]];a<=0&&(d=[[u,n[1]],[c,n[1]],[c,l],[u,l]]);var f=new Gs(h),m=new Gs(p),y=new Gs(d);e.barSideStyle=e.barSideStyle?e.barSideStyle:e.barFaceStyle,e.barSideStyleByFields=e.barSideStyleByFields?e.barSideStyleByFields:e.barFaceStyleByFields,e.barSideStyleByCodomain=e.barSideStyleByCodomain?e.barSideStyleByCodomain:e.barFaceStyleByCodomain,e.barTopStyle=e.barTopStyle?e.barTopStyle:e.barFaceStyle,e.barTopStyleByFields=e.barTopStyleByFields?e.barTopStyleByFields:e.barFaceStyleByFields,e.barTopStyleByCodomain=e.barTopStyleByCodomain?e.barTopStyleByCodomain:e.barFaceStyleByCodomain,y.style=_o.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},e.barFaceStyle,e.barFaceStyleByFields,e.barFaceStyleByCodomain,i,r[i]),m.style=_o.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},e.barSideStyle,e.barSideStyleByFields,e.barSideStyleByCodomain,i,r[i]),f.style=_o.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},e.barTopStyle,e.barTopStyleByFields,e.barTopStyleByCodomain,i,r[i]),e.barSideHoverStyle=e.barSideHoverStyle?e.barSideHoverStyle:e.barFaceHoverStyle,e.barTopHoverStyle=e.barTopHoverStyle?e.barTopHoverStyle:e.barFaceHoverStyle,y.highlightStyle=_o.ShapeStyleTool({stroke:!0},e.barFaceHoverStyle),m.highlightStyle=_o.ShapeStyleTool({stroke:!0},e.barSideHoverStyle),f.highlightStyle=_o.ShapeStyleTool({stroke:!0},e.barTopHoverStyle),f.refDataID=m.refDataID=y.refDataID=this.data.id,f.isHoverByRefDataID=m.isHoverByRefDataID=y.isHoverByRefDataID=!0,f.refDataHoverGroup=m.refDataHoverGroup=y.refDataHoverGroup=te.createUniqueID("lr_shg"),f.dataInfo=m.dataInfo=y.dataInfo={field:this.fields[i],value:r[i]},"undefined"!==typeof e.barHoverAble&&(f.hoverable=m.hoverable=y.hoverable=e.barHoverAble),"undefined"!==typeof e.barClickAble&&(f.clickable=m.clickable=y.clickable=e.barClickAble),this.shapes.push(this.shapeFactory.createShape(m)),this.shapes.push(this.shapeFactory.createShape(f)),this.shapes.push(this.shapeFactory.createShape(y))}this.shapesConvertToRelativeCoordinate()}}}}calculateXShapeInfo(){var e,t=this.dataViewBox,n=this.setting,r=this.dataValues.length;if(r<1)return null;var i=[],s=0,o=this.DVBWidth;if(n.xShapeBlank&&n.xShapeBlank.length&&3==n.xShapeBlank.length){e=n.xShapeBlank;var a=o-(e[0]+e[2]+(r-1)*e[1]);if(a<=r)return null;s=a/r}else s=o/(2*r+1),e=[s,s,s];for(var l=0,u=0;u<r;u++)0==u?l=e[0]+s/2:l+=s+e[1],i.push(t[0]+l);return{xPositions:i,width:s}}}u.Feature.Theme.Bar3D=wo;class So extends bo{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s),this.setting=null,r&&r.codomain&&(this.setting=r,this.DVBCodomain=this.setting.codomain),this.CLASS_NAME="SuperMap.Feature.Theme.RankSymbol"}destroy(){this.setting=null,super.destroy()}initBaseParameter(){var e=!0;if(!this.setting)return!1;var t=this.setting;t.XOffset&&(this.XOffset=t.XOffset),t.YOffset&&(this.YOffset=t.YOffset),this.XOffset=t.XOffset?t.XOffset:0,this.YOffset=t.YOffset?t.YOffset:0,this.origonPoint=[],this.chartBox=[],this.dataViewBox=[],this.DVBParameter=t.dataViewBoxParameter?t.dataViewBoxParameter:[0,0,0,0],this.DVBOrigonPoint=[],this.DVBCenterPoint=[],this.origonPointOffset=[],this.resetLocation();var n=this.width,r=this.height,i=this.location;this.origonPoint=[i[0]-n/2,i[1]-r/2];var s=this.origonPoint;this.chartBox=[s[0],s[1]+r,s[0]+n,s[1]];var o=this.chartBox,a=this.DVBParameter;this.dataViewBox=[o[0]+a[0],o[1]-a[1],o[2]-a[2],o[3]+a[3]];var l=this.dataViewBox;return!(l[0]>=l[2]||l[1]<=l[3])&&(this.DVBOrigonPoint=[l[0],l[3]],this.DVBWidth=Math.abs(l[2]-l[0]),this.DVBHeight=Math.abs(l[1]-l[3]),this.DVBCenterPoint=[this.DVBOrigonPoint[0]+this.DVBWidth/2,this.DVBOrigonPoint[1]+this.DVBHeight/2],this.origonPointOffset=[this.DVBOrigonPoint[0]-s[0],this.DVBOrigonPoint[1]-s[1]],e)}}u.Feature.Theme.RankSymbol=So;class Co extends So{constructor(e,t,n,r,i){super(e,t,n,r,i),this.CLASS_NAME="SuperMap.Feature.Theme.Circle"}destroy(){super.destroy()}assembleShapes(){var e="#ff9277";if(!this.setting)return!1;var t=this.setting;if(!t.codomain)return!1;var n="undefined"===typeof t.decimalNumber||isNaN(t.decimalNumber)?-1:t.decimalNumber,r=vo.getDataValues(this.data,this.fields,n);this.dataValues=r||[];var i=this.dataValues;t.maxR||(t.maxR=100),t.minR||(t.minR=0);var s=this.DVBCodomain;s&&s[1]-s[0]>0?this.DVBUnitValue=t.maxR/(s[1]-s[0]):this.DVBUnitValue=t.maxR;var o=this.DVBUnitValue,a=i[0]*o+t.minR;if(this.width=2*a,this.height=2*a,this.initBaseParameter()&&(!s||!(i[0]<s[0]||i[0]>s[1]))){var l=this.DVBCenterPoint,u=new Js(l[0],l[1],a);u.style=_o.ShapeStyleTool(null,t.circleStyle,null,null,0),"undefined"!==typeof t.fillColor?u.style.fillColor=t.fillColor:u.style.fillColor=e,u.highlightStyle=_o.ShapeStyleTool(null,t.circleHoverStyle),"undefined"!==typeof t.circleHoverAble&&(u.hoverable=t.circleHoverAble),"undefined"!==typeof t.circleClickAble&&(u.clickable=t.circleClickAble),u.refDataID=this.data.id,u.dataInfo={field:this.fields[0],r:a,value:i[0]},this.shapes.push(this.shapeFactory.createShape(u)),this.shapesConvertToRelativeCoordinate()}}}u.Feature.Theme.Circle=Co;class Eo extends bo{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s),this.CLASS_NAME="SuperMap.Feature.Theme.Line"}destroy(){super.destroy()}assembleShapes(){var e=this.setting;if(e.dataViewBoxParameter||("undefined"===typeof e.useAxis||e.useAxis?e.dataViewBoxParameter=[45,15,15,15]:e.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var t=this.dataViewBox,n=this.DVBCodomain;this.DVBUnitValue=(n[1]-n[0])/this.DVBHeight;var r=this.DVBUnitValue,i=this.dataValues;if(!(i.length<1)){var s=this.calculateXShapeInfo();if(s){var o,a,l=s.xPositions;("undefined"===typeof e.useBackground||e.useBackground)&&this.shapes.push(_o.Background(this.shapeFactory,this.chartBox,e)),this.shapes=this.shapes.concat(_o.GraphAxis(this.shapeFactory,t,e,s));for(var u=[],c=[],h=0,p=i.length;h<p;h++){if(i[h]<n[0]||i[h]>n[1])return null;o=l[h],a=t[1]-(i[h]-n[0])/r;var d=new zs(o,a);d.style=_o.ShapeStyleTool({fillColor:"#ee9900"},e.pointStyle,e.pointStyleByFields,e.pointStyleByCodomain,h,i[h]),d.highlightStyle=_o.ShapeStyleTool(null,e.pointHoverStyle),"undefined"!==typeof e.pointHoverAble&&(d.hoverable=e.pointHoverAble),"undefined"!==typeof e.pointClickAble&&(d.clickable=e.pointClickAble),d.refDataID=this.data.id,d.dataInfo={field:this.fields[h],value:i[h]},c.push(this.shapeFactory.createShape(d));var f=[o,a];u.push(f)}var m=new Us(u);m.style=_o.ShapeStyleTool({strokeColor:"#ee9900"},e.lineStyle),m.clickable=!1,m.hoverable=!1;var y=this.shapeFactory.createShape(m);this.shapes.push(y),this.shapes=this.shapes.concat(c),this.shapesConvertToRelativeCoordinate()}}}}calculateXShapeInfo(){var e,t=this.dataViewBox,n=this.setting,r=this.dataValues.length;if(r<1)return null;var i=[],s=0,o=this.DVBWidth,a=0;if(n.xShapeBlank&&n.xShapeBlank.length&&2==n.xShapeBlank.length){e=n.xShapeBlank;var l=o-(e[0]+e[1]);if(l<=r)return null;a=l/(r-1)}else a=o/(r+1),e=[a,a,a];for(var u=0,c=0;c<r;c++)0==c?u=e[0]:u+=a,i.push(t[0]+u);return{xPositions:i,width:s}}}u.Feature.Theme.Line=Eo;class To extends bo{constructor(e,t,n,r,i){super(e,t,n,r,i),this.CLASS_NAME="SuperMap.Feature.Theme.Pie"}destroy(){super.destroy()}assembleShapes(){var e=this.setting,t=[{fillColor:"#ff9277"},{fillColor:"#dddd00"},{fillColor:"#ffc877"},{fillColor:"#bbe3ff"},{fillColor:"#d5ffbb"},{fillColor:"#bbbbff"},{fillColor:"#ddb000"},{fillColor:"#b0dd00"},{fillColor:"#e2bbff"},{fillColor:"#ffbbe3"},{fillColor:"#ff7777"},{fillColor:"#ff9900"},{fillColor:"#83dd00"},{fillColor:"#77e3ff"},{fillColor:"#778fff"},{fillColor:"#c877ff"},{fillColor:"#ff77ab"},{fillColor:"#ff6600"},{fillColor:"#aa8800"},{fillColor:"#77c7ff"},{fillColor:"#ad77ff"},{fillColor:"#ff77ff"},{fillColor:"#dd0083"},{fillColor:"#777700"},{fillColor:"#00aa00"},{fillColor:"#0088aa"},{fillColor:"#8400dd"},{fillColor:"#aa0088"},{fillColor:"#dd0000"},{fillColor:"#772e00"}];if(this.initBaseParameter()){e.useBackground&&this.shapes.push(_o.Background(this.shapeFactory,this.chartBox,e));var n=this.dataValues;if(!(n.length<1)){var r=this.DVBCodomain;for(let e=0;e<n.length;e++)if(n[e]<r[0]||n[e]>r[1])return;var i=0;for(let e=0;e<n.length;e++)i+=Math.abs(n[e]);this.DVBUnitValue=360/i;for(var s=this.DVBUnitValue,o=this.DVBCenterPoint,a=0,l=0,u=a,c=this.DVBHeight<this.DVBWidth?this.DVBHeight/2:this.DVBWidth/2,h=0;h<n.length;h++){var p=Math.abs(n[h]);l=0===h?a+p*s:h===p.length-1?u:a+p*s,l-a>=360&&(l=359.9999999);var d=new Vs(o[0],o[1],c,a,l);if("undefined"===typeof e.sectorStyleByFields){var f=h%t.length;d.style=_o.ShapeStyleTool(null,e.sectorStyle,t,null,f)}else d.style=_o.ShapeStyleTool(null,e.sectorStyle,e.sectorStyleByFields,e.sectorStyleByCodomain,h,n[h]);d.highlightStyle=_o.ShapeStyleTool(null,e.sectorHoverStyle),"undefined"!==typeof e.sectorHoverAble&&(d.hoverable=e.sectorHoverAble),"undefined"!==typeof e.sectorClickAble&&(d.clickable=e.sectorClickAble),d.refDataID=this.data.id,d.dataInfo={field:this.fields[h],value:n[h]},this.shapes.push(this.shapeFactory.createShape(d)),a=l}this.shapesConvertToRelativeCoordinate()}}}}u.Feature.Theme.Pie=To;class Ao extends bo{constructor(e,t,n,r,i,s){super(e,t,n,r,i,s),this.CLASS_NAME="SuperMap.Feature.Theme.Point"}destroy(){super.destroy()}assembleShapes(){var e=this.setting;if(e.dataViewBoxParameter||("undefined"===typeof e.useAxis||e.useAxis?e.dataViewBoxParameter=[45,15,15,15]:e.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var t=this.dataViewBox,n=this.DVBCodomain;this.DVBUnitValue=(n[1]-n[0])/this.DVBHeight;var r=this.DVBUnitValue,i=this.dataValues,s=this.calculateXShapeInfo();if(s){var o,a,l=s.xPositions;("undefined"===typeof e.useBackground||e.useBackground)&&this.shapes.push(_o.Background(this.shapeFactory,this.chartBox,e)),this.shapes=this.shapes.concat(_o.GraphAxis(this.shapeFactory,t,e,s));for(var u=0,c=i.length;u<c;u++){if(i[u]<n[0]||i[u]>n[1])return null;o=l[u],a=t[1]-(i[u]-n[0])/r;var h=new zs(o,a);h.style=_o.ShapeStyleTool({fillColor:"#ee9900"},e.pointStyle,e.pointStyleByFields,e.pointStyleByCodomain,u,i[u]),h.highlightStyle=_o.ShapeStyleTool(null,e.pointHoverStyle),"undefined"!==typeof e.pointHoverAble&&(h.hoverable=e.pointHoverAble),"undefined"!==typeof e.pointClickAble&&(h.clickable=e.pointClickAble),h.refDataID=this.data.id,h.dataInfo={field:this.fields[u],value:i[u]},this.shapes.push(this.shapeFactory.createShape(h))}this.shapesConvertToRelativeCoordinate()}}}calculateXShapeInfo(){var e,t=this.dataViewBox,n=this.setting,r=this.dataValues.length;if(r<1)return null;var i=[],s=0,o=this.DVBWidth,a=0;if(n.xShapeBlank&&n.xShapeBlank.length&&2==n.xShapeBlank.length){e=n.xShapeBlank;var l=o-(e[0]+e[1]);if(l<=r)return null;a=l/(r-1)}else a=o/(r+1),e=[a,a,a];for(var u=0,c=0;c<r;c++)0==c?u=e[0]:u+=a,i.push(t[0]+u);return{xPositions:i,width:s}}}u.Feature.Theme.Point=Ao;class Po extends bo{constructor(e,t,n,r,i){super(e,t,n,r,i),this.CLASS_NAME="SuperMap.Feature.Theme.Ring"}destroy(){super.destroy()}assembleShapes(){if(this.initBaseParameter()){var e=[{fillColor:"#ff9277"},{fillColor:"#dddd00"},{fillColor:"#ffc877"},{fillColor:"#bbe3ff"},{fillColor:"#d5ffbb"},{fillColor:"#bbbbff"},{fillColor:"#ddb000"},{fillColor:"#b0dd00"},{fillColor:"#e2bbff"},{fillColor:"#ffbbe3"},{fillColor:"#ff7777"},{fillColor:"#ff9900"},{fillColor:"#83dd00"},{fillColor:"#77e3ff"},{fillColor:"#778fff"},{fillColor:"#c877ff"},{fillColor:"#ff77ab"},{fillColor:"#ff6600"},{fillColor:"#aa8800"},{fillColor:"#77c7ff"},{fillColor:"#ad77ff"},{fillColor:"#ff77ff"},{fillColor:"#dd0083"},{fillColor:"#777700"},{fillColor:"#00aa00"},{fillColor:"#0088aa"},{fillColor:"#8400dd"},{fillColor:"#aa0088"},{fillColor:"#dd0000"},{fillColor:"#772e00"}],t=this.setting;t.useBackground&&this.shapes.push(_o.Background(this.shapeFactory,this.chartBox,t));var n=this.dataValues;if(!(n.length<1)){var r=this.DVBCodomain;for(let e=0;e<n.length;e++)if(n[e]<r[0]||n[e]>r[1])return;var i=0;for(let e=0;e<n.length;e++)i+=Math.abs(n[e]);this.DVBUnitValue=360/i;for(var s=this.DVBUnitValue,o=this.DVBCenterPoint,a=0,l=0,u=a,c=this.DVBHeight<this.DVBWidth?this.DVBHeight/2:this.DVBWidth/2,h=t.innerRingRadius>=0&&t.innerRingRadius<c,p="undefined"!==typeof t.innerRingRadius&&!isNaN(t.innerRingRadius)&&h?t.innerRingRadius:0,d=0;d<n.length;d++){var f=Math.abs(n[d]);l=0===d?a+f*s:d===f.length-1?u:a+f*s;var m=new Vs(o[0],o[1],c,a,l,p);if("undefined"===typeof t.sectorStyleByFields){var y=d%e.length;m.style=_o.ShapeStyleTool(null,t.sectorStyle,e,null,y)}else m.style=_o.ShapeStyleTool(null,t.sectorStyle,t.sectorStyleByFields,t.sectorStyleByCodomain,d,n[d]);m.highlightStyle=_o.ShapeStyleTool(null,t.sectorHoverStyle),"undefined"!==typeof t.sectorHoverAble&&(m.hoverable=t.sectorHoverAble),"undefined"!==typeof t.sectorClickAble&&(m.clickable=t.sectorClickAble),m.refDataID=this.data.id,m.dataInfo={field:this.fields[d],value:n[d]},this.shapes.push(this.shapeFactory.createShape(m)),a=l}this.shapesConvertToRelativeCoordinate()}}}}u.Feature.Theme.Ring=Po;class Io extends vo{constructor(e,t,n,r,i){if(super(e,t),e.geometry&&e.geometry instanceof ie){this.dataBounds=e.geometry.getBounds(),this.nodesClipPixel=2,this.isHoverAble=!0,this.isMultiHover=!0,this.isClickAble=!0,this.highlightStyle=null,this.shapeOptions={},this.style=n||{},this.CLASS_NAME="SuperMap.Feature.Theme.Vector",this.style=n||{},r&&te.copyAttributesWithClip(this,r,["shapeOptions","dataBounds"]),i&&te.copyAttributesWithClip(this.shapeOptions,i);var s=e.geometry;this.lonlat=this.dataBounds.getCenterLonLat(),this.location=this.getLocalXY(this.lonlat),s instanceof he||s instanceof ue?this.lineToTF(s):s instanceof ae||(s instanceof oe?this.multiPointToTF(s):s instanceof pe?this.multiLineStringToTF(s):s instanceof de?this.multiPolygonToTF(s):s instanceof fe?this.polygonToTF(s):s instanceof se||(s instanceof le?this.pointToTF(s):s instanceof me?this.rectangleToTF(s):s instanceof ce&&this.geoTextToTF(s)))}}destroy(){this.style=null,this.dataBounds=null,this.nodesClipPixel=null,this.isHoverAble=null,this.isMultiHover=null,this.isClickAble=null,this.highlightStyle=null,this.shapeOptions=null,super.destroy()}lineToTF(e){for(var t=e.components,n=[],r=[],i=this.location,s=[],o=this.nodesClipPixel,a=0;a<t.length;a++){var l=t[a];if(r=[],n=this.getLocalXY(l),r[0]=n[0]-i[0],r[1]=n[1]-i[1],s.length>0){var u=s[s.length-1];if(Math.abs(u[0]-r[0])<=o&&Math.abs(u[1]-r[1])<=o)continue}s.push(r)}if(s.length<2)return null;var c=new Object;c=te.copyAttributesWithClip(c,this.style,["pointList"]),c.pointList=s;var h=new fo({style:c,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(h.highlightStyle=this.highlightStyle),h.refOriginalPosition=this.location,h.refDataID=this.data.id,h.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&te.copyAttributesWithClip(h,this.shapeOptions),this.shapes.push(h)}multiPointToTF(e){for(var t=e.components,n=[],r=[],i=this.location,s=[],o=this.nodesClipPixel,a=0;a<t.length;a++){var l=t[a];if(r=[],n=this.getLocalXY(l),r[0]=n[0]-i[0],r[1]=n[1]-i[1],s.length>0){var u=s[s.length-1];if(Math.abs(u[0]-r[0])<=o&&Math.abs(u[1]-r[1])<=o)continue}s.push(r);var c=new Object;c.r=6,c=te.copyAttributesWithClip(c,this.style),c.x=r[0],c.y=r[1];var h=new uo({style:c,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(h.highlightStyle=this.highlightStyle),h.refOriginalPosition=i,h.refDataID=this.data.id,h.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&te.copyAttributesWithClip(h,this.shapeOptions),this.shapes.push(h)}}multiLineStringToTF(e){for(var t=e.components,n=0;n<t.length;n++){var r=t[n];this.lineToTF(r)}}multiPolygonToTF(e){for(var t=e.components,n=0;n<t.length;n++){var r=t[n];this.polygonToTF(r)}}pointToTF(e){var t=this.location,n=this.getLocalXY(e),r=new Object;r.r=6,r=te.copyAttributesWithClip(r,this.style),r.x=n[0]-t[0],r.y=n[1]-t[1];var i=new uo({style:r,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(i.highlightStyle=this.highlightStyle),i.refOriginalPosition=t,i.refDataID=this.data.id,i.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&te.copyAttributesWithClip(i,this.shapeOptions),this.shapes.push(i)}polygonToTF(e){for(var t=e.components,n=[],r=[],i=this.location,s=[],o=[],a=[],l=this.nodesClipPixel,u=0;u<t.length;u++){var c=t[u].components;if(0===u){s=[];for(var h=0;h<c.length;h++){if(r=[],n=this.getLocalXY(c[h]),r[0]=n[0]-i[0],r[1]=n[1]-i[1],s.length>0){var p=s[s.length-1];if(Math.abs(p[0]-r[0])<=l&&Math.abs(p[1]-r[1])<=l)continue}s.push(r)}}else{o=[];for(var d=0;d<c.length;d++){if(r=[],n=this.getLocalXY(c[d]),r[0]=n[0]-i[0],r[1]=n[1]-i[1],o.length>0){var f=o[o.length-1];if(Math.abs(f[0]-r[0])<=l&&Math.abs(f[1]-r[1])<=l)continue}o.push(r)}}o.length<2||a.push(o)}if(!(s.length<2)){var m={};m=te.copyAttributesWithClip(m,this.style,["pointList"]),m.pointList=s;var y=new po({style:m,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(y.highlightStyle=this.highlightStyle),y.refOriginalPosition=this.location,y.refDataID=this.data.id,y.isHoverByRefDataID=this.isMultiHover,a.length>0&&(y.holePolygonPointLists=a),this.shapeOptions&&te.copyAttributesWithClip(y,this.shapeOptions),this.shapes.push(y)}}rectangleToTF(e){var t=this.location,n=new ne(e.x,e.y),r=this.layer.map.getResolution(),i=this.getLocalXY(n),s=new Object;s.r=6,s=te.copyAttributesWithClip(s,this.style),s.x=i[0]-t[0],s.y=i[1]-t[1]-2*e.width/r,s.width=e.width/r,s.height=e.height/r;var o=new yo({style:s,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(o.highlightStyle=this.highlightStyle),o.refOriginalPosition=t,o.refDataID=this.data.id,o.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&te.copyAttributesWithClip(o,this.shapeOptions),this.shapes.push(o)}geoTextToTF(e){var t=this.location,n=this.getLocalXY(e),r=new Object;r.r=6,r=te.copyAttributesWithClip(r,this.style,["x","y","text"]),r.x=n[0]-t[0],r.y=n[1]-t[1],r.text=e.text;var i=new co({style:r,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(i.highlightStyle=this.highlightStyle),i.refOriginalPosition=t,i.refDataID=this.data.id,i.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&te.copyAttributesWithClip(i,this.shapeOptions),this.shapes.push(i)}updateAndAddShapes(){var e=this.getLocalXY(this.lonlat);this.location=e;for(var t=this.layer.renderer,n=0,r=this.shapes.length;n<r;n++){var i=this.shapes[n];i.refOriginalPosition=e,t.addShape(i)}}getShapesCount(){return this.shapes.length}getLocalXY(e){return this.layer.getLocalXY(e)}}u.Feature.Theme.ThemeVector=Io;class Lo extends(u.mixin(Xs,ao)){constructor(e){super(e),e=e||{},this.id=null,this.type="group",this.clipShape=null,this._children=[],this._storage=null,this.__dirty=!0,this.ignore=!1,te.extend(this,e),this.id=this.id||te.createUniqueID("smShapeGroup_"),this.CLASS_NAME="SuperMap.LevelRenderer.Group"}destroy(){this.id=null,this.type=null,this.clipShape=null,this._children=null,this._storage=null,this.__dirty=null,this.ignore=null,super.destroy()}children(){return this._children.slice()}childAt(e){return this._children[e]}addChild(e){e!=this&&e.parent!=this&&(e.parent&&e.parent.removeChild(e),this._children.push(e),e.parent=this,this._storage&&this._storage!==e._storage&&(this._storage.addToMap(e),e instanceof Lo&&e.addChildrenToStorage(this._storage)))}removeChild(e){var t=te.indexOf(this._children,e);this._children.splice(t,1),e.parent=null,this._storage&&(this._storage.delFromMap(e.id),e instanceof Lo&&e.delChildrenFromStorage(this._storage))}eachChild(e,t){for(var n=!!t,r=0;r<this._children.length;r++){var i=this._children[r];n?e.call(t,i):e(i)}}traverse(e,t){for(var n=!!t,r=0;r<this._children.length;r++){var i=this._children[r];n?e.call(t,i):e(i),"group"===i.type&&i.traverse(e,t)}}addChildrenToStorage(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToMap(n),"group"===n.type&&n.addChildrenToStorage(e)}}delChildrenFromStorage(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromMap(n.id),"group"===n.type&&n.delChildrenFromStorage(e)}}modSelf(){this.__dirty=!0}}class Mo{constructor(){this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0,this.CLASS_NAME="SuperMap.LevelRenderer.Storage"}destroy(){this.dispose(),this._shapeList=null,this._shapeListOffset=null}iterShape(e,t){if(!t){var n={hover:!1,normal:"down",update:!1};t=n}if(t.hover)for(var r=0,i=this._hoverElements.length;r<i;r++){var s=this._hoverElements[r];if(s.updateTransform(),e(s))return this}switch(t.update&&this.updateShapeList(),t.normal){case"down":{let t=this._shapeList.length;while(t--)if(e(this._shapeList[t]))return this;break}default:for(let t=0,n=this._shapeList.length;t<n;t++)if(e(this._shapeList[t]))return this;break}return this}getHoverShapes(e){var t=[],n=this._hoverElements.length;for(let a=0;a<n;a++){t.push(this._hoverElements[a]);var r=this._hoverElements[a].hoverConnect;if(r){var i;r=r instanceof Array?r:[r];for(var s=0,o=r.length;s<o;s++)i=r[s].id?r[s]:this.get(r[s]),i&&t.push(i)}}if(t.sort(Mo.shapeCompareFunc),e)for(let a=0,l=t.length;a<l;a++)t[a].updateTransform();return t}getShapeList(e){return e&&this.updateShapeList(),this._shapeList}updateShapeList(){this._shapeListOffset=0;var e=this._roots.length;for(let n=0;n<e;n++){let e=this._roots[n];this._updateAndAddShape(e)}this._shapeList.length=this._shapeListOffset;var t=this._shapeList.length;for(let n=0;n<t;n++)this._shapeList[n].__renderidx=n;this._shapeList.sort(Mo.shapeCompareFunc)}_updateAndAddShape(e,t){if(!e.ignore)if(e.updateTransform(),"group"==e.type){e.clipShape&&(e.clipShape.parent=e,e.clipShape.updateTransform(),t?(t=t.slice(),t.push(e.clipShape)):t=[e.clipShape]);for(var n=0;n<e._children.length;n++){var r=e._children[n];r.__dirty=e.__dirty||r.__dirty,this._updateAndAddShape(r,t)}e.__dirty=!1}else e.__clipShapes=t,this._shapeList[this._shapeListOffset++]=e}mod(e,t){var n=this._elements[e];if(n&&(n.modSelf(),t))if(t.parent||t._storage||t.__startClip){var r={};for(var i in t)"parent"!=i&&"_storage"!=i&&"__startClip"!=i&&t.hasOwnProperty(i)&&(r[i]=t[i]);(new Is).merge(n,r,!0)}else(new Is).merge(n,t,!0);return this}drift(e,t,n){var r=this._elements[e];return r&&(r.needTransform=!0,"horizontal"===r.draggable?n=0:"vertical"===r.draggable&&(t=0),(!r.ondrift||r.ondrift&&!r.ondrift(t,n))&&r.drift(t,n)),this}addHover(e){return e.updateNeedTransform(),this._hoverElements.push(e),this}delHover(){return this._hoverElements=[],this}hasHoverShape(){return this._hoverElements.length>0}addRoot(e){e instanceof Lo&&e.addChildrenToStorage(this),this.addToMap(e),this._roots.push(e)}delRoot(e){if("undefined"==typeof e){for(var t=0;t<this._roots.length;t++){var n=this._roots[t];n instanceof Lo&&n.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],void(this._roots=[])}if(e instanceof Array){var r=e.length;for(let t=0;t<r;t++)this.delRoot(e[t])}else{var i;i="string"==typeof e?this._elements[e]:e;var s=(new Is).indexOf(this._roots,i);s>=0&&(this.delFromMap(i.id),this._roots.splice(s,1),i instanceof Lo&&i.delChildrenFromStorage(this))}}addToMap(e){return e instanceof Lo&&(e._storage=this),e.modSelf(),this._elements[e.id]=e,this}get(e){return this._elements[e]}delFromMap(e){var t=this._elements[e];return t&&(delete this._elements[e],t instanceof Lo&&(t._storage=null)),this}dispose(){this._elements=null,this._roots=null,this._hoverElements=null}static shapeCompareFunc(e,t){return e.zlevel==t.zlevel?e.z==t.z?e.__renderidx-t.__renderidx:e.z-t.z:e.zlevel-t.zlevel}}class Oo{constructor(e,t){this.root=e,this.storage=t,this._domRoot=null,this._layers={},this._zlevelList=[],this._layerConfig={},this._bgDom=null,this.shapeToImage=null,Oo.devicePixelRatio=Math.max(window.devicePixelRatio||1,1),this.CLASS_NAME="SuperMap.LevelRenderer.Painter",this.root.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var n=document.createElement("div");this._domRoot=n,n.style.position="relative",n.style.overflow="hidden",n.style.width=this._width+"px",n.style.height=this._height+"px",this.root.appendChild(n),this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=Oo.createDom(te.createUniqueID("SuperMap.Theme_background_"),"div",this),n.appendChild(this._bgDom),this._bgDom.onselectstart=s,this._bgDom.style["-webkit-user-select"]="none",this._bgDom.style["user-select"]="none",this._bgDom.style["-webkit-touch-callout"]="none";var r=new ko(te.createUniqueID("_highLightLayer_"),this);this._layers["hover"]=r,n.appendChild(r.dom),r.initContext(),r.dom.onselectstart=s,r.dom.style["-webkit-user-select"]="none",r.dom.style["user-select"]="none",r.dom.style["-webkit-touch-callout"]="none";var i=this;function s(){return!1}this.updatePainter=function(e,t){i.refreshShapes(e,t)}}destroy(){this.dispose(),this._zlevelList=null,this._layerConfig=null,this._bgDom=null,this.shapeToImage=null}render(e){return this.refresh(e,!0),this}refresh(e,t){var n=this.storage.getShapeList(!0);return this._paintList(n,t),"function"==typeof e&&e(),this}_paintList(e,t){var n,r,i;for(var s in"undefined"==typeof t&&(t=!1),this._updateLayerStatus(e),this._layers)"hover"!==s&&(this._layers[s].unusedCount++,this._layers[s].updateTransform());for(var o=[],a=0,l=e.length;a<l;a++){var u=e[a];if(r!==u.zlevel&&(n&&n.needTransform&&i.restore(),n=this.getLayer(u.zlevel),i=n.ctx,r=u.zlevel,n.unusedCount=0,(n.dirty||t)&&n.clear(),n.needTransform&&(i.save(),n.setTransform(i))),i&&u.__startClip){var c=u.__startClip;if(i.save(),c.needTransform){let e=c.transform;oo.Util_matrix.invert(o,e),i.transform(e[0],e[1],e[2],e[3],e[4],e[5])}if(i.beginPath(),c.buildPath(i,c.style),i.clip(),c.needTransform){let e=o;i.transform(e[0],e[1],e[2],e[3],e[4],e[5])}}if((n&&n.dirty||t)&&!u.invisible&&(!u.onbrush||u.onbrush&&!u.onbrush(i,!1)))if(no.catchBrushException)try{u.brush(i,!1,this.updatePainter)}catch(p){oo.Util_log(p,"brush error of "+u.type,u)}else u.brush(i,!1,this.updatePainter);i&&u.__stopClip&&i.restore(),u.__dirty=!1}i&&n&&n.needTransform&&i.restore();for(let d in this._layers)if("hover"!==d){var h=this._layers[d];h.dirty=!1,1==h.unusedCount&&h.clear()}}getLayer(e){var t=this._layers[e];if(!t){var n=this._zlevelList.length,r=null,i=-1;if(n>0&&e>this._zlevelList[0]){for(i=0;i<n-1;i++)if(this._zlevelList[i]<e&&this._zlevelList[i+1]>e)break;r=this._layers[this._zlevelList[i]]}this._zlevelList.splice(i+1,0,e),t=new ko(te.createUniqueID("_levelLayer_"+e),this);var s=r?r.dom:this._bgDom;s.nextSibling?s.parentNode.insertBefore(t.dom,s.nextSibling):s.parentNode.appendChild(t.dom),t.initContext(),this._layers[e]=t,this._layerConfig[e]&&(new Is).merge(t,this._layerConfig[e],!0),t.updateTransform()}return t}getLayers(){return this._layers}_updateLayerStatus(e){var t=this._layers,n={};for(let o in t)"hover"!==o&&(n[o]=t[o].elCount,t[o].elCount=0);for(let o=0;o<e.length;o++){var r=e[o],i=r.zlevel,s=t[i];if(s){if(s.elCount++,s.dirty)continue;s.dirty=r.__dirty}}for(let o in t)"hover"!==o&&n[o]!==t[o].elCount&&(t[o].dirty=!0)}refreshShapes(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];this.storage.mod(i.id)}return this.refresh(t),this}clear(){for(var e in this._layers)"hover"!=e&&this._layers[e].clear();return this}modLayer(e,t){if(t){this._layerConfig[e]?(new Is).merge(this._layerConfig[e],t,!0):this._layerConfig[e]=t;var n=this._layers[e];n&&(new Is).merge(n,this._layerConfig[e],!0)}}delLayer(e){var t=this._layers[e];t&&(this.modLayer(e,{position:t.position,rotation:t.rotation,scale:t.scale}),t.dom.parentNode.removeChild(t.dom),delete this._layers[e],this._zlevelList.splice((new Is).indexOf(this._zlevelList,e),1))}refreshHover(){this.clearHover();for(var e=this.storage.getHoverShapes(!0),t=0,n=e.length;t<n;t++)this._brushHover(e[t]);return this.storage.delHover(),this}clearHover(){var e=this._layers.hover;return e&&e.clear(),this}resize(){var e=this._domRoot;e.style.display="none";var t=this._getWidth(),n=this._getHeight();if(e.style.display="",this._width!=t||n!=this._height){for(var r in this._width=t,this._height=n,e.style.width=t+"px",e.style.height=n+"px",this._layers)this._layers[r].resize(t,n);this.refresh(null,!0)}return this}clearLayer(e){var t=this._layers[e];t&&t.clear()}dispose(){this.root.innerHTML="",this.root=null,this.storage=null,this._domRoot=null,this._layers=null}getDomHover(){return this._layers.hover.dom}toDataURL(e,t,n){var r=Oo.createDom(te.createUniqueID("SuperMap.Theme.image_"),"canvas",this);this._bgDom.appendChild(r);var i=r.getContext("2d");1!=Oo.devicePixelRatio&&i.scale(Oo.devicePixelRatio,Oo.devicePixelRatio),i.fillStyle=t||"#fff",i.rect(0,0,this._width*Oo.devicePixelRatio,this._height*Oo.devicePixelRatio),i.fill();var s=this;this.storage.iterShape((function(e){if(!e.invisible&&(!e.onbrush||e.onbrush&&!e.onbrush(i,!1)))if(no.catchBrushException)try{e.brush(i,!1,s.updatePainter)}catch(t){oo.Util_log(t,"brush error of "+e.type,e)}else e.brush(i,!1,s.updatePainter)}),{normal:"up",update:!0});var o=r.toDataURL(e,n);return i=null,this._bgDom.removeChild(r),o}getWidth(){return this._width}getHeight(){return this._height}_getWidth(){var e=this.root,t=e.currentStyle||document.defaultView.getComputedStyle(e);return((e.clientWidth||parseInt(t.width,10))-parseInt(t.paddingLeft,10)-parseInt(t.paddingRight,10)).toFixed(0)-0}_getHeight(){var e=this.root,t=e.currentStyle||document.defaultView.getComputedStyle(e);return((e.clientHeight||parseInt(t.height,10))-parseInt(t.paddingTop,10)-parseInt(t.paddingBottom,10)).toFixed(0)-0}_brushHover(e){var t=this._layers.hover.ctx;if(!e.onbrush||e.onbrush&&!e.onbrush(t,!0)){var n=this.getLayer(e.zlevel);if(n.needTransform&&(t.save(),n.setTransform(t)),no.catchBrushException)try{e.brush(t,!0,this.updatePainter)}catch(r){oo.Util_log(r,"hoverBrush error of "+e.type,e)}else e.brush(t,!0,this.updatePainter);n.needTransform&&t.restore()}}_shapeToImage(e,t,n,r,i){var s=document.createElement("canvas"),o=s.getContext("2d"),a=i||window.devicePixelRatio||1;s.style.width=n+"px",s.style.height=r+"px",s.setAttribute("width",n*a),s.setAttribute("height",r*a),o.clearRect(0,0,n*a,r*a);var l={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[0,0,0],t.rotation=0,t.scale=[1,1],t&&t.brush(o,!1);var u=new mo({id:e,style:{x:0,y:0,image:s}});return null!=l.position&&(u.position=t.position=l.position),null!=l.rotation&&(u.rotation=t.rotation=l.rotation),null!=l.scale&&(u.scale=t.scale=l.scale),u}_createShapeToImageProcessor(){var e=this;return function(t,n,r,i){return e._shapeToImage(t,n,r,i,Oo.devicePixelRatio)}}updateHoverLayer(e){if(!(e instanceof Array))return this;this.clearHover(),this.storage.delHover();for(var t=0;t<e.length;t++)this.storage.addHover(e[t]),this._brushHover(e[t])}static createDom(e,t,n){var r=document.createElement(t),i=n._width,s=n._height;return r.style.position="absolute",r.style.left=0,r.style.top=0,r.style.width=i+"px",r.style.height=s+"px",r.setAttribute("width",i*Oo.devicePixelRatio),r.setAttribute("height",s*Oo.devicePixelRatio),r.setAttribute("id",e),r}}class ko extends ao{constructor(e,t){function n(){return!1}super(e,t),this.dom=null,this.domBack=null,this.ctxBack=null,this.painter=t,this.unusedCount=0,this.config=null,this.dirty=!0,this.elCount=0,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.zoomable=!1,this.panable=!1,this.maxZoom=1/0,this.minZoom=0,this.ctx=null,this.dom=Oo.createDom(te.createUniqueID("SuperMap.Theme"+e),"canvas",t),this.dom.onselectstart=n,this.dom.style["-webkit-user-select"]="none",this.dom.style["user-select"]="none",this.dom.style["-webkit-touch-callout"]="none",this.CLASS_NAME="SuperMap.LevelRenderer.Painter.Layer"}destroy(){this.dom=null,this.domBack=null,this.ctxBack=null,this.painter=null,this.unusedCount=null,this.config=null,this.dirty=null,this.elCount=null,this.clearColor=null,this.motionBlur=null,this.lastFrameAlpha=null,this.zoomable=null,this.panable=null,this.maxZoom=null,this.minZoom=null,this.ctx=null,ao.destroy.apply(this,arguments)}initContext(){this.ctx=this.dom.getContext("2d"),1!=Oo.devicePixelRatio&&this.ctx.scale(Oo.devicePixelRatio,Oo.devicePixelRatio)}createBackBuffer(){this.domBack=Oo.createDom(te.createUniqueID("SuperMap.Theme.back-"+this.id),"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d"),1!=Oo.devicePixelRatio&&this.ctxBack.scale(Oo.devicePixelRatio,Oo.devicePixelRatio)}resize(e,t){this.dom.style.width=e+"px",this.dom.style.height=t+"px",this.dom.setAttribute("width",e*Oo.devicePixelRatio),this.dom.setAttribute("height",t*Oo.devicePixelRatio),1!=Oo.devicePixelRatio&&this.ctx.scale(Oo.devicePixelRatio,Oo.devicePixelRatio),this.domBack&&(this.domBack.setAttribute("width",e*Oo.devicePixelRatio),this.domBack.setAttribute("height",t*Oo.devicePixelRatio),1!=Oo.devicePixelRatio&&this.ctxBack.scale(Oo.devicePixelRatio,Oo.devicePixelRatio))}clear(){var e=this.dom,t=this.ctx,n=e.width,r=e.height,i=this.clearColor,s=this.motionBlur,o=this.lastFrameAlpha;if(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(e,0,0,n/Oo.devicePixelRatio,r/Oo.devicePixelRatio)),i?(t.save(),t.fillStyle=this.config.clearColor,t.fillRect(0,0,n/Oo.devicePixelRatio,r/Oo.devicePixelRatio),t.restore()):t.clearRect(0,0,n/Oo.devicePixelRatio,r/Oo.devicePixelRatio),s){var a=this.domBack;t.save(),t.globalAlpha=o,t.drawImage(a,0,0,n/Oo.devicePixelRatio,r/Oo.devicePixelRatio),t.restore()}}}class No extends Xs{constructor(e,t,n){super(e,t,n),this.root=e,this.storage=t,this.painter=n,this._lastX=0,this._lastY=0,this._mouseX=0,this._mouseY=0,this._findHover=null,this._domHover=null,this._findHover=s(a,this),this._domHover=n.getDomHover(),this.CLASS_NAME="SuperMap.LevelRenderer.Handler";var r={resize:function(e){e=e||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(no.EVENT.RESIZE,e)},click:function(e){e=this._zrenderEventFixed(e);var t=this._lastHover;(t&&t.clickable||!t)&&this._clickThreshold<10&&this._dispatchAgency(t,no.EVENT.CLICK,e),this._mousemoveHandler(e)},dblclick:function(e){e=e||window.event,e=this._zrenderEventFixed(e);var t=this._lastHover;(t&&t.clickable||!t)&&this._clickThreshold<5&&this._dispatchAgency(t,no.EVENT.DBLCLICK,e),this._mousemoveHandler(e)},mousewheel:function(e){e=this._zrenderEventFixed(e);var t=e.wheelDelta||-e.detail,n=t>0?1.1:1/1.1,r=this.painter.getLayers(),i=!1;for(var s in r)if("hover"!==s){var o=r[s],a=o.position;if(o.zoomable){o.__zoom=o.__zoom||1;var l=o.__zoom;l*=n,l=Math.max(Math.min(o.maxZoom,l),o.minZoom),n=l/o.__zoom,o.__zoom=l,a[0]-=(this._mouseX-a[0])*(n-1),a[1]-=(this._mouseY-a[1])*(n-1),o.scale[0]*=n,o.scale[1]*=n,o.dirty=!0,i=!0}}i&&this.painter.refresh(),this._dispatchAgency(this._lastHover,no.EVENT.MOUSEWHEEL,e),this._mousemoveHandler(e)},mousemove:function(e){this._clickThreshold++,e=this._zrenderEventFixed(e),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=oo.Util_event.getX(e),this._mouseY=oo.Util_event.getY(e);var t=this._mouseX-this._lastX,n=this._mouseY-this._lastY;this._processDragStart(e),this._hasfound=0,this._event=e,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(e),this._processDragLeave(e)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var r="";if(this._draggingTarget)this.storage.drift(this._draggingTarget.id,t,n),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget);else if(this._isMouseDown){var i=this.painter.getLayers(),s=!1;for(var o in i)if("hover"!==o){var a=i[o];a.panable&&(r="move",a.position[0]+=t,a.position[1]+=n,s=!0,a.dirty=!0)}s&&this.painter.refresh()}this._draggingTarget||this._hasfound&&this._lastHover.draggable?r="move":this._hasfound&&this._lastHover.clickable&&(r="pointer"),this.root.style.cursor=r,this._dispatchAgency(this._lastHover,no.EVENT.MOUSEMOVE,e),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()},mouseout:function(e){e=this._zrenderEventFixed(e);var t=e.toElement||e.relatedTarget;if(t!=this.root)while(t&&9!=t.nodeType){if(t==this.root)return void this._mousemoveHandler(e);t=t.parentNode}e.zrenderX=this._lastX,e.zrenderY=this._lastY,this.root.style.cursor="",this._isMouseDown=0,this._processOutShape(e),this._processDrop(e),this._processDragEnd(e),this.painter.refreshHover(),this.dispatch(no.EVENT.GLOBALOUT,e)},mousedown:function(e){if(this._clickThreshold=0,2==this._lastDownButton)return this._lastDownButton=e.button,void(this._mouseDownTarget=null);this._lastMouseDownMoment=new Date,e=this._zrenderEventFixed(e),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,no.EVENT.MOUSEDOWN,e),this._lastDownButton=e.button},mouseup:function(e){e=this._zrenderEventFixed(e),this.root.style.cursor="",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,no.EVENT.MOUSEUP,e),this._processDrop(e),this._processDragEnd(e)},touchstart:function(e){e=this._zrenderEventFixed(e,!0),this._lastTouchMoment=new Date,this._mobildFindFixed(e),this._mousedownHandler(e)},touchmove:function(e){e=this._zrenderEventFixed(e,!0),this._mousemoveHandler(e),this._isDragging&&oo.Util_event.stop(e)},touchend:function(e){e=this._zrenderEventFixed(e,!0),this._mouseupHandler(e);var t=new Date;t-this._lastTouchMoment<no.EVENT.touchClickDelay&&(this._mobildFindFixed(e),this._clickHandler(e),t-this._lastClickMoment<no.EVENT.touchClickDelay/2&&(this._dblclickHandler(e),this._lastHover&&this._lastHover.clickable&&oo.Util_event.stop(e)),this._lastClickMoment=t),this.painter.clearHover()}};function i(e,t){return function(n){return e.call(t,n)}}function s(e,t){return function(n,r,i){return e.call(t,n,r,i)}}function o(e){var t=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],n=t.length;while(n--){var s=t[n];e["_"+s+"Handler"]=i(r[s],e)}}function a(e,t,n){var r=this;if(r._draggingTarget&&r._draggingTarget.id==e.id||e.isSilent())return!1;var i=r._event;if(e.isCover(t,n)){if(e.hoverable)if(e.isHoverByRefDataID&&!0===e.isHoverByRefDataID){if(e.refDataID){var s=e.refDataID,o=null;e.refDataHoverGroup&&(o=e.refDataHoverGroup);for(var a=r.storage._shapeList,l=0,u=a.length;l<u;l++){var c=a[l];c.refDataID&&s===c.refDataID&&(o?c.refDataHoverGroup&&o===c.refDataHoverGroup&&r.storage.addHover(c):r.storage.addHover(c))}}}else r.storage.addHover(e);var h=e.parent;while(h){if(h.clipShape&&!h.clipShape.isCover(r._mouseX,r._mouseY))return!1;h=h.parent}return r._lastHover!=e&&(r._processOutShape(i),r._processDragLeave(i),r._lastHover=e,r._processDragEnter(i)),r._processOverShape(i),r._processDragOver(i),r._hasfound=1,!0}return!1}o(this),window.addEventListener?(window.addEventListener("resize",this._resizeHandler),oo.Util_env.os.tablet||oo.Util_env.os.phone?(e.addEventListener("touchstart",this._touchstartHandler),e.addEventListener("touchmove",this._touchmoveHandler),e.addEventListener("touchend",this._touchendHandler)):(e.addEventListener("click",this._clickHandler),e.addEventListener("dblclick",this._dblclickHandler),e.addEventListener("mousewheel",this._mousewheelHandler),e.addEventListener("mousemove",this._mousemoveHandler),e.addEventListener("mousedown",this._mousedownHandler),e.addEventListener("mouseup",this._mouseupHandler)),e.addEventListener("DOMMouseScroll",this._mousewheelHandler),e.addEventListener("mouseout",this._mouseoutHandler)):(window.attachEvent("onresize",this._resizeHandler),e.attachEvent("onclick",this._clickHandler),e.ondblclick=this._dblclickHandler,e.attachEvent("onmousewheel",this._mousewheelHandler),e.attachEvent("onmousemove",this._mousemoveHandler),e.attachEvent("onmouseout",this._mouseoutHandler),e.attachEvent("onmousedown",this._mousedownHandler),e.attachEvent("onmouseup",this._mouseupHandler))}destroy(){this.dispose(),this._lastX=null,this._lastY=null,this._mouseX=null,this._mouseY=null,this._findHover=null,Xs.prototype.destroy.apply(this,arguments)}on(e,t){return this.bind(e,t),this}un(e,t){return this.unbind(e,t),this}trigger(e,t){var n=no.EVENT;switch(e){case n.RESIZE:case n.CLICK:case n.DBLCLICK:case n.MOUSEWHEEL:case n.MOUSEMOVE:case n.MOUSEDOWN:case n.MOUSEUP:case n.MOUSEOUT:this["_"+e+"Handler"](t);break}}dispose(){var e=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),oo.Util_env.os.tablet||oo.Util_env.os.phone?(e.removeEventListener("touchstart",this._touchstartHandler),e.removeEventListener("touchmove",this._touchmoveHandler),e.removeEventListener("touchend",this._touchendHandler)):(e.removeEventListener("click",this._clickHandler),e.removeEventListener("dblclick",this._dblclickHandler),e.removeEventListener("mousewheel",this._mousewheelHandler),e.removeEventListener("mousemove",this._mousemoveHandler),e.removeEventListener("mousedown",this._mousedownHandler),e.removeEventListener("mouseup",this._mouseupHandler)),e.removeEventListener("DOMMouseScroll",this._mousewheelHandler),e.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),e.detachEvent("onclick",this._clickHandler),e.detachEvent("dblclick",this._dblclickHandler),e.detachEvent("onmousewheel",this._mousewheelHandler),e.detachEvent("onmousemove",this._mousemoveHandler),e.detachEvent("onmouseout",this._mouseoutHandler),e.detachEvent("onmousedown",this._mousedownHandler),e.detachEvent("onmouseup",this._mouseupHandler)),this.root=null,this._domHover=null,this.storage=null,this.painter=null,this.un()}_processDragStart(e){var t=this._lastHover;if(this._isMouseDown&&t&&t.draggable&&!this._draggingTarget&&this._mouseDownTarget==t){if(t.dragEnableTime&&new Date-this._lastMouseDownMoment<t.dragEnableTime)return;var n=t;this._draggingTarget=n,this._isDragging=1,n.invisible=!0,this.storage.mod(n.id),this._dispatchAgency(n,no.EVENT.DRAGSTART,e),this.painter.refresh()}}_processDragEnter(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,no.EVENT.DRAGENTER,e,this._draggingTarget)}_processDragOver(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,no.EVENT.DRAGOVER,e,this._draggingTarget)}_processDragLeave(e){this._draggingTarget&&this._dispatchAgency(this._lastHover,no.EVENT.DRAGLEAVE,e,this._draggingTarget)}_processDrop(e){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,no.EVENT.DROP,e,this._draggingTarget))}_processDragEnd(e){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,no.EVENT.DRAGEND,e),this._lastHover=null),this._isDragging=0,this._draggingTarget=null}_processOverShape(e){this._dispatchAgency(this._lastHover,no.EVENT.MOUSEOVER,e)}_processOutShape(e){this._dispatchAgency(this._lastHover,no.EVENT.MOUSEOUT,e)}_dispatchAgency(e,t,n,r){var i="on"+t,s={type:t,event:n,target:e,cancelBubble:!1},o=e;r&&(s.dragged=r);while(o)if(o[i]&&(s.cancelBubble=o[i](s)),o.dispatch(t,s),o=o.parent,s.cancelBubble)break;e?s.cancelBubble||this.dispatch(t,s):r||this.dispatch(t,{type:t,event:n})}_iterateAndFindHover(){for(var e,t,n=oo.Util_matrix.create(),r=this.storage.getShapeList(),i=[0,0],s=r.length-1;s>=0;s--){var o=r[s];if(e!==o.zlevel&&(t=this.painter.getLayer(o.zlevel,t),i[0]=this._mouseX,i[1]=this._mouseY,t.needTransform&&(oo.Util_matrix.invert(n,t.transform),oo.Util_vector.applyTransform(i,i,n))),this._findHover(o,i[0],i[1]))break}}_mobildFindFixed(e){var t=[{x:10},{x:-20},{x:10,y:10},{y:-20}];this._lastHover=null,this._mouseX=e.zrenderX,this._mouseY=e.zrenderY,this._event=e,this._iterateAndFindHover();for(var n=0;!this._lastHover&&n<t.length;n++){var r=t[n];r.x&&(this._mouseX+=r.x),r.y&&(this._mouseX+=r.y),this._iterateAndFindHover()}this._lastHover&&(e.zrenderX=this._mouseX,e.zrenderY=this._mouseY)}_zrenderEventFixed(e,t){if(e.zrenderFixed)return e;if(t){var n="touchend"!=e.type?e.targetTouches[0]:e.changedTouches[0];if(n){var r=this.root.getBoundingClientRect();e.zrenderX=n.clientX-r.left,e.zrenderY=n.clientY-r.top}}else{e=e||window.event;var i=e.toElement||e.relatedTarget||e.srcElement||e.target;i&&i!=this._domHover&&(e.zrenderX=("undefined"!=typeof e.offsetX?e.offsetX:e.layerX)+i.offsetLeft,e.zrenderY=("undefined"!=typeof e.offsetY?e.offsetY:e.layerY)+i.offsetTop)}return e.zrenderFixed=1,e}getLastHoverOne(){return this._lastHover?this._lastHover:null}}class Ro{constructor(){this.CLASS_NAME="SuperMap.LevelRenderer.Animation.easing"}destroy(){}Linear(e){return e}QuadraticIn(e){return e*e}QuadraticOut(e){return e*(2-e)}QuadraticInOut(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}CubicIn(e){return e*e*e}CubicOut(e){return--e*e*e+1}CubicInOut(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}QuarticIn(e){return e*e*e*e}QuarticOut(e){return 1- --e*e*e*e}QuarticInOut(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}QuinticIn(e){return e*e*e*e*e}QuinticOut(e){return--e*e*e*e*e+1}QuinticInOut(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}SinusoidalIn(e){return 1-Math.cos(e*Math.PI/2)}SinusoidalOut(e){return Math.sin(e*Math.PI/2)}SinusoidalInOut(e){return.5*(1-Math.cos(Math.PI*e))}ExponentialIn(e){return 0===e?0:Math.pow(1024,e-1)}ExponentialOut(e){return 1===e?1:1-Math.pow(2,-10*e)}ExponentialInOut(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}CircularIn(e){return 1-Math.sqrt(1-e*e)}CircularOut(e){return Math.sqrt(1- --e*e)}CircularInOut(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}ElasticIn(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r))}ElasticOut(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)}ElasticInOut(e){var t,n=.1,r=.4;return 0===e?0:1===e?1:(n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)}BackIn(e){var t=1.70158;return e*e*((t+1)*e-t)}BackOut(e){var t=1.70158;return--e*e*((t+1)*e+t)+1}BackInOut(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}BounceIn(e){return 1-this.BounceOut(1-e)}BounceOut(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}BounceInOut(e){return e<.5?.5*this.BounceIn(2*e):.5*this.BounceOut(2*e-1)+.5}}class Do{constructor(e){this._targetPool=e.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=e.life||1e3,this._delay=e.delay||0,this._startTime=(new Date).getTime()+this._delay,this._endTime=this._startTime+1e3*this._life,this.loop="undefined"!=typeof e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this.CLASS_NAME="SuperMap.LevelRenderer.Animation.Clip"}destroy(){}step(e){var t=new Ro,n=(e-this._startTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r="string"==typeof this.easing?t[this.easing]:this.easing,i="function"===typeof r?r(n):n;return this.fire("frame",i),1==n?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}}restart(){var e=(new Date).getTime(),t=(e-this._startTime)%this._life;this._startTime=(new Date).getTime()-t+this.gap}fire(e,t){for(var n=0,r=this._targetPool.length;n<r;n++)this["on"+e]&&this["on"+e](this._targetPool[n],t)}}class Fo extends Xs{constructor(e){super(e),e=e||{},this.stage={},this.onframe=function(){},this._clips=[],this._running=!1,this._time=0,te.extend(this,e),this.CLASS_NAME="SuperMap.LevelRenderer.Animation"}add(e){this._clips.push(e)}remove(e){var t=(new Is).indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)}_update(){var e=(new Date).getTime(),t=e-this._time,n=this._clips,r=n.length,i=[],s=[];for(let l=0;l<r;l++){var o=n[l],a=o.step(e);a&&(i.push(a),s.push(o))}this.stage.update&&this.stage.update();for(let l=0;l<r;)n[l]._needsRemove?(n[l]=n[r-1],n.pop(),r--):l++;r=i.length;for(let l=0;l<r;l++)s[l].fire(i[l]);this._time=e,this.onframe(t),this.dispatch("frame",t)}start(){var e=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){setTimeout(e,16)},t=this;function n(){t._running&&(t._update(),e(n))}this._running=!0,this._time=(new Date).getTime(),e(n)}stop(){this._running=!1}clear(){this._clips=[]}animate(e,t){t=t||{};var n=new Bo(e,t.loop,t.getter,t.setter);return n.animation=this,n}static _interpolateNumber(e,t,n){return(t-e)*n+e}static _interpolateArray(e,t,n,r,i){var s=e.length;if(1==i)for(let a=0;a<s;a++)r[a]=Fo._interpolateNumber(e[a],t[a],n);else{var o=e[0].length;for(let i=0;i<s;i++)for(let s=0;s<o;s++)r[i][s]=Fo._interpolateNumber(e[i][s],t[i][s],n)}}static _isArrayLike(e){switch(typeof e){case"undefined":case"string":return!1}return"undefined"!==typeof e.length}static _catmullRomInterpolateArray(e,t,n,r,i,s,o,a,l){var u=e.length;if(1==l)for(let p=0;p<u;p++)a[p]=Fo._catmullRomInterpolate(e[p],t[p],n[p],r[p],i,s,o);else{var c=e[0].length;for(let l=0;l<u;l++)for(var h=0;h<c;h++)a[l][h]=Fo._catmullRomInterpolate(e[l][h],t[l][h],n[l][h],r[l][h],i,s,o)}}static _catmullRomInterpolate(e,t,n,r,i,s,o){var a=.5*(n-e),l=.5*(r-t);return(2*(t-n)+a+l)*o+(-3*(t-n)-2*a-l)*s+a*i+t}static _cloneValue(e){var t=Array.prototype.slice;if(Fo._isArrayLike(e)){var n=e.length;if(Fo._isArrayLike(e[0])){for(var r=[],i=0;i<n;i++)r.push(t.call(e[i]));return r}return t.call(e)}return e}static rgba2String(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}}class Bo{constructor(e,t,n,r){function i(e,t){return e[t]}function s(e,t,n){e[t]=n}this._tracks={},this._target=e,this._loop=t||!1,this._getter=n||i,this._setter=r||s,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[],this.CLASS_NAME="SuperMap.LevelRenderer.Animation.Animator"}when(e,t){for(var n in t)this._tracks[n]||(this._tracks[n]=[],0!==e&&this._tracks[n].push({time:0,value:Fo._cloneValue(this._getter(this._target,n))})),this._tracks[n].push({time:parseInt(e,10),value:t[n]});return this}during(e){return this._onframeList.push(e),this}start(e){var t=this,n=this._setter,r=this._getter,i=t._onframeList.length,s="spline"===e,o=function(){if(t._clipCount--,0===t._clipCount){t._tracks={};for(var e=t._doneList.length,n=0;n<e;n++)t._doneList[n].call(t)}},a=function(a,l){var u=a.length;if(u){var c=a[0].value,h=Fo._isArrayLike(c),p=!1,d=h&&Fo._isArrayLike(c[0])?2:1;a.sort((function(e,t){return e.time-t.time}));var f=a[u-1].time,m=[],y=[];for(let e=0;e<u;e++){m.push(a[e].time/f);var g=a[e].value;"string"==typeof g&&(g=oo.Util_color.toArray(g),0===g.length&&(g[0]=g[1]=g[2]=0,g[3]=1),p=!0),y.push(g)}var _,v,b,x,w,S,C,E=0,T=0;if(p)var A=[0,0,0,0];var P=function(e,o){if(o<T){for(_=Math.min(E+1,u-1),v=_;v>=0;v--)if(m[v]<=o)break;v=Math.min(v,u-2)}else{for(v=E;v<u;v++)if(m[v]>o)break;v=Math.min(v-1,u-2)}E=v,T=o;var a=m[v+1]-m[v];if(0!==a){if(b=(o-m[v])/a,s)if(w=y[v],x=y[0===v?v:v-1],S=y[v>u-2?u-1:v+1],C=y[v>u-3?u-1:v+2],h)Fo._catmullRomInterpolateArray(x,w,S,C,b,b*b,b*b*b,r(e,l),d);else{let t;t=p?Fo.rgba2String(A):Fo._catmullRomInterpolate(x,w,S,C,b,b*b,b*b*b),n(e,l,t)}else if(h)Fo._interpolateArray(y[v],y[v+1],b,r(e,l),d);else{let t;p?(Fo._interpolateArray(y[v],y[v+1],b,A,1),t=Fo.rgba2String(A)):t=Fo._interpolateNumber(y[v],y[v+1],b),n(e,l,t)}for(v=0;v<i;v++)t._onframeList[v](e,o)}},I=new Do({target:t._target,life:f,loop:t._loop,delay:t._delay,onframe:P,ondestroy:o});e&&"spline"!==e&&(I.easing=e),t._clipList.push(I),t._clipCount++,t.animation.add(I)}};for(var l in this._tracks)a(this._tracks[l],l);return this}stop(){for(var e=0;e<this._clipList.length;e++){var t=this._clipList[e];this.animation.remove(t)}this._clipList=[]}delay(e){return this._delay=e,this}done(e){return e&&this._doneList.push(e),this}}class qo{constructor(e,t){this.id=e,this.storage=new Mo,this.painter=new Oo(t,this.storage),this.handler=new No(t,this.storage,this.painter),this.animatingElements=[],this.animation=new Fo({stage:{update:qo.getFrameCallback(this)}}),this._needsRefreshNextFrame=!1,this.animation.start(),this.CLASS_NAME="SuperMap.LevelRenderer.Render"}destroy(){this.id=null,this.storage=null,this.painter=null,this.handler=null,this.animatingElements=null,this.animation=null,this._needsRefreshNextFrame=null}getId(){return this.id}addShape(e){return this.storage.addRoot(e),this}addGroup(e){return this.storage.addRoot(e),this}delShape(e){return this.storage.delRoot(e),this}delGroup(e){return this.storage.delRoot(e),this}modShape(e,t){return this.storage.mod(e,t),this}modGroup(e,t){return this.storage.mod(e,t),this}modLayer(e,t){return this.painter.modLayer(e,t),this}addHoverShape(e){return this.storage.addHover(e),this}render(e){return this.painter.render(e),this._needsRefreshNextFrame=!1,this}refresh(e){return this.painter.refresh(e),this._needsRefreshNextFrame=!1,this}refreshNextFrame(){return this._needsRefreshNextFrame=!0,this}refreshHover(e){return this.painter.refreshHover(e),this}refreshShapes(e,t){return this.painter.refreshShapes(e,t),this}resize(){return this.painter.resize(),this}animate(e,t,n){if("string"===typeof e&&(e=this.storage.get(e)),e){var r;if(t){for(var i=t.split("."),s=e,o=0,a=i.length;o<a;o++)s&&(s=s[i[o]]);s&&(r=s)}else r=e;if(!r)return void oo.Util_log('Property "'+t+'" is not existed in element '+e.id);var l=this.animatingElements;return"undefined"===typeof e.__aniCount&&(e.__aniCount=0),0===e.__aniCount&&l.push(e),e.__aniCount++,this.animation.animate(r,{loop:n}).done((function(){if(e.__aniCount--,0===e.__aniCount){var t=(new Is).indexOf(l,e);l.splice(t,1)}}))}oo.Util_log("Element not existed")}clearAnimation(){this.animation.clear()}getWidth(){return this.painter.getWidth()}getHeight(){return this.painter.getHeight()}toDataURL(e,t,n){return this.painter.toDataURL(e,t,n)}shapeToImage(e,t,n){var r=te.createUniqueID("SuperMap.LevelRenderer.ToImage_");return this.painter.shapeToImage(r,e,t,n)}on(e,t){return this.handler.on(e,t),this}un(e,t){return this.handler.un(e,t),this}trigger(e,t){return this.handler.trigger(e,t),this.handler.dispatch(e,t),this}clear(){return this.storage.delRoot(),this.painter.clear(),this}dispose(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=null,this.animatingElements=null,this.storage=null,this.painter=null,this.handler=null}updateHoverShapes(e){return this.painter.updateHoverLayer(e),this}getAllShapes(){return this.storage._shapeList}clearAll(){return this.clear(),this.painter.clearHover(),this}getHoverOne(){return this.handler.getLastHoverOne()}static getFrameCallback(e){return function(){var t=e.animatingElements;if(t instanceof Array){for(var n=0,r=t.length;n<r;n++)e.storage.mod(t[n].id);(t.length||e._needsRefreshNextFrame)&&e.refresh()}}}}class zo{constructor(){zo._instances={},zo.Tool={},this.version="2.0.4",this.CLASS_NAME="SuperMap.LevelRenderer"}destroy(){this.dispose(),this.version=null}init(e){var t=new qo(te.createUniqueID("LRenderer_"),e);return zo._instances[t.id]=t,t}dispose(e){if(e)e.dispose(),this.delInstance(e.id);else{for(var t in zo._instances)zo._instances[t].dispose();zo._instances={}}return this}getInstance(e){return zo._instances[e]}delInstance(e){return delete zo._instances[e],this}}u.LevelRenderer=zo;const Uo={EXCEL:"EXCEL",CSV:"CSV",ISERVER:"ISERVER",GEOJSON:"GEOJSON",JSON:"JSON"},Go={fileMaxSize:10485760};class jo{constructor(e){this.FileTypes=Uo,this.FileConfig=Go,this.loadFileObject=e&&e.loadFileObject?e.loadFileObject:[]}set(e,t){this[e]=t}get(e){return this[e]}}class Vo{constructor(){this._initView()}_initView(){const e=document.createElement("div");e.hidden=!0,e.setAttribute("class","component-messageboxcontainer component-border-bottom-orange");const t=document.createElement("div");t.setAttribute("class","icon"),this.icon=document.createElement("span"),this.icon.setAttribute("class","supermapol-icons-message-warning"),t.appendChild(this.icon),e.appendChild(t);const n=document.createElement("div");n.setAttribute("class","component-messagebox"),n.innerHTML="",e.appendChild(n),this.messageBox=n;const r=document.createElement("div");r.setAttribute("class","component-messagebox__cancelbtncontainer");const i=document.createElement("button");i.setAttribute("class","component-messagebox__cancelBtn"),i.innerHTML="x",i.onclick=this.closeView.bind(this),r.appendChild(i),e.appendChild(r),this.messageBoxContainer=e,document.body.appendChild(this.messageBoxContainer)}closeView(){this.messageBoxContainer.hidden=!0}showView(e,t="warring"){"success"===t?(this.icon.setAttribute("class","supermapol-icons-message-success"),this.messageBoxContainer.setAttribute("class","component-messageboxcontainer component-border-bottom-green")):"failure"===t?(this.icon.setAttribute("class","supermapol-icons-message-failure"),this.messageBoxContainer.setAttribute("class","component-messageboxcontainer component-border-bottom-red")):"warring"===t&&(this.icon.setAttribute("class","supermapol-icons-message-warning"),this.messageBoxContainer.setAttribute("class","component-messageboxcontainer component-border-bottom-orange")),this.messageBox.innerHTML=e,this.messageBoxContainer.hidden=!1}}u.Components.MessageBox=Vo;var Wo=n("313e"),Ho=n.n(Wo);let Jo={code:null,defaultCode:"en-US",getCode:function(){return u.Lang.code||u.Lang.setCode(),u.Lang.code},setCode:function(){var e=this.getLanguageFromCookie();e||(e=u.Lang.defaultCode,e="Netscape"===navigator.appName?navigator.language:navigator.browserLanguage,0===e.indexOf("zh")&&(e="zh-CN"),0===e.indexOf("en")&&(e="en-US")),u.Lang.code=e},getLanguageFromCookie(){for(var e="language=",t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n];while(" "===r.charAt(0))r=r.substring(1);if(-1!==r.indexOf(e))return r.substring(e.length,r.length)}return""},i18n:function(e){var t=u.Lang[u.Lang.getCode()],n=t&&t[e];return n||(n=e),n}};u.Lang=Jo,u.i18n=u.Lang.i18n;var Xo=n("1146"),Zo=n.n(Xo);let Yo={rABS:"undefined"!==typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsBinaryString,rABF:"undefined"!==typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsArrayBuffer,rAT:"undefined"!==typeof FileReader&&FileReader.prototype&&FileReader.prototype.readAsText,readFile(e,t,n,r,i){Uo.JSON===e||Uo.GEOJSON===e?this.readTextFile(t,n,r,i):Uo.EXCEL!==e&&Uo.CSV!==e||this.readXLSXFile(t,n,r,i)},readTextFile(e,t,n,r){let i=new FileReader;i.onloadend=function(e){t&&t.call(r,e.target.result)},i.onerror=function(e){n&&n.call(r,e)},this.rAT?i.readAsText(e.file,"utf-8"):i.readAsBinaryString(e.file)},readXLSXFile(e,t,n,r){let i=new FileReader;i.onloadend=function(e){let i=new Uint8Array(e.target.result),s=Zo.a.read(i,{type:"array"});try{if(s&&s.SheetNames&&s.SheetNames.length>0){let e=s.SheetNames[0],n=Zo.a.utils.sheet_to_csv(s.Sheets[e]);t&&t.call(r,n)}}catch(o){n&&n.call(r,o)}},i.onerror=function(e){n&&n.call(r,e)},this.rABF&&i.readAsArrayBuffer(e.file)},processDataToGeoJson(e,t,n,r,i){let s=null;if("EXCEL"===e||"CSV"===e)s=this.processExcelDataToGeoJson(t),n&&n.call(i,s);else if("JSON"===e||"GEOJSON"===e){let e=t;"string"===typeof e&&(e=JSON.parse(e)),"ISERVER"===e.type?s=e.data.recordsets[0].features:"FeatureCollection"===e.type?s=e:r&&r.call(i,Jo.i18n("msg_dataInWrongGeoJSONFormat")),n&&n.call(i,s)}else r&&r.call(i,Jo.i18n("msg_dataInWrongFormat"))},processExcelDataToGeoJson(e){let t=this.string2Csv(e),n=t.colTitles,r=-1,i=-1;for(let o=0,a=n.length;o<a;o++)this.isXField(n[o])&&(r=o),this.isYField(n[o])&&(i=o);let s=[];for(let o=0,a=t.rows.length;o<a;o++){let e=t.rows[o],n=Number(e[r]),a=Number(e[i]),l={};for(let r in t.colTitles){let e=t.colTitles[r];l[e]=t.rows[o][r]}let u={type:"Feature",geometry:{type:"Point",coordinates:[n,a]},properties:l};s.push(u)}return s},isXField(e){var t=e.toLowerCase();return"x"===t||"smx"===t||"jd"===t||""===t||""===t||"longitude"===t||"lot"===t||"lon"===t||"lng"===t||"x"===t},isYField(e){var t=e.toLowerCase();return"y"===t||"smy"===t||"wd"===t||""===t||""===t||"latitude"===t||"lat"===t||"y"===t},string2Csv(e,t){let n=e.split("\n"),r={};r["colTitles"]=t?[]:n[0].split(","),r["rows"]=[];for(let i=t?0:1;i<n.length;i++)n[i]&&r["rows"].push(n[i].split(","));return r}};u.Components.FileReaderUtil=Yo;class Ko{constructor(e){this.datasets=e,this.EVENT_TYPES=["getdatafailed"],this.events=new _e(this,null,this.EVENT_TYPES)}getDatasetInfo(e){let t=this.datasets.url,n=this;Be.get(t).then((function(e){return e.json()})).then((function(t){if(t.datasetInfo){let r=t.datasetInfo;n.datasetsInfo={dataSourceName:r.dataSourceName,datasetName:r.name,mapName:t.name},e({result:n.datasetsInfo})}})).catch((function(e){console.log(e),n._fireFailedEvent(e)}))}getDataFeatures(e,t){let n,r,i,s=e.result,o={name:s.datasetName+"@"+s.dataSourceName};Object.assign(o,this.datasets.queryInfo),n=new u.FilterParameter(o),r=new u.GetFeaturesBySQLParameters({queryParameter:n,datasetNames:[s.dataSourceName+":"+s.datasetName],fromIndex:0,toIndex:1e5}),i=new u.GetFeaturesBySQLService(s.dataUrl,{eventListeners:{processCompleted:t,processFailed:function(){}}}),i.processAsync(r)}getLayerFeatures(e,t){let n,r,i,s=e.result,o={name:s.mapName};Object.assign(o,this.datasets.queryInfo),n=new u.FilterParameter(o),r=new u.QueryBySQLParameters({queryParams:[n],expectCount:1e5}),i=new u.QueryBySQLService(s.dataUrl,{eventListeners:{processCompleted:t,processFailed:function(){}}}),i.processAsync(r)}getDataInfoByIptl(e){this.getServiceInfo(this.datasets.url,e)}getServiceInfo(e,t){let n=this;Be.get(e,null,{withCredentials:this.datasets.withCredentials}).then(e=>e.json()).then(r=>{if(!1!==r.succeed)if(r.dataItemServices&&r.dataItemServices.length>0){let i,s=r.dataItemServices;s.forEach(r=>{if("RESTDATA"===r.serviceType&&"PUBLISHED"===r.serviceStatus)i=r;else{if("RESTMAP"!==r.serviceType||"PUBLISHED"!==r.serviceStatus)return void n.getDatafromContent(e,t);i=r}}),i&&n.getDatafromRest(i.serviceType,i.address,t)}else n.getDatafromContent(e,t);else n._fireFailedEvent(r)}).catch(e=>{console.log(e),n._fireFailedEvent(e)})}getDatafromContent(e,t){let n={result:{}},r=this;e+="/content.json?pageSize=9999999&currentPage=1",Be.get(e,null,{withCredentials:this.datasets.withCredentials}).then(e=>e.json()).then(e=>{if(!1!==e.succeed){if(e.type){if("JSON"===e.type||"GEOJSON"===e.type){if(e.content=JSON.parse(e.content.trim()),!e.content.features)return void console.log(Jo.i18n("msg_jsonResolveFiled"));let t=this._formatGeoJSON(e.content);n.result.features={type:e.content.type,features:t}}else if("EXCEL"===e.type||"CSV"===e.type){let t=this._excelData2Feature(e.content);n.result.features={type:"FeatureCollection",features:t}}t(n,"content")}}else r._fireFailedEvent(e)},this).catch(e=>{console.log(e),r._fireFailedEvent(e)})}getDatafromRest(e,t,n){let r=this,i=this.datasets.withCredentials;if("RESTDATA"===e){let e,s,o=t+"/data/datasources";Be.get(o,null,{withCredentials:i}).then(e=>e.json()).then(a=>{e=a.datasourceNames[0],o=`${t}/data/datasources/${e}/datasets`,Be.get(o,null,{withCredentials:i}).then(e=>e.json()).then(i=>(s=i.datasetNames[0],r.getDatafromRestData(t+"/data",[e+":"+s],n),[e+":"+s])).catch((function(e){r._fireFailedEvent(e)}))}).catch((function(e){r._fireFailedEvent(e)}))}else{let e,s,o,a=t+"/maps";Be.get(a,null,{withCredentials:i}).then(e=>e.json()).then(l=>{e=l[0].name,o=l[0].path,a=a=`${t}/maps/${e}/layers`,Be.get(a,null,{withCredentials:i}).then(e=>e.json()).then(e=>(s=e[0].subLayers.layers[0].caption,r.getDatafromRestMap(s,o,n),s)).catch((function(e){r._fireFailedEvent(e)}))}).catch((function(e){r._fireFailedEvent(e)}))}}getDatafromRestData(e,t,n){let r=this;this.datasets.queryInfo.attributeFilter=this.datasets.queryInfo.attributeFilter||"SmID>0",this._getFeatureBySQL(e,t,this.datasets.queryInfo,e=>{n(e,"RESTDATA")},e=>{console.log(e),r._fireFailedEvent(e)})}getDatafromRestMap(e,t,n){let r=this;this.datasets.queryInfo.attributeFilter=this.datasets.queryInfo.attributeFilter||"smid=1",this._queryFeatureBySQL(t,e,this.datasets.queryInfo,null,null,e=>{n(e,"RESTMAP")},e=>{console.log(e),r._fireFailedEvent(e)})}_getFeatureBySQL(e,t,n,r,i){let s,o,a,l={name:t.join().replace(":","@")};Object.assign(l,n),s=new vt(l),a=new Kn({queryParameter:s,datasetNames:t,fromIndex:0,toIndex:1e5,returnContent:!0});let u={eventListeners:{processCompleted:e=>{r&&r(e)},processFailed:e=>{i&&i(e)}}};o=new Qn(e,u),o.processAsync(a)}_queryFeatureBySQL(e,t,n,r,i,s,o,a,l,u){var c,h,p={name:t};Object.assign(p,n),c=new vt(p),r&&(c.fields=r);var f={queryParams:[c]};u&&(f.queryOption=d.ATTRIBUTE),a&&(f.startRecord=a),l&&(f.expectCount=l),i&&(f.prjCoordSys={epsgCode:i}),h=new li(f),this._queryBySQL(e,h,e=>{"processCompleted"===e.type?s(e):o(e)})}_queryBySQL(e,t,n,r){var i=this,s=new ui(e,{eventListeners:{scope:i,processCompleted:n,processFailed:n},format:i._processFormat(r)});s.processAsync(t)}_processFormat(e){return e||c.GEOJSON}_formatGeoJSON(e){let t=e.features;return t.forEach((e,t)=>{e.properties["index"]=t}),t}_excelData2Feature(e){let t=e.colTitles,n=-1,r=-1;for(let s=0,o=t.length;s<o;s++)Yo.isXField(t[s])&&(n=s),Yo.isYField(t[s])&&(r=s);let i=[];for(let s=0,o=e.rows.length;s<o;s++){let t=e.rows[s],o=Number(t[n]),a=Number(t[r]),l={};for(let n in e.colTitles){let t=e.colTitles[n];l[t]=e.rows[s][n]}l["index"]=s+"";let u={type:"Feature",geometry:{type:"Point",coordinates:[o,a]},properties:l};i.push(u)}return i}_fireFailedEvent(e){let t=e?{error:e,message:Jo.i18n("msg_getdatafailed")}:{message:Jo.i18n("msg_getdatafailed")};this.events.triggerEvent("getdatafailed",t)}}class Qo{constructor(e){this.datasets=e.datasets,this.xField=[],this.yField=[],this.grid={top:"50px",bottom:"50px",left:"50px",right:"60px"},this.chartType=e.type||"bar",this._initXYField(e.chartOptions),this.EVENT_TYPES=["getdatafailed"],this.events=new _e(this,null,this.EVENT_TYPES)}_initXYField(e){let t=this;e&&e.length>0&&e.forEach((function(e){e.xAxis&&t.xField.push({field:e.xAxis.field,name:e.xAxis.name}),e.yAxis&&t.yField.push({field:e.yAxis.field,name:e.yAxis.name})}))}getDatasetInfo(e){this.createChart=e,this.datasets&&this._checkUrl(this.datasets.url)&&(this.chartModel=new Ko(this.datasets),"iServer"===this.datasets.type?this.chartModel.getDatasetInfo(this._getDatasetInfoSuccess.bind(this)):"iPortal"===this.datasets.type&&this.chartModel.getDataInfoByIptl(this._getDataInfoSuccess.bind(this)),this.chartModel.events.on({getdatafailed:e=>{this.events.triggerEvent("getdatafailed",e)}}))}_getDatasetInfoSuccess(e){let t=this.datasets.url,n=t.indexOf("rest");if(n>0){let r=t.indexOf("/",n+5),i=t.substring(n+5,r),s=t.substring(0,n+4)+"/data";if("maps"===i){let i=t.indexOf("/",r+1),o=t.substring(r+1,i);s=t.substring(0,n+4)+"/maps/"+o,e.result.dataUrl=s,this._getLayerFeatures(e)}else"data"===i&&(e.result.dataUrl=s,this._getDataFeatures(e))}}_getDataInfoSuccess(e,t){let n=this;"RESTMAP"===t?n._getChartDatasFromLayer(e):n._getChartDatas(e)}_getDataFeatures(e){this.chartModel.getDataFeatures(e,this._getChartDatas.bind(this))}_getLayerFeatures(e){this.chartModel.getLayerFeatures(e,this._getChartDatasFromLayer.bind(this))}_getChartDatas(e){if(e){this.features=e.result.features;let t=this.features.features,n={};if(t.length){let e=t[0],r=[],i=[];for(let t in e.properties)r.push(t),i.push(this._getDataType(e.properties[t]));n={features:t,fieldCaptions:r,fieldTypes:i,fieldValues:[]};for(let s in i){let e=[];for(let r in t){let i=t[r],o=n.fieldCaptions[s],a=i.properties[o];e.push(a)}n.fieldValues.push(e)}this.createChart(n)}}}_getChartDatasFromLayer(e){if(e.result.recordsets){let t=e.result.recordsets[0],n=t.features.features;this.features=t.features;let r={};if(n.length){r={features:t.features,fieldCaptions:t.fieldCaptions,fieldTypes:t.fieldTypes,fieldValues:[]};for(let e in r.fieldCaptions){let t=[];for(let i in n){let s=n[i],o=r.fieldCaptions[e],a=s.properties[o];t.push(a)}r.fieldValues.push(t)}this.createChart(r)}}}_createChartOptions(e){return this.calculatedData=this._createChartDatas(e),this.updateChartOptions(this.chartType)}changeType(e){if(e!==this.chartType)return this.chartType=e,this.updateChartOptions(this.chartType)}updateData(e,t,n){this.updateChart=n,this.xField=[],this.yField=[],this._initXYField(t),e.type=e.type||"iServer",e.withCredentials=e.withCredentials||!1,this.datasets=e,this.getDatasetInfo(this._updateDataSuccess.bind(this))}_updateDataSuccess(e){let t=this._createChartOptions(e);this.updateChart(t)}updateChartOptions(e,t){if(this.calculatedData){let n=this.grid,r=this._createChartSeries(this.calculatedData,e),i=[];for(let e in this.calculatedData.XData)i.push({value:this.calculatedData.XData[e].fieldsData});let s={type:"category",name:this.xField[0].name||"X",data:i,nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{lineStyle:{color:"#eee"}}},o={type:"value",name:this.yFieldName||"Y",data:{},nameTextStyle:{color:"#fff",fontSize:14},splitLine:{show:!1},axisLine:{lineStyle:{color:"#eee"}}},a={formatter:"{b0}: {c0}"},l="#404a59";return t&&(t.grid&&(n=t.grid),t.tooltip&&(a=t.tooltip),t.backgroundColor&&(l=t.backgroundColor)),{backgroundColor:l,grid:n,series:r,xAxis:s,yAxis:o,tooltip:a}}}_createChartDatas(e){let t=0,n=[],r=e.fieldCaptions,i=this;r.forEach((function(e,n){i.xField[0]&&e===i.xField[0].field&&(t=n)})),this.yFieldName="",this.yField.forEach((function(e,t){0!==t&&(i.yFieldName=i.yFieldName+","),i.yFieldName=i.yFieldName+e.name,r.forEach((function(t,r){t===e.field&&n.push(r)}))}));let s=this._getAttrData(e,t),o=[];if(n.length>0)n.forEach((function(t){let n=[];for(let r in e.fieldValues[t])n.push({value:e.fieldValues[t][r]});o.push(n)}));else{let e=[],t=[],n=s.length;for(let r=0;r<n;r++){let n=!1;for(let i=0,o=t.length;i<o;i++)if(s[r].fieldsData===t[i].fieldsData){e[i].value++,t[i].recordIndexs.push(r),n=!0;break}n||s[r].fieldsData&&(t.push({fieldsData:s[r].fieldsData,recordIndexs:[r]}),e.push({value:1}))}s=t,o=[e]}return{XData:s,YData:o}}_getAttrData(e,t){0===t&&(this.xField=[{field:e.fieldCaptions[t],name:e.fieldCaptions[t]}]);let n=[];for(let r=0,i=e.fieldValues[t].length;r<i;r++){let i=e.fieldValues[t][r];n.push({recordIndexs:r,fieldsData:i})}return n}_createChartSeries(e,t){let n=[],r=e.YData;return r.forEach((function(e){let r=0,i=[];for(let t of e)r=t.value,i.push({value:r});let s={type:t,data:i,name:"y"};n.push(s)})),n}_isDate(e){let t=/((^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(10|12|0?[13578])([-\/\._])(3[01]|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(11|0?[469])([-\/\._])(30|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(0?2)([-\/\._])(2[0-8]|1[0-9]|0?[1-9])$)|(^([2468][048]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([3579][26]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][13579][26])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][13579][26])([-\/\._])(0?2)([-\/\._])(29)$))/gi;return t.test(e)}_isNumber(e){let t=Number(e);return 0===t||!isNaN(t)}_getDataType(e){if(null!==e&&void 0!==e&&""!==e){if(this._isDate(e))return"DATE";if(this._isNumber(e))return"NUMBER"}return"STRING"}_checkUrl(e){let t;return t=!(""===e||!this._isMatchUrl(e))&&(!/^http[s]?:\/\/localhost/.test(e)&&!/^http[s]?:\/\/127.0.0.1/.test(e)),t}_isMatchUrl(e){var t=new RegExp("(https?|http|file|ftp)://[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]");return t.test(e)}getStyle(){let e={grid:this.grid,tooltip:this.tooltip,backgroundColor:this.backgroundColor};return e}getFeatures(){return this.features}setStyle(e){return this.updateChartOptions(this.chartType,e)}}u.Components.ChartViewModel=Qo;class $o{constructor(e,t){this.domID=e,this.chartType=t.type||"bar",t.datasets.type=t.datasets.type||"iServer",t.datasets.withCredentials=t.datasets.withCredentials||!1,this.viewModel=new Qo(t),this._fillDataToView()}onAdd(e){this.addChart=e}_fillDataToView(){let e=new Vo;this.viewModel.getDatasetInfo(this._createChart.bind(this)),this.viewModel.events.on({getdatafailed:t=>{e.showView(t.message)}})}getStyle(){return this.viewModel.getStyle()}getFeatures(){return this.viewModel.getFeatures()}setStyle(e){let t=this.viewModel.setStyle(e);this._updateChart(t)}changeType(e){if(this.chartType!==e){this.chartType=e;let t=this.viewModel.changeType(e);this._updateChart(t)}}updateData(e,t){let n=this;this.viewModel.updateData(e,t,(function(e){n._updateChart(e),n.addChart&&n.addChart()}))}_createChart(e){this.echart=Ho.a.init(document.getElementById(this.domID),null,{renderer:"canvas"});let t=this.viewModel._createChartOptions(e);this.echart.setOption(t),this.addChart&&this.addChart()}_updateChart(e){this.echart&&(this.echart.clear(),this.echart.setOption(e))}}u.Components.Chart=$o;class ea{constructor(e){e=e||{},this.id=e.id?e.id:null,this.rootContainer=null}getElement(){return this.id&&(this.rootContainer.id=this.id),this.rootContainer}_initView(){}showView(){this.rootContainer.hidden=!1}closeView(){this.rootContainer.hidden=!0}}u.Components.TemplateBase=ea;class ta extends ea{constructor(e){super(e);let t=e.title?e.title:"";this._initView(t)}_initView(e){const t=document.createElement("div");t.setAttribute("class","component-container");const n=document.createElement("div");n.setAttribute("class","component-title");const r=document.createElement("div");r.innerHTML=e,n.appendChild(r),t.appendChild(n);const i=document.createElement("div");return i.setAttribute("class","component-content"),t.appendChild(i),this.content=i,this.rootContainer=t,t}getContentElement(){return this.content}appendContent(e){this.content.appendChild(e)}}u.Components.CommonContainer=ta;class na extends ea{constructor(e){super(e),this._initView(e)}_initView(e){let t=this._createElement("div","component-selecttool");if(e.labelName){let n=this._createElement("label","component-selecttool__lable--describe",t);n.innerHTML=e.labelName}let n=this._createElement("div","component-selecttool--chart",t);n.setAttribute("tabindex","1");let r=this._createElement("div","component-selecttool__name",n);r.title=e.optionsArr[0],r.innerHTML=e.optionsArr[0];let i=this._createElement("div","component-selecttool__trianglebtn--chart",n),s=this._createElement("div","component-triangle-down-img",i),o=this._createElement("div","component-selecttool__content",n),a=this._createElement("div","component-selecttool__content--chart",o),l=this._createElement("div","component-selecttool__scrollarea__content",a);l.setAttribute("tabindex","1"),this.createOptions(l,e.optionsArr),this.optionClickEvent(l,r,e.optionsClickCb),this._selectClickEvent(n,o,s),this.rootContainer=t}createOptions(e,t){for(let n in t){let r=this._createElement("div","component-selecttool__option",e);r.title=t[n],r.innerHTML=t[n]}}_selectClickEvent(e,t,n){e.onclick=function(e){"block"===t.style.display?(t.style.display="none",n.className="component-triangle-down-img"):(t.style.display="block",n.className="triangle-up-img"),e.preventDefault(),e.stopPropagation()},e.onmousedown=function(e){e.target!==this&&(this.focus(),e.preventDefault(),e.stopPropagation())},e.onblur=function(){t.style.display="none",n.className="component-triangle-down-img"}}_createElement(e,t,n){let r=document.createElement(e||"div");return t&&(r.className=t),n&&n.appendChild(r),r}optionClickEvent(e,t,n){for(let r=0;r<e.children.length;r++){let i=e.children[r];i.onclick=function(){t.innerHTML=i.innerHTML,t.title=i.title,i.getAttribute("data-value")&&t.setAttribute("data-value",i.getAttribute("data-value")),n&&n(i)}}}}u.Components.Select=na;class ra extends ea{constructor(e){super(e),this._initView(e)}_initView(e){let t=document.createElement("div");t.className="component-dropdownbox--container";let n=document.createElement("div");n.setAttribute("tabindex","1"),n.className="component-dropdownbox",t.appendChild(n);let r=document.createElement("div");n.appendChild(r),this._createDropDownOption(e[0],r);let i=document.createElement("div");i.className="component-dropdownbox__triangle-btn",n.appendChild(i);let s=document.createElement("div");s.className="component-triangle-down-img",i.appendChild(s);let o={parentEle:n,dropDownContent:["component-dropdownbox__content component-dropdownbox__content--chart","dropDownContent"],scrollareaContent:"component-selecttool__scrollarea__content",optionsArr:e,triangleBtn:s,dropDownTopContainer:r};this._createDropDownBox(o),this.rootContainer=t}_createDropDownBox(e){let t=e.parentEle,n=e.dropDownTopContainer,r=document.createElement("div");r.className=e.dropDownContent[0],t.appendChild(r);let i=document.createElement("div");i.className=e.scrollareaContent,r.appendChild(i);let s=e.optionsArr;for(let l=0;l<s.length;l++)this._createDropDownOption(s[l],i);let o=e.triangleBtn;this._dropDownClickEvent(t,r,o),this._eleOnblur(t,r,o);let a=i.children;for(let l=0;l<a.length;l++)a[l].onclick=function(){n.innerHTML=a[l].outerHTML}}_createDropDownOption(e,t){let n=document.createElement("div");n.className="component-dropdownbox__item";let r=e;r["dataValue"]&&n.setAttribute("data-value",r["dataValue"]),t.appendChild(n);let i=document.createElement("div");i.className="component-dropdownbox__item__img",n.appendChild(i);let s=document.createElement("div");r.icon.className&&(s.className=r.icon.className),r.icon.background&&(s.style.background=r.icon.background),i.appendChild(s);let o=document.createElement("div");o.className="component-dropdownbox__item__title",o.title=r.title,o.innerHTML=r.title,n.appendChild(o);let a=document.createElement("div");a.className="component-dropdownbox__item__remark",a.title=r.remark,a.innerHTML=r.remark,n.appendChild(a)}_dropDownClickEvent(e,t,n){e.onclick=function(e){"block"===t.style.display?(t.style.display="none",n.className="component-triangle-down-img"):(t.style.display="block",n.className="triangle-up-img"),e.preventDefault(),e.stopPropagation()},e.onmousedown=function(e){e.target!==this&&(this.focus(),e.preventDefault(),e.stopPropagation())}}_eleOnblur(e,t,n){e.onblur=function(){t.style.display="none",n.className="component-triangle-down-img"}}_createElement(e,t,n){let r=document.createElement(e||"div");return t&&(r.className=t),n&&n.appendChild(r),r}}u.Components.DropDownBox=ra;class ia extends ea{constructor(e){e=e||{},super(e),e.title=e.title?e.title:"",this._initView(e.title)}_initView(e){const t=document.createElement("div");t.setAttribute("class","component-popcontainer");const n=document.createElement("div");n.setAttribute("class","component-popcontainer__header");const r=document.createElement("label");r.setAttribute("class","component-popcontainer__header__title"),r.innerHTML=e,n.appendChild(r);const i=document.createElement("span");i.setAttribute("class","supermapol-icons-clear component-popcontainer__header__close"),i.onclick=this.closeView.bind(this),t.appendChild(i),t.appendChild(n);const s=document.createElement("div");s.setAttribute("class","component-popcontainer__content"),this.content=s,t.appendChild(s),this.rootContainer=t}appendContent(e){this.content.appendChild(e)}}u.Components.PopContainer=ia;class sa extends ia{constructor(e){e.title=e.title?e.title:"",super(e),this.rootContainer.firstChild.hidden=!0,e.attributes=e.attributes?e.attributes:[],this._createAttributesTable(e.attributes)}_createAttributesTable(e){const t=document.createElement("table");t.setAttribute("class","component-popcontainer__content__table");const n=document.createElement("tbody");let r=!0;for(let i in e){const t=document.createElement("tr");r&&t.setAttribute("class","component-popcontainer__content__td--color");const s=document.createElement("td"),o=document.createElement("Span");o.innerHTML=i,s.appendChild(o);const a=document.createElement("td");a.innerHTML=e[i],t.appendChild(s),t.appendChild(a),n.appendChild(t),r=!r}t.appendChild(n),this.appendContent(t)}}u.Components.AttributesPopContainer=sa;class oa extends ea{constructor(e){super(e),this._initView()}_initView(){const e=document.createElement("div");e.setAttribute("class","component-tabpage");const t=document.createElement("ul");this.header=t;const n=document.createElement("div");n.setAttribute("class","component-tabpage__content"),this.content=n,e.appendChild(t),e.appendChild(n),this.rootContainer=e}setTabs(e){this.removeAllTabs(),this.appendTabs(e)}appendTabs(e){for(let t=0;t<e.length;t++){let n=document.createElement("span");n.index=t,n.appendChild(document.createTextNode(e[t].title)),n.onclick=this._changeTabsPage.bind(this);let r=e[t].content;r.index=t,r.hidden=!0,this.header.appendChild(n),this.content.appendChild(r)}this.header.firstChild.setAttribute("class","on"),this.content.firstChild.hidden=!1}removeTab(e){this.header.removeChild(this.header.children[e]),this.content.removeChild(this.content.children[e])}removeAllTabs(){for(let e=this.header.children.length;e>0;e--)this.header.removeChild(this.header.children[e]),this.content.removeChild(this.content.children[e])}_changeTabsPage(e){const t=e.target.index;for(let n=0;n<this.header.children.length;n++)this.header.children[n].setAttribute("class",""),this.content.children[n].hidden=!0,n===t&&(this.header.children[n].setAttribute("class","on"),this.content.children[n].hidden=!1)}}u.Components.IndexTabsPageContainer=oa;class aa extends oa{constructor(e){super(e),this.rootContainer.classList.add("component-citytabpage--noneBoxShadow"),this.config=e.config,te.isArray(this.config)?(this.header.hidden=!0,this._createCityItem("",this.config),this.content.style.border="none"):(this._createTabs(),this.header.onclick=e=>{for(let t=0;t<this.header.children.length;t++)this.header.children[t].setAttribute("class","");e.target.setAttribute("class","on"),this._createCityContent(e.target.innerHTML)})}_createTabs(){if(te.isArray(this.config))for(let e=0;e<this.config.length;e++){let t="";for(const r in this.config[e])t+=r;let n=document.createElement("li");n.innerHTML=t,this.header.appendChild(n)}else for(const e in this.config){let t=document.createElement("li");t.innerHTML=e,this.header.appendChild(t)}this.header.firstChild.setAttribute("class","on"),this._createCityContent(this.header.firstChild.innerHTML)}_createCityContent(e){for(let n=this.content.children.length;n>0;n--)this.content.removeChild(this.content.children[n-1]);const t=this.config[e];for(let n in t)this._createCityItem(n,t[n])}_createCityItem(e,t){const n=document.createElement("div"),r=document.createElement("div");r.setAttribute("class","component-citytabpag__py-key"),r.innerHTML=e,n.appendChild(r);const i=document.createElement("div");i.setAttribute("class","component-citytabpag__content");for(let s=0;s<t.length;s++){let e=document.createElement("span");e.innerHTML=t[s],i.appendChild(e)}"HOT"===e&&(i.style.width="428px"),n.appendChild(i),this.content.appendChild(n)}}u.Components.CityTabsPage=aa;class la extends ea{constructor(e){super(e),this.navTabsTitle=null,this.navTabsContent=null,e.tabs=e.tabs?e.tabs:[],this._initView(e.tabs)}_initView(e){const t=document.createElement("div");t.setAttribute("class","component-navtabspage");const n=document.createElement("span");n.setAttribute("class","supermapol-icons-close"),n.onclick=this.closeView.bind(this),t.appendChild(n);const r=document.createElement("div");this.navTabsTitle=r,r.setAttribute("class","component-navtabspage__title"),t.appendChild(r);const i=document.createElement("div");this.navTabsContent=i,i.setAttribute("class","component-navtabspage__content"),t.appendChild(i),e.length>0&&this.appendTabs(e),this.rootContainer=t}setTabs(e){this.removeAllTabs(),this.appendTabs(e)}appendTabs(e){for(let t=0;t<e.length;t++){let n=document.createElement("span");n.index=t,n.appendChild(document.createTextNode(e[t].title)),n.onclick=this._changeTabsPage.bind(this);let r=e[t].content;r.index=t,r.hidden=!0,this.navTabsTitle.appendChild(n),this.navTabsContent.appendChild(r)}this.navTabsTitle.firstChild.setAttribute("class","component-navtabspage__tabs--select"),this.navTabsContent.firstChild.hidden=!1}removeTab(e){this.navTabsTitle.removeChild(this.navTabsTitle.children[e]),this.navTabsContent.removeChild(this.navTabsContent.children[e])}removeAllTabs(){for(let e=this.navTabsTitle.children.length;e>0;e--)this.navTabsTitle.removeChild(this.navTabsTitle.children[e]),this.navTabsContent.removeChild(this.navTabsContent.children[e])}_changeTabsPage(e){const t=e.target.index;for(let n=0;n<this.navTabsTitle.children.length;n++)this.navTabsTitle.children[n].setAttribute("class",""),this.navTabsContent.children[n].hidden=!0,n===t&&(this.navTabsTitle.children[n].setAttribute("class","component-navtabspage__tabs--select"),this.navTabsContent.children[n].hidden=!1)}}u.Components.NavTabsPage=la;class ua extends ea{constructor(e){e=e||{},super(e),this.currentPage=0,this.pageNumberLis=[],this.currentPageNumberLis=[],this.linkageEvent=null,e.contents=e.contents?e.contents:null,e.pageCounts=e.pageCounts?e.pageCounts:0,this._initView(e.contents,e.pageCounts)}setLinkageEvent(e){this.linkageEvent=e}_initView(e,t){const n=document.createElement("div");n.setAttribute("class","component-pagination");const r=document.createElement("div");r.setAttribute("class","component-pagination__content"),n.appendChild(r),this.content=r;const i=document.createElement("ul");i.setAttribute("class","component-pagination__link"),i.onclick=this._changePageEvent.bind(this),n.appendChild(i),this._createLink(i),this.link=i,e&&this.setContent(e),0!==t&&this.setPageLink(t),this.rootContainer=n}setContent(e){this.clearContent(),this.appendContent(e)}appendContent(e){this.content.appendChild(e)}clearContent(){for(let e=this.content.children.length-1;e>=0;e--)this.content.removeChild(this.content.children[e])}setPageLink(e){this.pageNumberLis=[],this.currentPageNumberLis=[],this.clearPageLink(),this._createPageLi(e),this._appendPageLink()}_createPageLi(e){for(let t=0;t<e;t++){const e=document.createElement("li");e.innerHTML=t+1,this.pageNumberLis.push(e)}if(this.pageNumberLis[0].setAttribute("class","active"),this.currentPage=1,e<5)this.currentPageNumberLis=this.pageNumberLis;else for(let t=0;t<5;t++)this.currentPageNumberLis.push(this.pageNumberLis[t])}_appendPageLink(){for(let e=0;e<this.currentPageNumberLis.length;e++)this.link.insertBefore(this.currentPageNumberLis[e],this.link.childNodes[this.link.children.length-2]);for(let e=0;e<this.currentPageNumberLis.length;e++)this.currentPageNumberLis[e].setAttribute("class",""),Number(this.currentPageNumberLis[e].innerHTML)===this.currentPage&&this.currentPageNumberLis[e].setAttribute("class","active");this._changeDisableState(),this.linkageEvent&&this.linkageEvent(this.currentPage)}clearPageLink(){for(let e=this.link.children.length-3;e>1;e--)this.link.removeChild(this.link.children[e])}_createLink(e){for(let t=0;t<4;t++){const n=document.createElement("li");n.setAttribute("class","disable");const r=document.createElement("span");n.appendChild(r),0===t?(r.id="first",r.setAttribute("class","supermapol-icons-first")):1===t?(r.id="prev",r.setAttribute("class","supermapol-icons-prev")):2===t?(r.id="next",r.setAttribute("class","supermapol-icons-next")):3===t&&(r.id="last",r.setAttribute("class","supermapol-icons-last")),e.appendChild(n)}}_changePageEvent(e){const t=e.target;if("disable"===t.parentElement.classList[0])return;let n;if(t.id)n=t.id;else{if(!Number(t.innerHTML))return;n=Number(t.innerHTML)}this._prePageNum(n),this.clearPageLink(),this._appendPageLink()}_changeDisableState(){this.link.children[0].setAttribute("class",""),this.link.children[1].setAttribute("class",""),this.link.children[this.link.children.length-1].setAttribute("class",""),this.link.children[this.link.children.length-2].setAttribute("class",""),1===this.currentPage&&(this.link.children[0].setAttribute("class","disable"),this.link.children[1].setAttribute("class","disable")),this.currentPage===this.pageNumberLis.length&&(this.link.children[this.link.children.length-1].setAttribute("class","disable"),this.link.children[this.link.children.length-2].setAttribute("class","disable"))}_prePageNum(e){const t=[];if(this.currentPage="first"===e?1:"last"===e?this.pageNumberLis.length:"prev"===e?this.currentPage-1:"next"===e?this.currentPage+1:e,this.pageNumberLis.length<=5)for(let n=0;n<this.pageNumberLis.length;n++)t.push(this.pageNumberLis[n]);else if(this.currentPage<=3)for(let n=0;n<5;n++)t.push(this.pageNumberLis[n]);else if(this.currentPage>=this.pageNumberLis.length-3)for(let n=this.pageNumberLis.length-5;n<this.pageNumberLis.length;n++)t.push(this.pageNumberLis[n]);else for(let n=this.currentPage-3;n<=this.currentPage+1;n++)t.push(this.pageNumberLis[n]);t.length>0&&(this.currentPageNumberLis=t)}}u.Components.PaginationContainer=ua;let ca={getFileType(e){let t=/^.*\.(?:csv)$/i,n=/^.*\.(?:xls|xlsx)$/i,r=/^.*\.(?:geojson|json)$/i;return n.test(e)?Uo.EXCEL:t.test(e)?Uo.CSV:r.test(e)?Uo.GEOJSON:null}},ha={title_dataFlowService:"Data Flow Service",title_distributedAnalysis:"Distributed Analysis",title_clientComputing:"Client Computing",title_dataServiceQuery:"Data Service Query",title_searchCity:"Search city",title_searchLayer:" Search layer",text_input_value_inputDataFlowUrl:"Please enter the data stream service address such as: ws://{serviceRoot}/{dataFlowName}/dataflow/subscribe",text_displayFeaturesInfo:"Display feature information",text_subscribe:"subscribe",text_cancelSubscribe:"unsubscribe",text_densityAnalysis:"Density Analysis",text_CalculateTheValuePerUnitArea:"Calculate the value per unit area within the neighborhood shape",text_option_selectDataset:"Please select a dataset",text_label_dataset:"Dataset",text_option_simplePointDensityAnalysis:"Simple point density analysis",text_option_nuclearDensityAnalysis:"Nuclear density analysis",text_label_analyticalMethod:"Analytical method",text_option_quadrilateral:"Quadrilateral",text_option_hexagon:"hexagon",text_label_meshType:"Mesh type",text_option_notSet:"Not set",text_label_weightField:"Weight field",text_label_gridSizeInMeters:"Grid size",text_label_searchRadius:"Search radius",text_label_queryRange:"Scope of analysis",text_label_areaUnit:"Area unit",text_option_equidistantSegmentation:"Equidistant segmentation",text_option_logarithm:"Logarithm",text_option_equalCountingSegment:"Equal counting segment",text_option_squareRootSegmentation:"Square root segmentation",text_label_thematicMapSegmentationMode:"Thematic map segmentation mode",text_label_thematicMapSegmentationParameters:"Thematic map segmentation parameters",text_option_greenOrangePurpleGradient:"Green orange purple gradient",text_option_greenOrangeRedGradient:"Green orange red gradient",text_option_rainbowGradient:"Rainbow gradient",text_option_spectralGradient:"Spectral gradient",text_option_terrainGradient:"Terrain gradient",text_label_thematicMapColorGradientMode:"Thematic map color gradient mode",text_label_resultLayerName:"Result layer name",text_chooseFile:"Open File",text_isoline:"Isoline",text_extractDiscreteValue:"Extract discrete value generation curve",text_buffer:"Buffer",text_specifyTheDistance:"Specify the distance to create the surrounding area",text_label_analysisLayer:"Analysis layer",text_label_extractField:"Extract field",text_label_extractedValue:"Extracted value",text_label_distanceAttenuation:"Distance attenuation",text_label_gridSize:"gridSize",text_label_bufferRadius:"Buffer radius",text_label_defaultkilometers:"Default 10 kilometers",text_label_kilometer:"kilometer",text_label_unit:"unit",text_retainOriginal:"Retain original object field",text_mergeBuffer:"Merge buffer",text_label_color:"Color",text_label_buffer:"[Buffer]",text_label_isolines:"[Isolines]",text_label_queryRangeTips:"The default is the full range of input data. Example: -74.050, 40.650, -73.850, 40.850",text_label_queryModel:"Query mode",text_label_IDArrayOfFeatures:"ID array of features",text_label_maxFeatures:"The maximum number of features that can be returned",text_label_bufferDistance:"Buffer distance",text_label_queryRange1:"Query range",text_label_spatialQueryMode:"Spatial query mode",text_label_featureFilter:"Feature filter",text_label_geometricObject:"Geometric object",text_label_queryMode:"Query mode",text_label_searchTips:"Search for city locations or layer features",text_label_chooseSearchLayers:"Select a query layer",text_loadSearchCriteria:"Load search criteria",text_saveSearchCriteria:"Save search criteria",btn_analyze:"Analyze",btn_analyzing:"Analyzing",btn_emptyTheAnalysisLayer:"Empty the analysis layer",btn_cancelAnalysis:"Cancel",btn_query:"Query",btn_querying:"Querying",btn_emptyTheRresultLayer:"Clear all result layers","msg_dataReturnedIsEmpty.":"The request is successful and the data returned by the query is empty.",msg_dataFlowServiceHasBeenSubscribed:"The data stream service has been subscribed to.",msg_inputDataFlowUrlFirst:"Please enter the data stream service address first.",msg_datasetOrMethodUnsupport:"This dataset does not support this analysis type. Please reselect the dataset.",msg_selectDataset:"Please select a data set!",msg_setTheWeightField:"Please set the weight field!",msg_theFieldNotSupportAnalysis:"The field you currently select does not support analysis!",msg_resultIsEmpty:"The result of the analysis is empty!",msg_openFileFail:"Failed to open file!",msg_fileTypeUnsupported:"File format is not supported!",msg_fileSizeExceeded:"File size exceeded! The file size should not exceed 10M!",msg_dataInWrongGeoJSONFormat:"Wrong data format! Non standard GEOJSON format data!",msg_dataInWrongFormat:"Wrong data format! Non standard EXCEL, CSV or GEOJSON format data!",msg_searchKeywords:"Search keywords cannot be empty. Please enter your search criteria.",msg_searchGeocodeField:"Did not match the address matching service data!",msg_cityGeocodeField:"The address matching service of the current city is not configured.",msg_getFeatureField:"No related vector features found!",msg_dataflowservicesubscribed:"The data stream service has been subscribed to.",msg_subscribesucceeded:"The data stream service subscription was successful.",msg_crsunsupport:"Does not support the coordinate system of the current map",msg_tilematrixsetunsupport:"Incoming TileMatrixSet is not supported",msg_jsonResolveFiled:"JSON format parsing failure",msg_requestContentFiled:"Failed to request data through iportal!",msg_getdatafailed:"Failed to get data!"};u.Lang["en-US"]=ha;let pa={title_dataFlowService:"",title_distributedAnalysis:"",title_clientComputing:"",title_dataServiceQuery:"",title_searchCity:"",title_searchLayer:"",text_input_value_inputDataFlowUrl:":ws://{serviceRoot}/{dataFlowName}/dataflow/subscribe",text_displayFeaturesInfo:"",text_subscribe:"",text_cancelSubscribe:"",text_densityAnalysis:"",text_CalculateTheValuePerUnitArea:"",text_option_selectDataset:"",text_label_dataset:"",text_option_simplePointDensityAnalysis:"",text_option_nuclearDensityAnalysis:"",text_label_analyticalMethod:"",text_option_quadrilateral:"",text_option_hexagon:"",text_label_meshType:"",text_option_notSet:"",text_label_weightField:"",text_label_gridSizeInMeters:"",text_label_searchRadius:"",text_label_queryRange:"",text_label_areaUnit:"",text_option_equidistantSegmentation:"",text_option_logarithm:"",text_option_equalCountingSegment:"",text_option_squareRootSegmentation:"",text_label_thematicMapSegmentationMode:"",text_label_thematicMapSegmentationParameters:"",text_option_greenOrangePurpleGradient:"",text_option_greenOrangeRedGradient:"",text_option_rainbowGradient:"",text_option_spectralGradient:"",text_option_terrainGradient:"",text_label_thematicMapColorGradientMode:"",text_label_resultLayerName:"",text_chooseFile:"",text_isoline:"",text_extractDiscreteValue:"",text_buffer:"",text_specifyTheDistance:"",text_label_analysisLayer:"",text_label_extractField:"",text_label_extractedValue:"",text_label_distanceAttenuation:"",text_label_gridSize:"",text_label_bufferRadius:"",text_label_defaultkilometers:"10",text_option_kilometer:"",text_label_unit:"",text_retainOriginal:"",text_mergeBuffer:"",text_label_color:"",text_label_buffer:"[]",text_label_isolines:"[]",text_label_queryRangeTips:"-74.050,40.650,-73.850,40.850",text_label_IDArrayOfFeatures:" ID ",text_label_maxFeatures:"",text_label_bufferDistance:"",text_label_queryRange1:"",text_label_spatialQueryMode:"",text_label_featureFilter:"",text_label_geometricObject:"",text_label_queryMode:"",text_label_searchTips:"",text_label_chooseSearchLayers:"",text_loadSearchCriteria:"",text_saveSearchCriteria:"",btn_analyze:"",btn_analyzing:"",btn_emptyTheAnalysisLayer:"",btn_cancelAnalysis:"",btn_query:"",btn_querying:"",btn_emptyTheRresultLayer:"",msg_dataFlowServiceHasBeenSubscribed:"",msg_inputDataFlowUrlFirst:"",msg_datasetOrMethodUnsupport:"",msg_selectDataset:"",msg_setTheWeightField:"",msg_theFieldNotSupportAnalysis:"",msg_resultIsEmpty:"",msg_dataReturnedIsEmpty:"",msg_openFileFail:"",msg_fileTypeUnsupported:"",msg_fileSizeExceeded:" 10M",msg_dataInWrongGeoJSONFormat:" GEOJSON ",msg_dataInWrongFormat:" EXCEL, CSV  GEOJSON ",msg_searchKeywords:"",msg_searchGeocodeField:"",msg_cityGeocodeField:"",msg_getFeatureField:"",msg_dataflowservicesubscribed:"",msg_subscribesucceeded:"",msg_crsunsupport:"",msg_tilematrixsetunsupport:"TileMatrixSet",msg_jsonResolveFiled:"json",msg_requestContentFiled:"iportal",msg_getdatafailed:""};u.Lang["zh-CN"]=pa,a.a.Projection={};var da=a.a.Class.extend({initialize:function(e){this.bounds=e},project:function(e){return new a.a.Point(e.lng,e.lat)},unproject:function(e){return new a.a.LatLng(e.y,e.x)}}),fa=function(e){return new da(e)},ma=a.a.Class.extend({includes:a.a.CRS,initialize:function(e){e.origin&&(this.transformation=new a.a.Transformation(1,-e.origin.x,-1,e.origin.y)),this.projection=a.a.Projection.NonProjection(e.bounds),this.bounds=e.bounds,this.origin=e.origin,this.resolutions=e.resolutions},scale:function(e){let t;if(this.resolutions&&0!==this.resolutions.length)t=1/this.resolutions[0];else{const e=Math.max(this.bounds.getSize().x,this.bounds.getSize().y);t=1/(e/256)}return t*Math.pow(2,e)},zoom:function(e){let t;if(this.resolutions&&0!==this.resolutions.length)t=1/this.resolutions[0];else{const e=Math.max(this.bounds.getSize().x,this.bounds.getSize().y);t=1/(e/256)}return Math.log(e/t)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!1}),ya=function(e){return new ma(e)};a.a.Projection.NonProjection=fa,a.a.CRS.NonEarthCRS=ya;var ga=function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]},_a=1,va=2,ba=4,xa=5,wa=484813681109536e-20,Sa=Math.PI/2,Ca=.16666666666666666,Ea=.04722222222222222,Ta=.022156084656084655,Aa=1e-10,Pa=.017453292519943295,Ia=57.29577951308232,La=Math.PI/4,Ma=2*Math.PI,Oa=3.14159265359,ka={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},Na={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},Ra=/[\s_\-\/\(\)]/g;function Da(e,t){if(e[t])return e[t];var n,r,i=Object.keys(e),s=t.toLowerCase().replace(Ra,""),o=-1;while(++o<i.length)if(n=i[o],r=n.toLowerCase().replace(Ra,""),r===s)return e[n]}var Fa=function(e){var t,n,r,i={},s=e.split("+").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n=t.split("=");return n.push(!0),e[n[0].toLowerCase()]=n[1],e}),{}),o={proj:"projName",datum:"datumCode",rf:function(e){i.rf=parseFloat(e)},lat_0:function(e){i.lat0=e*Pa},lat_1:function(e){i.lat1=e*Pa},lat_2:function(e){i.lat2=e*Pa},lat_ts:function(e){i.lat_ts=e*Pa},lon_0:function(e){i.long0=e*Pa},lon_1:function(e){i.long1=e*Pa},lon_2:function(e){i.long2=e*Pa},alpha:function(e){i.alpha=parseFloat(e)*Pa},lonc:function(e){i.longc=e*Pa},x_0:function(e){i.x0=parseFloat(e)},y_0:function(e){i.y0=parseFloat(e)},k_0:function(e){i.k0=parseFloat(e)},k:function(e){i.k0=parseFloat(e)},a:function(e){i.a=parseFloat(e)},b:function(e){i.b=parseFloat(e)},r_a:function(){i.R_A=!0},zone:function(e){i.zone=parseInt(e,10)},south:function(){i.utmSouth=!0},towgs84:function(e){i.datum_params=e.split(",").map((function(e){return parseFloat(e)}))},to_meter:function(e){i.to_meter=parseFloat(e)},units:function(e){i.units=e;var t=Da(Na,e);t&&(i.to_meter=t.to_meter)},from_greenwich:function(e){i.from_greenwich=e*Pa},pm:function(e){var t=Da(ka,e);i.from_greenwich=(t||parseFloat(e))*Pa},nadgrids:function(e){"@null"===e?i.datumCode="none":i.nadgrids=e},axis:function(e){var t="ewnsud";3===e.length&&-1!==t.indexOf(e.substr(0,1))&&-1!==t.indexOf(e.substr(1,1))&&-1!==t.indexOf(e.substr(2,1))&&(i.axis=e)}};for(t in s)n=s[t],t in o?(r=o[t],"function"===typeof r?r(n):i[r]=n):i[t]=n;return"string"===typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i},Ba=Ka,qa=1,za=2,Ua=3,Ga=4,ja=5,Va=-1,Wa=/\s/,Ha=/[A-Za-z]/,Ja=/[A-Za-z84]/,Xa=/[,\]]/,Za=/[\d\.E\-\+]/;function Ya(e){if("string"!==typeof e)throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=qa}function Ka(e){var t=new Ya(e);return t.output()}function Qa(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,i=n.reduce((function(e,t){return $a(t,e),e}),r);t&&(e[t]=i)}function $a(e,t){if(Array.isArray(e)){var n=e.shift();if("PARAMETER"===n&&(n=e.shift()),1===e.length)return Array.isArray(e[0])?(t[n]={},void $a(e[0],t[n])):void(t[n]=e[0]);if(e.length)if("TOWGS84"!==n){if("AXIS"===n)return n in t||(t[n]=[]),void t[n].push(e);var r;switch(Array.isArray(n)||(t[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(3===e.length&&$a(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(4===e.length&&$a(e[3],t[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return e[0]=["name",e[0]],void Qa(t,n,e);default:r=-1;while(++r<e.length)if(!Array.isArray(e[r]))return $a(e,t[n]);return Qa(t,n,e)}}else t[n]=e;else t[n]=!0}else t[e]=!0}Ya.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==Ga)while(Wa.test(e)){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case qa:return this.neutral(e);case za:return this.keyword(e);case Ga:return this.quoted(e);case ja:return this.afterquote(e);case Ua:return this.number(e);case Va:return}},Ya.prototype.afterquote=function(e){if('"'===e)return this.word+='"',void(this.state=Ga);if(Xa.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in afterquote yet, index '+this.place)},Ya.prototype.afterItem=function(e){return","===e?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=qa)):"]"===e?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=qa,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=Va))):void 0},Ya.prototype.number=function(e){if(!Za.test(e)){if(Xa.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error("havn't handled \""+e+'" in number yet, index '+this.place)}this.word+=e},Ya.prototype.quoted=function(e){'"'!==e?this.word+=e:this.state=ja},Ya.prototype.keyword=function(e){if(Ja.test(e))this.word+=e;else{if("["===e){var t=[];return t.push(this.word),this.level++,null===this.root?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=qa)}if(!Xa.test(e))throw new Error("havn't handled \""+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},Ya.prototype.neutral=function(e){if(Ha.test(e))return this.word=e,void(this.state=za);if('"'===e)return this.word="",void(this.state=Ga);if(Za.test(e))return this.word=e,void(this.state=Ua);if(!Xa.test(e))throw new Error("havn't handled \""+e+'" in neutral yet, index '+this.place);this.afterItem(e)},Ya.prototype.output=function(){while(this.place<this.text.length)this.readCharicter();if(this.state===Va)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var el=.017453292519943295;function tl(e,t){var n=t[0],r=t[1];!(n in e)&&r in e&&(e[n]=e[r],3===t.length&&(e[n]=t[2](e[n])))}function nl(e){return e*el}function rl(e){if("GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"===typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",n=0,r=e.AXIS.length;n<r;++n){var i=e.AXIS[n],s=i[0].toLowerCase();-1!==s.indexOf("north")?t+="n":-1!==s.indexOf("south")?t+="s":-1!==s.indexOf("east")?t+="e":-1!==s.indexOf("west")&&(t+="w")}2===t.length&&(t+="u"),3===t.length&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var o=e.GEOGCS;function a(t){var n=e.to_meter||1;return t*n}"GEOGCS"===e.type&&(o=e),o&&(o.DATUM?e.datumCode=o.DATUM.name.toLowerCase():e.datumCode=o.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"!==e.datumCode&&"world_geodetic_system_1984"!==e.datumCode||("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(e.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=o.DATUM.SPHEROID.a,e.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(e.datum_params=o.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),"ch1903+"===e.datumCode&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);var l=function(t){return tl(e,t)},u=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",nl],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",nl],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",nl],["lat0","latitude_of_origin",nl],["lat0","standard_parallel_1",nl],["lat1","standard_parallel_1",nl],["lat2","standard_parallel_2",nl],["azimuth","Azimuth"],["alpha","azimuth",nl],["srsCode","name"]];u.forEach(l),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName||(e.lat0=nl(e.lat1>0?90:-90),e.lat_ts=e.lat1)}var il=function(e){var t=Ba(e),n=t.shift(),r=t.shift();t.unshift(["name",r]),t.unshift(["type",n]);var i={};return $a(t,i),rl(i),i};function sl(e){var t=this;if(2===arguments.length){var n=arguments[1];"string"===typeof n?"+"===n.charAt(0)?sl[e]=Fa(arguments[1]):sl[e]=il(arguments[1]):sl[e]=n}else if(1===arguments.length){if(Array.isArray(e))return e.map((function(e){Array.isArray(e)?sl.apply(t,e):sl(e)}));if("string"===typeof e){if(e in sl)return sl[e]}else"EPSG"in e?sl["EPSG:"+e.EPSG]=e:"ESRI"in e?sl["ESRI:"+e.ESRI]=e:"IAU2000"in e?sl["IAU2000:"+e.IAU2000]=e:console.log(e);return}}ga(sl);var ol=sl;function al(e){return"string"===typeof e}function ll(e){return e in ol}var ul=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function cl(e){return ul.some((function(t){return e.indexOf(t)>-1}))}var hl=["3857","900913","3785","102113"];function pl(e){var t=Da(e,"authority");if(t){var n=Da(t,"epsg");return n&&hl.indexOf(n)>-1}}function dl(e){var t=Da(e,"extension");if(t)return Da(t,"proj4")}function fl(e){return"+"===e[0]}function ml(e){if(!al(e))return e;if(ll(e))return ol[e];if(cl(e)){var t=il(e);if(pl(t))return ol["EPSG:3857"];var n=dl(t);return n?Fa(n):t}return fl(e)?Fa(e):void 0}var yl=ml,gl=function(e,t){var n,r;if(e=e||{},!t)return e;for(r in t)n=t[r],void 0!==n&&(e[r]=n);return e},_l=function(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)},vl=function(e){return e<0?-1:1},bl=function(e){return Math.abs(e)<=Oa?e:e-vl(e)*Ma},xl=function(e,t,n){var r=e*n,i=.5*e;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(Sa-t))/r},wl=function(e,t){for(var n,r,i=.5*e,s=Sa-2*Math.atan(t),o=0;o<=15;o++)if(n=e*Math.sin(s),r=Sa-2*Math.atan(t*Math.pow((1-n)/(1+n),i))-s,s+=r,Math.abs(r)<=1e-10)return s;return-9999};function Sl(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=_l(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function Cl(e){var t,n,r=e.x,i=e.y;if(i*Ia>90&&i*Ia<-90&&r*Ia>180&&r*Ia<-180)return null;if(Math.abs(Math.abs(i)-Sa)<=Aa)return null;if(this.sphere)t=this.x0+this.a*this.k0*bl(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(La+.5*i));else{var s=Math.sin(i),o=xl(this.e,i,s);t=this.x0+this.a*this.k0*bl(r-this.long0),n=this.y0-this.a*this.k0*Math.log(o)}return e.x=t,e.y=n,e}function El(e){var t,n,r=e.x-this.x0,i=e.y-this.y0;if(this.sphere)n=Sa-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var s=Math.exp(-i/(this.a*this.k0));if(n=wl(this.e,s),-9999===n)return null}return t=bl(this.long0+r/(this.a*this.k0)),e.x=t,e.y=n,e}var Tl=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],Al={init:Sl,forward:Cl,inverse:El,names:Tl};function Pl(){}function Il(e){return e}var Ll=["longlat","identity"],Ml={init:Pl,forward:Il,inverse:Il,names:Ll},Ol=[Al,Ml],kl={},Nl=[];function Rl(e,t){var n=Nl.length;return e.names?(Nl[n]=e,e.names.forEach((function(e){kl[e.toLowerCase()]=n})),this):(console.log(t),!0)}function Dl(e){if(!e)return!1;var t=e.toLowerCase();return"undefined"!==typeof kl[t]&&Nl[kl[t]]?Nl[kl[t]]:void 0}function Fl(){Ol.forEach(Rl)}var Bl={start:Fl,add:Rl,get:Dl},ql={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},zl=ql.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};function Ul(e,t,n,r){var i=e*e,s=t*t,o=(i-s)/i,a=0;r?(e*=1-o*(Ca+o*(Ea+o*Ta)),i=e*e,o=0):a=Math.sqrt(o);var l=(i-s)/s;return{es:o,e:a,ep2:l}}function Gl(e,t,n,r,i){if(!e){var s=Da(ql,r);s||(s=zl),e=s.a,t=s.b,n=s.rf}return n&&!t&&(t=(1-1/n)*e),(0===n||Math.abs(e-t)<Aa)&&(i=!0,t=e),{a:e,b:t,rf:n,sphere:i}}ql.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var jl={};function Vl(e,t,n,r,i,s){var o={};return o.datum_type=void 0===e||"none"===e?xa:ba,t&&(o.datum_params=t.map(parseFloat),0===o.datum_params[0]&&0===o.datum_params[1]&&0===o.datum_params[2]||(o.datum_type=_a),o.datum_params.length>3&&(0===o.datum_params[3]&&0===o.datum_params[4]&&0===o.datum_params[5]&&0===o.datum_params[6]||(o.datum_type=va,o.datum_params[3]*=wa,o.datum_params[4]*=wa,o.datum_params[5]*=wa,o.datum_params[6]=o.datum_params[6]/1e6+1))),o.a=n,o.b=r,o.es=i,o.ep2=s,o}jl.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},jl.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},jl.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},jl.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},jl.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},jl.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},jl.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},jl.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},jl.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},jl.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},jl.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},jl.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},jl.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},jl.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},jl.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},jl.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},jl.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var Wl=Vl;function Hl(e,t){if(!(this instanceof Hl))return new Hl(e);t=t||function(e){if(e)throw e};var n=yl(e);if("object"===typeof n){var r=Hl.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=Da(jl,n.datumCode);i&&(n.datum_params=i.towgs84?i.towgs84.split(","):null,n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var s=Gl(n.a,n.b,n.rf,n.ellps,n.sphere),o=Ul(s.a,s.b,s.rf,n.R_A),a=n.datum||Wl(n.datumCode,n.datum_params,s.a,s.b,o.es,o.ep2);gl(this,n),gl(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=a,this.init(),t(null,this)}else t(e)}else t(e)}Hl.projections=Bl,Hl.projections.start();var Jl=Hl;function Xl(e,t){return e.datum_type===t.datum_type&&(!(e.a!==t.a||Math.abs(e.es-t.es)>5e-11)&&(e.datum_type===_a?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type!==va||e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]))}function Zl(e,t,n){var r,i,s,o,a=e.x,l=e.y,u=e.z?e.z:0;if(l<-Sa&&l>-1.001*Sa)l=-Sa;else if(l>Sa&&l<1.001*Sa)l=Sa;else{if(l<-Sa)return{x:-1/0,y:-1/0,z:e.z};if(l>Sa)return{x:1/0,y:1/0,z:e.z}}return a>Math.PI&&(a-=2*Math.PI),i=Math.sin(l),o=Math.cos(l),s=i*i,r=n/Math.sqrt(1-t*s),{x:(r+u)*o*Math.cos(a),y:(r+u)*o*Math.sin(a),z:(r*(1-t)+u)*i}}function Yl(e,t,n,r){var i,s,o,a,l,u,c,h,p,d,f,m,y,g,_,v,b=1e-12,x=b*b,w=30,S=e.x,C=e.y,E=e.z?e.z:0;if(i=Math.sqrt(S*S+C*C),s=Math.sqrt(S*S+C*C+E*E),i/n<b){if(g=0,s/n<b)return _=Sa,v=-r,{x:e.x,y:e.y,z:e.z}}else g=Math.atan2(C,S);o=E/s,a=i/s,l=1/Math.sqrt(1-t*(2-t)*a*a),h=a*(1-t)*l,p=o*l,y=0;do{y++,c=n/Math.sqrt(1-t*p*p),v=i*h+E*p-c*(1-t*p*p),u=t*c/(c+v),l=1/Math.sqrt(1-u*(2-u)*a*a),d=a*(1-u)*l,f=o*l,m=f*h-d*p,h=d,p=f}while(m*m>x&&y<w);return _=Math.atan(f/Math.abs(d)),{x:g,y:_,z:v}}function Kl(e,t,n){if(t===_a)return{x:e.x+n[0],y:e.y+n[1],z:e.z+n[2]};if(t===va){var r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],l=n[5],u=n[6];return{x:u*(e.x-l*e.y+a*e.z)+r,y:u*(l*e.x+e.y-o*e.z)+i,z:u*(-a*e.x+o*e.y+e.z)+s}}}function Ql(e,t,n){if(t===_a)return{x:e.x-n[0],y:e.y-n[1],z:e.z-n[2]};if(t===va){var r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],l=n[5],u=n[6],c=(e.x-r)/u,h=(e.y-i)/u,p=(e.z-s)/u;return{x:c+l*h-a*p,y:-l*c+h+o*p,z:a*c-o*h+p}}}function $l(e){return e===_a||e===va}var eu=function(e,t,n){return Xl(e,t)||e.datum_type===xa||t.datum_type===xa?n:e.es!==t.es||e.a!==t.a||$l(e.datum_type)||$l(t.datum_type)?(n=Zl(n,e.es,e.a),$l(e.datum_type)&&(n=Kl(n,e.datum_type,e.datum_params)),$l(t.datum_type)&&(n=Ql(n,t.datum_type,t.datum_params)),Yl(n,t.es,t.a,t.b)):n},tu=function(e,t,n){var r,i,s,o=n.x,a=n.y,l=n.z||0,u={};for(s=0;s<3;s++)if(!t||2!==s||void 0!==n.z)switch(0===s?(r=o,i=-1!=="ew".indexOf(e.axis[s])?"x":"y"):1===s?(r=a,i=-1!=="ns".indexOf(e.axis[s])?"y":"x"):(r=l,i="z"),e.axis[s]){case"e":case"w":case"n":case"s":u[i]=r;break;case"u":void 0!==n[i]&&(u.z=r);break;case"d":void 0!==n[i]&&(u.z=-r);break;default:return null}return u},nu=function(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t},ru=function(e){iu(e.x),iu(e.y)};function iu(e){if("function"===typeof Number.isFinite){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof e||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function su(e,t){return(e.datum.datum_type===_a||e.datum.datum_type===va)&&"WGS84"!==t.datumCode||(t.datum.datum_type===_a||t.datum.datum_type===va)&&"WGS84"!==e.datumCode}function ou(e,t,n){var r;if(Array.isArray(n)&&(n=nu(n)),ru(n),e.datum&&t.datum&&su(e,t)&&(r=new Jl("WGS84"),n=ou(e,r,n),e=r),"enu"!==e.axis&&(n=tu(e,!1,n)),"longlat"===e.projName)n={x:n.x*Pa,y:n.y*Pa,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),n=e.inverse(n),!n)return;return e.from_greenwich&&(n.x+=e.from_greenwich),n=eu(e.datum,t.datum,n),t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),"longlat"===t.projName?n={x:n.x*Ia,y:n.y*Ia,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),"enu"!==t.axis?tu(t,!0,n):n}var au=Jl("WGS84");function lu(e,t,n){var r,i,s;return Array.isArray(n)?(r=ou(e,t,n)||{x:NaN,y:NaN},n.length>2?"undefined"!==typeof e.name&&"geocent"===e.name||"undefined"!==typeof t.name&&"geocent"===t.name?"number"===typeof r.z?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(i=ou(e,t,n),s=Object.keys(n),2===s.length||s.forEach((function(r){if("undefined"!==typeof e.name&&"geocent"===e.name||"undefined"!==typeof t.name&&"geocent"===t.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;i[r]=n[r]})),i)}function uu(e){return e instanceof Jl?e:e.oProj?e.oProj:Jl(e)}function cu(e,t,n){e=uu(e);var r,i=!1;return"undefined"===typeof t?(t=e,e=au,i=!0):("undefined"!==typeof t.x||Array.isArray(t))&&(n=t,t=e,e=au,i=!0),t=uu(t),n?lu(e,t,n):(r={forward:function(n){return lu(e,t,n)},inverse:function(n){return lu(t,e,n)}},i&&(r.oProj=t),r)}var hu=cu,pu=6,du="AJSAJS",fu="AFAFAF",mu=65,yu=73,gu=79,_u=86,vu=90,bu={forward:xu,inverse:wu,toPoint:Su};function xu(e,t){return t=t||5,Iu(Tu({lat:e[1],lon:e[0]}),t)}function wu(e){var t=Au(ku(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function Su(e){var t=Au(ku(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function Cu(e){return e*(Math.PI/180)}function Eu(e){return e/Math.PI*180}function Tu(e){var t,n,r,i,s,o,a,l,u,c=e.lat,h=e.lon,p=6378137,d=.00669438,f=.9996,m=Cu(c),y=Cu(h);u=Math.floor((h+180)/6)+1,180===h&&(u=60),c>=56&&c<64&&h>=3&&h<12&&(u=32),c>=72&&c<84&&(h>=0&&h<9?u=31:h>=9&&h<21?u=33:h>=21&&h<33?u=35:h>=33&&h<42&&(u=37)),t=6*(u-1)-180+3,l=Cu(t),n=d/(1-d),r=p/Math.sqrt(1-d*Math.sin(m)*Math.sin(m)),i=Math.tan(m)*Math.tan(m),s=n*Math.cos(m)*Math.cos(m),o=Math.cos(m)*(y-l),a=p*((1-d/4-3*d*d/64-5*d*d*d/256)*m-(3*d/8+3*d*d/32+45*d*d*d/1024)*Math.sin(2*m)+(15*d*d/256+45*d*d*d/1024)*Math.sin(4*m)-35*d*d*d/3072*Math.sin(6*m));var g=f*r*(o+(1-i+s)*o*o*o/6+(5-18*i+i*i+72*s-58*n)*o*o*o*o*o/120)+5e5,_=f*(a+r*Math.tan(m)*(o*o/2+(5-i+9*s+4*s*s)*o*o*o*o/24+(61-58*i+i*i+600*s-330*n)*o*o*o*o*o*o/720));return c<0&&(_+=1e7),{northing:Math.round(_),easting:Math.round(g),zoneNumber:u,zoneLetter:Pu(c)}}function Au(e){var t=e.northing,n=e.easting,r=e.zoneLetter,i=e.zoneNumber;if(i<0||i>60)return null;var s,o,a,l,u,c,h,p,d,f,m=.9996,y=6378137,g=.00669438,_=(1-Math.sqrt(1-g))/(1+Math.sqrt(1-g)),v=n-5e5,b=t;r<"N"&&(b-=1e7),p=6*(i-1)-180+3,s=g/(1-g),h=b/m,d=h/(y*(1-g/4-3*g*g/64-5*g*g*g/256)),f=d+(3*_/2-27*_*_*_/32)*Math.sin(2*d)+(21*_*_/16-55*_*_*_*_/32)*Math.sin(4*d)+151*_*_*_/96*Math.sin(6*d),o=y/Math.sqrt(1-g*Math.sin(f)*Math.sin(f)),a=Math.tan(f)*Math.tan(f),l=s*Math.cos(f)*Math.cos(f),u=y*(1-g)/Math.pow(1-g*Math.sin(f)*Math.sin(f),1.5),c=v/(o*m);var x=f-o*Math.tan(f)/u*(c*c/2-(5+3*a+10*l-4*l*l-9*s)*c*c*c*c/24+(61+90*a+298*l+45*a*a-252*s-3*l*l)*c*c*c*c*c*c/720);x=Eu(x);var w,S=(c-(1+2*a+l)*c*c*c/6+(5-2*l+28*a-3*l*l+8*s+24*a*a)*c*c*c*c*c/120)/Math.cos(f);if(S=p+Eu(S),e.accuracy){var C=Au({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});w={top:C.lat,right:C.lon,bottom:x,left:S}}else w={lat:x,lon:S};return w}function Pu(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function Iu(e,t){var n="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+Lu(e.easting,e.northing,e.zoneNumber)+n.substr(n.length-5,t)+r.substr(r.length-5,t)}function Lu(e,t,n){var r=Mu(n),i=Math.floor(e/1e5),s=Math.floor(t/1e5)%20;return Ou(i,s,r)}function Mu(e){var t=e%pu;return 0===t&&(t=pu),t}function Ou(e,t,n){var r=n-1,i=du.charCodeAt(r),s=fu.charCodeAt(r),o=i+e-1,a=s+t,l=!1;o>vu&&(o=o-vu+mu-1,l=!0),(o===yu||i<yu&&o>yu||(o>yu||i<yu)&&l)&&o++,(o===gu||i<gu&&o>gu||(o>gu||i<gu)&&l)&&(o++,o===yu&&o++),o>vu&&(o=o-vu+mu-1),a>_u?(a=a-_u+mu-1,l=!0):l=!1,(a===yu||s<yu&&a>yu||(a>yu||s<yu)&&l)&&a++,(a===gu||s<gu&&a>gu||(a>gu||s<gu)&&l)&&(a++,a===yu&&a++),a>_u&&(a=a-_u+mu-1);var u=String.fromCharCode(o)+String.fromCharCode(a);return u}function ku(e){if(e&&0===e.length)throw"MGRSPoint coverting from nothing";var t,n=e.length,r=null,i="",s=0;while(!/[A-Z]/.test(t=e.charAt(s))){if(s>=2)throw"MGRSPoint bad conversion from: "+e;i+=t,s++}var o=parseInt(i,10);if(0===s||s+3>n)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(s++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+e;r=e.substring(s,s+=2);var l=Mu(o),u=Nu(r.charAt(0),l),c=Ru(r.charAt(1),l);while(c<Du(a))c+=2e6;var h=n-s;if(h%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e;var p,d,f,m,y,g=h/2,_=0,v=0;return g>0&&(p=1e5/Math.pow(10,g),d=e.substring(s,s+g),_=parseFloat(d)*p,f=e.substring(s+g),v=parseFloat(f)*p),m=_+u,y=v+c,{easting:m,northing:y,zoneLetter:a,zoneNumber:o,accuracy:p}}function Nu(e,t){var n=du.charCodeAt(t-1),r=1e5,i=!1;while(n!==e.charCodeAt(0)){if(n++,n===yu&&n++,n===gu&&n++,n>vu){if(i)throw"Bad character: "+e;n=mu,i=!0}r+=1e5}return r}function Ru(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;var n=fu.charCodeAt(t-1),r=0,i=!1;while(n!==e.charCodeAt(0)){if(n++,n===yu&&n++,n===gu&&n++,n>_u){if(i)throw"Bad character: "+e;n=mu,i=!0}r+=1e5}return r}function Du(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function Fu(e,t,n){if(!(this instanceof Fu))return new Fu(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if("object"===typeof e)this.x=e.x,this.y=e.y,this.z=e.z||0;else if("string"===typeof e&&"undefined"===typeof t){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Fu.fromMGRS=function(e){return new Fu(Su(e))},Fu.prototype.toMGRS=function(e){return xu([this.x,this.y],e)};var Bu=Fu,qu=1,zu=.25,Uu=.046875,Gu=.01953125,ju=.01068115234375,Vu=.75,Wu=.46875,Hu=.013020833333333334,Ju=.007120768229166667,Xu=.3645833333333333,Zu=.005696614583333333,Yu=.3076171875,Ku=function(e){var t=[];t[0]=qu-e*(zu+e*(Uu+e*(Gu+e*ju))),t[1]=e*(Vu-e*(Uu+e*(Gu+e*ju)));var n=e*e;return t[2]=n*(Wu-e*(Hu+e*Ju)),n*=e,t[3]=n*(Xu-e*Zu),t[4]=n*e*Yu,t},Qu=function(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))},$u=20,ec=function(e,t,n){for(var r=1/(1-t),i=e,s=$u;s;--s){var o=Math.sin(i),a=1-t*o*o;if(a=(Qu(i,o,Math.cos(i),n)-e)*(a*Math.sqrt(a))*r,i-=a,Math.abs(a)<Aa)return i}return i};function tc(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Ku(this.es),this.ml0=Qu(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function nc(e){var t,n,r,i=e.x,s=e.y,o=bl(i-this.long0),a=Math.sin(s),l=Math.cos(s);if(this.es){var u=l*o,c=Math.pow(u,2),h=this.ep2*Math.pow(l,2),p=Math.pow(h,2),d=Math.abs(l)>Aa?Math.tan(s):0,f=Math.pow(d,2),m=Math.pow(f,2);t=1-this.es*Math.pow(a,2),u/=Math.sqrt(t);var y=Qu(s,a,l,this.en);n=this.a*(this.k0*u*(1+c/6*(1-f+h+c/20*(5-18*f+m+14*h-58*f*h+c/42*(61+179*m-m*f-479*f)))))+this.x0,r=this.a*(this.k0*(y-this.ml0+a*o*u/2*(1+c/12*(5-f+9*h+4*p+c/30*(61+m-58*f+270*h-330*f*h+c/56*(1385+543*m-m*f-3111*f))))))+this.y0}else{var g=l*Math.sin(o);if(Math.abs(Math.abs(g)-1)<Aa)return 93;if(n=.5*this.a*this.k0*Math.log((1+g)/(1-g))+this.x0,r=l*Math.cos(o)/Math.sqrt(1-Math.pow(g,2)),g=Math.abs(r),g>=1){if(g-1>Aa)return 93;r=0}else r=Math.acos(r);s<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=n,e.y=r,e}function rc(e){var t,n,r,i,s=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,n=ec(t,this.es,this.en),Math.abs(n)<Sa){var a=Math.sin(n),l=Math.cos(n),u=Math.abs(l)>Aa?Math.tan(n):0,c=this.ep2*Math.pow(l,2),h=Math.pow(c,2),p=Math.pow(u,2),d=Math.pow(p,2);t=1-this.es*Math.pow(a,2);var f=s*Math.sqrt(t)/this.k0,m=Math.pow(f,2);t*=u,r=n-t*m/(1-this.es)*.5*(1-m/12*(5+3*p-9*c*p+c-4*h-m/30*(61+90*p-252*c*p+45*d+46*c-m/56*(1385+3633*p+4095*d+1574*d*p)))),i=bl(this.long0+f*(1-m/6*(1+2*p+c-m/20*(5+28*p+24*d+8*c*p+6*c-m/42*(61+662*p+1320*d+720*d*p))))/l)}else r=Sa*vl(o),i=0;else{var y=Math.exp(s/this.k0),g=.5*(y-1/y),_=this.lat0+o/this.k0,v=Math.cos(_);t=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(g,2))),r=Math.asin(t),o<0&&(r=-r),i=0===g&&0===v?0:bl(Math.atan2(g,v)+this.long0)}return e.x=i,e.y=r,e}var ic=["Transverse_Mercator","Transverse Mercator","tmerc"],sc={init:tc,forward:nc,inverse:rc,names:ic},oc=function(e){var t=Math.exp(e);return t=(t-1/t)/2,t},ac=function(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))},lc=function(e){var t=1+e,n=t-1;return 0===n?e:e*Math.log(t)/n},uc=function(e){var t=Math.abs(e);return t=lc(t*(1+t/(ac(1,t)+1))),e<0?-t:t},cc=function(e,t){var n,r=2*Math.cos(2*t),i=e.length-1,s=e[i],o=0;while(--i>=0)n=r*s-o+e[i],o=s,s=n;return t+n*Math.sin(2*t)},hc=function(e,t){var n,r=2*Math.cos(t),i=e.length-1,s=e[i],o=0;while(--i>=0)n=r*s-o+e[i],o=s,s=n;return Math.sin(t)*n},pc=function(e){var t=Math.exp(e);return t=(t+1/t)/2,t},dc=function(e,t,n){var r,i,s=Math.sin(t),o=Math.cos(t),a=oc(n),l=pc(n),u=2*o*l,c=-2*s*a,h=e.length-1,p=e[h],d=0,f=0,m=0;while(--h>=0)r=f,i=d,f=p,d=m,p=u*f-r-c*d+e[h],m=c*f-i+u*d;return u=s*l,c=o*a,[u*p-c*m,u*m+c*p]};function fc(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var r=cc(this.cbg,this.lat0);this.Zb=-this.Qn*(r+hc(this.gtu,2*r))}function mc(e){var t=bl(e.x-this.long0),n=e.y;n=cc(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(t),o=Math.cos(t);n=Math.atan2(r,o*i),t=Math.atan2(s*i,ac(r,i*o)),t=uc(Math.tan(t));var a,l,u=dc(this.gtu,2*n,2*t);return n+=u[0],t+=u[1],Math.abs(t)<=2.623395162778?(a=this.a*(this.Qn*t)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,l=1/0),e.x=a,e.y=l,e}function yc(e){var t,n,r=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var s=dc(this.utg,2*i,2*r);i+=s[0],r+=s[1],r=Math.atan(oc(r));var o=Math.sin(i),a=Math.cos(i),l=Math.sin(r),u=Math.cos(r);i=Math.atan2(o*u,ac(l,u*a)),r=Math.atan2(l,u*a),t=bl(r+this.long0),n=cc(this.cgb,i)}else t=1/0,n=1/0;return e.x=t,e.y=n,e}var gc=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"],_c={init:fc,forward:mc,inverse:yc,names:gc},vc=function(e,t){if(void 0===e){if(e=Math.floor(30*(bl(t)+Math.PI)/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e},bc="etmerc";function xc(){var e=vc(this.zone,this.long0);if(void 0===e)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*Pa,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,_c.init.apply(this),this.forward=_c.forward,this.inverse=_c.inverse}var wc=["Universal Transverse Mercator System","utm"],Sc={init:xc,names:wc,dependsOn:bc},Cc=function(e,t){return Math.pow((1-e)/(1+e),t)},Ec=20;function Tc(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+La)/(Math.pow(Math.tan(.5*this.lat0+La),this.C)*Cc(this.e*e,this.ratexp))}function Ac(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+La),this.C)*Cc(this.e*Math.sin(n),this.ratexp))-Sa,e.x=this.C*t,e}function Pc(e){for(var t=1e-14,n=e.x/this.C,r=e.y,i=Math.pow(Math.tan(.5*r+La)/this.K,1/this.C),s=Ec;s>0;--s){if(r=2*Math.atan(i*Cc(this.e*Math.sin(e.y),-.5*this.e))-Sa,Math.abs(r-e.y)<t)break;e.y=r}return s?(e.x=n,e.y=r,e):null}var Ic=["gauss"],Lc={init:Tc,forward:Ac,inverse:Pc,names:Ic};function Mc(){Lc.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Oc(e){var t,n,r,i;return e.x=bl(e.x-this.long0),Lc.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),i=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=i*n*Math.sin(e.x),e.y=i*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function kc(e){var t,n,r,i,s;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,s=Math.sqrt(e.x*e.x+e.y*e.y)){var o=2*Math.atan2(s,this.R2);t=Math.sin(o),n=Math.cos(o),i=Math.asin(n*this.sinc0+e.y*t*this.cosc0/s),r=Math.atan2(e.x*t,s*this.cosc0*n-e.y*this.sinc0*t)}else i=this.phic0,r=0;return e.x=r,e.y=i,Lc.inverse.apply(this,[e]),e.x=bl(e.x+this.long0),e}var Nc=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],Rc={init:Mc,forward:Oc,inverse:kc,names:Nc};function Dc(e,t,n){return t*=n,Math.tan(.5*(Sa+e))*Math.pow((1-t)/(1+t),.5*n)}function Fc(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Aa&&(this.k0=.5*(1+vl(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Aa&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Aa&&(this.k0=.5*this.cons*_l(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/xl(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=_l(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Sa,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Bc(e){var t,n,r,i,s,o,a=e.x,l=e.y,u=Math.sin(l),c=Math.cos(l),h=bl(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=Aa&&Math.abs(l+this.lat0)<=Aa?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*u+this.coslat0*c*Math.cos(h)),e.x=this.a*t*c*Math.sin(h)+this.x0,e.y=this.a*t*(this.coslat0*u-this.sinlat0*c*Math.cos(h))+this.y0,e):(n=2*Math.atan(this.ssfn_(l,u,this.e))-Sa,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=Aa?(s=xl(this.e,l*this.con,this.con*u),o=2*this.a*this.k0*s/this.cons,e.x=this.x0+o*Math.sin(a-this.long0),e.y=this.y0-this.con*o*Math.cos(a-this.long0),e):(Math.abs(this.sinlat0)<Aa?(t=2*this.a*this.k0/(1+i*Math.cos(h)),e.y=t*r):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(h))),e.y=t*(this.cosX0*r-this.sinX0*i*Math.cos(h))+this.y0),e.x=t*i*Math.sin(h)+this.x0,e))}function qc(e){var t,n,r,i,s;e.x-=this.x0,e.y-=this.y0;var o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,n=this.lat0,o<=Aa?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/o),t=Math.abs(this.coslat0)<Aa?this.lat0>0?bl(this.long0+Math.atan2(e.x,-1*e.y)):bl(this.long0+Math.atan2(e.x,e.y)):bl(this.long0+Math.atan2(e.x*Math.sin(a),o*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=Aa){if(o<=Aa)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=o*this.cons/(2*this.a*this.k0),n=this.con*wl(this.e,r),t=this.con*bl(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else i=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=Aa?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+e.y*Math.sin(i)*this.cosX0/o),t=bl(this.long0+Math.atan2(e.x*Math.sin(i),o*this.cosX0*Math.cos(i)-e.y*this.sinX0*Math.sin(i)))),n=-1*wl(this.e,Math.tan(.5*(Sa+s)));return e.x=t,e.y=n,e}var zc=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],Uc={init:Fc,forward:Bc,inverse:qc,names:zc,ssfn_:Dc};function Gc(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),o=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(t,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),u=Math.log((1+o*t)/(1-o*t));this.K=a-this.alpha*l+this.alpha*o/2*u}function jc(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*o+this.x0,e}function Vc(e){var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+o/this.alpha,l=0,u=s,c=-1e3,h=0;while(Math.abs(u-c)>1e-7){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=u,e}var Wc=["somerc"],Hc={init:Gc,forward:jc,inverse:Vc,names:Wc};function Jc(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var e=Math.sin(this.lat0),t=Math.cos(this.lat0),n=this.e*e;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(t,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r,i,s=xl(this.e,this.lat0,e),o=this.bl/t*Math.sqrt((1-this.es)/(1-n*n));if(o*o<1&&(o=1),isNaN(this.longc)){var a=xl(this.e,this.lat1,Math.sin(this.lat1)),l=xl(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(o+Math.sqrt(o*o-1))*Math.pow(s,this.bl):this.el=(o-Math.sqrt(o*o-1))*Math.pow(s,this.bl);var u=Math.pow(a,this.bl),c=Math.pow(l,this.bl);r=this.el/u,i=.5*(r-1/r);var h=(this.el*this.el-c*u)/(this.el*this.el+c*u),p=(c-u)/(c+u),d=bl(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*d)/p)/this.bl,this.long0=bl(this.long0);var f=bl(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*f)/i),this.alpha=Math.asin(o*Math.sin(this.gamma0))}else r=this.lat0>=0?o+Math.sqrt(o*o-1):o-Math.sqrt(o*o-1),this.el=r*Math.pow(s,this.bl),i=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/o),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha))}function Xc(e){var t,n,r,i=e.x,s=e.y,o=bl(i-this.long0);if(Math.abs(Math.abs(s)-Sa)<=Aa)r=s>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(La+r*this.gamma0*.5)),t=-1*r*Sa*this.al/this.bl;else{var a=xl(this.e,s,Math.sin(s)),l=this.el/Math.pow(a,this.bl),u=.5*(l-1/l),c=.5*(l+1/l),h=Math.sin(this.bl*o),p=(u*Math.sin(this.gamma0)-h*Math.cos(this.gamma0))/c;n=Math.abs(Math.abs(p)-1)<=Aa?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-p)/(1+p))/this.bl,t=Math.abs(Math.cos(this.bl*o))<=Aa?this.al*this.bl*o:this.al*Math.atan2(u*Math.cos(this.gamma0)+h*Math.sin(this.gamma0),Math.cos(this.bl*o))/this.bl}return this.no_rot?(e.x=this.x0+t,e.y=this.y0+n):(t-=this.uc,e.x=this.x0+n*Math.cos(this.alpha)+t*Math.sin(this.alpha),e.y=this.y0+t*Math.cos(this.alpha)-n*Math.sin(this.alpha)),e}function Zc(e){var t,n;this.no_rot?(n=e.y-this.y0,t=e.x-this.x0):(n=(e.x-this.x0)*Math.cos(this.alpha)-(e.y-this.y0)*Math.sin(this.alpha),t=(e.y-this.y0)*Math.cos(this.alpha)+(e.x-this.x0)*Math.sin(this.alpha),t+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),s=.5*(r+1/r),o=Math.sin(this.bl*t/this.al),a=(o*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/s,l=Math.pow(this.el/Math.sqrt((1+a)/(1-a)),1/this.bl);return Math.abs(a-1)<Aa?(e.x=this.long0,e.y=Sa):Math.abs(a+1)<Aa?(e.x=this.long0,e.y=-1*Sa):(e.y=wl(this.e,l),e.x=bl(this.long0-Math.atan2(i*Math.cos(this.gamma0)-o*Math.sin(this.gamma0),Math.cos(this.bl*t/this.al))/this.bl)),e}var Yc=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"],Kc={init:Jc,forward:Xc,inverse:Zc,names:Yc};function Qc(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Aa)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=_l(this.e,t,n),i=xl(this.e,this.lat1,t),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=_l(this.e,s,o),l=xl(this.e,this.lat2,s),u=xl(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Aa?this.ns=Math.log(r/a)/Math.log(i/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function $c(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=Aa&&(n=vl(n)*(Sa-2*Aa));var r,i,s=Math.abs(Math.abs(n)-Sa);if(s>Aa)r=xl(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if(s=n*this.ns,s<=0)return null;i=0}var o=this.ns*bl(t-this.long0);return e.x=this.k0*(i*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-i*Math.cos(o))+this.y0,e}function eh(e){var t,n,r,i,s,o=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+a*a),n=1):(t=-Math.sqrt(o*o+a*a),n=-1);var l=0;if(0!==t&&(l=Math.atan2(n*o,n*a)),0!==t||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),i=wl(this.e,r),-9999===i)return null}else i=-Sa;return s=bl(l/this.ns+this.long0),e.x=s,e.y=i,e}var th=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"],nh={init:Qc,forward:$c,inverse:eh,names:th};function rh(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function ih(e){var t,n,r,i,s,o,a,l=e.x,u=e.y,c=bl(l-this.long0);return t=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/t)-this.s45),r=-c*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),e.y=a*Math.cos(o)/1,e.x=a*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function sh(e){var t,n,r,i,s,o,a,l,u=e.x;e.x=e.y,e.y=u,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),s=Math.atan2(e.y,e.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t)),e.x=this.long0-n/this.alfa,a=t,l=0;var c=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(l=1),a=e.y,c+=1}while(0===l&&c<15);return c>=15?null:e}var oh=["Krovak","krovak"],ah={init:rh,forward:ih,inverse:sh,names:oh},lh=function(e,t,n,r,i){return e*i-t*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)},uh=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))},ch=function(e){return.375*e*(1+.25*e*(1+.46875*e))},hh=function(e){return.05859375*e*e*(1+.75*e)},ph=function(e){return e*e*e*(35/3072)},dh=function(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)},fh=function(e){return Math.abs(e)<Sa?e:e-vl(e)*Math.PI},mh=function(e,t,n,r,i){var s,o;s=e/t;for(var a=0;a<15;a++)if(o=(e-(t*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(t-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN};function yh(){this.sphere||(this.e0=uh(this.es),this.e1=ch(this.es),this.e2=hh(this.es),this.e3=ph(this.es),this.ml0=this.a*lh(this.e0,this.e1,this.e2,this.e3,this.lat0))}function gh(e){var t,n,r=e.x,i=e.y;if(r=bl(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),o=Math.cos(i),a=dh(this.a,this.e,s),l=Math.tan(i)*Math.tan(i),u=r*Math.cos(i),c=u*u,h=this.es*o*o/(1-this.es),p=this.a*lh(this.e0,this.e1,this.e2,this.e3,i);t=a*u*(1-c*l*(1/6-(8-l+8*h)*c/120)),n=p-this.ml0+a*s/o*c*(.5+(5-l+6*h)*c/24)}return e.x=t+this.x0,e.y=n+this.y0,e}function _h(e){e.x-=this.x0,e.y-=this.y0;var t,n,r=e.x/this.a,i=e.y/this.a;if(this.sphere){var s=i+this.lat0;t=Math.asin(Math.sin(s)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(s))}else{var o=this.ml0/this.a+i,a=mh(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-Sa)<=Aa)return e.x=this.long0,e.y=Sa,i<0&&(e.y*=-1),e;var l=dh(this.a,this.e,Math.sin(a)),u=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(a),2),h=r*this.a/l,p=h*h;t=a-l*Math.tan(a)/u*h*h*(.5-(1+3*c)*h*h/24),n=h*(1-p*(c/3+(1+3*c)*c*p/15))/Math.cos(a)}return e.x=bl(n+this.long0),e.y=fh(t),e}var vh=["Cassini","Cassini_Soldner","cass"],bh={init:yh,forward:gh,inverse:_h,names:vh},xh=function(e,t){var n;return e>1e-7?(n=e*t,(1-e*e)*(t/(1-n*n)-.5/e*Math.log((1-n)/(1+n)))):2*t},wh=1,Sh=2,Ch=3,Eh=4;function Th(){var e,t=Math.abs(this.lat0);if(Math.abs(t-Sa)<Aa?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<Aa?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=xh(this.e,1),this.mmf=.5/(1-this.es),this.apa=Rh(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=xh(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Ah(e){var t,n,r,i,s,o,a,l,u,c,h=e.x,p=e.y;if(h=bl(h-this.long0),this.sphere){if(s=Math.sin(p),c=Math.cos(p),r=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+c*r:1+this.sinph0*s+this.cosph0*c*r,n<=Aa)return null;n=Math.sqrt(2/n),t=n*c*Math.sin(h),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*c*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(p+this.lat0)<Aa)return null;n=La-.5*p,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),t=n*Math.sin(h),n*=r}}else{switch(a=0,l=0,u=0,r=Math.cos(h),i=Math.sin(h),s=Math.sin(p),o=xh(this.e,s),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:u=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:u=1+l*r;break;case this.N_POLE:u=Sa+p,o=this.qp-o;break;case this.S_POLE:u=p-Sa,o=this.qp+o;break}if(Math.abs(u)<Aa)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),n=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*a-this.sinb1*l*r):(u=Math.sqrt(2/(1+l*r)))*a*this.ymf,t=this.xmf*u*l*i;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(u=Math.sqrt(o))*i,n=r*(this.mode===this.S_POLE?u:-u)):t=n=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e}function Ph(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,i,s,o,a,l=e.x/this.a,u=e.y/this.a;if(this.sphere){var c,h=0,p=0;if(c=Math.sqrt(l*l+u*u),n=.5*c,n>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(p=Math.sin(n),h=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(c)<=Aa?0:Math.asin(u*p/c),l*=p,u=h*c;break;case this.OBLIQ:n=Math.abs(c)<=Aa?this.lat0:Math.asin(h*this.sinph0+u*p*this.cosph0/c),l*=p*this.cosph0,u=(h-Math.sin(n)*this.sinph0)*c;break;case this.N_POLE:u=-u,n=Sa-n;break;case this.S_POLE:n-=Sa;break}t=0!==u||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,u):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,u*=this.dd,o=Math.sqrt(l*l+u*u),o<Aa)return e.x=this.long0,e.y=this.lat0,e;i=2*Math.asin(.5*o/this.rq),r=Math.cos(i),l*=i=Math.sin(i),this.mode===this.OBLIQ?(a=r*this.sinb1+u*i*this.cosb1/o,s=this.qp*a,u=o*this.cosb1*r-u*this.sinb1*i):(a=u*i/o,s=this.qp*a,u=o*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(u=-u),s=l*l+u*u,!s)return e.x=this.long0,e.y=this.lat0,e;a=1-s/this.qp,this.mode===this.S_POLE&&(a=-a)}t=Math.atan2(l,u),n=Dh(Math.asin(a),this.apa)}return e.x=bl(this.long0+t),e.y=n,e}var Ih=.3333333333333333,Lh=.17222222222222222,Mh=.10257936507936508,Oh=.06388888888888888,kh=.0664021164021164,Nh=.016415012942191543;function Rh(e){var t,n=[];return n[0]=e*Ih,t=e*e,n[0]+=t*Lh,n[1]=t*Oh,t*=e,n[0]+=t*Mh,n[1]+=t*kh,n[2]=t*Nh,n}function Dh(e,t){var n=e+e;return e+t[0]*Math.sin(n)+t[1]*Math.sin(n+n)+t[2]*Math.sin(n+n+n)}var Fh=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],Bh={init:Th,forward:Ah,inverse:Ph,names:Fh,S_POLE:wh,N_POLE:Sh,EQUIT:Ch,OBLIQ:Eh},qh=function(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)};function zh(){Math.abs(this.lat1+this.lat2)<Aa||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=_l(this.e3,this.sin_po,this.cos_po),this.qs1=xh(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=_l(this.e3,this.sin_po,this.cos_po),this.qs2=xh(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=xh(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>Aa?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Uh(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=xh(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*bl(t-this.long0),o=i*Math.sin(s)+this.x0,a=this.rh-i*Math.cos(s)+this.y0;return e.x=o,e.y=a,e}function Gh(e){var t,n,r,i,s,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),i=0,0!==t&&(i=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,n)),s=bl(i/this.ns0+this.long0),e.x=s,e.y=o,e}function jh(e,t){var n,r,i,s,o,a=qh(.5*t);if(e<Aa)return a;for(var l=e*e,u=1;u<=25;u++)if(n=Math.sin(a),r=Math.cos(a),i=e*n,s=1-i*i,o=.5*s*s/r*(t/(1-l)-n/s+.5/e*Math.log((1-i)/(1+i))),a+=o,Math.abs(o)<=1e-7)return a;return null}var Vh=["Albers_Conic_Equal_Area","Albers","aea"],Wh={init:zh,forward:Uh,inverse:Gh,names:Vh,phi1z:jh};function Hh(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Jh(e){var t,n,r,i,s,o,a,l,u=e.x,c=e.y;return r=bl(u-this.long0),t=Math.sin(c),n=Math.cos(c),i=Math.cos(r),o=this.sin_p14*t+this.cos_p14*n*i,s=1,o>0||Math.abs(o)<=Aa?(a=this.x0+this.a*s*n*Math.sin(r)/o,l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*n*i)/o):(a=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*i)),e.x=a,e.y=l,e}function Xh(e){var t,n,r,i,s,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(i=Math.atan2(t,this.rc),n=Math.sin(i),r=Math.cos(i),o=qh(r*this.sin_p14+e.y*n*this.cos_p14/t),s=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),s=bl(this.long0+s)):(o=this.phic0,s=0),e.x=s,e.y=o,e}var Zh=["gnom"],Yh={init:Hh,forward:Jh,inverse:Xh,names:Zh},Kh=function(e,t){var n=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-n)<1e-6)return t<0?-1*Sa:Sa;for(var r,i,s,o,a=Math.asin(.5*t),l=0;l<30;l++)if(i=Math.sin(a),s=Math.cos(a),o=e*i,r=Math.pow(1-o*o,2)/(2*s)*(t/(1-e*e)-i/(1-o*o)+.5/e*Math.log((1-o)/(1+o))),a+=r,Math.abs(r)<=1e-10)return a;return NaN};function Qh(){this.sphere||(this.k0=_l(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function $h(e){var t,n,r=e.x,i=e.y,s=bl(r-this.long0);if(this.sphere)t=this.x0+this.a*s*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var o=xh(this.e,Math.sin(i));t=this.x0+this.a*this.k0*s,n=this.y0+this.a*o*.5/this.k0}return e.x=t,e.y=n,e}function ep(e){var t,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=bl(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=Kh(this.e,2*e.y*this.k0/this.a),t=bl(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e}var tp=["cea"],np={init:Qh,forward:$h,inverse:ep,names:tp};function rp(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function ip(e){var t=e.x,n=e.y,r=bl(t-this.long0),i=fh(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*i,e}function sp(e){var t=e.x,n=e.y;return e.x=bl(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=fh(this.lat0+(n-this.y0)/this.a),e}var op=["Equirectangular","Equidistant_Cylindrical","eqc"],ap={init:rp,forward:ip,inverse:sp,names:op},lp=20;function up(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=uh(this.es),this.e1=ch(this.es),this.e2=hh(this.es),this.e3=ph(this.es),this.ml0=this.a*lh(this.e0,this.e1,this.e2,this.e3,this.lat0)}function cp(e){var t,n,r,i=e.x,s=e.y,o=bl(i-this.long0);if(r=o*Math.sin(s),this.sphere)Math.abs(s)<=Aa?(t=this.a*o,n=-1*this.a*this.lat0):(t=this.a*Math.sin(r)/Math.tan(s),n=this.a*(fh(s-this.lat0)+(1-Math.cos(r))/Math.tan(s)));else if(Math.abs(s)<=Aa)t=this.a*o,n=-1*this.ml0;else{var a=dh(this.a,this.e,Math.sin(s))/Math.tan(s);t=a*Math.sin(r),n=this.a*lh(this.e0,this.e1,this.e2,this.e3,s)-this.ml0+a*(1-Math.cos(r))}return e.x=t+this.x0,e.y=n+this.y0,e}function hp(e){var t,n,r,i,s,o,a,l,u;if(r=e.x-this.x0,i=e.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Aa)t=bl(r/this.a+this.long0),n=0;else{var c;for(o=this.lat0+i/this.a,a=r*r/this.a/this.a+o*o,l=o,s=lp;s;--s)if(c=Math.tan(l),u=-1*(o*(l*c+1)-l-.5*(l*l+a)*c)/((l-o)/c-1),l+=u,Math.abs(u)<=Aa){n=l;break}t=bl(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=Aa)n=0,t=bl(this.long0+r/this.a);else{var h,p,d,f,m;for(o=(this.ml0+i)/this.a,a=r*r/this.a/this.a+o*o,l=o,s=lp;s;--s)if(m=this.e*Math.sin(l),h=Math.sqrt(1-m*m)*Math.tan(l),p=this.a*lh(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),f=p/this.a,u=(o*(h*f+1)-f-.5*h*(f*f+a))/(this.es*Math.sin(2*l)*(f*f+a-2*o*f)/(4*h)+(o-f)*(h*d-2/Math.sin(2*l))-d),l-=u,Math.abs(u)<=Aa){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=bl(this.long0+Math.asin(r*h/this.a)/Math.sin(n))}return e.x=t,e.y=n,e}var pp=["Polyconic","poly"],dp={init:up,forward:cp,inverse:hp,names:pp};function fp(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function mp(e){var t,n=e.x,r=e.y,i=r-this.lat0,s=n-this.long0,o=i/wa*1e-5,a=s,l=1,u=0;for(t=1;t<=10;t++)l*=o,u+=this.A[t]*l;var c,h,p=u,d=a,f=1,m=0,y=0,g=0;for(t=1;t<=6;t++)c=f*p-m*d,h=m*p+f*d,f=c,m=h,y=y+this.B_re[t]*f-this.B_im[t]*m,g=g+this.B_im[t]*f+this.B_re[t]*m;return e.x=g*this.a+this.x0,e.y=y*this.a+this.y0,e}function yp(e){var t,n,r,i=e.x,s=e.y,o=i-this.x0,a=s-this.y0,l=a/this.a,u=o/this.a,c=1,h=0,p=0,d=0;for(t=1;t<=6;t++)n=c*l-h*u,r=h*l+c*u,c=n,h=r,p=p+this.C_re[t]*c-this.C_im[t]*h,d=d+this.C_im[t]*c+this.C_re[t]*h;for(var f=0;f<this.iterations;f++){var m,y,g=p,_=d,v=l,b=u;for(t=2;t<=6;t++)m=g*p-_*d,y=_*p+g*d,g=m,_=y,v+=(t-1)*(this.B_re[t]*g-this.B_im[t]*_),b+=(t-1)*(this.B_im[t]*g+this.B_re[t]*_);g=1,_=0;var x=this.B_re[1],w=this.B_im[1];for(t=2;t<=6;t++)m=g*p-_*d,y=_*p+g*d,g=m,_=y,x+=t*(this.B_re[t]*g-this.B_im[t]*_),w+=t*(this.B_im[t]*g+this.B_re[t]*_);var S=x*x+w*w;p=(v*x+b*w)/S,d=(b*x-v*w)/S}var C=p,E=d,T=1,A=0;for(t=1;t<=9;t++)T*=C,A+=this.D[t]*T;var P=this.lat0+A*wa*1e5,I=this.long0+E;return e.x=I,e.y=P,e}var gp=["New_Zealand_Map_Grid","nzmg"],_p={init:fp,forward:mp,inverse:yp,names:gp};function vp(){}function bp(e){var t=e.x,n=e.y,r=bl(t-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=i,e.y=s,e}function xp(e){e.x-=this.x0,e.y-=this.y0;var t=bl(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e}var wp=["Miller_Cylindrical","mill"],Sp={init:vp,forward:bp,inverse:xp,names:wp},Cp=20;function Ep(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ku(this.es)}function Tp(e){var t,n,r=e.x,i=e.y;if(r=bl(r-this.long0),this.sphere){if(this.m)for(var s=this.n*Math.sin(i),o=Cp;o;--o){var a=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=a,Math.abs(a)<Aa)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;t=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);n=this.a*Qu(i,l,u,this.en),t=this.a*r*u/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=n,e}function Ap(e){var t,n,r,i;return e.x-=this.x0,r=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,r/=this.C_x*(this.m+Math.cos(t)),this.m?t=qh((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=qh(Math.sin(t)/this.n)),r=bl(r+this.long0),t=fh(t)):(t=ec(e.y/this.a,this.es,this.en),i=Math.abs(t),i<Sa?(i=Math.sin(t),n=this.long0+e.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(t)),r=bl(n)):i-Aa<Sa&&(r=this.long0)),e.x=r,e.y=t,e}var Pp=["Sinusoidal","sinu"],Ip={init:Ep,forward:Tp,inverse:Ap,names:Pp};function Lp(){}function Mp(e){var t=e.x,n=e.y,r=bl(t-this.long0),i=n,s=Math.PI*Math.sin(n);while(1){var o=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=o,Math.abs(o)<Aa)break}i/=2,Math.PI/2-Math.abs(n)<Aa&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return e.x=a,e.y=l,e}function Op(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=bl(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return e.x=r,e.y=i,e}var kp=["Mollweide","moll"],Np={init:Lp,forward:Mp,inverse:Op,names:kp};function Rp(){Math.abs(this.lat1+this.lat2)<Aa||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=uh(this.es),this.e1=ch(this.es),this.e2=hh(this.es),this.e3=ph(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=_l(this.e,this.sinphi,this.cosphi),this.ml1=lh(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Aa?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=_l(this.e,this.sinphi,this.cosphi),this.ml2=lh(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=lh(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Dp(e){var t,n=e.x,r=e.y;if(this.sphere)t=this.a*(this.g-r);else{var i=lh(this.e0,this.e1,this.e2,this.e3,r);t=this.a*(this.g-i)}var s=this.ns*bl(n-this.long0),o=this.x0+t*Math.sin(s),a=this.y0+this.rh-t*Math.cos(s);return e.x=o,e.y=a,e}function Fp(e){var t,n,r,i;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var s=0;if(0!==n&&(s=Math.atan2(t*e.x,t*e.y)),this.sphere)return i=bl(this.long0+s/this.ns),r=fh(this.g-n/this.a),e.x=i,e.y=r,e;var o=this.g-n/this.a;return r=mh(o,this.e0,this.e1,this.e2,this.e3),i=bl(this.long0+s/this.ns),e.x=i,e.y=r,e}var Bp=["Equidistant_Conic","eqdc"],qp={init:Rp,forward:Dp,inverse:Fp,names:Bp};function zp(){this.R=this.a}function Up(e){var t,n,r=e.x,i=e.y,s=bl(r-this.long0);Math.abs(i)<=Aa&&(t=this.x0+this.R*s,n=this.y0);var o=qh(2*Math.abs(i/Math.PI));(Math.abs(s)<=Aa||Math.abs(Math.abs(i)-Sa)<=Aa)&&(t=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*o):this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/s-s/Math.PI),l=a*a,u=Math.sin(o),c=Math.cos(o),h=c/(u+c-1),p=h*h,d=h*(2/u-1),f=d*d,m=Math.PI*this.R*(a*(h-f)+Math.sqrt(l*(h-f)*(h-f)-(f+l)*(p-f)))/(f+l);s<0&&(m=-m),t=this.x0+m;var y=l+h;return m=Math.PI*this.R*(d*y-a*Math.sqrt((f+l)*(l+1)-y*y))/(f+l),n=i>=0?this.y0+m:this.y0-m,e.x=t,e.y=n,e}function Gp(e){var t,n,r,i,s,o,a,l,u,c,h,p,d;return e.x-=this.x0,e.y-=this.y0,h=Math.PI*this.R,r=e.x/h,i=e.y/h,s=r*r+i*i,o=-Math.abs(i)*(1+s),a=o-2*i*i+r*r,l=-2*o+1+2*i*i+s*s,d=i*i/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,u=(o-a*a/3/l)/l,c=2*Math.sqrt(-u/3),h=3*d/u/c,Math.abs(h)>1&&(h=h>=0?1:-1),p=Math.acos(h)/3,n=e.y>=0?(-c*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:-(-c*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,t=Math.abs(r)<Aa?this.long0:bl(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),e.x=t,e.y=n,e}var jp=["Van_der_Grinten_I","VanDerGrinten","vandg"],Vp={init:zp,forward:Up,inverse:Gp,names:jp};function Wp(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Hp(e){var t,n,r,i,s,o,a,l,u,c,h,p,d,f,m,y,g,_,v,b,x,w,S,C=e.x,E=e.y,T=Math.sin(e.y),A=Math.cos(e.y),P=bl(C-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=Aa?(e.x=this.x0+this.a*(Sa-E)*Math.sin(P),e.y=this.y0-this.a*(Sa-E)*Math.cos(P),e):Math.abs(this.sin_p12+1)<=Aa?(e.x=this.x0+this.a*(Sa+E)*Math.sin(P),e.y=this.y0+this.a*(Sa+E)*Math.cos(P),e):(_=this.sin_p12*T+this.cos_p12*A*Math.cos(P),y=Math.acos(_),g=y?y/Math.sin(y):1,e.x=this.x0+this.a*g*A*Math.sin(P),e.y=this.y0+this.a*g*(this.cos_p12*T-this.sin_p12*A*Math.cos(P)),e):(t=uh(this.es),n=ch(this.es),r=hh(this.es),i=ph(this.es),Math.abs(this.sin_p12-1)<=Aa?(s=this.a*lh(t,n,r,i,Sa),o=this.a*lh(t,n,r,i,E),e.x=this.x0+(s-o)*Math.sin(P),e.y=this.y0-(s-o)*Math.cos(P),e):Math.abs(this.sin_p12+1)<=Aa?(s=this.a*lh(t,n,r,i,Sa),o=this.a*lh(t,n,r,i,E),e.x=this.x0+(s+o)*Math.sin(P),e.y=this.y0+(s+o)*Math.cos(P),e):(a=T/A,l=dh(this.a,this.e,this.sin_p12),u=dh(this.a,this.e,T),c=Math.atan((1-this.es)*a+this.es*l*this.sin_p12/(u*A)),h=Math.atan2(Math.sin(P),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(P)),v=0===h?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(h)-Math.PI)<=Aa?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(P)*Math.cos(c)/Math.sin(h)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),d=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es),f=p*d,m=d*d,b=v*v,x=b*v,w=x*v,S=w*v,y=l*v*(1-b*m*(1-m)/6+x/8*f*(1-2*m)+w/120*(m*(4-7*m)-3*p*p*(1-7*m))-S/48*f),e.x=this.x0+y*Math.sin(h),e.y=this.y0+y*Math.cos(h),e))}function Jp(e){var t,n,r,i,s,o,a,l,u,c,h,p,d,f,m,y,g,_,v,b,x,w,S,C;if(e.x-=this.x0,e.y-=this.y0,this.sphere){if(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*Sa*this.a)return;return n=t/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(t)<=Aa?o=this.lat0:(o=qh(i*this.sin_p12+e.y*r*this.cos_p12/t),a=Math.abs(this.lat0)-Sa,s=Math.abs(a)<=Aa?this.lat0>=0?bl(this.long0+Math.atan2(e.x,-e.y)):bl(this.long0-Math.atan2(-e.x,e.y)):bl(this.long0+Math.atan2(e.x*r,t*this.cos_p12*i-e.y*this.sin_p12*r))),e.x=s,e.y=o,e}return l=uh(this.es),u=ch(this.es),c=hh(this.es),h=ph(this.es),Math.abs(this.sin_p12-1)<=Aa?(p=this.a*lh(l,u,c,h,Sa),t=Math.sqrt(e.x*e.x+e.y*e.y),d=p-t,o=mh(d/this.a,l,u,c,h),s=bl(this.long0+Math.atan2(e.x,-1*e.y)),e.x=s,e.y=o,e):Math.abs(this.sin_p12+1)<=Aa?(p=this.a*lh(l,u,c,h,Sa),t=Math.sqrt(e.x*e.x+e.y*e.y),d=t-p,o=mh(d/this.a,l,u,c,h),s=bl(this.long0+Math.atan2(e.x,e.y)),e.x=s,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),y=Math.atan2(e.x,e.y),f=dh(this.a,this.e,this.sin_p12),g=Math.cos(y),_=this.e*this.cos_p12*g,v=-_*_/(1-this.es),b=3*this.es*(1-v)*this.sin_p12*this.cos_p12*g/(1-this.es),x=t/f,w=x-v*(1+v)*Math.pow(x,3)/6-b*(1+3*v)*Math.pow(x,4)/24,S=1-v*w*w/2-x*w*w*w/6,m=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*g),s=bl(this.long0+Math.asin(Math.sin(y)*Math.sin(w)/Math.cos(m))),C=Math.sin(m),o=Math.atan2((C-this.es*S*this.sin_p12)*Math.tan(m),C*(1-this.es)),e.x=s,e.y=o,e)}var Xp=["Azimuthal_Equidistant","aeqd"],Zp={init:Wp,forward:Hp,inverse:Jp,names:Xp};function Yp(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Kp(e){var t,n,r,i,s,o,a,l,u=e.x,c=e.y;return r=bl(u-this.long0),t=Math.sin(c),n=Math.cos(c),i=Math.cos(r),o=this.sin_p14*t+this.cos_p14*n*i,s=1,(o>0||Math.abs(o)<=Aa)&&(a=this.a*s*n*Math.sin(r),l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*n*i)),e.x=a,e.y=l,e}function Qp(e){var t,n,r,i,s,o,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),n=qh(t/this.a),r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(t)<=Aa?(a=this.lat0,e.x=o,e.y=a,e):(a=qh(i*this.sin_p14+e.y*r*this.cos_p14/t),s=Math.abs(this.lat0)-Sa,Math.abs(s)<=Aa?(o=this.lat0>=0?bl(this.long0+Math.atan2(e.x,-e.y)):bl(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=a,e):(o=bl(this.long0+Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r)),e.x=o,e.y=a,e))}var $p=["ortho"],ed={init:Yp,forward:Kp,inverse:Qp,names:$p},td={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},nd={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function rd(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Sa-La/2?this.face=td.TOP:this.lat0<=-(Sa-La/2)?this.face=td.BOTTOM:Math.abs(this.long0)<=La?this.face=td.FRONT:Math.abs(this.long0)<=Sa+La?this.face=this.long0>0?td.RIGHT:td.LEFT:this.face=td.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function id(e){var t,n,r,i,s,o,a={x:0,y:0},l={value:0};if(e.x-=this.long0,t=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===td.TOP)i=Sa-t,n>=La&&n<=Sa+La?(l.value=nd.AREA_0,r=n-Sa):n>Sa+La||n<=-(Sa+La)?(l.value=nd.AREA_1,r=n>0?n-Oa:n+Oa):n>-(Sa+La)&&n<=-La?(l.value=nd.AREA_2,r=n+Sa):(l.value=nd.AREA_3,r=n);else if(this.face===td.BOTTOM)i=Sa+t,n>=La&&n<=Sa+La?(l.value=nd.AREA_0,r=-n+Sa):n<La&&n>=-La?(l.value=nd.AREA_1,r=-n):n<-La&&n>=-(Sa+La)?(l.value=nd.AREA_2,r=-n-Sa):(l.value=nd.AREA_3,r=n>0?-n+Oa:-n-Oa);else{var u,c,h,p,d,f,m;this.face===td.RIGHT?n=ad(n,+Sa):this.face===td.BACK?n=ad(n,+Oa):this.face===td.LEFT&&(n=ad(n,-Sa)),p=Math.sin(t),d=Math.cos(t),f=Math.sin(n),m=Math.cos(n),u=d*m,c=d*f,h=p,this.face===td.FRONT?(i=Math.acos(u),r=od(i,h,c,l)):this.face===td.RIGHT?(i=Math.acos(c),r=od(i,h,-u,l)):this.face===td.BACK?(i=Math.acos(-u),r=od(i,h,-c,l)):this.face===td.LEFT?(i=Math.acos(-c),r=od(i,h,u,l)):(i=r=0,l.value=nd.AREA_0)}return o=Math.atan(12/Oa*(r+Math.acos(Math.sin(r)*Math.cos(La))-Sa)),s=Math.sqrt((1-Math.cos(i))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===nd.AREA_1?o+=Sa:l.value===nd.AREA_2?o+=Oa:l.value===nd.AREA_3&&(o+=1.5*Oa),a.x=s*Math.cos(o),a.y=s*Math.sin(o),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,e.x=a.x,e.y=a.y,e}function sd(e){var t,n,r,i,s,o,a,l,u,c,h,p,d={lam:0,phi:0},f={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?f.value=nd.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(f.value=nd.AREA_1,t-=Sa):e.x<0&&-e.x>=Math.abs(e.y)?(f.value=nd.AREA_2,t=t<0?t+Oa:t-Oa):(f.value=nd.AREA_3,t+=Sa),u=Oa/12*Math.tan(t),s=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),o=Math.atan(s),r=Math.cos(t),i=Math.tan(n),a=1-r*r*i*i*(1-Math.cos(Math.atan(1/Math.cos(o)))),a<-1?a=-1:a>1&&(a=1),this.face===td.TOP)l=Math.acos(a),d.phi=Sa-l,f.value===nd.AREA_0?d.lam=o+Sa:f.value===nd.AREA_1?d.lam=o<0?o+Oa:o-Oa:f.value===nd.AREA_2?d.lam=o-Sa:d.lam=o;else if(this.face===td.BOTTOM)l=Math.acos(a),d.phi=l-Sa,f.value===nd.AREA_0?d.lam=-o+Sa:f.value===nd.AREA_1?d.lam=-o:f.value===nd.AREA_2?d.lam=-o-Sa:d.lam=o<0?-o-Oa:-o+Oa;else{var m,y,g;m=a,u=m*m,g=u>=1?0:Math.sqrt(1-u)*Math.sin(o),u+=g*g,y=u>=1?0:Math.sqrt(1-u),f.value===nd.AREA_1?(u=y,y=-g,g=u):f.value===nd.AREA_2?(y=-y,g=-g):f.value===nd.AREA_3&&(u=y,y=g,g=-u),this.face===td.RIGHT?(u=m,m=-y,y=u):this.face===td.BACK?(m=-m,y=-y):this.face===td.LEFT&&(u=m,m=y,y=-u),d.phi=Math.acos(-g)-Sa,d.lam=Math.atan2(y,m),this.face===td.RIGHT?d.lam=ad(d.lam,-Sa):this.face===td.BACK?d.lam=ad(d.lam,-Oa):this.face===td.LEFT&&(d.lam=ad(d.lam,+Sa))}0!==this.es&&(c=d.phi<0?1:0,h=Math.tan(d.phi),p=this.b/Math.sqrt(h*h+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),c&&(d.phi=-d.phi));return d.lam+=this.long0,e.x=d.lam,e.y=d.phi,e}function od(e,t,n,r){var i;return e<Aa?(r.value=nd.AREA_0,i=0):(i=Math.atan2(t,n),Math.abs(i)<=La?r.value=nd.AREA_0:i>La&&i<=Sa+La?(r.value=nd.AREA_1,i-=Sa):i>Sa+La||i<=-(Sa+La)?(r.value=nd.AREA_2,i=i>=0?i-Oa:i+Oa):(r.value=nd.AREA_3,i+=Sa)),i}function ad(e,t){var n=e+t;return n<-Oa?n+=Ma:n>+Oa&&(n-=Ma),n}var ld=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],ud={init:rd,forward:id,inverse:sd,names:ld},cd=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],hd=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],pd=.8487,dd=1.3523,fd=Ia/5,md=1/fd,yd=18,gd=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},_d=function(e,t){return e[1]+t*(2*e[2]+3*t*e[3])};function vd(e,t,n,r){for(var i=t;r;--r){var s=e(i);if(i-=s,Math.abs(s)<n)break}return i}function bd(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function xd(e){var t=bl(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*fd);r<0?r=0:r>=yd&&(r=yd-1),n=Ia*(n-md*r);var i={x:gd(cd[r],n)*t,y:gd(hd[r],n)};return e.y<0&&(i.y=-i.y),i.x=i.x*this.a*pd+this.x0,i.y=i.y*this.a*dd+this.y0,i}function wd(e){var t={x:(e.x-this.x0)/(this.a*pd),y:Math.abs(e.y-this.y0)/(this.a*dd)};if(t.y>=1)t.x/=cd[yd][0],t.y=e.y<0?-Sa:Sa;else{var n=Math.floor(t.y*yd);for(n<0?n=0:n>=yd&&(n=yd-1);;)if(hd[n][0]>t.y)--n;else{if(!(hd[n+1][0]<=t.y))break;++n}var r=hd[n],i=5*(t.y-r[0])/(hd[n+1][0]-r[0]);i=vd((function(e){return(gd(r,e)-t.y)/_d(r,e)}),i,Aa,100),t.x/=gd(cd[n],i),t.y=(5*n+i)*Pa,e.y<0&&(t.y=-t.y)}return t.x=bl(t.x+this.long0),t}var Sd=["Robinson","robin"],Cd={init:bd,forward:xd,inverse:wd,names:Sd};function Ed(){this.name="geocent"}function Td(e){var t=Zl(e,this.es,this.a);return t}function Ad(e){var t=Yl(e,this.es,this.a,this.b);return t}var Pd=["Geocentric","geocentric","geocent","Geocent"],Id={init:Ed,forward:Td,inverse:Ad,names:Pd},Ld=function(e){e.Proj.projections.add(sc),e.Proj.projections.add(_c),e.Proj.projections.add(Sc),e.Proj.projections.add(Rc),e.Proj.projections.add(Uc),e.Proj.projections.add(Hc),e.Proj.projections.add(Kc),e.Proj.projections.add(nh),e.Proj.projections.add(ah),e.Proj.projections.add(bh),e.Proj.projections.add(Bh),e.Proj.projections.add(Wh),e.Proj.projections.add(Yh),e.Proj.projections.add(np),e.Proj.projections.add(ap),e.Proj.projections.add(dp),e.Proj.projections.add(_p),e.Proj.projections.add(Sp),e.Proj.projections.add(Ip),e.Proj.projections.add(Np),e.Proj.projections.add(qp),e.Proj.projections.add(Vp),e.Proj.projections.add(Zp),e.Proj.projections.add(ed),e.Proj.projections.add(ud),e.Proj.projections.add(Cd),e.Proj.projections.add(Id)};hu.defaultDatum="WGS84",hu.Proj=Jl,hu.WGS84=new hu.Proj("WGS84"),hu.Point=Bu,hu.toPoint=nu,hu.defs=ol,hu.transform=ou,hu.mgrs=bu,hu.version="__VERSION__",Ld(hu);var Md=hu;window.proj4=Md,window.Proj4js=Md,a.a.Proj={},a.a.Proj._isProj4Obj=function(e){return"undefined"!==typeof e.inverse&&"undefined"!==typeof e.forward},a.a.Proj.Projection=a.a.Class.extend({initialize:function(e,t,n,r){var i=a.a.Proj._isProj4Obj(e);this._proj=i?e:this._projFromCodeDef(e,t);var s=n;a.a.Util.isArray(n)&&(s=a.a.bounds(n)),this.bounds=i?t:s,this.wrapLng=r},project:function(e){var t=this._proj.forward([e.lng,e.lat]);return new a.a.Point(t[0],t[1])},unproject:function(e,t){this.bounds&&!this.wrapLng&&(e.x=e.x<this.bounds.min.x?this.bounds.min.x:e.x>this.bounds.max.x?this.bounds.max.x:e.x,e.y=e.y<this.bounds.min.y?this.bounds.min.y:e.y>this.bounds.max.y?this.bounds.max.y:e.y);var n=this._proj.inverse([e.x,e.y]);return new a.a.LatLng(n[1],n[0],t)},_projFromCodeDef:function(e,t){if(t)Md.defs(e,t);else if(void 0===Md.defs[e]){var n=e.split(":");if(n.length>3&&(e=n[n.length-3]+":"+n[n.length-1]),void 0===Md.defs[e])throw"No projection definition for code "+e}return Md(e)},getUnits:function(){return this._proj.oProj.units||"degrees"}});var Od=a.a.Class.extend({includes:a.a.CRS,options:{transformation:new a.a.Transformation(1,0,-1,0)},initialize:function(e,t){var n,r,i;if(a.a.Proj._isProj4Obj(e)?(r=e,n=r.srsCode,t=t||{},this.projection=new a.a.Proj.Projection(r,t.bounds,t.wrapLng)):(n=e,t=t||{},i=t.def||"",this.projection=new a.a.Proj.Projection(n,i,t.bounds,t.wrapLng)),a.a.Util.setOptions(this,t),this.options.wrapLng&&(this.wrapLng=this.options.wrapLng),this.code=n,this.transformation=this.options.transformation,this.options.dpi=this.options.dpi||96,this.options.bounds&&(this.options.bounds=a.a.bounds(this.options.bounds)),!this.options.origin&&this.options.bounds&&(this.options.origin=[this.options.bounds.min.x,this.options.bounds.max.y]),this.options.origin&&(this.options.origin instanceof a.a.Point&&(this.options.origin=[this.options.origin.x,this.options.origin.y]),this.transformation=new a.a.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales&&this.options.scales.length>0)this.scales=this.options.scales,this._scales=this._toProj4Scales(this.options.scales,this.options.dpi);else if(this.options.scaleDenominators&&this.options.scaleDenominators.length>0){this.scales=[];for(let e=0;e<this.options.scaleDenominators.length;e++)this.scales[e]=1/this.options.scaleDenominators[e];this._scales=this._toProj4Scales(this.scales,this.options.dpi)}else if(this.options.resolutions&&this.options.resolutions.length>0){this._scales=[];for(let e=this.options.resolutions.length-1;e>=0;e--)this.options.resolutions[e]&&(this._scales[e]=1/this.options.resolutions[e])}else this.options.bounds&&(this._scales=this._getDefaultProj4ScalesByBounds(this.options.bounds));this._rectify(),this.infinite=!this.options.bounds},_rectify:function(){if(this._scales&&(this.resolutions||(this.resolutions=[],this.resolutions=this._proj4ScalesToResolutions(this._scales)),!this.scales)){this.scales=[];for(let t=0;t<this.resolutions.length;t++){var e=this.resolutions[t]*this.options.dpi*(1/.0254)*this._getMeterPerMapUnit(this.projection.getUnits());this.scales[t]=1/e}}},scale:function(e){var t,n,r,i,s=Math.floor(e);return e===s?this._scales[e]:(t=this._scales[s],n=this._scales[s+1],r=n-t,i=e-s,t+r*i)},zoom:function(e){var t,n,r,i=this._closestElement(this._scales,e),s=this._scales.indexOf(i);return i?e===i?s:(n=s+1,t=this._scales[n],void 0===t?s:(r=t-i,(e-i)/r+s)):0},distance:a.a.CRS.Earth.distance,R:a.a.CRS.Earth.R,_closestElement:function(e,t){for(var n,r=e.length;r--;)e[r]<=t&&(void 0===n||n<e[r])&&(n=e[r]);return n},_proj4ScalesToResolutions(e){var t=[];if(!e)return t;for(var n=0;n<e.length;n++)t[n]=1/e[n];return t},_toProj4Scales:function(e,t){var n=[];if(!e)return n;for(var r=0;r<e.length;r++){var i=this.projection?this._getMeterPerMapUnit(this.projection.getUnits()):1;n[r]=1/(.0254/((t||96)*e[r])/i)}return n},_getMeterPerMapUnit:function(e){var t=6378137,n=1;return"meter"===e?n=1:"degrees"===e?n=2*Math.PI*t/360:"kilometer"===e?n=.001:"inch"===e?n=1/.025399999918:"feet"===e&&(n=.3048),n},_getDefaultProj4ScalesByBounds:function(e){if(!e)return[];for(var t=e.getSize(),n=Math.max(t.x,t.y),r=n/256,i=[],s=23,o=0;o<s;o++)i[o]=Math.pow(2,o)/r;return i}}),kd=function(e,t){return new Od(e,t)};a.a.Proj.CRS=kd;var Nd=a.a.CRS.Baidu=a.a.extend({},a.a.CRS.EPSG3857,{code:"Baidu",scale:function(e){return 6378137*Math.PI*2/Math.pow(2,18-e)},transformation:function(){var e=.5/(6378137*Math.PI);return new a.a.Transformation(e,0,-e,0)}()}),Rd=[];for(let L=1;L<19;L++)Rd.push(1.40625/Math.pow(2,L));var Dd=a.a.CRS.TianDiTu_WGS84=a.a.Proj.CRS("EPSG:4326",{origin:[-180,90],resolutions:Rd,bounds:a.a.bounds([-180,-90],[180,90]),wrapLng:[-180,180]});const Fd=2*Math.PI*6378137,Bd=Fd/2;var qd=[];for(let L=1;L<19;L++)qd.push(Fd/256/Math.pow(2,L));var zd=a.a.CRS.TianDiTu_Mercator=a.a.Proj.CRS("EPSG:3857",{origin:[-Bd,Bd],resolutions:qd,bounds:a.a.bounds([-Bd,-Bd],[Bd,Bd]),wrapLng:[-180,180]});a.a.CRS.BaiduCRS=Nd,a.a.CRS.TianDiTu_WGS84CRS=Dd,a.a.CRS.TianDiTu_MercatorCRS=zd;let Ud={Prefix:"<a href='https://leafletjs.com' title='A JS library for interactive maps'>Leaflet</a>\n                with <span> <a href='https://iclient.supermap.io' title='SuperMap iClient' target='_blank'>SuperMap iClient</a></span>",Common:{attribution:"Map Data <span> <a href='http://support.supermap.com.cn/product/iServer.aspx' title='SuperMap iServer' target='_blank'>SuperMap iServer</a></span>"},Online:{attribution:"Map Data <span> <a href='https://www.supermapol.com' title='SuperMap Online' target='_blank'>SuperMap Online</a></span>"},ECharts:{attribution:" 2018  ECharts"},MapV:{attribution:" 2018  MapV "},Turf:{attribution:"<span> <a href='https://turfjs.org/' title='turfjs' target='_blank'>turfjs</a></span>"},Baidu:{attribution:"Map Data  2018 Baidu - GS(2016)2089 - Data  "},Cloud:{attribution:"Map Data 2014 SuperMap - GS(2014)6070-dataNavinfo"},Tianditu:{attribution:"Map Data <a href='https://www.tianditu.gov.cn' target='_blank'><img style='background-color:transparent;bottom:2px;opacity:1;' src='https://api.tianditu.gov.cn/img/map/logo.png' width='53px' height='22px' opacity='0'></a>"}};var Gd=Ud;function jd(e){e.map(e=>(e.defaultFunction=e.prototype.toGeoJSON,e.include({toGeoJSON:function(t){return e.defaultFunction.call(this,t||10)}}),e))}a.a.supermap=a.a.supermap||{},a.a.supermap.control=a.a.supermap.control||{},a.a.supermap.components=a.a.supermap.components||{},a.a.Control.Attribution.include({options:{position:"bottomright",prefix:Gd.Prefix}}),a.a.Map.include({latLngToAccurateContainerPoint:function(e){var t=this.project(a.a.latLng(e)),n=t._subtract(this.getPixelOrigin());return a.a.point(n).add(this._getMapPanePos())}}),jd([a.a.Polyline,a.a.Polygon,a.a.Marker,a.a.CircleMarker,a.a.Circle,a.a.LayerGroup]);var Vd=a.a.Evented.extend({options:{url:null,proxy:null,serverType:null,withCredentials:!1,crossOrigin:null},initialize:function(e,t){e&&(e=e.indexOf("/")!==e.length-1?e:e.substr(0,e.length-1)),this.url=e,a.a.setOptions(this,t),this.fire("initialized",this)},destroy:function(){this.fire("destroy",this)}});a.a.supermap.ServiceBase=Vd;var Wd=Vd.extend({options:{projection:null},initialize:function(e,t){t=t||{},a.a.setOptions(this,t),t.projection&&(this.options.projection=t.projection),Vd.prototype.initialize.call(this,e,t)},getMapInfo:function(e){var t=this,n=new Jr(t.url,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{scope:t,processCompleted:e,processFailed:e},projection:t.options.projection});n.processAsync()},getTilesets:function(e){var t=this,n=new Vi(t.url,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{scope:t,processCompleted:e,processFailed:e}});n.processAsync()}}),Hd=function(e,t){return new Wd(e,t)};a.a.supermap.mapService=Hd;var Jd=a.a.Control.extend({options:{layer:null,position:"topleft",title:"switch tile version",tooltip:"top",collapsed:!0,nextText:"+",lastText:"-",ico:"V",orientation:"horizontal",switch:!0},onAdd:function(){"vertical"!==this.options.orientation&&(this.options.orientation="horizontal");var e=this._initLayout();return this.options.layer&&this.setLayer(this.options.layer),e},setContent:function(e){var t=a.a.Util.extend({},e);this.setVersionName(t.desc).setToolTip(t.desc)},setVersionName:function(e){var t=e;return e||(t=this.getValue()),this._sliderValue.innerHTML=t,this},setToolTip:function(e){return this.tooltip.innerHTML=e,this},updateLength:function(e){e>0&&(this.length=e,this.max=this.length-1,this.slider.setAttribute("max",this.max))},setLayer:function(e){e&&(this.options.layer=e);var t=this,n=t.options.layer;n.on("tilesetsinfoloaded",(function(e){var n=e&&e.tileVersions;t.update(n)})),n.on("tileversionschanged",(function(e){var n=e&&e.tileVersion;t.setContent(n)})),t.getTileSetsInfo()},update:function(e){this.tileVersions=e,this.updateLength(this.tileVersions.length)},getTileSetsInfo:function(){var e=this;e.options.layer&&new Wd(e.options.layer._url).getTilesets((function(t){e.options.layer.setTileSetsInfo(t.result)}))},removeLayer:function(){this.options.layer=null},nextTilesVersion:function(){return this.firstLoad?(this.options.layer.nextTilesVersion(),this.firstLoad=!1,this):(parseInt(this.slider.value)>this.max-1||(this.slider.value=parseInt(this.slider.value)+1,this.options.layer.nextTilesVersion()),this)},lastTilesVersion:function(){return parseInt(this.slider.value)<this.min+1||(this.slider.value=parseInt(this.slider.value)-1,this.options.layer.lastTilesVersion()),this},tilesVersion:function(e){for(var t=this.options.layer,n=this.tileVersions,r=n.length,i=0;i<r;i++)if(n[i].name==e){t.updateCurrentTileSetsIndex(i),t.changeTilesVersion();break}},getValue:function(){return this.slider.value},getVersion:function(){var e=this.tileVersions[this.getValue()];return e&&e.name},_initLayout:function(){var e="leaflet-control-ctv";this._container=a.a.DomUtil.create("div",e+" "+e+"-"+this.options.orientation),this._sliderBtn=a.a.DomUtil.create("a",e+"-toggle",this._container),this._sliderBtn.setAttribute("title",this.options.title),this._sliderBtn.innerHTML=this.options.ico,this._sliderValue=a.a.DomUtil.create("p",e+"-value",this._container),this._sliderValue.innerHTML=this.options.ico;var t="leaflet-ctv-slider";return this._sliderContent=a.a.DomUtil.create("div",t+"-main  tooltip",this._container),this.tooltip=a.a.DomUtil.create("span","tooltip-text  tooltip-"+this.options.tooltip,this._sliderContent),this.tooltip.innerHTML=this.options.ico,this.options.switch&&(this._next=a.a.DomUtil.create("a",t+"-incdec "+t+"-next",this._sliderContent),this._next.innerHTML=this.options.nextText,a.a.DomEvent.on(this._next,"click",this.nextTilesVersion,this),a.a.DomUtil.addClass(this._container,e+"-incdec")),this._sliderContainer=a.a.DomUtil.create("div",t+"-container",this._sliderContent),this.slider=a.a.DomUtil.create("input",t,this._sliderContainer),this.min=null==this.min||isNaN(this.min)?0:parseInt(this.min),this.slider.setAttribute("title",this.options.title),this.slider.setAttribute("id","slider"),this.slider.setAttribute("type","range"),this.slider.setAttribute("min",this.min),this.slider.setAttribute("max",0),this.slider.setAttribute("step",1),this.slider.setAttribute("value",0),this.firstLoad=!0,"oninput"in this.slider||"onchange"in this.slider?a.a.DomEvent.on(this.slider,"change",this._tilesVersion,this):this.slider.onpropertychange=this._tilesVersion,this.options.switch&&(this._last=a.a.DomUtil.create("a",t+"-incdec "+t+"-last",this._sliderContent),this._last.innerHTML=this.options.lastText,a.a.DomEvent.on(this._last,"click",this.lastTilesVersion,this)),"vertical"===this.options.orientation?(this.slider.style.width="170px",this._sliderContainer.style.height="170px"):this._sliderContainer.style.width="150px",a.a.DomEvent.disableClickPropagation(this._container),this.options.collapsed?(a.a.Browser.android||a.a.DomEvent.on(this._container,"mouseenter",this._expand,this).on(this._container,"mouseleave",this._collapse,this),a.a.Browser.touch?a.a.DomEvent.on(this._sliderBtn,"click",a.a.DomEvent.stop).on(this._sliderBtn,"click",this._expand,this):a.a.DomEvent.on(this._sliderBtn,"focus",this._expand,this)):this._expand(),this._container},_expand:function(){a.a.DomUtil.addClass(this._container,"leaflet-control-ctv-expanded")},_collapse:function(){a.a.DomUtil.removeClass(this._container,"leaflet-control-ctv-expanded")},_tilesVersion:function(){var e=this.getVersion();this.tilesVersion(e)}});a.a.Map.mergeOptions({changeTileVersionControl:!1}),a.a.Map.addInitHook((function(){this.options.changeTileVersionControl&&(this.changeTileVersionControl=new Jd,this.addControl(this.changeTileVersionControl))}));var Xd=function(e){return new Jd(e)};a.a.supermap.control.changeTileVersion=Xd;var Zd=a.a.Control.extend({options:{position:"bottomright",imageUrl:null,link:null,width:null,height:null,alt:"SuperMap iClient"},onAdd:function(){var e=a.a.DomUtil.create("div","iclient-leaflet-logo");e.style.marginTop=0,e.style.marginBottom=0,e.style.marginLeft=0,e.style.marginRight=0;var t=Le;this.options.imageUrl&&(t=this.options.imageUrl);var n=this.options.alt,r="94px",i="29px",s="width:"+r+";height:"+i+";";this.options.imageUrl&&(r=this.options.width,i=this.options.height,s="width:"+r+";height:"+i+";",r&&i||(s=""));var o=this.options.link||"https://iclient.supermap.io";return e.innerHTML="<a href='"+o+"' target='_blank' style='border: none;display: block;'><img src="+t+" alt='"+n+"' style='border: none;"+s+"margin-right:5px;margin-bottom:2px;white-space: nowrap'></a>",e}});a.a.Map.mergeOptions({logoControl:!0}),a.a.Map.addInitHook((function(){!this._logoAdded&&this.options.logoControl&&(!0===this.options.logoControl?this.logoControl=new Zd:this.options.logoControl instanceof a.a.Control&&(this.logoControl=this.options.logoControl),this.logoControl&&(this.addControl(this.logoControl),this._logoAdded=!0))}));var Yd=function(e){return new Zd(e)};a.a.supermap.control.logo=Yd;class Kd{static toSuperMapBounds(e){return e&&-1!==["FeatureCollection","Feature"].indexOf(e.type)&&(e=a.a.geoJSON(e).getBounds()),e instanceof a.a.LatLngBounds?new re(e.getSouthWest().lng,e.getSouthWest().lat,e.getNorthEast().lng,e.getNorthEast().lat):e instanceof a.a.Bounds?new re(e.min.x,e.min.y,e.max.x,e.max.y):this.isArray(e)?new re(e[0],e[1],e[2],e[3]):new re}static isArray(e){return"[object Array]"==Object.prototype.toString.call(e)}static toProcessingParam(e){var t={};if(e.length<1)t="";else{for(var n=[],r=0;r<e.length;r++){var i={};i.x=e[r][0],i.y=e[r][1],n.push(i)}t.type="REGION",t.points=n}return t}}a.a.supermap.CommontypesConversion=Kd;var Qd={};a.a.Util.supermap_callbacks=Qd;var $d=function(e){return e?(new Pe).toGeoJSON(e):e},ef=function(e){if(!e)return e;var t,n=new Pe;if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(e.type))t=n.read(e,e.type);else if("function"===typeof e.toGeoJSON){var r=e.toGeoJSON();t=r?n.read(r,r.type):e}var i=t;return a.a.Util.isArray(t)&&(1===t.length?i=t[0]:t.length>1&&(i=[],t.map((function(e){return i.push(e.geometry),e})))),i&&i.geometry?i.geometry:i},tf=Ns,nf=function(e,t,n){var r=1/.0254,i=tf(n),s=e*t*r*i;return s=1/s,s},rf=function(e,t,n){var r=1/.0254,i=tf(n),s=e*t*r*i;return s=1/s,s},sf=function(e,t,n,r){var i=null,s=1e4;return r=r||6378137,n=n||"",e>0&&t>0?(e=a.a.Util.NormalizeScale(e),"degree"===n.toLowerCase()||"degrees"===n.toLowerCase()||"dd"===n.toLowerCase()?(i=.0254*s/t/e/(2*Math.PI*r/360)/s,i):(i=.0254*s/t/e/s,i)):-1},of=function(e){return e>1?1/e:e};a.a.Util.toGeoJSON=$d,a.a.Util.toSuperMapGeometry=ef,a.a.Util.resolutionToScale=nf,a.a.Util.scaleToResolution=rf,a.a.Util.getMeterPerMapUnit=tf,a.a.Util.GetResolutionFromScaleDpi=sf,a.a.Util.NormalizeScale=of;var af=function(e,t=a.a.CRS.EPSG4326,n){let r=null,i=null;if(-1===["FeatureCollection","Feature","Geometry"].indexOf(e.type))if(e.toGeoJSON)e=e.toGeoJSON();else if(e instanceof a.a.LatLngBounds)e=a.a.rectangle(e).toGeoJSON();else{if(!(e instanceof a.a.Bounds))throw new Error("This tool only supports data conversion in geojson format or Vector Layers of Leaflet.");e=a.a.rectangle([[e.getTopLeft().x,e.getTopLeft().y],[e.getBottomRight().x,e.getBottomRight().y]]).toGeoJSON()}const s={point:function(e){return i(e)},multipoint:function(e){return s["linestring"].apply(this,[e])},linestring:function(e){let t=[],n=null;for(let i=0,o=e.length;i<o;++i){try{n=s["point"].apply(this,[e[i]])}catch(r){throw r}t.push(n)}return t},multilinestring:function(e){return s["polygon"].apply(this,[e])},polygon:function(e){let t,n=[];for(let i=0,o=e.length;i<o;++i){try{t=s["linestring"].apply(this,[e[i]])}catch(r){throw r}n.push(t)}return n},multipolygon:function(e){let t=[],n=null;for(let i=0,o=e.length;i<o;++i){try{n=s["polygon"].apply(this,[e[i]])}catch(r){throw r}t.push(n)}return t}};return o(e,u);function o(e,t){if(r=e,i=t,"Feature"===e.type)r=l(e);else if("FeatureCollection"===e.type){let t=[];for(let r=0;r<e.features.length;++r)try{t.push(l(e.features[r]))}catch(n){t=null}r.features=t}return r}function l(e){const t=e.geometry;if(!te.isArray(t.coordinates))throw"Geometry must have coordinates array: "+t;if(!s[t.type.toLowerCase()])throw"Unsupported geometry type: "+t.type;try{t.coordinates=s[t.type.toLowerCase()].apply(this,[t.coordinates])}catch(n){throw n}return e.geometry=t,e}function u(e){var r=t.unproject({x:e[0],y:e[1]});const i=n.project(r);return[i.x,i.y]}};a.a.Util.transform=af;var lf=a.a.TileLayer.extend({url:"http://online{num}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles={styles}&udt=20150815&scaler=1",options:{minZoom:3,maxZoom:19,bounds:a.a.latLngBounds(a.a.latLng(-85.0511287798,-180),a.a.latLng(85.0511287798,180)),retina:a.a.Browser.retina,attribution:Gd.Baidu.attribution},initialize:function(e,t){e&&(this.url=e),a.a.setOptions(this,t),this.options.retina&&(this.options.maxZoom=18),a.a.stamp(this)},getTileUrl:function(e){var t=a.a.Util.template(this.url,{num:Math.abs((e.x+e.y)%8)+1,x:e.x,y:-e.y-1,z:this._getZoomForUrl(),styles:this.options.retina?"ph":"pl"});return this.options.tileProxy&&(t=this.options.tileProxy+encodeURIComponent(t)),t}}),uf=function(e,t){return new lf(e,t)};a.a.supermap.baiduTileLayer=uf;var cf=a.a.TileLayer.extend({defaultURL:"http://t2.dituhui.com/FileService/image",options:{mapName:"quanguo",type:"web",minZoom:3,maxZoom:18,attribution:Gd.Cloud.attribution},initialize:function(e,t){a.a.setOptions(this,t);var n=e||this.defaultURL;this._url=n+"?map="+this.options.mapName+"&type="+this.options.type,a.a.stamp(this)},getTileUrl:function(e){var t=this._url,n=t+"&x="+e.x+"&y="+e.y+"&z="+e.z;return this.options.tileProxy&&(n=this.options.tileProxy+encodeURIComponent(n)),n}}),hf=function(e,t){return new cf(e,t)};a.a.supermap.cloudTileLayer=hf;var pf=o["Layer"].extend({options:{layersID:null,redirect:!1,transparent:!0,cacheEnabled:!0,clipRegionEnabled:!1,clipRegion:null,prjCoordSys:null,overlapDisplayed:!1,overlapDisplayedOptions:null,opacity:1,alt:"",pane:"tilePane",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:"",serverType:h.ISERVER,attribution:Gd.Common.attribution,updateInterval:150,tileProxy:null,format:"png"},initialize:function(e,t){this._url=e,o["Util"].setOptions(this,t)},onAdd:function(e){this.update=o["Util"].throttle(this.update,this.options.updateInterval,this),e.on("moveend",this.update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?e.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this.update()},onRemove:function(){this._currentImage&&this._map.removeLayer(this._currentImage),this._map.off("moveend",this.update,this)},bringToFront:function(){return this.options.position="front",this._currentImage&&this._currentImage.bringToFront(),this},bringToBack:function(){return this.options.position="back",this._currentImage&&this._currentImage.bringToBack(),this},getOpacity:function(){return this.options.opacity},setOpacity:function(e){return this.options.opacity=e,this._currentImage&&this._currentImage.setOpacity(e),this},getImageUrl:function(e){let t=te.urlPathAppend(this._url,"image."+this.options.format),n=t+o["Util"].getParamString(Object.assign({},this._initAllRequestParams(),e),t);return n=this._appendCredential(n),this.options.tileProxy&&(n=this.options.tileProxy+encodeURIComponent(n)),this.options.cacheEnabled||(n+="&_t="+(new Date).getTime()),n},_getImageParams:function(){var e=this._calculateImageSize();return{viewBounds:this._compriseBounds(this._calculateBounds()),width:e.x,height:e.y}},_initAllRequestParams:function(){var e=this,t=e.options||{},n={},r=!0===t.redirect&&t.redirect;n["redirect"]=r;var i=!0===t.transparent&&t.transparent;n["transparent"]=i;var s=!1!==t.cacheEnabled||t.cacheEnabled;return n["cacheEnabled"]=s,t.prjCoordSys&&(n["prjCoordSys"]=JSON.stringify(t.prjCoordSys)),t.layersID&&(n["layersID"]=t.layersID),t.rasterfunction&&(n["rasterfunction"]=JSON.stringify(t.rasterfunction)),t.clipRegionEnabled&&t.clipRegion&&(n["clipRegionEnabled"]=t.clipRegionEnabled,n["clipRegion"]=JSON.stringify(Ae.fromGeometry(ef(t.clipRegion)))),!1===t.overlapDisplayed?(n["overlapDisplayed"]=!1,t.overlapDisplayedOptions&&(n["overlapDisplayedOptions"]=e.overlapDisplayedOptions.toString())):n["overlapDisplayed"]=!0,n},_requestImage:function(e,t){var n=this.getImageUrl(e);this._loadImage(n,t)},_loadImage:function(e,t){if(this._map){var n=new o["ImageOverlay"](e,t,{opacity:0,alt:this.options.alt,zIndex:this.options.zIndex,className:this.options.className,errorOverlayUrl:this.options.error,crossOrigin:this.options.crossOrigin,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),r=function(e){n.off("error",r,this);var i=this._map;if(i){var s=e.target,o=this._currentImage;s._bounds&&s._bounds.equals(t)&&s._bounds.equals(i.getBounds())?(this._currentImage=s,"front"===this.options.position&&this.bringToFront(),"back"===this.options.position&&this.bringToBack(),this._currentImage._map&&this._currentImage.setOpacity(this.options.opacity),o&&i.removeLayer(o),o&&o._map&&o._map.removeLayer(o)):i.removeLayer(s),this.fire("load",{bounds:t})}};n.once("load",r,this),n.once("error",(function(){this._map.removeLayer(n),this.fire("error"),n.off("load",r,this)}),this),this.fire("loading",{bounds:t})}},update:function(){if(this._map){var e=this._map.getZoom(),t=this._map.getBounds();if(e>(this._map.options.maxZoom||18)||e<(this._map.options.minZoom||0))this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);else{var n=this._getImageParams();n?this._requestImage(n,t):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}}},_calculateBounds:function(){var e=this._map.getPixelBounds(),t=this._map.unproject(e.getBottomLeft()),n=this._map.unproject(e.getTopRight()),r=this._map.options.crs.project(n),i=this._map.options.crs.project(t);return a.a.bounds(r,i)},_compriseBounds:function(e){var t={leftBottom:{x:e.getBottomLeft().x,y:e.getTopRight().y},rightTop:{x:e.getTopRight().x,y:e.getBottomLeft().y}};return JSON.stringify(t)},_calculateImageSize:function(){var e=this._map,t=e.getPixelBounds(),n=e.getSize(),r=e.unproject(t.getBottomLeft()),i=e.unproject(t.getTopRight()),s=e.latLngToLayerPoint(i).y,o=e.latLngToLayerPoint(r).y;return(s>0||o<n.y)&&(n.y=o-s),n},_appendCredential:function(e){var t,n,r=e;switch(this.options.serverType){case h.IPORTAL:n=qe.getToken(this._url),t=n?new ye(n,"token"):null,t||(n=qe.getKey(this._url),t=n?new ye(n,"key"):null);break;case h.ONLINE:n=qe.getKey(this._url),t=n?new ye(n,"key"):null;break;default:n=qe.getToken(this._url),t=n?new ye(n,"token"):null;break}return t&&(r=te.urlAppend(r,t.getUrlParameters())),r}}),df=function(e,t){return new pf(e,t)};a.a.supermap.imageMapLayer=df;var ff=a.a.TileLayer.extend({options:{version:"1.0.0",style:"",tilematrixSet:"",format:"image/png",tileSize:256,matrixIds:null,layer:"",requestEncoding:"KVP",attribution:"",noWrap:!0},initialize:function(e,t){this._url=e,a.a.setOptions(this,t);var n=this.options;if("REST"===n.requestEncoding){var r={"image/png":"png","image/png8":"png","image/png24":"png","image/png32":"png",png:"png","image/jpeg":"jpg","image/jpg":"jpg",jpeg:"jpg",jpg:"jpg"};this.formatSuffix="."+(r[n.format]||n.format.split("/").pop()||"png")}else n.requestEncoding="KVP"},getTileUrl:function(e){var t=this._getZoomForUrl(),n=this.options.matrixIds?this.options.matrixIds[t].identifier:t,r=a.a.Util.template(this._url,{s:this._getSubdomain(e)}),i={service:"WMTS",request:"GetTile",version:this.options.version,style:this.options.style,tilematrixSet:this.options.tilematrixSet,format:this.options.format,width:this.options.tileSize,height:this.options.tileSize,layer:this.options.layer,tilematrix:n,tilerow:e.y,tilecol:e.x};if(this.options.tileProxy&&(r=this.options.tileProxy+r),"KVP"===this.options.requestEncoding)r+=a.a.Util.getParamString(i,r);else if("REST"===this.options.requestEncoding){var s="/"+i.layer+"/"+i.style+"/"+i.tilematrixSet+"/"+i.tilematrix+"/"+i.tilerow+"/"+i.tilecol+this.formatSuffix;r+=s}return r}}),mf=function(e,t){return new ff(e,t)};a.a.supermap.wmtsLayer=mf;var yf=ff.extend({layerLabelMap:{vec:"cva",ter:"cta",img:"cia"},layerZoomMap:{vec:18,ter:14,img:18},options:{layerType:"vec",isLabel:!1,attribution:Gd.Tianditu.attribution,url:"https://t{s}.tianditu.gov.cn/{layer}_{proj}/wmts?",zoomOffset:1,key:"",dpi:96,style:"default",format:"tiles",subdomains:[0,1,2,3,4,5,6,7],bounds:[[-90,-180],[90,180]],noWrap:!0},initialize:function(e){e=e||{},a.a.setOptions(this,e),this.options.layer=this.options.isLabel?this.layerLabelMap[this.options.layerType]:this.options.layerType,this.options.maxZoom=this.layerZoomMap[this.options.layerType]-1,ff.prototype.initialize.call(this,this.options.url,this.options),a.a.stamp(this),this.options.key&&(this._url=`${this._url}tk=${this.options.key}`)},onAdd:function(e){this.options.tilematrixSet="EPSG:4326"===e.options.crs.code?"c":"w",this._url=this._url.replace("{layer}",this.options.layer).replace("{proj}",this.options.tilematrixSet),ff.prototype.onAdd.call(this,e)},_isValidTile:function(e){const t=this._map.options.crs;if(!t.infinite){const n=this._globalTileRange;if((!t.wrapLng||this.options.noWrap)&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;const n=this._tileCoordsToBounds(e);return a.a.latLngBounds(this.options.bounds).overlaps(n)}}),gf=function(e){return new yf(e)};a.a.supermap.tiandituTileLayer=gf;var _f=a.a.TileLayer.extend({options:{layersID:null,redirect:!1,transparent:!0,cacheEnabled:!0,clipRegionEnabled:!1,clipRegion:null,prjCoordSys:null,overlapDisplayed:!1,overlapDisplayedOptions:null,tileversion:null,crs:null,serverType:h.ISERVER,format:"png",tileProxy:null,attribution:Gd.Common.attribution,subdomains:null},initialize:function(e,t){this._url=e,a.a.TileLayer.prototype.initialize.apply(this,arguments),a.a.setOptions(this,t),a.a.stamp(this),this.tileSetsIndex=-1,this.tempIndex=-1},onAdd:function(e){this._crs=this.options.crs||e.options.crs,a.a.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this.getScaleFromCoords(e),n=this._getLayerUrl(),r=n+"&scale="+t+"&x="+e.x+"&y="+e.y;return this.options.tileProxy&&(r=this.options.tileProxy+encodeURIComponent(r)),this.options.cacheEnabled||(r+="&_t="+(new Date).getTime()),this.options.subdomains&&(r=a.a.Util.template(r,{s:this._getSubdomain(e)})),r},getScale:function(e){var t=this,n=e||t._map.getZoom();return t.scales[n]},getScaleFromCoords:function(e){var t,n=this;return n.scales&&n.scales[e.z]?n.scales[e.z]:(n.scales=n.scales||{},t=n.getDefaultScale(e),n.scales[e.z]=t,t)},getDefaultScale:function(e){var t=this,n=t._crs;if(n.scales)return n.scales[e.z];var r=t._tileCoordsToBounds(e),i=n.project(r.getNorthEast()),s=n.project(r.getSouthWest()),o=t.options.tileSize,a=Math.max(Math.abs(i.x-s.x)/o,Math.abs(i.y-s.y)/o),l=y.METER;if(n.code){var u=n.code.split(":");if(u&&u.length>1){var c=parseInt(u[1]);l=c&&c>=4e3&&c<=5e3?y.DEGREE:y.METER}}return nf(a,96,l)},setTileSetsInfo:function(e){this.tileSets=e,a.a.Util.isArray(this.tileSets)&&(this.tileSets=this.tileSets[0]),this.tileSets&&(this.fire("tilesetsinfoloaded",{tileVersions:this.tileSets.tileVersions}),this.changeTilesVersion())},lastTilesVersion:function(){this.tempIndex=this.tileSetsIndex-1,this.changeTilesVersion()},nextTilesVersion:function(){this.tempIndex=this.tileSetsIndex+1,this.changeTilesVersion()},changeTilesVersion:function(){var e=this;if(null!=e.tileSets&&!(e.tempIndex===e.tileSetsIndex||this.tempIndex<0)){var t=e.tileSets.tileVersions;if(t&&e.tempIndex<t.length&&e.tempIndex>=0){var n=t[e.tempIndex].name,r=e.mergeTileVersionParam(n);r&&(e.tileSetsIndex=e.tempIndex,e.fire("tileversionschanged",{tileVersion:t[e.tempIndex]}))}}},updateCurrentTileSetsIndex:function(e){this.tempIndex=e},mergeTileVersionParam:function(e){return!!e&&(this.requestParams["tileversion"]=e,this._paramsChanged=!0,this.redraw(),this._paramsChanged=!1,!0)},_getLayerUrl:function(){return this._paramsChanged&&(this._layerUrl=this._createLayerUrl()),this._layerUrl||this._createLayerUrl()},_createLayerUrl:function(){let e=te.urlPathAppend(this._url,"tileImage."+this.options.format);return this.requestParams=this.requestParams||this._getAllRequestParams(),e=te.urlAppend(e,o["Util"].getParamString(this.requestParams)),e=this._appendCredential(e),this._layerUrl=e,e},_getAllRequestParams:function(){var e=this,t=e.options||{},n={},r=this.options.tileSize;r instanceof a.a.Point||(r=a.a.point(r,r)),n["width"]=r.x,n["height"]=r.y,n["redirect"]=!0===t.redirect,n["transparent"]=!0===t.transparent,n["cacheEnabled"]=!(!1===t.cacheEnabled),t.prjCoordSys&&(n["prjCoordSys"]=JSON.stringify(t.prjCoordSys)),t.layersID&&(n["layersID"]=t.layersID.toString()),t.clipRegionEnabled&&t.clipRegion&&(t.clipRegion=Ae.fromGeometry(ef(t.clipRegion)),n["clipRegionEnabled"]=t.clipRegionEnabled,n["clipRegion"]=JSON.stringify(t.clipRegion));var i=e._crs;if(i.options&&i.options.origin)n["origin"]=JSON.stringify({x:i.options.origin[0],y:i.options.origin[1]});else if(i.projection&&i.projection.bounds){var s=i.projection.bounds,o=a.a.point(s.min.x,s.max.y);n["origin"]=JSON.stringify({x:o.x,y:o.y})}return!1===t.overlapDisplayed?(n["overlapDisplayed"]=!1,t.overlapDisplayedOptions&&(n["overlapDisplayedOptions"]=e.overlapDisplayedOptions.toString())):n["overlapDisplayed"]=!0,!0===n.cacheEnabled&&t.tileversion&&(n["tileversion"]=t.tileversion.toString()),t.rasterfunction&&(n["rasterfunction"]=JSON.stringify(t.rasterfunction)),n},_appendCredential:function(e){var t,n,r=e;switch(this.options.serverType){case h.IPORTAL:n=qe.getToken(this._url),t=n?new ye(n,"token"):null,t||(n=qe.getKey(this._url),t=n?new ye(n,"key"):null);break;case h.ONLINE:n=qe.getKey(this._url),t=n?new ye(n,"key"):null;break;default:n=qe.getToken(this._url),t=n?new ye(n,"token"):null;break}return t&&(r=te.urlAppend(r,t.getUrlParameters())),r}}),vf=function(e,t){return new _f(e,t)};a.a.supermap.tiledMapLayer=vf;var bf=n("d4f4"),xf=n.n(bf),wf={TEXT:{fontSize:"14px",fontFamily:"Arial Unicode MS Regular,Microsoft YaHei",textAlign:"left",color:"rgba(255,255,255,0)",fillColor:"rgba(80,80,80,1)",weight:1,globalAlpha:1},POINT:{fillColor:"#ffcc00",color:"#cc3333",weight:1,radius:3,opacity:1},LINE:{color:"rgba(0,0,0,0)",weight:1,lineCap:"butt",lineJoin:"round",dashOffset:0,dashArray:[],opacity:1},REGION:{color:"rgba(0,0,0,0)",fillColor:"rgba(0,0,0,0)",weight:1,lineCap:"butt",lineJoin:"round",dashOffset:0,opacity:1,fillOpacity:1,dashArray:[]}};a.a.supermap.DefaultStyle=wf;var Sf={TEXT:{"text-size":"fontSize","text-face-name":"fontFamily","text-align":"textAlign","text-name":"textName","text-weight":"fontWeight","text-halo-color":"color","text-fill":"fillColor","text-comp-op":"globalCompositeOperation"},POINT:{"point-file":"iconUrl","point-fill":"fillColor","point-radius":"radius","point-halo-color":"color","point-comp-op":"globalCompositeOperation"},LINE:{"line-color":"color","line-width":"weight","line-cap":"lineCap","line-join":"lineJoin","line-dash-offset":"dashOffset","line-opacity":"opacity","line-dasharray":"dashArray","line-comp-op":"globalCompositeOperation"},REGION:{"line-color":"color","line-width":"weight","line-cap":"lineCap","line-join":"lineJoin","line-dash-offset":"dashOffset","line-opacity":"opacity","line-dasharray":"dashArray","polygon-fill":"fillColor","polygon-opacity":"fillOpacity","polygon-comp-op":"globalCompositeOperation"}},Cf={lineWidth:{leafletStyle:"weight",type:"number",unit:"mm",defaultValue:.1},fillForeColor:{leafletStyle:"fillColor",type:"color",defaultValue:"rgba(0,0,0,0)"},foreColor:{leafletStyle:"color",type:"color",defaultValue:"rgba(0,0,0,0)"},markerSize:{leafletStyle:"markerSize",type:"number",unit:"mm",defaultValue:2.4},lineColor:{leafletStyle:"color",type:"color",defaultValue:"#000000"}},Ef={clear:"",src:"",dst:"","src-over":"source-over","dst-over":"destination-over","src-in":"source-in","dst-in":"destination-in","src-out":"source-out","dst-out":"destination-out","src-atop":"source-atop","dst-atop":"destination-atop",xor:"xor",plus:"lighter",minus:"",multiply:"",screen:"",overlay:"",darken:"",lighten:"lighter","color-dodge":"","color-burn":"","hard-light":"","soft-light":"",difference:"",exclusion:"",contrast:"",invert:"","invert-rgb":"","grain-merge":"","grain-extract":"",hue:"",saturation:"",color:"",value:""};a.a.supermap.CartoStyleMap=Sf,a.a.supermap.ServerStyleMap=Cf,a.a.supermap.CompOpMap=Ef;class Tf{constructor(e){this.cartoCSS=null,this.mapUrl=e}pretreatedCartoCSS(e,t){t&&(e=this.processCharacters(e)),this.cartoCSS=this.cartoCSS||{};var n=new Fs(e).getShaders();if(n)for(var r=0;r<n.length;r++){var i=n[r].elements[0],s=n[r].attachment;this.cartoCSS[i.clean]=this.cartoCSS[i.clean]||{},this.cartoCSS[i.clean][s]=this.cartoCSS[i.clean][s]||[],this.cartoCSS[i.clean][s].push(n[r])}}processCharacters(e){var t=e;if(t){var n=this;t=t.replace(/[@]/gi,"___"),t=t.replace(/\\#/gi,"#");var r={};return n.layersInfo&&Object.keys(n.layersInfo).sort().forEach((function(e){var n=e.replace(/[@#\s]/gi,"___"),i=e,s=Object.keys(r);for(let t=s.length;t>-1;t--)if(e.indexOf(s[t])>-1){i=e.replace(s[t],r[s[t]]);break}i=i.replace(/[#]/gi,"#"),r[e]=n,t=t.replace(new RegExp(i,"g"),n)})),t=t.replace(/[#]/gi,"\n#"),t=t.replace(/\[zoom/gi,"[scale"),t}}pickShader(e){if(!this.cartoCSS)return null;var t=e.replace(/[@#\s]/gi,"___");return this.cartoCSS[t]}getDefaultStyle(e){var t={},n=wf[e];for(var r in n){var i=n[r];t[r]=i}return t}getStyleFromiPortalMarker(e){return 0==e.indexOf("./")?null:(0==e.indexOf("http://support.supermap.com.cn:8092/static/portal")&&(e=e.replace("http://support.supermap.com.cn:8092/static/portal","http://support.supermap.com.cn:8092/apps/viewer/static")),a.a.icon({iconUrl:e,iconSize:a.a.point(48,43),iconAnchor:a.a.point(24,43),popupAnchor:a.a.point(0,-43)}))}getStyleFromiPortalStyle(e,t,n){var r=n?JSON.parse(n):null,i={};if("Point"===t||"MultiPoint"===t){var s=r||e.pointStyle;return s.externalGraphic?0==s.externalGraphic.indexOf("./")?null:(0==s.externalGraphic.indexOf("http://support.supermap.com.cn:8092/static/portal")&&(s.externalGraphic=s.externalGraphic.replace("http://support.supermap.com.cn:8092/static/portal","http://support.supermap.com.cn:8092/apps/viewer/static")),a.a.icon({iconUrl:s.externalGraphic,iconSize:a.a.point(s.graphicWidth,s.graphicHeight),iconAnchor:a.a.point(-s.graphicXOffset,-s.graphicYOffset),popupAnchor:a.a.point(0,-s.graphicHeight)})):(i.radius=s.pointRadius,i.color=s.strokeColor,i.opacity=s.strokeOpacity,i.lineCap=s.strokeLineCap,i.weight=s.strokeWidth,i.fillColor=s.fillColor,i.fillOpacity=s.fillOpacity,i.dashArray=this.dashStyle(s,1),i)}if("LineString"===t||"MultiLineString"===t||"Box"===t){var o=r||e.lineStyle;return i.color=o.strokeColor,i.opacity=o.strokeOpacity,i.fillOpacity=o.fillOpacity,i.lineCap=o.strokeLineCap,i.weight=o.strokeWidth,i.dashArray=this.dashStyle(o,1),i}if("Polygon"===t||"MultiPolygon"===t){var l=r||e.polygonStyle;return i.color=l.strokeColor,i.opacity=l.strokeOpacity,i.lineCap=l.strokeLineCap,i.weight=l.strokeWidth,i.fillColor=l.fillColor,i.fillOpacity=l.fillOpacity,i.dashArray=this.dashStyle(l,1),i}}dashStyle(e,t){if(!e)return[];var n=e.strokeWidth*t,r=e.strokeDashstyle;switch(r){case"solid":return[];case"dot":return[1,4*n];case"dash":return[4*n,4*n];case"dashdot":return[4*n,4*n,1,4*n];case"longdash":return[8*n,4*n];case"longdashdot":return[8*n,4*n,1,4*n];default:return r?te.isArray(r)?r:(r=Q.trim(r).replace(/\s+/g,","),r.replace(/\[|\]/gi,"").split(",")):[]}}getValidStyleFromCarto(e,t,n,r,i){if(!n)return null;var s=r.type,o=r.properties.attributes||{},a=this.getDefaultStyle(s);i=void 0===i||i,o.FEATUREID=r.properties.id,o.SCALE=t;for(var l,u,c=Sf[s],h=0,p=n.length;h<p;h++){var d=n[h],f=c[d.property],m=d.getValue(o,e,!0);if(null!==m&&f)if("fontSize"===f)i&&(m*=.8),l=m+"px",a.fontSize=l;else if("fontName"===f)u=m,a.fontName=u;else{if("globalCompositeOperation"===f){if(m=Ef[m],!m)continue}else if(i&&"iconUrl"===f){m=this.mapUrl+"/tileFeature/symbols/"+m.replace(/(___)/gi,"@"),m=m.replace(/(__0__0__)/gi,"__8__8__"),a["iconUrl"]=m;continue}"weight"===f&&m<1&&(m=Math.ceil(m)),a[f]=m}}return a}getValidStyleFromLayerInfo(e,t){var n=e.type,r=this.getDefaultStyle(n),i=t&&t.layerStyle;if(!i)return r;if("POINT"===n){var s=Math.ceil(i.markerSize*u.DOTS_PER_INCH*u.INCHES_PER_UNIT["mm"])||8,o={transparent:!0,resourceType:"SYMBOLMARKER",picWidth:s,picHeight:s,style:JSON.stringify(i)};return r.iconUrl=te.urlAppend(this.mapUrl+"/symbol.png",te.getParameterString(o)),r.iconSize=[s,s],r}if("TEXT"===n){if(i=e.properties.textStyle||t.layerStyle,r.fontWeight=i.bold?i.fontWeight:"normal",i.fontHeight){var a=i.fontHeight*u.DOTS_PER_INCH*u.INCHES_PER_UNIT["mm"]*.85;r.fontSize=a+"px",r.textHeight=a}if(i.fontName&&(r.fontFamily=i.fontName.indexOf("@")?i.fontName.replace(/@/g,""):i.fontName),i.align){var l=i.align.replace(/TOP|MIDDLE|BASELINE|BOTTOM/,"");r.textAlign=l.toLowerCase()}return r.weight=i.outline?i.outlineWidth:0,i.backColor&&(r.color="rgba("+i.backColor.red+","+i.backColor.green+","+i.backColor.blue+",1)"),i.foreColor&&(r.fillColor="rgba("+i.foreColor.red+","+i.foreColor.green+","+i.foreColor.blue+",1)"),r.rotation=i.rotation||0,r}var c=i["fillSymbolID"]>7?0:i["fillSymbolID"],h=i["lineSymbolID"]>5?0:i["lineSymbolID"];for(var p in i){var d=Cf[p];if(d){var f=d.leafletStyle;switch(d.type){case"number":{let e=i[p];d.unit&&(e=e*u.DOTS_PER_INCH*u.INCHES_PER_UNIT[d.unit]*2.5),r[f]=e;break}case"color":{var m=i[p];let e,t=1;if("fillColor"===f)0!==c&&1!==c||(t=1-c,e="rgba("+m.red+","+m.green+","+m.blue+","+t+")");else if("color"===f){if(0===h||5===h)t=0===h?1:0;else{var y=[1,0];switch(h){case 1:y=[9.7,3.7];break;case 2:y=[3.7,3.7];break;case 3:y=[9.7,3.7,2.3,3.7];break;case 4:y=[9.7,3.7,2.3,3.7,2.3,3.7];break;default:break}r.lineDasharray=y}e="rgba("+m.red+","+m.green+","+m.blue+","+t+")"}r[f]=e;break}default:break}}}return t.textField&&(r.textAlign="LEFT"),r}}a.a.supermap.CartoCSSToLeaflet=Tf;var Af=a.a.Class.extend({initialize:function(e){e=e||{};var t=e.latLng||e._latLng;this._latLng=a.a.latLng(t.lat,t.lng),this._style=e.style||e._canvas,this.attributes=e.attributes,this.id=e.id?e.id:null},getId(){return this.id},setId(e){this.id=e},setLatLng:function(e){this._latLng=e},setCanvas:function(e){this._style=e},setAttributes:function(e){this.attributes=e},getLatLng:function(){return this._latLng},getCanvas:function(){return this._style},getAttributes:function(){return this.attributes},setStyle:function(e){this._style=e},getStyle:function(){return this._style}}),Pf=function(e){return new Af(e)};a.a.supermap.graphic=Pf;var If=a.a.Class.extend({initialize:function(e,t){this.geometry=e,this.attributes=t},toFeature:function(){let e=this.geometry;if(e.toGeoJSON){const t=e.toGeoJSON();return t.properties=this.attributes,(new Pe).read(t)[0]}if(3===e.length)e=new ce(e[1],e[0],e[2]);else if(2===e.length)e=new le(e[0],e[1]);else if(e instanceof a.a.LatLng)e=new le(e.lng,e.lat);else if(e instanceof a.a.Point)e=new le(e.x,e.y);else if(e instanceof a.a.CircleMarker){var t=e.getLatLng();e=new le(t.lng,t.lat)}return new be(e,this.attributes)},reverseLatLngs:function(e){a.a.Util.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++)e[t]=[e[t].lng,e[t].lat];return e}}),Lf=function(e,t){return new If(e,t)};a.a.supermap.themeFeature=Lf;var Mf=a.a.Layer.extend({options:{alwaysMapCRS:!1,id:te.createUniqueID("themeLayer_"),opacity:1,TFEvents:[],attribution:Gd.Common.attribution},initialize:function(e,t){a.a.Util.setOptions(this,t),this.name=e,this.features=[],this.TFEvents=this.options.TFEvents,this.levelRenderer=new zo,this.movingOffset=[0,0]},getEvents:function(){var e=this,t={zoomend:e._reset,moveend:e._reset,resize:e._resize};return this._map._zoomAnimated&&(t.zoomanim=e._zoomAnim),t},onRemove:function(e){var t=this;a.a.DomUtil.remove(t.container),e.off("mousemove",t.mouseMoveHandler)},onAdd:function(e){var t=this;if(t.map=t._map=e,t._initContainer(),t.levelRenderer){var n=e.getSize();t.container.style.width=n.x+"px",t.container.style.height=n.y+"px",t._updateOpacity(),t.renderer=t.levelRenderer.init(t.container),t.renderer.clear(),t.features&&t.features.length>0&&t._reset(),t.addTFEvents(),t.mouseMoveHandler=function(e){var n=e.layerPoint;t.currentMousePosition=a.a.point(n.x+t.movingOffset[0],n.y+t.movingOffset[1])},e.on("mousemove",t.mouseMoveHandler),t.update(e.getBounds())}else e.removeLayer(t)},addFeatures:function(e){},redrawThematicFeatures:function(e){},destroyFeatures:function(e){if(void 0===e&&(e=this.features),e){this.removeFeatures(e);for(var t=e.length-1;t>=0;t--)e[t].destroy()}},removeFeatures:function(e){var t=this;if(e&&0!==e.length){if(e===t.features)return t.removeAllFeatures();a.a.Util.isArray(e)||(e=[e]);for(var n=[],r=e.length-1;r>=0;r--){var i=e[r],s=a.a.Util.indexOf(t.features,i);-1!==s?t.features.splice(s,1):n.push(i)}for(var o=[],l=0,u=t.features.length;l<u;l++)i=t.features[l],o.push(i);t.features=[],t.addFeatures(o),t.renderer&&(t._map?t.redrawThematicFeatures(t._map.getBounds()):t.redrawThematicFeatures());var c=0==n.length;t.fire("featuresremoved",{features:n,succeed:c})}},removeAllFeatures:function(){var e=this;e.renderer&&e.renderer.clear(),e.features=[],e.fire("featuresremoved",{features:[],succeed:!0})},getFeatures:function(){for(var e=this,t=e.features.length,n=new Array(t),r=0;r<t;++r)n[r]=e.features[r];return n},getFeatureBy:function(e,t){var n=this,r=null;for(var i in n.features)if(n.features[i][e]===t){r=n.features[i];break}return r},getFeatureById:function(e){return this.getFeatureBy("id",e)},getFeaturesByAttribute:function(e,t){var n,r=this,i=[];for(var s in r.features)n=r.features[s],n&&n.attributes&&n.attributes[e]===t&&i.push(n);return i},update:function(e){var t=this._map.containerPointToLayerPoint([0,0]);a.a.DomUtil.setPosition(this.container,t);var n=this;n.renderer&&n.redrawThematicFeatures(e),n.currentMousePosition&&(n.currentMousePosition=a.a.point(n.currentMousePosition.x-n.movingOffset[0],n.currentMousePosition.y-n.movingOffset[1])),n.movingOffset=[0,0],n._zoom=n._map.getZoom(),n._center=n._map.getCenter()},setOpacity:function(e){var t=this;e!==t.options.opacity&&(isNaN(e)||(t.options.opacity=e,t._updateOpacity()))},redraw:function(){var e=this;return!!e.renderer&&(e._map?e.redrawThematicFeatures(e._map.getBounds()):e.redrawThematicFeatures(),!0)},on:function(e,t,n){return this.renderer?this.renderer.on(e,t):a.a.Layer.prototype.on.call(this,e,t),this},off:function(e,t,n){var r=this;return r.renderer?r.renderer.un(e,t):a.a.Layer.prototype.off.call(this,e,t),this},fire:function(e,t,n){return this.renderer&&this.renderer.trigger(e,t),a.a.Layer.prototype.fire.call(this,e,t,n),this},addTFEvents:function(){for(var e=this,t=e.TFEvents,n=t.length,r=0;r<n;r++)e.renderer.on(t[r][0],t[r][1])},getLocalXY:function(e){if(!this._map)return e;var t=e;a.a.Util.isArray(e)&&(t=a.a.point(e[0],e[1])),e instanceof a.a.Point||(t=e instanceof le||e instanceof ce?a.a.point(e.x,e.y):a.a.point(e.lon,e.lat));var n=this._map.latLngToAccurateContainerPoint(this.options.alwaysMapCRS?this._map.options.crs.unproject(t):a.a.latLng(t.y,t.x));return[n.x,n.y]},toiClientFeature:function(e){te.isArray(e)||(e=[e]);let t=[];for(let n=0;n<e.length;n++)if(e[n]instanceof If)t.push(e[n].toFeature());else if(e[n]instanceof be)t.push(e[n]);else if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(e[n].type)){const r=new Pe;t=t.concat(r.read(e[n]))}else{if(!e[n].geometry||!e[n].geometry.parts)throw new Error(`features[${n}]'s type is not be supported.`);t.push(fi.fromJson(e[n]).toFeature())}return t},toFeature:function(e){return this.toiClientFeature(e)},_initContainer:function(){var e=this.getPane(),t=this._map.options.zoomAnimation&&a.a.Browser.any3d,n="themeLayer leaflet-layer leaflet-zoom-"+(t?"animated":"hide");this.container=a.a.DomUtil.create("div",n,e);var r=a.a.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);this.container.id=this.options.id,this.container.style[r]="50% 50%",this.container.style.position="absolute",this.container.style.zIndex=200},_zoomAnim:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this._map._getMapPanePos());a.a.DomUtil.setTransform?a.a.DomUtil.setTransform(this.container,n,t):this.container.style[a.a.DomUtil.TRANSFORM]=a.a.DomUtil.getTranslateString(n)+" scale("+t+")"},_updateOpacity:function(){var e=this;te.modifyDOMElement(e.container,null,null,null,null,null,null,e.options.opacity),null!==e._map&&e._map.fire("changelayer",{layer:e,property:"opacity"})},_reset:function(){var e=this,t=e._map.getBounds();e.update(t);var n=e._map.getSize(),r=this._map.containerPointToLayerPoint([0,0]);a.a.DomUtil.setPosition(this.container,r),parseFloat(e.container.width)!==parseFloat(n.x)&&(e.container.width=n.x+"px"),parseFloat(e.container.height)!==parseFloat(n.y)&&(e.container.height=n.y+"px"),e.redraw()},_resize:function(){var e=this,t=e._map.getSize();e.container.style.width=t.x+"px",e.container.style.height=t.y+"px",e.renderer.resize()}}),Of=Mf.extend({options:{nodesClipPixel:2,isHoverAble:!1,isMultiHover:!1,isClickAble:!0,isAllowFeatureStyle:!1},initialize:function(e,t){Mf.prototype.initialize.call(this,e,t),a.a.Util.setOptions(this,t);var n=this;n.cache={},n.cacheFields=[],n.style={},n.highlightStyle={}},addFeatures:function(e){var t=this;t.fire("beforefeaturesadded",{features:e}),this.features=this.toiClientFeature(e),t.isCustomSetMaxCacheCount||(t.maxCacheCount=5*t.features.length),t.renderer&&(t._map?t.redrawThematicFeatures(t._map.getBounds()):t.redrawThematicFeatures())},removeFeatures:function(e){this.clearCache(),Mf.prototype.removeFeatures.call(this,arguments)},removeAllFeatures:function(){this.clearCache(),Mf.prototype.removeAllFeatures.call(this,arguments)},redrawThematicFeatures:function(e){var t=this,n=t.renderer.getHoverOne(),r=null;if(n&&n.refDataID&&(r=n.refDataID),this.options.alwaysMapCRS&&e&&e instanceof a.a.LatLngBounds){var i=this._map.options.crs;e=a.a.bounds(i.project(e.getSouthWest()),i.project(e.getNorthEast()))}e=Kd.toSuperMapBounds(e),t.renderer.clearAll();for(var s=t.features,o=t.cache,l=t.cacheFields,u=t._map.getZoom(),c=t.maxCacheCount,h=0,p=s.length;h<p;h++){var d=s[h],f=d.geometry.getBounds();if(!e||e.intersectsBounds(f)){var m=d.id+"_zoom_"+u.toString();if(o[m])o[m].updateAndAddShapes();else{var y=t.createThematicFeature(s[h]);if(!(y.getShapesCount()<1)&&(o[m]=y,l.push(m),l.length>c)){var g=l[0];l.splice(0,1),delete o[g]}}}}if(t.renderer.render(),r&&t.options.isHoverAble&&t.options.isMultiHover){var _=this.getShapesByFeatureID(r);this.renderer.updateHoverShapes(_)}},createThematicFeature:function(e){var t=this,n=t.getStyleByData(e);e.style&&t.isAllowFeatureStyle&&(n=te.copyAttributesWithClip(e.style));var r={};r.nodesClipPixel=t.options.nodesClipPixel,r.isHoverAble=t.options.isHoverAble,r.isMultiHover=t.options.isMultiHover,r.isClickAble=t.options.isClickAble,r.highlightStyle=_o.transformStyle(t.highlightStyle);for(var i=new Io(e,t,_o.transformStyle(n),r),s=0;s<i.shapes.length;s++)t.renderer.addShape(i.shapes[s]);return i},redraw:function(){return this.clearCache(),Mf.prototype.redraw.apply(this,arguments)},clearCache:function(){this.cache={},this.cacheFields=[]},clear:function(){var e=this;e.renderer.clearAll(),e.renderer.refresh(),e.removeAllFeatures(),e.clearCache()},getCacheCount:function(){return this.cacheFields.length},setMaxCacheCount:function(e){isNaN(e)||(this.maxCacheCount=e,this.isCustomSetMaxCacheCount=!0)},getShapesByFeatureID:function(e){var t=this,n=[],r=t.renderer.getAllShapes();if(!e)return r;for(var i=0,s=r.length;i<s;i++){var o=r[i];o.refDataID&&e===o.refDataID&&n.push(o)}return n}}),kf=Of.extend({initialize:function(e,t){Of.prototype.initialize.call(this,e,t),this.style=[],this.themeField=null,this.styleGroups=[]},getStyleByData:function(e){var t=this,n=e,r=te.copyAttributesWithClip({},t.style),i=t.styleGroups,s=!1,o=null,a=t.styleGroups&&t.styleGroups.length>0;if(t.themeField&&a&&n.attributes){var l=t.themeField,u=n.attributes;for(var c in u)if(l===c){s=!0,o=u[c];break}}if(s)for(var h=0,p=i.length;h<p;h++)if(o.toString()===i[h].value.toString()){var d=i[h].style;r=te.copyAttributesWithClip(r,d)}return r}}),Nf=function(e,t){return new kf(e,t)};a.a.supermap.uniqueThemeLayer=Nf;var Rf=Of.extend({initialize:function(e,t){Of.prototype.initialize.call(this,e,t),this.style=[],this.themeField=null,this.styleGroups=[]},getStyleByData:function(e){var t=this,n=e,r=te.copyAttributesWithClip({},t.style),i=t.styleGroups,s=!1,o=null,a=t.styleGroups&&t.styleGroups.length>0;if(t.themeField&&a&&n.attributes){var l=t.themeField,u=n.attributes;for(var c in u)if(l===c){s=!0,o=u[c];break}}if(s)for(var h=0,p=i.length;h<p;h++){var d=h===p-1?o>=i[h].start&&o<=i[h].end:o>=i[h].start&&o<i[h].end;if(d){var f=i[h].style;r=te.copyAttributesWithClip(r,f)}}return r}}),Df=function(e,t){return new Rf(e,t)};a.a.supermap.rangeThemeLayer=Df;var Ff=Of.extend({options:{isOverLay:!0,isAvoid:!0},initialize:function(e,t){Of.prototype.initialize.call(this,e,t),a.a.Util.setOptions(this,t),this.style=[],this.themeField=null,this.styleGroups=[],this.defaultStyle={fontColor:"#000000",fontOpacity:1,fontSize:"12px",fontStyle:"normal",fontWeight:"normal",labelAlign:"cm",labelXOffset:0,labelYOffset:0,labelRotation:0,fill:!1,fillColor:"#ee9900",fillOpacity:.4,stroke:!1,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",labelRect:!0,labelSelect:!0,_isGeoTextStrategyStyle:!0},this.getPxBoundsMode=0,this.labelFeatures=[]},onAdd:function(e){Of.prototype.onAdd.call(this,e),this.container.style.zIndex=200},redrawThematicFeatures:function(e){if(this.features.length>0&&0==this.labelFeatures.length)for(var t=this.setLabelsStyle(this.features),n=0,r=t.length;n<r;n++)this.labelFeatures.push(t[n]);this.features=this.getDrawnLabels(this.labelFeatures),Of.prototype.redrawThematicFeatures.call(this,e)},removeFeatures:function(e){this.labelFeatures=[],Of.prototype.removeFeatures.call(this,arguments)},removeAllFeatures:function(){this.labelFeatures=[],Of.prototype.removeAllFeatures.call(this,arguments)},getDrawnLabels:function(e){for(var t,n,r,i,s=[],o=[],a={labelAlign:"cm",labelXOffset:0,labelYOffset:0},l=this._map,u=l.getSize(),c=l.getZoom(),h=0,p=e.length;h<p;h++){n=e[h],(n.isStyleChange||void 0===n.isStyleChange)&&(n=this.setStyle(n));var d=this.getLabelPxLocation(n);if(d.x>=0&&d.x<=u.x&&d.y>=0&&d.y<=u.y){if(n.style.minZoomLevel>-1&&c<=n.style.minZoomLevel)continue;if(n.style.maxZoomLevel>-1&&c>n.style.maxZoomLevel)continue;var f=null;n.isStyleChange?(n.isStyleChange=null,f=this.calculateLabelBounds(n,d)):f=n.geometry.bsInfo.w&&n.geometry.bsInfo.h?this.calculateLabelBounds2(n,d):this.calculateLabelBounds(n,d);var m=new re(0,u.y,u.x,0),y=f.length;if(this.options.isAvoid){var g=this.getAvoidInfo(m,f);if(g){if("left"===g.aspectW){n.style.labelXOffset+=g.offsetX;for(let e=0;e<y;e++)f[e].x+=g.offsetX}else if("right"===g.aspectW){n.style.labelXOffset+=-g.offsetX;for(let e=0;e<y;e++)f[e].x+=-g.offsetX}if("top"===g.aspectH){n.style.labelYOffset+=g.offsetY;for(let e=0;e<y;e++)f[e].y+=g.offsetY}else if("bottom"===g.aspectH){n.style.labelYOffset+=-g.offsetY;for(let e=0;e<y;e++)f[e].y+=-g.offsetY}n.isStyleChange=!0}}if(this.options.isOverLay){var _=!1;if(0!=h)for(let e=0;e<o.length;e++)if(this.isQuadrilateralOverLap(f,o[e])){_=!0;break}if(_)continue;o.push(f)}var v=[];for(let e=0;e<y-1;e++)v.push(l.containerPointToLatLng(f[e]));var b=v[3],x=v[1],w=new re(b.lng,b.lat,x.lng,x.lat),S=w.getCenterLonLat(),C=new ce(S.lon,S.lat,n.attributes[this.themeField]);C.calculateBounds(),r=te.cloneObject(n.style),i=te.cloneObject(te.copyAttributes(r,a)),t=new be(C,n.attributes,i),t.id=n.id,t.fid=n.fid,s.push(t)}}return s},getStyleByData:function(e){var t=e;if(t.style=te.copyAttributes(t.style,this.defaultStyle),this.style&&this.style.fontSize&&parseFloat(this.style.fontSize)<12&&(this.style.fontSize="12px"),t.style=te.copyAttributes(t.style,this.style),this.themeField&&this.styleGroups&&t.attributes){var n=this.themeField,r=t.attributes,i=this.styleGroups,s=!1,o=null;for(var a in r)if(n===a){s=!0,o=r[a];break}if(s)for(var l=0,u=i.length;l<u;l++)if(o>=i[l].start&&o<i[l].end){var c=i[l].style;c&&c.fontSize&&parseFloat(c.fontSize)<12&&(c.fontSize="12px"),t.style=te.copyAttributes(t.style,c)}t.style.label=t.attributes[this.themeField]}return t.style},setLabelsStyle:function(e){for(var t,n=[],r=0,i=e.length;r<i;r++){var s=e[r];if("SuperMap.Geometry.GeoText"!==s.geometry.CLASS_NAME)return e;(s.geometry.bsInfo.w||s.geometry.bsInfo.h)&&(s.geometry.bsInfo.w=null,s.geometry.bsInfo.h=null,s.geometry.labelWTmp=null),t=this.setStyle(s),t.layer=this.layer,n.push(t)}return n},setStyle:function(e){var t=e;if(t.style=te.copyAttributes(t.style,this.defaultStyle),this.style&&this.style.fontSize&&parseFloat(this.style.fontSize)<12&&(this.style.fontSize="12px"),t.style=te.copyAttributes(t.style,this.style),this.groupField&&this.styleGroups&&t.attributes){var n=this.groupField,r=t.attributes,i=this.styleGroups,s=!1,o=null;for(var a in r)if(n===a){s=!0,o=r[a];break}if(s)for(var l=0,u=i.length;l<u;l++)if(o>=i[l].start&&o<i[l].end){var c=i[l].style;c&&c.fontSize&&parseFloat(c.fontSize)<12&&(c.fontSize="12px"),t.style=te.copyAttributes(t.style,c)}}return t.style.label=t.geometry.text,t},getLabelPxLocation:function(e){var t=e.geometry,n=e.style,r=t.getCentroid(),i=this._map.latLngToContainerPoint(this.options.alwaysMapCRS?this._map.options.crs.unproject(a.a.point(r.x,r.y)):a.a.latLng(r.y,r.x)),s=a.a.point(i.x,i.y);if(n.labelXOffset||n.labelYOffset){var o=isNaN(n.labelXOffset)?0:n.labelXOffset,l=isNaN(n.labelYOffset)?0:n.labelYOffset,u=s.add(a.a.point(o,-l));return a.a.point(u.x,u.y)}return a.a.point(s.x,s.y)},calculateLabelBounds:function(e,t){var n=e.geometry,r=null,i=null;if(0==this.getPxBoundsMode)r=n.getLabelPxBoundsByText(t,e.style);else{if(1!==this.getPxBoundsMode)return null;i=this.getLabelInfo(e.geometry.getCentroid(),e.style),r=n.getLabelPxBoundsByLabel(t,i.w,i.h,e.style)}var s=[];return s=e.style.labelRotation%180==0?[{x:r.left,y:r.top},{x:r.right,y:r.top},{x:r.right,y:r.bottom},{x:r.left,y:r.bottom},{x:r.left,y:r.top}]:this.rotationBounds(r,t,e.style.labelRotation),n.bounds=new re(s[1].x,s[3].y,s[2].x,s[4].y),s},calculateLabelBounds2:function(e,t){var n,r,i,s,o,a=e.geometry.bsInfo,l=e.style,u=te.cloneObject(t);if(l.labelAlign&&"cm"!==l.labelAlign)switch(l.labelAlign){case"lt":u.x+=a.w/2,u.y+=a.h/2;break;case"lm":u.x+=a.w/2;break;case"lb":u.x+=a.w/2,u.y-=a.h/2;break;case"ct":u.y+=a.h/2;break;case"cb":u.y-=a.h/2;break;case"rt":u.x-=a.w/2,u.y+=a.h/2;break;case"rm":u.x-=a.w/2;break;case"rb":u.x-=a.w/2,u.y-=a.h/2;break;default:break}r=u.x-a.w/2,i=u.y+a.h/2,o=l.fontStyle&&"italic"===l.fontStyle?u.x+a.w/2+parseInt(parseFloat(l.fontSize)/2):u.x+a.w/2,s=u.y-a.h/2,n=new re(r,i,o,s);var c=[];return c=l.labelRotation%180==0?[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.right,y:n.bottom},{x:n.left,y:n.bottom},{x:n.left,y:n.top}]:this.rotationBounds(n,t,l.labelRotation),e.geometry.bounds=new re(c[1].x,c[3].y,c[2].x,c[4].y),c},getLabelInfo:function(e,t){var n={l:"left",r:"right",t:"top",b:"bottom"},r={l:0,r:-1,t:0,b:-1};t=te.extend({fontColor:"#000000",labelAlign:"cm"},t);var i=this.getLocalXY(e),s=0;if(t.labelXOffset||t.labelYOffset){var o=isNaN(t.labelXOffset)?0:t.labelXOffset,a=isNaN(t.labelYOffset)?0:t.labelYOffset;i[0]+=o,i[1]-=a}var l=document.createElement("canvas");l.globalAlpha=0,l.lineWidth=1;var u=l.getContext("2d");u.fillStyle=t.fontColor,u.globalAlpha=t.fontOpacity||1;var c,h,p,d=[t.fontStyle?t.fontStyle:"normal","normal",t.fontWeight?t.fontWeight:"normal",t.fontSize?t.fontSize:"1em",t.fontFamily?t.fontFamily:"sans-serif"].join(" "),f=t.label.split("\n"),m=f.length;if(u.fillText){u.font=d,u.textAlign=n[t.labelAlign[0]]||"center",u.textBaseline=n[t.labelAlign[1]]||"middle",c=r[t.labelAlign[1]],null==c&&(c=-.5),h=u.measureText("Mg").height||u.measureText("xx").width,i[1]+=h*c*(m-1);for(let e=0;e<m;e++)p=u.measureText(f[e]).width,s<p&&(s=p)}else if(u.mozDrawText){u.mozTextStyle=d,c=r[t.labelAlign[1]],null==c&&(c=-.5),h=u.mozMeasureText("xx"),i[1]+=h*(1+c*m);for(let e=0;e<m;e++)p=u.measureText(f[e]).width,s<p&&(s=p)}var y={};return s?(y.w=s,y.h=t.fontSize,y.rows=f.length,y):null},rotationBounds:function(e,t,n){var r=a.a.point(e.left,e.top),i=a.a.point(e.right,e.top),s=a.a.point(e.right,e.bottom),o=a.a.point(e.left,e.bottom),l=[];l.push(this.getRotatedLocation(r.x,r.y,t.x,t.y,n)),l.push(this.getRotatedLocation(i.x,i.y,t.x,t.y,n)),l.push(this.getRotatedLocation(s.x,s.y,t.x,t.y,n)),l.push(this.getRotatedLocation(o.x,o.y,t.x,t.y,n));for(var u=[],c=0;c<l.length;c++)u.push({x:l[c].x,y:l[c].y});return u.push({x:l[0].x,y:l[0].y}),u},getRotatedLocation:function(e,t,n,r,i){var s,o,a={};return t=-t,r=-r,i=-i,s=(e-n)*Math.cos(i/180*Math.PI)-(t-r)*Math.sin(i/180*Math.PI)+n,o=(e-n)*Math.sin(i/180*Math.PI)+(t-r)*Math.cos(i/180*Math.PI)+r,a.x=s,a.y=-o,a},getAvoidInfo:function(e,t){if(5!==t.length)return null;for(var n=[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.right,y:e.bottom},{x:e.left,y:e.bottom},{x:e.left,y:e.top}],r=!1,i=n.length,s=t.length,o=0,a=0,l="",u="",c=0;c<i-1;c++)for(var h=0;h<s-1;h++){var p=te.lineIntersection(n[c],n[c+1],t[h],t[h+1]);"SuperMap.Geometry.Point"===p.CLASS_NAME&&(d(t[h]),d(t[h+1]),r=!0)}return r?{aspectW:u,aspectH:l,offsetX:o,offsetY:a}:null;function d(t){if(!e.contains(t.x,t.y)){if(t.y<e.top){let n=Math.abs(e.top-t.y);n>a&&(a=n,l="top")}if(t.y>e.bottom){let n=Math.abs(t.y-e.bottom);n>a&&(a=n,l="bottom")}if(t.x<e.left){let n=Math.abs(e.left-t.x);n>o&&(o=n,u="left")}if(t.x>e.right){let n=Math.abs(t.x-e.right);n>o&&(o=n,u="right")}}}},isQuadrilateralOverLap:function(e,t){var n=e.length,r=t.length;if(5!==n||5!==r)return null;var i=!1;for(let a=0;a<n;a++)if(this.isPointInPoly(e[a],t)){i=!0;break}for(let a=0;a<r;a++)if(this.isPointInPoly(t[a],e)){i=!0;break}for(let a=0;a<n-1;a++){if(i)break;for(var s=0;s<r-1;s++){var o=te.lineIntersection(e[a],e[a+1],t[s],t[s+1]);if("SuperMap.Geometry.Point"===o.CLASS_NAME){i=!0;break}}}return i},isPointInPoly:function(e,t){for(var n=!1,r=-1,i=t.length,s=i-1;++r<i;s=r)(t[r].y<=e.y&&e.y<t[s].y||t[s].y<=e.y&&e.y<t[r].y)&&e.x<(t[s].x-t[r].x)*(e.y-t[r].y)/(t[s].y-t[r].y)+t[r].x&&(n=!n);return n}}),Bf=function(e,t){return new Ff(e,t)};a.a.supermap.labelThemeLayer=Bf;var qf=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},getFeaturesByIDs:function(e,t,n){var r=this,i=new Yn(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},getFeaturesByBounds:function(e,t,n){var r=this,i=new Vn(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},getFeaturesByBuffer:function(e,t,n){var r=this,i=new Hn(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},getFeaturesBySQL:function(e,t,n){var r=this,i=new Qn(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},getFeaturesByGeometry:function(e,t,n){var r=this,i=new Xn(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},editFeatures:function(e,t){if(e&&e.dataSourceName&&e.dataSetName){var n=this,r=n.url,i=e.dataSourceName,s=e.dataSetName;r=te.urlPathAppend(r,"datasources/"+i+"/datasets/"+s);var o=new en(r,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t}});o.processAsync(n._processParams(e))}},_processParams:function(e){if(!e)return{};e.returnContent=null==e.returnContent||e.returnContent,e.fromIndex=e.fromIndex?e.fromIndex:0,e.toIndex=e.toIndex?e.toIndex:-1,e.isUseBatch=null!=e.isUseBatch&&e.isUseBatch,e.bounds&&(e.bounds=Kd.toSuperMapBounds(e.bounds)),e.geometry&&(e.geometry=ef(e.geometry)),e.editType&&(e.editType=e.editType.toLowerCase());var t=this;if(e.features){var n=[];a.a.Util.isArray(e.features)?e.features.map((function(e){return n.push(t._createServerFeature(e)),e})):n.push(t._createServerFeature(e.features)),e.features=n}return e},_createServerFeature:function(e){var t,n={},r=[],i=[];for(var s in t=e||{},t.properties)r.push(s),i.push(t.properties[s]);return n.fieldNames=r,n.fieldValues=i,t.id&&(n.id=t.id),n.geometry=ef(t),n},_processFormat:function(e){return e||c.GEOJSON}}),zf=function(e,t){return new qf(e,t)};a.a.supermap.featureService=zf;var Uf=a.a.Path.extend({options:{fontStyle:"normal",fontWeight:"normal",fontSize:"1em",fontFamily:"sans-serif",textAlign:"center",textBaseline:"middle",vfactor:-.5,labelRotation:0,globalAlpha:1,label:""},initialize:function(e,t){a.a.Util.setOptions(this,t),this._latlng=e},setLatLng:function(e){return this._latlng=e,this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._clickTolerance(),t=[e,e];this._pxBounds=new a.a.Bounds(this._point.subtract(t),this._point.add(t))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateUnicode(this)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._clickTolerance()}}),Gf=function(e,t){return new Uf(e,t)};a.a.Canvas.include({_updateUnicode:function(e){if(!this._drawing)return;let t={x:e._point.x,y:e._point.y},n=this._ctx,r=[e.options.fontStyle,"normal",e.options.fontWeight,e.options.fontSize,e.options.fontFamily].join(" "),i=e.options.label.replace(/^&#x/,"");i=String.fromCharCode(parseInt(i,16));let s=i.split("\n"),o=s.length;if(n.fillStyle=e.options.fontColor,n.globalAlpha=1,e.options.fontOpacity>=0&&e.options.fontOpacity<1&&(n.globalAlpha=e.options.fontOpacity),n.fillText){n.font=r,n.textAlign=e.options.textAlign,n.textBaseline=e.options.textBaseline;let i=e.options.vfactor,a=n.measureText("Mg").height||n.measureText("xx").width;t.y+=a*i*(o-1);for(let r=0;r<o;r++)0!=e.options.labelRotation?(n.save(),n.translate(t.x,t.y),n.rotate(e.options.labelRotation*Math.PI/180),n.fillText(s[r],0,a*r),n.restore()):n.fillText(s[r],t.x,t.y)}else if(n.mozDrawText){n.mozTextStyle=r;let i=e.options.textAlign,a=e.options.vfactor,l=n.mozMeasureText("xx");t.y+=l*(1+a*o);for(let e=0;e<o;e++){let r=t.x+i*n.mozMeasureText(s[e]),o=t.y+e*l;n.translate(r,o),n.mozDrawText(s[e]),n.translate(-r,-o)}}}}),a.a.supermap.unicodeMarker=Gf;var jf=a.a.LayerGroup.extend({options:{map:"map",server:"https://www.supermapol.com",featureLayerPopupEnable:!0,featureLayerPopup:null,credentialValue:null,credentialKey:"key",attribution:Gd.Online.attribution},defaultFeatureLayerPopup:function(e){return e.feature.properties.attributes.title+":"+e.feature.properties.attributes.description},initialize:function(e,t){(e||t)&&(this._layers={},a.a.setOptions(this,t),this.id=e,this.load(),this.cartoCSSToLeaflet=new Tf)},load:function(){this.options.server.indexOf("http://")<0&&this.options.server.indexOf("https://")<0&&(this.options.server="http://"+this.options.server);var e=this.options.server+"/web/maps/"+this.id+".json";this.options.credentialValue&&(e+="?"+this.options.credentialKey+"="+this.options.credentialValue);var t=this;Be.get(e).then((function(e){return e.json()})).then((function(e){if(e){var n=e.layers;t.mapInfo=e,t.createLayersByJson(n)}}))},addLayerWrapper:function(e,t,n){return t&&this.createMap(n),this.addLayer(e),e.labelLayer&&this.addLayer(e.labelLayer),this},createLayersByJson:function(e){if(a.a.Util.isArray(e)&&0!==e.length){this.layers=[];for(var t=[],n=0;n<e.length;n++){var r=e[n];r["_originIndex"]=n;var i=r.layerType=r.layerType||"BASE_LAYER";"BASE_LAYER"===i?(r.isBaseLayer=!0,this.createLayer(r.type,r)):t.unshift(r)}while(t.length>0){var s=t.pop(),o=s.type,l=s.layerType=s.layerType||"BASE_LAYER";"OVERLAY_LAYER"!==l&&(o=l),this.createLayer(o,s)}this.fire("maploaded",{map:this._map})}},createCRS:function(e,t,n,r,i){return e<0?new ma({bounds:i,origin:r,resolutions:n}):910112===e||910102===e?a.a.CRS.BaiduCRS:(910111===e&&(e=3857),910101===e&&(e=4326),a.a.Proj.CRS("EPSG:"+e,{origin:r,resolutions:n,bounds:i}))},createMap:function(e){var t=e.crs||a.a.CRS.EPSG3857,n=a.a.latLngBounds(t.unproject(e.bounds.min),t.unproject(e.bounds.max));this._map=a.a.map(this.options.map,{center:n.getCenter(),maxZoom:e.maxZoom||22,minZoom:e.minZoom||0,zoom:e.zoom||0,crs:t,renderer:a.a.canvas()}),t instanceof ma?this._map.setZoom(e.zoom?e.zoom+2:2,{maxZoom:e.maxZoom||22}):this._map.fitBounds(n,{maxZoom:e.maxZoom||22})},getResolutionsFromScales:function(e,t,n,r){for(var i=[],s=0;s<e.length;s++)i.push(a.a.Util.GetResolutionFromScaleDpi(e[s],t,n,r));return i},createLayer:function(e,t){var n=t.prjCoordSys,r=n&&n.epsgCode||this.mapInfo.epsgCode,i=this.mapInfo.center||t.center,s=this.mapInfo.level||t.level,o=this.mapInfo.extent||t.bounds,l=t.scales,u=t.isBaseLayer,c=t.opacity,h=a.a.bounds([o.leftBottom.x,o.leftBottom.y],[o.rightTop.x,o.rightTop.y]),p=t.bounds?a.a.bounds([t.bounds.leftBottom.x,t.bounds.leftBottom.y],[t.bounds.rightTop.x,t.bounds.rightTop.y]):h;i||(i=p.getCenter());var d,f=a.a.point(p.min.x,p.max.y),m=l?this.getResolutionsFromScales(l,96,t.units):null,y=this.createCRS(r,n?n.type:"",m,f,p),g={bounds:h,center:a.a.point(i.x,i.y),crs:y,zoom:s};switch(e){case"SUPERMAP_REST":d=vf(t.url,{transparent:!0,opacity:c});break;case"SUPERMAP_REST_VECTOR":break;case"TIANDITU_VEC":case"TIANDITU_IMG":case"TIANDITU_TER":g.crs=4326===r?a.a.CRS.TianDiTu_WGS84:a.a.CRS.TianDiTu_Mercator,g.minZoom=1,g.zoom=1+g.zoom,d=this.createTiandituLayer(t);break;case"BAIDU":g.crs=a.a.CRS.BaiduCRS,g.zoom=3+g.zoom,g.minZoom=3,d=uf();break;case"BING":break;case"WMS":d=this.createWmsLayer(t);break;case"WMTS":g.resolutions=this.getResolutionsFromScales(l,90.71446714322,t.units);var _=t.identifier,v=_.substring(_.indexOf("_")+1);d=mf(t.url,{layer:v,style:"default",tilematrixSet:_,format:"image/png"});break;case"CLOUD":g.crs=a.a.CRS.EPSG3857,g.zoom=3+g.zoom,g.minZoom=3,d=hf(t.url,{opacity:c});break;case"MARKER_LAYER":d=this.createMarkersLayer(t,y);break;case"FEATURE_LAYER":"ANIMATORVECTOR"==t.identifier||(d="THEME"==t.identifier?this.createThemeLayer(t):this.createVectorLayer(t,y));break;default:throw new Error("unSupported Layer Type")}d&&t.isVisible&&this.addLayerWrapper(d,u,g)},createTiandituLayer:function(e){var t=e.type.split("_")[1].toLowerCase(),n="OVERLAY_LAYER"===e.layerType,r=new yf({layerType:t,isLabel:n});return r},createMarkersLayer:function(e,t){var n=this,r=e.markers||[],i=function(e){var n=t.unproject(a.a.point(e[0],e[1]));return new a.a.LatLng(n.lat,n.lng,e[2])},s=a.a.geoJSON(a.a.Util.toGeoJSON(r),{pointToLayer:function(e,t){var n=new a.a.Marker(t);return n.setStyle=function(e){e&&n.setIcon(e)},n},coordsToLatLng:i,style:function(e){return n.cartoCSSToLeaflet.getStyleFromiPortalMarker(e.properties.icon)}});return this.options.featureLayerPopupEnable&&s.bindPopup(this.options.featureLayerPopup||this.defaultFeatureLayerPopup),s},createWmsLayer:function(e){var t=e.url,n=e.opacity,r=e.subLayers;return r&&"undefined"!==r&&"null"!==r||(r="0"),a.a.tileLayer.wms(t,{layers:r,format:"image/png",transparent:!0,noWrap:!0,opacity:n})},createVectorLayer:function(e,t){var n=e.style,r=e.opacity,i=this,s=function(e){var n=t.unproject(a.a.point(e[0],e[1]));return new a.a.LatLng(n.lat,n.lng,e[2])};if(!e.url){var o=a.a.geoJSON(a.a.Util.toGeoJSON(e.features),{pointToLayer:function(e,t){var n=new a.a.Marker(t);return n.setStyle=function(e){e&&n.setIcon(e)},n},coordsToLatLng:s,style:function(e){let t=i.cartoCSSToLeaflet.getStyleFromiPortalStyle(n||{},e.geometry.type,e.properties.style);return t&&t.dashArray&&0==t.dashArray.length&&(t.dashArray=null),t},opacity:r});return this.options.featureLayerPopupEnable&&o.bindPopup(this.options.featureLayerPopup||this.defaultFeatureLayerPopup),o}for(var l=e.url,u=e.name,h=e.features,p=0;p<h.length;p++){var d=h[p];d.visible&&this.getFeaturesBySQL(l,u,d.name,"",c.GEOJSON,e=>{var t=a.a.geoJSON(e.result,{pointToLayer:function(e,t){var n=new a.a.Marker(t);return n.setStyle=function(e){e&&n.setIcon(e)},n},coordsToLatLng:s,style:function(e){return this.cartoCSSToLeaflet.getStyleFromiPortalStyle(n||{},e.geometry.type,e.properties.style)},opacity:r});this.options.featureLayerPopupEnable&&t.bindPopup(i.options.featureLayerPopup||i.defaultFeatureLayerPopup),this.addLayer(t)})}},getFeaturesBySQL:function(e,t,n,r,i,s){r=r||"SMID > 0";var o=new Kn({queryParameter:{name:n+"@"+t,attributeFilter:r},datasetNames:[t+":"+n],fromIndex:0,toIndex:1e5});zf(e).getFeaturesBySQL(o,s,i)},createThemeLayer:function(e){var t,n=e.themeSettings&&JSON.parse(e.themeSettings),r=n.type;if(e.themeSettings=n,t="HEAT"===r?this.createHeatLayer(e,n):"UNIQUE"===r?this.createUniqueLayer(e,n):"RANGE"===r?this.createRangeLayer(e,n):this.createBaseThemeLayer(e,n),t&&(this.addFeature2ThemeLayer(e,t),t.on("add",e=>{this.registerThemeEvent(e.target)})),n&&n.labelField){var i=this.createLabelLayer(e,n);i.on("add",e=>{this.registerThemeEvent(e.target)}),t.labelLayer=i}return t},createBaseThemeLayer:function(e,t){let n=e.style,r=e.opacity,i=t.vectorType,s=n.pointStyle;s.fill="LINE"!==i;var o={};o.radius=s.pointRadius,o.color=s.strokeColor,o.opacity=s.strokeOpacity,o.lineCap=s.strokeLineCap,o.weight=s.strokeWidth,o.fillColor=s.fillColor,o.fillOpacity=s.fillOpacity;var l=(e,t)=>a.a.circleMarker(t,o);return s.unicode&&(l=(e,t)=>new Uf(t,s)),a.a.geoJSON({type:"GeometryCollection",geometries:[]},{pointToLayer:l,opacity:r})},createUniqueLayer:function(e,t){for(var n=e.title,r=t.field,i=[],s=t.settings,o=e.isVisible,a=e.opacity,l=t.vectorType,u=0;u<s.length;u++){var c={};c.value=s[u].value,c.style=s[u].style,i.push(c)}var h=new kf(n,{opacity:a,visibility:o});this.registerThemeEvent(h),h.style=e.style.pointStyle,h.style.fill="LINE"!==l,h.style.stroke=!0,h.themeField=r,h.styleGroups=i;var p=this;return h.on("click",(function(e){if(e.target&&e.target.refDataID){var t=h.getFeatureById(e.target.refDataID);p.events.triggerEvent("uniquefeatureclicked",t,h)}})),h},createRangeLayer:function(e,t){var n=e.title,r=t.field,i=[],s=t.settings,o=e.isVisible,a=e.opacity,l=t.vectorType,u=e.style.pointStyle;u.fill="LINE"!==l;for(var c=0;c<s.length;c++){var h={};h.start=s[c].start,h.end=s[c].end,h.style=s[c].style,i.push(h)}var p=new Rf(n,{visibility:o,opacity:a});return this.registerThemeEvent(p),p.style=e.style.pointStyle,p.style.stroke=!0,p.themeField=r,p.styleGroups=i,p},createLabelLayer:function(e,t){var n,r=e.title,i=t.labelField,s=t.settings,o=e.isVisible;n=!s||s.length>0?{fillColor:"#ffffff"}:s[0].style;var l=a.a.Util.extend(new Bs,n);l.fontWeight="bold",l.fontSize="14px",l.labelRect=!0,l.strokeColor=l.fillColor,l.fontColor=t.labelColor,t.labelFont&&(l.fontFamily=t.labelFont);var u=new Ff(r,{visibility:o,opacity:.7});return this.registerThemeEvent(u),u.style=l,u.themeField=i,u.styleGroups=[],u},createHeatLayer:function(e,t){let n,r=t.colors||["blue","cyan","lime","yellow","red"],i={};for(let o=0,a=r.length,l=1;o<a;o++)i[l/a]=r[o],l++;let s=t.settings[0].radius;return""!==t.heatUnit&&"km"!==t.heatUnit||(s=1e3*t.heatRadius),t.settings[0]&&t.settings[0].featureWeight&&(n=t.settings[0].featureWeight),a.a.heatLayer([],{radius:s/2,minOpacity:e.opacity,gradient:i,blur:s/2,featureWeight:n})},addFeature2ThemeLayer:function(e,t){if("FEATURE_LAYER"===e.layerType&&"THEME"===e.identifier){var n=this,r=!!e.datasourceName,i=e.cartoCSS;if(i)var s=this.getCartoCSS2Obj(i).needTransform,o=this.getCartoCSS2Obj(i).isAddFile;var l,u,h,p=e.url,d=e.credential,f=e.themeSettings,m=f.filter;if(o){var y=JSON.parse(e.datasourceName),g=this.getSQLFromFilter(m);if(p)this.getFeatureFromFileAdded(e,(function(r){var i,o,a=[];if("EXCEL"===r.type||"CSV"===r.type){i=n.parseFeatureFromEXCEL.apply(n,[r.content.rows,r.content.colTitles,!1,y]);for(var l=0,u=i.length;l<u;l++)o=xf()({attr:i[l].attributes},g),o.length>0&&a.push(i[l])}else{i=n.parseFeatureFromJson(r.content);for(var c=0,h=i.length;c<h;c++)o=xf()({attr:i[c].attributes},g),o.length>0&&a.push(i[c])}var p="4326",d=e.prjCoordSys&&e.prjCoordSys.epsgCode;s?n.changeFeatureLayerEpsgCode(d,p,t,a,(function(e){L(e)})):L(a)}),(function(){}));else{for(var _=[],v=e.features,b=0,x=v.length;b<x;b++){var w=v[b],S=xf()({attr:w.attributes},g);if(S.length>0){var C=w.geometry.points[0].x,E=w.geometry.points[0].y,T=new le(C,E),A=new be(T,w.attributes,w.style);_.push(A)}}L(_)}}else if(r){var P=e.datasourceName;l=e.subLayers&&JSON.parse(e.subLayers),u=l.length&&l.length>0?l[0]:l,h=u&&u.name,this.getFeaturesBySQL(e.url,P,h,f.filter,c.ISERVER,n=>{var r,i,o=n.result,a=[];if(o&&o.features){r=o.features;for(var l=0,u=r.length;l<u;l++)i=fi.fromJson(r[l]).toFeature(),a.push(i);var c="4326",h=e.prjCoordSys&&e.prjCoordSys.epsgCode;s?this.changeFeatureLayerEpsgCode(h,c,t,a,(function(e){L(e)})):L(r)}})}else{l=e.subLayers&&JSON.parse(e.subLayers),u=l.length&&l.length>0?l[0]:l,h=u&&u.name;var I=e.prjCoordSys&&e.prjCoordSys.epsgCode;this.getFeaturesBySQL(p,d,h,m,c.ISERVER,(function(e){var r="4326";s?n.changeFeatureLayerEpsgCode(I,r,t,e,(function(e){L(e)})):L(e)}))}}function L(r){if(t&&t.labelLayer instanceof Ff&&n.addFeature2LabelLayer(t.labelLayer,r,e),a.a.HeatLayer&&t instanceof a.a.HeatLayer){var i=[];for(let e=0,n=r.length;e<n;e++){let n=r[e].geometry;i[e]=a.a.latLng(n.y,n.x),t.options.featureWeight&&(i[e]=[i[e].lat,i[e].lng,parseFloat(r[e].attributes[t.options.featureWeight])])}t.setLatLngs(i)}else t instanceof a.a.GeoJSON?t.addData((new Pe).toGeoJSON(r)):t.addFeatures(r)}},addFeature2LabelLayer:function(e,t,n){if(t){var r,i,s=n.themeSettings;s="string"===typeof s?JSON.parse(n.themeSettings):n.themeSettings;for(var o,a=s.labelField,l=e.style,u=[],c=n.styleString&&JSON.parse(n.styleString),h=0;h<t.length;h++){o=this.getLabelLngLat(s.vectorType,t[h]),this.setLabelOffset(s.vectorType,c,t[h],l),r=t[h];var p=r.attributes;i=new If([o.lat,o.lng,p[a]],p),u.push(i)}e.style=l,e.addFeatures(u)}},setLabelOffset:function(e,t,n,r){if("POINT"===e){var i=t.pointStyle.pointRadius||0,s=t.pointStyle.strokeWidth||0,o=parseInt(t.pointStyle.fontSize)||0;r.labelXOffset=0,r.labelYOffset=t.pointStyle.unicode?20+o:25+(i+s)}},getLabelLngLat:function(e,t){var n={};if("POINT"===e){var r=t.geometry;n.lng=r.x,n.lat=r.y}else if("LINE"===e){var i,s,o=t.geometry.components;if(o[0].x)i=o.length,s=parseInt(i/2),n.lng=o[s].x,n.lat=o[s].y;else{var a=o[0].components;i=a.length,s=parseInt(i/2),n.lng=a[s].x,n.lat=a[s].y}}else{var l=t.geometry.getCentroid();n.lng=l.x,n.lat=l.y}return n},changeFeatureLayerEpsgCode:function(e,t,n,r,i){var s,o,a=this,l=[];if(e&&t){if(r&&r.length>0){for(s=0,o=r.length;s<o;s++){var u=r[s],c=u.geometry,h=c.getVertices();l=l.concat(h)}e="EPSG:"+e,t="EPSG:"+t,a.coordsTransform(e,t,l,function(e,t){return function(e){var n=0,r=e.length;for(s=n;s<r;s++){var o=l[s],u=e[s];o.x=u.x,o.y=u.y,o.calculateBounds()}for(s=0,r=t.length;s<r;s++){var c=t[s],h=c.geometry;h.components&&a.calculateComponents(h.components),h.calculateBounds()}i&&i.call(a,t)}}(0,r))}return!0}},calculateComponents:function(e){if(e)if(e.components)this.calculateComponents(e.components);else for(var t=0,n=e.length;t<n;t++){var r=e[t];r.components&&this.calculateComponents(r.components),r.calculateBounds()}},coordsTransform:function(e,t,n,r){var i,s=this.SERVER_TYPE_MAP[e],o=this.SERVER_TYPE_MAP[t];if(e!==t&&s&&o){var a=this.SERVER_TYPE_MAP["EPSG:3857"],l=this.SERVER_TYPE_MAP["EPSG:4326"];if(s!==a&&s!==l||o!==a&&o!==l){var u=s+"_"+o;this.postTransform(u,n,r)}else this.projTransform(e,t,n,r)}else{if(n&&void 0!==n.length){i=[];for(var c=0,h=n.length;c<h;c++){var p={x:n[c].x,y:n[c].y};i.push(p)}}else i={x:n.x,y:n.y};r&&r.call(this,i)}},projTransform:function(e,t,n,r){var i,s=this;if(Md){if(n&&void 0!==n.length){i=[];for(var o=0,a=n.length;o<a;o++){var l=Md(e,t,[n[o].x,n[o].y]);i.push({x:l[0],y:l[1]})}}else i=Md(e,t,[n.x,n.y]),i={x:i[0],y:i[1]};r&&(s.fire("coordconvertsuccess",{newCoor:i}),r.call(s,i))}},postTransform:function(e,t,n){var r=this,i=[];if(!e)return n.call(r,null);if(t&&void 0!==t.length)for(var s=0,o=t.length;s<o;s++)i.push({x:t[s].x,y:t[s].y});else i=[{x:t.x,y:t.y}];if(0===i.length)return n.call(r,null);var a={convertType:e,points:i},l=this.server+"/apps/viewer/coordconvert.json";a=JSON.stringify(a);var u={};!te.isInTheSameDomain(l)&&this.proxy&&(u.proxy=this.proxy),Be.post(l,a,u).then(e=>e.json()).then(e=>{var r=e;t||void 0===t.length||(r=r[0]),this.fire("coordconvertsuccess",{newCoors:r}),n.call(this,r)}).catch(e=>{this.actived&&this.fire("coordconvertfailed",{err:e})})},getSQLFromFilter:function(e){return e?(e=e.replace(/=/g,"==").replace(/and|AND/g,"&&").replace(/or|OR/g,"||").replace(/>==/g,">=").replace(/<==/g,"<=")," *  where ("+e+")"):" * where (1==1||1>=0)"},getAttributesObjFromTable:function(e,t){if(0!==e.length&&0!==t.length){for(var n=[],r=0;r<e.length;r++){for(var i={},s=0;s<t.length;s++)i[t[s]]=e[r][s];n.push(i)}return n}},parseFeatureFromEXCEL:function(e,t,n,r){for(var i=this.getAttributesObjFromTable(e,t),s=[],o=0,a=i.length;o<a;o++){var l=i[o][r["lon"]],u=i[o][r["lat"]];if(l&&u){l=parseFloat(l),u=parseFloat(u);var c,h=new le(l,u);c=n?new Af(h,i[o],null):new be(h,i[o],null),s.push(c)}}return s},parseFeatureFromJson:function(e){var t=new Pe,n=t.read(e);if(null==n){var r=JSON.parse(e.replace(/'/,'"'));(r.isAnalyseResult||"MapEditor"===r.type||"DataInsights"===r.type||"ISERVER"===r.type)&&(r=r.data.recordsets[0].features),t=new Pe,n=t.read(r)}for(var i=0,s=n.length;i<s;i++)n[i].attributes=n[i].attributes.properties||n[i].attributes;return n},getFeatureFromFileAdded:function(e,t,n,r){var i=r?e.url+"?currentPage=1&&pageSize=9999999":e.url;Be.get(i).then(e=>e.json()).then(e=>{t&&t(e)}).catch(e=>n&&n(e))},getCartoCSS2Obj:function(e){var t,n=!1;return e.indexOf("}")>-1?(e=JSON.parse(e),n=e.needTransform,t=e.isAddFile):"needTransform"===e?(n=!0,t=!1):t="true"===e,{isAddFile:t,needTransform:n}},registerThemeEvent:function(e){e.on("click",t=>{if(!e.map)return;let n;this.selectedFeature&&(this.fire("featureunselected",{feature:this.selectedFeature}),this.selectedFeature=null),t.target&&t.target.refDataID&&(n=e.getFeatureById(t.target.refDataID)),n&&(this.selectedFeature=n,this.fire("featureselected",{feature:n}))}),e.on("mousemove",t=>{if(e.map&&t.target&&t.target.refDataID){let n;t.target&&t.target.refDataID&&(n=e.getFeatureById(t.target.refDataID)),n&&this.fire("featuremousemove",{feature:n})}})},SERVER_TYPE_MAP:{"EPSG:4326":"WGS84","EPSG:3857":"MERCATOR","EPSG:900913":"MERCATOR","EPSG:102113":"MERCATOR","EPSG:910101":"GCJ02","EPSG:910111":"GCJ02MERCATOR","EPSG:910102":"BD","EPSG:910112":"BDMERCATOR"}}),Vf=function(e,t){return new jf(e,t)};a.a.supermap.webmap=Vf;var Wf=Vd.extend({options:{geometry:null,prjCoordSys:null,excludeField:null},initialize:function(e,t){t=t||{},a.a.setOptions(this,t),t.projection&&(this.options.prjCoordSys=t.projection),Vd.prototype.initialize.call(this,e,t),this.dataFlow=new Gt(e,t),this.dataFlow.events.on({broadcastSocketConnected:this._defaultEvent,broadcastSocketError:this._defaultEvent,broadcastFailed:this._defaultEvent,broadcastSucceeded:this._defaultEvent,subscribeSocketConnected:this._defaultEvent,subscribeSocketError:this._defaultEvent,messageSucceeded:this._defaultEvent,setFilterParamSucceeded:this._defaultEvent,scope:this})},initBroadcast:function(){return this.dataFlow.initBroadcast(),this},broadcast:function(e){this.dataFlow.broadcast(e)},initSubscribe:function(){return this.dataFlow.initSubscribe(),this},setExcludeField:function(e){return this.dataFlow.setExcludeField(e),this.options.excludeField=e,this},setGeometry:function(e){return this.dataFlow.setGeometry(e),this.options.geometry=e,this},unSubscribe:function(){this.dataFlow.unSubscribe()},unBroadcast:function(){this.dataFlow.unBroadcast()},_defaultEvent:function(e){this.fire(e.eventType||e.type,e)}}),Hf=function(e,t){return new Wf(e,t)};a.a.supermap.dataFlowService=Hf;var Jf=n("f631"),Xf=Jf["baiduMapLayer"]?Jf["baiduMapLayer"].__proto__:Function;class Zf extends Xf{constructor(e,t,n,r){if(super(e,n,r),Xf){var i=this;r=r||{},i.init(r),i.argCheck(r),this.canvasLayer=t,this.clickEvent=this.clickEvent.bind(this),this.mousemoveEvent=this.mousemoveEvent.bind(this),this._moveStartEvent=this.moveStartEvent.bind(this),this._moveEndEvent=this.moveEndEvent.bind(this),this._zoomStartEvent=this.zoomStartEvent.bind(this),this.bindEvent()}}clickEvent(e){var t=this.map.containerPointToLayerPoint([0,0]),n=this.devicePixelRatio=this.canvasLayer.devicePixelRatio=window.devicePixelRatio||1,r=e.layerPoint;super.clickEvent(a.a.point((r.x-t.x)/n,(r.y-t.y)/n),e)}mousemoveEvent(e){var t=e.layerPoint;super.mousemoveEvent(t,e)}bindEvent(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.on("click",this.clickEvent),this.options.methods.mousemove&&e.on("mousemove",this.mousemoveEvent)),this.map.on("movestart",this._moveStartEvent),this.map.on("moveend",this._moveEndEvent),this.map.on("zoomstart",this._zoomStartEvent)}destroy(){this.unbindEvent(),this.clearData(),this.animator&&this.animator.stop(),this.animator=null,this.canvasLayer=null}unbindEvent(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.off("click",this.clickEvent),this.options.methods.mousemove&&e.off("mousemove",this.mousemoveEvent)),this.map.off("movestart",this._moveStartEvent),this.map.off("moveend",this._moveEndEvent),this.map.off("zoomstart",this._zoomStartEvent)}getContext(){return this.canvasLayer.getCanvas().getContext(this.context)}addData(e,t){var n=e;e&&e.get&&(n=e.get()),this.dataSet.add(n),this.update({options:t})}update(e){var t=e||{},n=t.data;n&&n.get&&(n=n.get()),void 0!=n&&this.dataSet.set(n),super.update({options:t.options})}getData(){return this.dataSet}removeData(e){if(this.dataSet){var t=this.dataSet.get({filter:function(t){return null==e||"function"!==typeof e||!e(t)}});this.dataSet.set(t),this.update({options:null})}}clearData(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}_canvasUpdate(e){if(this.canvasLayer){var t=this,n=t.options.animation,r=this.getContext(),i=this.map;if(t.isEnabledTime()){if(void 0===e)return void this.clear(r);"2d"===this.context&&(r.save(),r.globalCompositeOperation="destination-out",r.fillStyle="rgba(0, 0, 0, .1)",r.fillRect(0,0,r.canvas.width,r.canvas.height),r.restore())}else this.clear(r);if("2d"===this.context)for(var s in t.options)r[s]=t.options[s];else r.clear(r.COLOR_BUFFER_BIT);if(!(t.options.minZoom&&i.getZoom()<t.options.minZoom||t.options.maxZoom&&i.getZoom()>t.options.maxZoom)){var o=i.getBounds(),l=o.getEast()-o.getWest(),u=o.getNorth()-o.getSouth(),c=i.getSize(),h=l/c.x,p=u/c.y,d=tf("DEGREE")*h,f=this.canvasLayer.getTopLeft(),m=i.latLngToAccurateContainerPoint(f),y={transferCoordinate:function(e){var n;n="2d"===t.context?i.latLngToAccurateContainerPoint(a.a.latLng(e[1],e[0])):{x:(e[0]-f.lng)/h,y:(f.lat-e[1])/p};var r={x:n.x-m.x,y:n.y-m.y};return[r.x,r.y]}};void 0!==e&&(y.filter=function(t){var r=n.trails||10;return e&&t.time>e-r&&t.time<e});var g=t.dataSet.get(y);this.processData(g);var _=i.latLngToContainerPoint(a.a.latLng(0,0)),v={x:_.x-m.x,y:_.y-m.y};"m"===t.options.unit?(t.options.size&&(t.options._size=t.options.size/d),t.options.width&&(t.options._width=t.options.width/d),t.options.height&&(t.options._height=t.options.height/d)):(t.options._size=t.options.size,t.options._height=t.options.height,t.options._width=t.options.width),this.drawContext(r,g,t.options,v),t.options.updateCallback&&t.options.updateCallback(e)}}}init(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),this.initAnimator()}addAnimatorEvent(){}moveStartEvent(){var e=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=e.stepsRange.start,this._hide())}moveEndEvent(){this.canvasLayer.draw(),this._show()}zoomStartEvent(){this._hide()}clear(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)}_hide(){this.canvasLayer.canvas.style.display="none"}_show(){this.canvasLayer.canvas.style.display="block"}draw(){this.canvasLayer.draw()}}var Yf=a.a.Layer.extend({options:{attributionPrefix:null,attribution:Gd.MapV.attribution},initialize:function(e,t,n){n=n||{},this.dataSet=e||{},this.mapVOptions=t||{},this.render=this.render.bind(this),a.a.Util.setOptions(this,n),this.options.attributionPrefix&&(this.options.attribution=this.options.attributionPrefix+this.options.attribution),this.canvas=this._createCanvas(),a.a.stamp(this)},onAdd:function(e){this._map=e;var t=this.getPane(),n=this.container=a.a.DomUtil.create("div","leaflet-layer leaflet-zoom-animated",t);n.appendChild(this.canvas);var r=e.getSize();n.style.width=r.x+"px",n.style.height=r.y+"px",this.renderer=new Zf(e,this,this.dataSet,this.mapVOptions),this.draw(),this.fire("loaded")},onRemove:function(){a.a.DomUtil.remove(this.container),this.renderer.destroy()},addData:function(e,t){this.renderer.addData(e,t)},update:function(e){this.renderer.update(e)},getData:function(){return this.renderer&&(this.dataSet=this.renderer.getData()),this.dataSet},removeData:function(e){this.renderer&&this.renderer.removeData(e)},clearData:function(){this.renderer.clearData()},draw:function(){return this._reset()},setZIndex:function(e){this.canvas.style.zIndex=e},render:function(){this.renderer._canvasUpdate()},getCanvas:function(){return this.canvas},getContainer:function(){return this.container},getTopLeft:function(){var e,t=this._map;if(t){var n=t.getBounds();e=n.getNorthWest()}return e},_createCanvas:function(){var e=document.createElement("canvas");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=this.options.zIndex||600;var t="undefined"===typeof window?{}:window,n=this.devicePixelRatio=t.devicePixelRatio||1;return this.mapVOptions.context&&"2d"!==this.mapVOptions.context||e.getContext("2d").scale(n,n),e},_resize:function(){var e=this.canvas;if(e){var t=this._map,n=t.getSize();e.width=n.x,e.height=n.y,e.style.width=n.x+"px",e.style.height=n.y+"px";var r=t.getBounds(),i=t.latLngToLayerPoint(r.getNorthWest());a.a.DomUtil.setPosition(e,i)}},_reset:function(){this._resize(),this._render()},redraw:function(){this._resize(),this._render()},_render:function(){this.render()}}),Kf=function(e,t,n){return new Yf(e,t,n)};a.a.supermap.mapVLayer=Kf;var Qf=Yf.extend({initialize:function(e,t){t=t||{},a.a.Util.setOptions(this,t),this.data=[],this.mapVOptions={draw:"simple"},Yf.prototype.initialize.call(this,new window.mapv.DataSet([]),this.mapVOptions,t),this.idCache={},this.url=e,this._last=new Date,this._imageCache={}},onMessageSuccessed:function(e){const t=e.featureResult.properties["id"],n=e.featureResult.geometry,r={geometry:e.featureResult.geometry};if("Point"===n.type&&this.options.pointToLayer){const i=this.options.pointToLayer(e.featureResult,a.a.latLng(n.coordinates[1],n.coordinates[0]));if(i instanceof a.a.Marker){this.mapVOptions.draw="icon";let s=i.options.icon;const o=s._getIconUrl("icon"),l=s.options.iconSize?s.options.iconSize[0]:null,u=s.options.iconSize?s.options.iconSize[1]:null,c=`${o}_${l}_${u}`;let h=this._imageCache[c];h||(h=s.createIcon(),this._imageCache[c]=h,h.onload=()=>{this.update({data:this.data,options:this.mapVOptions})}),r.icon=h,(s.options.iconSize||h.style.height)&&(this.mapVOptions.offset={x:0,y:-(s.options.iconSize[1]||h.style.height)/2}),this.options.deg&&(r.deg=this.options.deg,"function"===typeof r.deg&&this.idCache[t]&&this.data[this.idCache[t]]&&(r.deg=r.deg(e.featureResult,a.a.latLng(n.coordinates[1],n.coordinates[0]),this.data[this.idCache[t]])))}if(i instanceof a.a.CircleMarker){this.mapVOptions.draw="simple";const e=this._toMapvStyle(i);for(const t in e)e.hasOwnProperty(t)&&(r[t]=e[t])}}else if(this.options.style){const t=this._toMapvStyle(this.options.style(e.featureResult));for(const e in t)t.hasOwnProperty(e)&&(r[e]=t[e])}void 0==this.idCache[t]?(this.data.push(r),this.idCache[t]=this.data.length-1):this.data[this.idCache[t]]=r,new Date-this._last>200&&(this._last=new Date,this.update({data:this.data,options:this.mapVOptions}))},_toMapvStyle:function(e){const t={draw:"simple"};return t.strokeStyle=e.color,t.lineWidth=e.width,t.globalAlpha=e.fillOpacity||e.opacity,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.fillStyle=e.fillColor,t.size=e.radius,t}}),$f=a.a.GeoJSON.extend({initialize:function(e,t){t=t||{},t.style&&!t.pointToLayer&&(t.pointToLayer=function(e,n){return a.a.circleMarker(n,t.style())}),a.a.Util.setOptions(this,t),this._layers={},a.a.stamp(this),this.url=e,this.idCache={}},onMessageSuccessed:function(e){const t=e.featureResult,n=e.featureResult.properties[this.options.idField];let r=null;void 0!==n&&this.idCache[n]?(r=this.getLayer(this.idCache[n]),this._updateLayerData(r,t)):(r=a.a.GeoJSON.geometryToLayer(t,this.options),r.feature=a.a.GeoJSON.asFeature(t),this.addLayer(r),void 0!==n&&(this.idCache[n]=this.getLayerId(r))),this.options.onEachFeature&&this.options.onEachFeature(t,r)},_updateLayerData:function(e,t){t.properties&&(e.feature.properties=t.properties);var n=[];switch(t.geometry.type){case"Point":n=a.a.GeoJSON.coordsToLatLng(t.geometry.coordinates),e.setLatLng(n);break;case"LineString":n=a.a.GeoJSON.coordsToLatLngs(t.geometry.coordinates,0),e.setLatLngs(n);break;case"MultiLineString":case"Polygon":n=a.a.GeoJSON.coordsToLatLngs(t.geometry.coordinates,1),e.setLatLngs(n);break;case"MultiPolygon":n=a.a.GeoJSON.coordsToLatLngs(t.geometry.coordinates,2),e.setLatLngs(n);break}}}),em=a.a.LayerGroup.extend({options:{geometry:null,prjCoordSys:null,excludeField:null,idField:"id",render:"normal"},initialize:function(e,t){t=t||{},a.a.Util.setOptions(this,t),this.url=e,this._layers={},this.dataService=new Wf(this.url,{geometry:this.options.geometry,prjCoordSys:this.options.prjCoordSys,excludeField:this.options.excludeField})},onAdd:function(e){this.dataService.initSubscribe(),this.dataService.on("subscribeSocketConnected",e=>this.fire("subscribesucceeded",e)),this.dataService.on("subscribeSocketError",e=>this.fire("subscribefailed",e)),this.dataService.on("messageSucceeded",e=>this._onMessageSuccessed(e)),this.dataService.on("setFilterParamSucceeded",e=>this.fire("setfilterparamsucceeded",e)),"mapv"===this.options.render?this.addLayer(new Qf(this.url,this.options)):this.addLayer(new $f(this.url,this.options)),a.a.LayerGroup.prototype.onAdd.call(this,e)},onRemove:function(e){a.a.LayerGroup.prototype.onRemove.call(this,e),this.dataService&&this.dataService.unSubscribe()},setExcludeField:function(e){return this.dataService.setExcludeField(e),this.options.excludeField=e,this},setGeometry:function(e){return this.dataService.setGeometry(e),this.options.geometry=e,this},_onMessageSuccessed:function(e){this.getLayers().map(t=>(t.onMessageSuccessed&&(t.onMessageSuccessed(e),this.fire("dataupdated",{layer:t,data:e.featureResult})),t))}}),tm=function(e,t){return new em(e,t)};a.a.supermap.dataFlowLayer=tm;const nm=a.a.Layer.extend({includes:[],_echartsContainer:null,_map:null,_ec:null,_echartsOptions:null,options:{attribution:Gd.ECharts.attribution,loadWhileAnimating:!1},initialize:function(e,t){a.a.Util.setOptions(this,t),this.setOption(e)},setOption:function(e,t,n){const r=e.baseOption||e;r.LeafletMap=r.LeafletMap||{roam:!0},r.animation=!0===r.animation,this._echartsOptions=e,this._ec&&this._ec.setOption(e,t,n)},getEcharts:function(){return this._ec},_disableEchartsContainer:function(){this._echartsContainer.style.visibility="hidden"},_enableEchartsContainer:function(){this._echartsContainer.style.visibility="visible"},onAdd:function(e){this._map=e,this._initEchartsContainer(),this._ec=Ho.a.init(this._echartsContainer),this._ec.leafletMap=e;const t=this;e.on("zoomstart",(function(){t._disableEchartsContainer()})),!t.options.loadWhileAnimating&&e.on("movestart",(function(){t._disableEchartsContainer()})),Ho.a.registerAction({type:"LeafletMapLayout",event:"LeafletMapLayout",update:"updateLayout"},(function(e){})),Ho.a.registerCoordinateSystem("leaflet",rm),Ho.a.extendComponentModel({type:"LeafletMap",getBMap:function(){return this.__LeafletMap},defaultOption:{roam:!1}}),Ho.a.extendComponentView({type:"LeafletMap",render:function(e,n,r){let i=!0,s=n.scheduler.ecInstance.leafletMap;const o=r.getZr().painter.getViewportRoot(),l=s.options.zoomAnimation&&a.a.Browser.any3d;o.className=" leaflet-layer leaflet-zoom-"+(l?"animated":"hide")+" echarts-layer";const u=a.a.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);o.style[u]="50% 50%";const c=e.coordinateSystem,h=r.getZr().painter.getLayers(),p=function(){if(i)return;const n=t._map.containerPointToLayerPoint([0,0]),s=[n.x||0,n.y||0];if(o.style.left=s[0]+"px",o.style.top=s[1]+"px",!t.options.loadWhileAnimating){for(let e in h)h.hasOwnProperty(e)&&h[e]&&d(h[e].ctx);t._enableEchartsContainer()}c.setMapOffset(s),e.__mapOffset=s,r.dispatchAction({type:"LeafletMapLayout"})};function d(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)}function f(){i||(r.dispatchAction({type:"LeafletMapLayout"}),t._enableEchartsContainer())}t._oldMoveHandler&&s.off(t.options.loadWhileAnimating?"move":"moveend",t._oldMoveHandler),t._oldZoomEndHandler&&s.off("zoomend",t._oldZoomEndHandler),s.on(t.options.loadWhileAnimating?"move":"moveend",p),s.on("zoomend",f),t._oldMoveHandler=p,t._oldZoomEndHandler=f,i=!1}}),this._ec.setOption(this._echartsOptions)},onRemove:function(){this._ec.clear(),this._ec.dispose(),delete this._ec,a.a.DomUtil.remove(this._echartsContainer),this._oldZoomEndHandler&&(this._map.off("zoomend",this._oldZoomEndHandler),this._oldZoomEndHandler=null),this._oldMoveHandler&&(this._map.off(this.options.loadWhileAnimating?"move":"moveend",this._oldMoveHandler),this._oldMoveHandler=null),this._resizeHandler&&(this._map.off("resize",this._resizeHandler),this._resizeHandler=null),delete this._map},_initEchartsContainer:function(){const e=this._map.getSize(),t=document.createElement("div");t.style.position="absolute",t.style.height=e.y+"px",t.style.width=e.x+"px",t.style.zIndex=10,this._echartsContainer=t,this.getPane().appendChild(this._echartsContainer);const n=this;function r(e){let t=e.newSize;n._echartsContainer.style.width=t.x+"px",n._echartsContainer.style.height=t.y+"px",n._ec.resize()}this._map.on("resize",r),this._resizeHandler=r}});function rm(e){this._LeafletMap=e,this.dimensions=["lng","lat"],this._mapOffset=[0,0]}rm.prototype.dimensions=["lng","lat"],rm.prototype.setMapOffset=function(e){this._mapOffset=e},rm.prototype.getBMap=function(){return this._LeafletMap},rm.prototype.prepareCustoms=function(){const e=Ho.a.util,t=this.getViewRect();return{coordSys:{type:"leaflet",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:e.bind(this.dataToPoint,this),size:e.bind(n,this)}};function n(t,n){return n=n||[0,0],e.map([0,1],(function(e){const r=n[e],i=t[e]/2,s=[],o=[];return s[e]=r-i,o[e]=r+i,s[1-e]=o[1-e]=n[1-e],Math.abs(this.dataToPoint(s)[e]-this.dataToPoint(o)[e])}),this)}},rm.prototype.dataToPoint=function(e){null===e[1]&&(e[1]=a.a.CRS.EPSG3857.projection.MAX_LATITUDE);const t=this._LeafletMap.latLngToLayerPoint([e[1],e[0]]),n=this._mapOffset;return[t.x-n[0],t.y-n[1]]},rm.prototype.fixLat=function(e){return e>=90?89.99999999999999:e<=-90?-89.99999999999999:e},rm.prototype.pointToData=function(e){let t=this._mapOffset,n=this._LeafletMap.layerPointToLatLng([e[0]+t[0],e[1]+t[1]]);return[n.lng,n.lat]},rm.prototype.getViewRect=function(){const e=this._LeafletMap.getSize();return new Ho.a.graphic.BoundingRect(0,0,e.x,e.y)},rm.prototype.getRoamTransform=function(){return Ho.a.matrix.create()},rm.dimensions=rm.prototype.dimensions,rm.create=function(e){let t,n=e.scheduler.ecInstance.leafletMap;e.eachComponent("LeafletMap",(function(e){t||(t=new rm(n)),e.coordinateSystem=t,e.coordinateSystem.setMapOffset(e.__mapOffset||[0,0])})),e.eachSeries((function(e){e.get("coordinateSystem")&&"leaflet"!==e.get("coordinateSystem")||(t||(t=new rm(n)),e.coordinateSystem=t,e.animation=!0===e.animation)}))};const im=function(e,t){return new nm(e,t)};a.a.supermap.echartsLayer=im;class sm{static supportWebGL(){return om("webgl")}static supportWebGL2(){return om("webgl2")}static supportCanvas(){return om("2d")}}function om(e){var t=document.createElement("canvas");return t&&t.getContext(e)}var am=a.a.Class.extend({options:{radius:10,angele:60,spaceAngle:0,count:3,fill:!1,stroke:!0,color:"#3388ff",weight:1,lineCap:"round",lineJoin:"round",fillColor:"#66ccff",fillOpacity:.2,fillRule:"evenodd",opacity:1,strokeWidth:1},initialize:function(e){e=e||{},a.a.Util.setOptions(this,e),this._canvas=document.createElement("canvas"),this._canvas.width=2*(this.options.radius+this.options.weight),this._canvas.height=2*(this.options.radius+this.options.weight),this._ctx=this._canvas.getContext("2d");var t=void 0===this.options.strokeWidth?1:this.options.strokeWidth;this.options.width=2*(this.options.radius+t)+1,this._initStyle()},getStyle:function(){return this._canvas},drawSector:function(e,t,n,r,i,s){i=i/180*Math.PI,s=s/180*Math.PI,e.moveTo(t,n),e.lineTo(t+r*Math.cos(i),n+r*Math.sin(i)),e.arc(t,n,r,i,s),e.lineTo(t,n)},_initStyle:function(){var e=0,t=this.options,n=t.angle;if(t.spaceAngle=360/t.count-t.angle,!(t.spaceAngle<0)){this._ctx.beginPath(),this.anchor=[t.width/2,t.width/2];for(var r=0;r<t.count;r++)this.drawSector(this._ctx,this.anchor[0],this.anchor[1],t.radius,e,n),e=n+t.spaceAngle,n=e+t.angle;this._fillStroke()}},_fillStroke:function(){var e=this.options;e.fill&&(this._ctx.globalAlpha=e.fillOpacity,this._ctx.fillStyle=e.fillColor||e.color,this._ctx.fill(e.fillRule||"evenodd")),e.stroke&&0!==e.weight&&(this._ctx.globalAlpha=e.opacity,this._ctx.lineWidth=e.weight,this._ctx.strokeStyle=e.color,this._ctx.lineCap=e.lineCap,this._ctx.lineJoin=e.lineJoin,this._ctx.stroke())}}),lm=function(e){return new am(e)};a.a.supermap.cloverStyle=lm;var um=a.a.Class.extend({options:{stroke:!0,color:"#3388ff",weight:1,opacity:1,lineCap:"round",lineJoin:"round",fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",radius:3},initialize:function(e){e=e||{},a.a.Util.setOptions(this,e),this._canvas=document.createElement("canvas"),this._canvas.width=2*(this.options.radius+this.options.weight),this._canvas.height=2*(this.options.radius+this.options.weight),this._ctx=this._canvas.getContext("2d"),this._initStyle()},getCanvas:function(){return this._canvas},getStyle:function(){return this._canvas},_initStyle:function(){this._ctx.beginPath(),this._ctx.arc(this._canvas.width/2,this._canvas.height/2,this.options.radius,0,2*Math.PI),this._fillStroke()},_fillStroke:function(){var e=this.options;e.fill&&(this._ctx.globalAlpha=e.fillOpacity,this._ctx.fillStyle=e.fillColor||e.color,this._ctx.fill(e.fillRule||"evenodd")),e.stroke&&0!==e.weight&&(this._ctx.globalAlpha=e.opacity,this._ctx.lineWidth=e.weight,this._ctx.strokeStyle=e.color,this._ctx.lineCap=e.lineCap,this._ctx.lineJoin=e.lineJoin,this._ctx.stroke())}}),cm=function(e){return new um(e)};a.a.supermap.circleStyle=cm;var hm=a.a.Class.extend({options:{img:null,origin:[0,0],anchor:null,size:null},initialize:function(e){e=e||{},a.a.Util.setOptions(this,e),this._canvas=document.createElement("canvas"),this._canvas.width=2*(this.options.radius+this.options.weight),this._canvas.height=2*(this.options.radius+this.options.weight),this._ctx=this._canvas.getContext("2d")},getStyle:function(){return this.options}}),pm=function(e){return new hm(e)};a.a.supermap.imageStyle=pm;const dm=a.a.Util.falseFn;var fm=a.a.Class.extend({initialize:function(e,t){this.layer=e,t=t||{},a.a.Util.setOptions(this,t)},getRenderer:function(){return this.options.renderer},update:function(){this.getRenderer()._clear(),this.getRenderer()._draw()},_getGraphicAtPoint:function(e){const t=this.layer,n=t._map;let r=t._getGraphicsInBounds();for(let i=r.length-1;i>=0;i--){let t,s,o;const l=n.latLngToLayerPoint(r[i].getLatLng());let u=r[i].getStyle();if(!u&&this.defaultStyle&&(u=this.defaultStyle),u.img){let e=u.img.width,n=u.img.height;u.size&&u.size[0]&&u.size[1]&&(e=u.size[0],n=u.size[1]);const r=u.anchor||[e/2,n/2];t=a.a.point(l.x-r[0],l.y-r[1]),s=a.a.point(t.x+e,t.y+n)}else t=a.a.point(l.x-u.width/2,l.y-u.height/2),s=a.a.point(l.x+u.width/2,l.y+u.height/2);if(o=a.a.bounds(t,s),o.contains(e))return r[i]}return null},containsPoint:function(e){return!!this._getGraphicAtPoint(e)},_handleClick:function(e){e.target=null;const t=this.layer,n=t._map,r=this._getGraphicAtPoint(n.latLngToLayerPoint(e.latlng));if(r)return this.layer._renderer._ctx.canvas.style.cursor="pointer",e.target=r,void("click"===e.type&&t.options.onClick&&t.options.onClick.call(t,r,e));this.layer._renderer._ctx.canvas.style.cursor="auto"},_clearBuffer:dm});a.a.Canvas.include({drawGraphics:function(e,t){var n=this;n._drawing&&e.forEach((function(e){var r=e.getStyle();!r&&t&&(r=t),r.img?n._drawImage.call(n,n._ctx,r,e.getLatLng()):n._drawCanvas.call(n,n._ctx,r,e.getLatLng())}))},_drawCanvas:function(e,t,n){var r=t,i=this._map.latLngToLayerPoint(n),s=i.x-r.width/2,o=i.y-r.height/2,a=r.width,l=r.height;e.drawImage(r,s,o,a,l)},_drawImage:function(e,t,n){var r,i;if(t.size){var s=t.size;r=s[0],i=s[1]}else r=t.img.width,i=t.img.height;var o=this._coordinateToPoint(n),l=a.a.point(o),u=a.a.point(t.anchor||[r/2,i/2]);o=[l.x-u.x,l.y-u.y],e.drawImage(t.img,o[0],o[1],r,i)},_coordinateToPoint:function(e){if(!this._map)return e;var t=e;a.a.Util.isArray(e)?t=a.a.latLng(e[0],e[1]):e instanceof a.a.LatLng&&(t=a.a.latLng(e.lat,e.lng));var n=this._map.latLngToLayerPoint(t);return[n.x,n.y]}});const mm=a.a.Util.falseFn,ym=function(){let e=document.createElement("div"),t=["transform","WebkitTransform","MozTransform","OTransform","msTransform"];for(let n=0;n<t.length;n++){let r=t[n];if(void 0!==e.style[r])return r}return t[0]}();var gm=a.a.Class.extend({initialize:function(e,t){this.layer=e;let n=t||{};a.a.Util.setOptions(this,n),this.options.radius=this._pixelToMeter(this.options.radius),this._initContainer()},getRenderer:function(){return this},update:function(e){e&&e.length>-1&&(this._data=e),this._renderLayer.setChangeFlags({dataChanged:!0,propsChanged:!0,viewportChanged:!0,updateTriggersChanged:!0}),this._refreshData();let t=this._getLayerState();t.data=this._data||[],this._layerDefaultStyleCache=null,this._renderLayer.setNeedsRedraw(!0),this._renderLayer.setState(t)},drawGraphics:function(e){this._clearBuffer();let t=this.layer._map.getSize();this._container.width!==t.x&&(this._container.width=t.x),this._container.height!==t.y&&(this._container.height=t.y);let n=this.layer._map.getPanes().mapPane,r=n._leaflet_pos;this._container.style[ym]="translate("+-Math.round(r.x)+"px,"+-Math.round(r.y)+"px)",this._data=e||[],this._renderLayer||this._createInnerRender(),this._draw()},_initContainer:function(){this._container=this._createCanvas(this.options.width,this.options.height),this._layerContainer=this.options.container,this._wrapper=a.a.DomUtil.create("div","deck-wrapper",this._layerContainer),this._wrapper.appendChild(this._container)},_createCanvas:function(e,t){let n=a.a.DomUtil.create("canvas","graphicLayer  leaflet-layer leaflet-zoom-hide");return n.oncontextmenu=a.a.Util.falseFn,n.width=e,n.height=t,n.style.width=e+"px",n.style.height=t+"px",n},_pixelToMeter:function(e){const t=this.layer._map.getBounds(),n=(t.getEast()-t.getWest())/this.layer._map.getSize().x,r=n*(6378137*Math.PI/180);return e*r},_createInnerRender:function(){let e=this,t=this._getLayerState(),{color:n,radius:r,opacity:i,highlightColor:s,radiusScale:o,radiusMinPixels:a,radiusMaxPixels:l,strokeWidth:u,outline:c}=t,h={id:"scatter-plot",data:e._data,pickable:Boolean(this.options.onClick)||Boolean(this.options.onHover),autoHighlight:!0,color:n,opacity:i,radius:r,radiusScale:o,highlightColor:s,radiusMinPixels:a,radiusMaxPixels:l,strokeWidth:u,outline:c,getPosition:function(e){if(!e)return[0,0,0];let t=e.getLatLng();return t&&[t.lng,t.lat,0]},getColor:function(t){let n=e._getLayerDefaultStyle(),r=t&&t.options;return r&&r.color||n.color},getRadius:function(t){let n=e._getLayerDefaultStyle(),r=t&&t.getStyle();return r&&r.radius||n.radius},updateTriggers:{getColor:[n],getRadius:[r]}},p=this;this.options.onClick&&(h.onClick=function(){p._container.style.cursor="pointer",p.options.onClick.apply(p,arguments)}),this.options.onHover&&(h.onHover=function(){p._container.style.cursor="pointer",p.options.onHover.apply(p,arguments)}),e._renderLayer=new window.DeckGL.ScatterplotLayer(h)},_getLayerDefaultStyle:function(){if(this._layerDefaultStyleCache)return this._layerDefaultStyleCache;let{color:e,opacity:t,radius:n,radiusScale:r,radiusMinPixels:i,radiusMaxPixels:s,strokeWidth:o,outline:a}=this.layer.options;return n=this._pixelToMeter(n),this._layerDefaultStyleCache={color:e,opacity:t,radius:n,radiusScale:r,radiusMinPixels:i,radiusMaxPixels:s,strokeWidth:o,outline:a},this._layerDefaultStyleCache},_getLayerState:function(){let e=this.layer.getState();return e.zoom=e.zoom-1,e},_draw:function(){let e=this._getLayerState();this._refreshData(),e.data=this._data||[];let t={};for(let n in e)t[n]=e[n];this._layerDefaultStyleCache=null,this._renderLayer.setNeedsRedraw(!0),t.layers=[this._renderLayer],t.canvas=this._container,t.onBeforeRender=this._onBeforeRender.bind(this),t.onAfterRender=this._onAfterRender.bind(this),this.deckGL?this.deckGL.setProps(t):this.deckGL=new window.DeckGL.experimental.DeckGLJS(t)},_clearBuffer:function(){if(this.deckGL){let e=this.deckGL.layerManager;e&&e.context.gl.clear(e.context.gl.COLOR_BUFFER_BIT)}return this},_refreshData:function(){let e=this._data||[],t=a.a.Util.isArray(e)?[].concat(e):[e];this._renderLayer.props.data||(this._renderLayer.props.data=[]),this._renderLayer.props.data.length=0;for(let n=0;n<t.length;n++)this._renderLayer.props.data.push(t[n]);this._data=this._renderLayer.props.data},_handleClick:mm,_onBeforeRender:mm,_onAfterRender:mm,_removePath:function(){return this._wrapper.parentElement.removeChild(this._wrapper),this._container=null,this._wrapper=null,this},_initPath:mm,_addPath:mm,containsPoint:mm});const _m=["canvas","webgl"],vm={color:[0,0,0,255],opacity:.8,radius:10,radiusScale:1,radiusMinPixels:0,radiusMaxPixels:Number.MAX_SAFE_INTEGER,strokeWidth:1,outline:!1};var bm=a.a.Path.extend({initialize:function(e,t){this.graphics=[].concat(e);let n=t||{};n.pane="overlayPane",a.a.Util.setOptions(this,n),this.options.render=this.options.render||_m[0],sm.supportWebGL2()||(this.options.render=_m[0]),this.options.interactive&&this.on("click mousemove dblclick mousedown mouseup mouseout contextmenu",this._handleClick,this)},getEvents:function(){const e={resize:this._resize.bind(this),moveend:this._moveEnd.bind(this)};return e},onAdd:function(e){this._map=e,this.defaultStyle=this._getDefaultStyle(this.options),this._renderer=this._createRenderer(),this._container=this._renderer._container,a.a.Path.prototype.onAdd.call(this)},onRemove:function(){this.off("click mousemove dblclick mousedown mouseup contextmenu",this._handleClick,this),this._renderer._removePath(this)},setGraphics:function(e){this.graphics=this.graphics||[],this.graphics.length=0;let t=a.a.Util.isArray(e)?[].concat(e):[e];this.graphics=[].concat(t),this.update()},addGraphics:function(e){this.graphics=this.graphics||[];let t=a.a.Util.isArray(e)?[].concat(e):[e];this.graphics=this.graphics.concat(t),this.update()},getGraphicBy(e,t){let n=null;for(let r in this.graphics)if(this.graphics[r][e]===t){n=this.graphics[r];break}return n},getGraphicById(e){return this.getGraphicBy("id",e)},getGraphicsByAttribute(e,t){var n,r=[];for(let i in this.graphics)n=this.graphics[i],n&&n.attributes&&n.attributes[e]===t&&r.push(n);return r},removeGraphics(e=null){if(!e||0===e.length||e===this.graphics)return this.graphics.length=0,void this.update();te.isArray(e)||(e=[e]);for(let t=e.length-1;t>=0;t--){let n=e[t],r=te.indexOf(this.graphics,n);-1!==r&&this.graphics.splice(r,1)}this.update()},setStyle:function(e){let t=this.options,n={color:t.color,radius:t.radius,opacity:t.opacity,highlightColor:t.highlightColor,radiusScale:t.radiusScale,radiusMinPixels:t.radiusMinPixels,radiusMaxPixels:t.radiusMaxPixels,strokeWidth:t.strokeWidth,outline:t.outline};this.options=a.a.Util.extend(this.options,n,e),this.defaultStyle=this._getDefaultStyle(this.options),this.update()},update:function(){this._layerRenderer.update(this.graphics)},clear:function(){this.removeGraphics()},getRenderer:function(){return this._renderer},getState:function(){let e=this._map,t=e.getSize().x,n=e.getSize().y,r=e.getCenter(),i=r.lng,s=r.lat,o=e.getZoom(),a=e.getMaxZoom(),l={longitude:i,latitude:s,zoom:o,maxZoom:a,pitch:0,bearing:0},u={};for(let h in l)u[h]=l[h];u.width=t,u.height=n;let c=this.options;return u.color=c.color,u.radius=c.radius,u.opacity=c.opacity,u.highlightColor=c.highlightColor,u.radiusScale=c.radiusScale,u.radiusMinPixels=c.radiusMinPixels,u.radiusMaxPixels=c.radiusMaxPixels,u.strokeWidth=c.strokeWidth,u.outline=c.outline,u},_resize:function(){let e=this._map.getSize();this._container.width=e.x,this._container.height=e.y,this._container.style.width=e.x+"px",this._container.style.height=e.y+"px";let t=this._map.containerPointToLayerPoint([0,0]);a.a.DomUtil.setPosition(this._container,t),this._update()},_moveEnd:function(){this._layerRenderer instanceof gm&&this._update()},_createRenderer:function(){let e,t=this._map,n=t.getSize().x,r=t.getSize().y;if(this.options.render===_m[0])e=new fm(this,{width:n,height:r,renderer:t.getRenderer(this)});else{let i=a.a.Util.setOptions({},vm),s=a.a.Util.setOptions({options:i},this.options);s=a.a.Util.setOptions(this,s),s.container=t.getPane("overlayPane"),s.width=n,s.height=r,e=new gm(this,s)}return e.defaultStyle=this.defaultStyle,this._layerRenderer=e,this._layerRenderer.getRenderer()},_update:function(){this._map&&this._updatePath()},_updatePath:function(){let e=this._getGraphicsInBounds();this._renderer.drawGraphics(e,this.defaultStyle)},_project:function(){let e=this;e._getGraphicsInBounds().map((function(t){let n=e._map.latLngToLayerPoint(t.getLatLng()),r=e._clickTolerance(),i=[t._anchor+r,t._anchor+r];return t._pxBounds=new a.a.Bounds(n.subtract(i),n.add(i)),t})),e._pxBounds=a.a.bounds(a.a.point(0,0),a.a.point(this._container.width,this._container.height))},_getDefaultStyle:function(e){const t={};if(e.color){t.fill=!0;const n=this.toRGBA(e.color);t.color=n,t.fillColor=n}return e.opacity&&(t.opacity=e.opacity,t.fillOpacity=e.opacity),e.radius&&(t.radius=e.radius),e.strokeWidth&&(t.weight=e.strokeWidth),e.outline&&(t.stroke=e.outline),new um(t).getStyle()},toRGBA(e){return`rgba(${e[0]},${e[1]},${e[2]},${(e[3]||255)/255})`},_getGraphicsInBounds:function(){let e=this,t=[],n=e._map.getBounds();return this.graphics.map((function(e){return n.contains(e.getLatLng())&&t.push(e),e})),t},_handleClick:function(e){this._layerRenderer._handleClick(e)},beforeAdd:a.a.Util.falseFn,_containsPoint:function(e){return this._layerRenderer.containsPoint(e)}});let xm=function(e,t){return new bm(e,t)};a.a.supermap.graphicLayer=xm;var wm=Mf.extend({options:{isOverLay:!0},initialize:function(e,t,n){var r=[];r.push(e),r.push(n),Mf.prototype.initialize.apply(this,r),this.chartsType=t,this.themeFields=n&&n.themeFields?n.themeFields:null,this.charts=n&&n.charts?n.charts:[],this.cache=n&&n.cache?n.cache:{},this.chartsSetting=n&&n.chartsSetting?n.chartsSetting:{}},setChartsType:function(e){this.chartsType=e,this.redraw()},addFeatures:function(e){var t=this;t.fire("beforefeaturesadded",{features:e}),this.features=this.toiClientFeature(e),t.renderer&&(t._map?t.redrawThematicFeatures(t._map.getBounds()):t.redrawThematicFeatures())},redrawThematicFeatures:function(e){var t=this;t.renderer.clearAll();var n=t.features;if(this.options.alwaysMapCRS&&e&&e instanceof a.a.LatLngBounds){var r=this._map.options.crs;e=a.a.bounds(r.project(e.getSouthWest()),r.project(e.getNorthEast()))}e=Kd.toSuperMapBounds(e);for(var i=0,s=n.length;i<s;i++){var o=n[i],l=o.geometry.getBounds();if(!e||e.intersectsBounds(l)){var u=t.cache,c=o.id;if(!u[c]){u[c]=c;var h=t.createThematicFeature(o),p=t.overlayWeightField&&o.attributes[t.overlayWeightField]&&!isNaN(o.attributes[t.overlayWeightField]);h&&p&&(h["__overlayWeight"]=o.attributes[t.overlayWeightField]),h&&t.charts.push(h)}}}t.drawCharts()},createThematicFeature:function(e){var t,n=this;return vo[n.chartsType]&&n.themeFields&&n.chartsSetting&&(t=new vo[n.chartsType](e,n,n.themeFields,n.chartsSetting)),!!t&&(t.assembleShapes(),t)},drawCharts:function(){var e=this;e.renderer&&(e.overlayWeightField&&e._sortChart(),e.options&&!e.options.isOverLay?e._addOverlayShape():e._addNoOverlayShape(),e.renderer.render())},getShapesByFeatureID:function(e){var t=this,n=[],r=t.renderer.getAllShapes();if(!e)return r;for(var i=0,s=r.length;i<s;i++){var o=r[i];o.refDataID&&e===o.refDataID&&n.push(o)}return n},isQuadrilateralOverLap:function(e,t){var n=this,r=e.length,i=t.length;if(5!==r||5!==i)return null;for(var s=!1,o=0;o<r;o++)if(n.isPointInPoly(e[o],t)){s=!0;break}for(let l=0;l<i;l++)if(n.isPointInPoly(t[l],e)){s=!0;break}for(let l=0;l<r-1;l++){if(s)break;for(let n=0;n<i-1;n++){var a=te.lineIntersection(e[l],e[l+1],t[n],t[n+1]);if("SuperMap.Geometry.Point"===a.CLASS_NAME){s=!0;break}}}return s},isPointInPoly:function(e,t){for(var n=!1,r=-1,i=t.length,s=i-1;++r<i;s=r)(t[r].y<=e.y&&e.y<t[s].y||t[s].y<=e.y&&e.y<t[r].y)&&e.x<(t[s].x-t[r].x)*(e.y-t[r].y)/(t[s].y-t[r].y)+t[r].x&&(n=!n);return n},isChartInMap:function(e,t){for(var n=e,r=!1,i=0,s=t.length;i<s;i++){var o=t[i];if(o.x>=n.left&&o.x<=n.right&&o.y>=n.top&&o.y<=n.bottom){r=!0;break}}return r},clearCache:function(){this.cache={},this.charts=[]},removeFeatures:function(e){var t=this;t.clearCache(),Mf.prototype.removeFeatures.apply(t,arguments)},removeAllFeatures:function(){var e=this;e.clearCache(),Mf.prototype.removeAllFeatures.apply(e,arguments)},redraw:function(){var e=this;return e.clearCache(),Mf.prototype.redraw.apply(e,arguments)},clear:function(){var e=this;e.renderer&&(e.renderer.clearAll(),e.renderer.refresh()),e.removeAllFeatures(),e.clearCache()},getWeightFieldValue:function(e,t,n){if(("undefined"===typeof n||isNaN(n))&&(n=0),!e.attributes)return n;var r=e.attributes[t];return("undefined"===typeof r||isNaN(r))&&(r=n),r},_sortChart:function(){var e=this;e.charts&&e.charts.sort((function(e,t){return"undefined"===typeof e["__overlayWeight"]&&"undefined"===typeof t["__overlayWeight"]?0:"undefined"!==typeof e["__overlayWeight"]&&"undefined"===typeof t["__overlayWeight"]?-1:"undefined"===typeof e["__overlayWeight"]&&"undefined"!==typeof t["__overlayWeight"]?1:"undefined"!==typeof e["__overlayWeight"]&&"undefined"!==typeof t["__overlayWeight"]?parseFloat(e["__overlayWeight"])<parseFloat(t["__overlayWeight"])?1:-1:0}))},_addOverlayShape:function(){for(var e=this,t=e.charts,n=0,r=t.length;n<r;n++)for(var i=t[n],s=i.resetLocation(),o=i.shapes,a=0,l=o.length;a<l;a++)o[a].refOriginalPosition=s,e.renderer.addShape(o[a])},_addNoOverlayShape:function(){var e=this,t=e._map.getBounds(),n=this._map.options.crs;this.options.alwaysMapCRS&&(t=a.a.bounds(n.project(t.getSouthWest()),n.project(t.getNorthEast()))),t=Kd.toSuperMapBounds(t);for(var r=e.charts,i=[],s=e.getLocalXY(new ne(t.left,t.top)),o=e.getLocalXY(new ne(t.right,t.bottom)),l=new re(s[0],o[1],o[0],s[1]),u=0,c=r.length;u<c;u++){var h=r[u],p=h.resetLocation(),d=h.chartBounds,f=[{x:d.left,y:d.top},{x:d.left,y:d.bottom},{x:d.right,y:d.bottom},{x:d.right,y:d.top},{x:d.left,y:d.top}];if(!l||e.isChartInMap(l,f)){var m=!1;for(let t=0;t<i.length;t++)if(e.isQuadrilateralOverLap(f,i[t])){m=!0;break}if(!m){i.push(f);var y=h.shapes;for(let t=0,n=y.length;t<n;t++)y[t].refOriginalPosition=p,e.renderer.addShape(y[t])}}}}}),Sm=function(e,t,n){return new wm(e,t,n)};a.a.supermap.graphThemeLayer=Sm;var Cm=wm.extend({initialize:function(e,t,n){wm.prototype.initialize.apply(this,arguments),this.symbolType=t,this.symbolSetting={}},setSymbolType:function(e){this.symbolType=e,this.redraw()},createThematicFeature:function(e){var t,n=this;return vo[n.symbolType]&&n.themeField&&n.symbolSetting&&(t=new vo[n.symbolType](e,n,[n.themeField],n.symbolSetting)),!!t&&(t.assembleShapes(),t)}}),Em=function(e,t,n){return new Cm(e,t,n)};a.a.supermap.rankSymbolThemeLayer=Em;var Tm=a.a.SVG.extend({initialize:function(e,t,n){a.a.SVG.prototype.initialize.call(this,n),this._tileCoord=e,this._size=t,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._container.setAttribute("viewBox",[0,0,this._size.x,this._size.y].join(" ")),this._layers={}},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},onAdd:a.a.Util.falseFn,addTo:function(e){if(this._map=e,this.options.interactive)for(var t in this._layers){var n=this._layers[t];n._path.style.pointerEvents="auto",this._map._targets[a.a.stamp(n._path)]=n}},removeFrom:function(e){var t=e||this._map;if(this.options.interactive)for(var n in this._layers){var r=this._layers[n];delete t._targets[a.a.stamp(r._path)]}delete this._map},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup||(this._rootGroup=this._container),this._rootGroup.appendChild(e._path),this._layers[a.a.stamp(e)]=e},_updateIcon:function(e){var t=e._path=a.a.SVG.create("image"),n=e.options,r=n.iconUrl;if(n.iconSize){var i=a.a.point(n.iconSize),s=i&&i.divideBy(2,!0),o=e._point.subtract(s);t.setAttribute("x",o.x),t.setAttribute("y",o.y),t.setAttribute("width",i.x+"px"),t.setAttribute("height",i.y+"px")}else{var l=new Image;l.src=r,a.a.DomEvent.on(l,"load",(function(){var n=a.a.point([l.width,l.height]),r=n&&n.divideBy(2,!0),i=e._point.subtract(r);t.setAttribute("x",i.x),t.setAttribute("y",i.y),t.setAttribute("width",n.x+"px"),t.setAttribute("height",n.y+"px")}))}t.setAttribute("href",r)}}),Am=a.a.Canvas.extend({initialize:function(e,t,n){a.a.Canvas.prototype.initialize.call(this,n),this._tileCoord=e,this._size=t,this._initContainer(),this._container.setAttribute("width",this._size.x),this._container.setAttribute("height",this._size.y),this._layers={},this._drawnLayers={},this._drawing=!0,n.interactive&&(this._container.style.pointerEvents="auto")},getCoord:function(){return this._tileCoord},getContainer:function(){return this._container},getOffset:function(){return this._tileCoord.scaleBy(this._size).subtract(this._map.getPixelOrigin())},onAdd:a.a.Util.falseFn,addTo:function(e){this._map=e},removeFrom:function(e){delete this._map},_updateDashArray:function(e){var t=e.options.dashArray;if(t&&"string"===typeof t){var n,r=t.split(","),i=[];for(n=0;n<r.length;n++)i.push(Number(r[n]));e.options._dashArray=i}else e.options._dashArray=t},_onClick:function(e){var t,n,r=this._map.mouseEventToLayerPoint(e).subtract(this.getOffset());for(var i in this._layers)t=this._layers[i],t.options.interactive&&t._containsPoint(r)&&!this._map._draggableMoved(t)&&(n=t);n&&(a.a.DomEvent.stop(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e).subtract(this.getOffset());this._handleMouseHover(e,t)}},_updateIcon:function(e){if(this._drawing){var t=e.options,n=this._ctx,r=e._getImage();if(t.iconSize&&r.complete){var i=a.a.point(t.iconSize),s=i&&i.divideBy(2,!0),o=e._point.subtract(s);n.drawImage(r,o.x,o.y,i.x,i.y)}else a.a.DomEvent.on(r,"load",(function(){var t=a.a.point([r.width,r.height]),i=t&&t.divideBy(2,!0),s=e._point.subtract(i);n.drawImage(r,s.x,s.y,t.x,t.y)}));this._drawnLayers[e._leaflet_id]=e}}}),Pm={LABEL:"LABEL",TEXT:"TEXT",POINT:"POINT",LINE:"LINE",REGION:"REGION"},Im=a.a.Class.extend({initialize:function(e){this.properties=e.properties,this.type=e.type,this.layerName=e.layerName},render:function(e,t){this._renderer=e,this._container=e._container,this.options=t,e._initPath(this),e._updateStyle(this);var n=this.getElement();n&&this.layerName&&a.a.DomUtil.addClass(n,this.layerName)},updateStyle:function(e,t){this.options=t,e._updateStyle(this)},getElement:function(){return this._path||this._renderer._container},_getPixelBounds:function(){for(var e=this._parts,t=a.a.bounds([]),n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)t.extend(r[i]);var s=this._clickTolerance(),o=new a.a.Point(s,s);return t.min._subtract(o),t.max._add(o),t},_clickTolerance:a.a.Path.prototype._clickTolerance}),Lm=a.a.Path.extend({includes:Im.prototype,options:{color:"white",fillColor:"black",fill:!0,fillOpacity:1,opacity:.6,weight:1,rotation:0,stroke:!0,fontFamily:"Arial Unicode MS Regular",fontSize:14,fontWeight:"normal",textAlign:"center",offsetX:1,offsetY:1},initialize:function(e,t){Im.prototype.initialize.call(this,e),this._makeFeatureParts(e,t),this.options.offsetX=t||1,this.options.offsetY=t||1},render:function(e,t){if(this.properties.texts&&(this._text=this.properties.texts[0]),!this._text){var n=this.properties.attributes;this._text=n&&this.properties.textField&&n[this.properties.textField]||""}var r=this.options;this._pxBounds=a.a.bounds(this._point,this._point),Im.prototype.render.apply(this,[e,t]),this.options=a.a.Util.extend(r,t),this._updatePath()},_makeFeatureParts:function(e,t){t=t||{x:1,y:1};var n=e.geometry[0];"object"===typeof n[0]&&"x"in n[0]?(this._point=a.a.point(n[0]).scaleBy(t),this._empty=a.a.Util.falseFn):(this._point=a.a.point(n).scaleBy(t),this._empty=a.a.Util.falseFn)},makeInteractive:function(){this._updateBounds()},updateStyle:function(e,t){return this._updateBounds(),Im.prototype.updateStyle.call(this,e,t)},_updateBounds:function(){var e=this._renderer._getTextWidth(this),t=[e/2,e/2];this._pxBounds=a.a.bounds(this._point.subtract(t),this._point.add(t))},_updatePath:function(){this._renderer._updateText(this)},_containsPoint:function(e){return!1}});Am.include({_getTextWidth:function(e){return this._ctx.measureText(e._text).width},_updateText:function(e){if(this._drawing&&!e._empty()){var t=this.getContainer(),n=this._map.getSize();t.width=n.x,t.height=n.y,t.style.width=n.x+"px",t.style.height=n.y+"px";var r=this._ctx,i=e.options,s=i.offsetX||1,o=i.offsetY||1,l=e._point.subtract(a.a.point(s,o));i.fill&&(this._drawnLayers[e._leaflet_id]=e,r.fillRect(0,0,n.x,n.y),r.font=[i.fontWeight?i.fontWeight:"normal",i.fontSize?i.fontSize:"14px",i.fontFamily?i.fontFamily:"Arial Unicode MS Regular,Microsoft Yahei"].join(" "),r.textAlign=i.textAlign,r.lineWidth=i.weight,r.fillStyle=i.fillColor,r.fillText(e._text,l.x,l.y),r.strokeStyle=i.color,r.strokeText(e._text,l.x,l.y),r.rotate(i.rotation))}}}),Tm.include({_getTextWidth:function(e){return e._path.getComputedTextLength()||0},_initPath:function(e){var t;Lm&&e instanceof Lm?(t=e._path=a.a.SVG.create("text"),t.textContent=e._text):t=e._path=a.a.SVG.create("path"),e.options.className&&a.a.DomUtil.addClass(t,e.options.className),e.options.interactive&&a.a.DomUtil.addClass(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a.a.stamp(e)]=e},_updateText:function(e){var t=e._path,n=e.options,r=n.offsetX||1,i=n.offsetY||1,s=e._point.subtract(a.a.point(r,i));t.setAttribute("x",s.x),t.setAttribute("y",s.y),n.rotation=n.rotation||0,t.setAttribute("transform","rotate("+n.rotation/Math.PI*180+" "+s.x+" "+s.y+")"),t.setAttribute("text-anchor","center"===n.textAlign?"middle":n.textAlign),t.style.fontSize=n.fontSize,t.style.fontFamily=n.fontFamily,t.style.fontWeight=n.fontWeight||"normal",t.style.glyphOrientationVertical=n.rotation||"",n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-linejoin","round"),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight>1?n.weight/10:n.weight)):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity)):t.setAttribute("fill","none")}});var Mm=a.a.CircleMarker.extend({includes:Im.prototype,statics:{iconCache:{}},initialize:function(e,t){Im.prototype.initialize.call(this,e),this._makeFeatureParts(e,t)},getLatLng:void 0,render:function(e,t){Im.prototype.render.call(this,e,t),this._radius=t.radius||a.a.CircleMarker.prototype.options.radius,this._updatePath()},_makeFeatureParts:function(e,t){t=t||{x:1,y:1};var n=e.geometry[0];"object"===typeof n[0]&&"x"in n[0]?(this._point=a.a.point(n[0]).scaleBy(t),this._empty=a.a.Util.falseFn):(this._point=a.a.point(n).scaleBy(t),this._empty=a.a.Util.falseFn)},makeInteractive:function(){this._updateBounds()},updateStyle:function(e,t){return this._radius=t.radius||this._radius,this._updateBounds(),Im.prototype.updateStyle.call(this,e,t)},_updateBounds:function(){var e=this.options.iconUrl;if(e&&this.options.iconSize){var t=a.a.point(this.options.iconSize),n=t&&t.divideBy(2,!0),r=this._point.subtract(n);this._pxBounds=new a.a.Bounds(r,r.add(t))}else a.a.CircleMarker.prototype._updateBounds.call(this)},_updatePath:function(){this.options.iconUrl?this._renderer._updateIcon(this):a.a.CircleMarker.prototype._updatePath.call(this)},_getImage:function(){if(!this.options.iconUrl)return null;var e=this.options.iconUrl,t=Mm.iconCache[e];if(!t){var n=this.options.iconSize||[50,50];t=Mm.iconCache[e]=this._createIcon(e,n)}return t},_createIcon:function(e,t){var n=e;if(!n)throw new Error("iconUrl not set in Icon options (see the docs).");var r=document.createElement("img"),i="icon";r.src=n,r.className="leaflet-marker-"+i+" "+(this.layerName||"");var s=t;if("number"===typeof s&&(s=[s,s]),s){var o=a.a.point(s),l=a.a.point(o&&o.divideBy(2,!0));o&&(r.style.width=o.x+"px",r.style.height=o.y+"px"),l&&(r.style.marginLeft=-l.x+"px",r.style.marginTop=-l.y+"px")}return r.onload=function(){s||(r.style.width=this.width+"px",r.style.height=this.height+"px")},r},_containsPoint:function(e){var t=this.options.iconUrl;return t?this._pxBounds.contains(e):a.a.CircleMarker.prototype._containsPoint.call(this,e)}}),Om={_makeFeatureParts:function(e,t){t=t||{x:1,y:1};var n,r=e.geometry;this._parts=[];for(var i=0;i<r.length;i++){for(var s=r[i],o=[],l=0;l<s.length;l++)n=s[l],o.push(a.a.point(n).scaleBy(t));this._parts.push(o)}},makeInteractive:function(){this._pxBounds=this._getPixelBounds()}},km=a.a.Polyline.extend({includes:[Im.prototype,Om],initialize:function(e,t){Im.prototype.initialize.call(this,e),this._makeFeatureParts(e,t)},render:function(e,t){t.fill=!1,Im.prototype.render.call(this,e,t),this._updatePath()},updateStyle:function(e,t){t.fill=!1,Im.prototype.updateStyle.call(this,e,t)}}),Nm=a.a.Polygon.extend({includes:[Im.prototype,Om],initialize:function(e,t){Im.prototype.initialize.call(this,e),this._makeFeatureParts(e,t)},render:function(e,t){Im.prototype.render.call(this,e,t),this._updatePath()}}),Rm=n("7915"),Dm=n.n(Rm),Fm=n("740e"),Bm=a.a.Class.extend({initialize:function(e){this.url=e},getTile:function(){var e=this;return Be.get(e.url,null,{timeout:1e4}).then((function(e){return e.ok?e.blob().then((function(e){var t=new FileReader;return new Promise((function(n){t.addEventListener("loadend",(function(){var e=new Dm.a(t.result);return n(new Fm["VectorTile"](e))})),t.readAsArrayBuffer(e)}))})):{layers:[]}})).then((function(t){return e._processVectorTileSpec(t)}))},_processVectorTileSpec:function(e){var t=[];for(var n in e.layers){for(var r=[],i=0;i<e.layers[n].length;i++){var s=e.layers[n].feature(i);switch(s.geometry=s.loadGeometry(),s.layerName=n,s.properties={attributes:a.a.Util.extend({},s.properties),id:s.id},s.type){case 1:s.type=Pm.POINT;break;case 2:s.type=Pm.LINE;break;case 3:s.type=Pm.REGION;break;default:break}r.push(s)}var o={};o.features=r,o.layerName=n,o.extent=e.layers[n].extent,t.push(o)}return t}}),qm=a.a.Class.extend({initialize:function(e){this.url=e},getTile:function(){var e=this;return Be.get(e.url,null,{timeout:1e4}).then((function(e){return e.json()})).then((function(t){return e._processRecordSets(t,e)}))},_processRecordSets:function(e,t){var n=e.recordsets;if(n=t._convertToGeoJSON(n),!n)return null;for(var r=0;r<n.length;r++){for(var i=n[r],s=0;s<i.features.length;s++){var o=i.features[s];o=t._convertToVectorLayerFeature(o,t),o.layerName=i.layerName,i.features[s]=o}i.extent=256,delete i.fieldTypes,delete i.fields}return n},_convertToVectorLayerFeature:function(e,t){if(e.geometry){var n,r,i,s,o={},a=e.geometry,l=a.type,u=a.coordinates,c=e.properties,h=c.id;if("Point"===l)o=c&&c.texts?t._createFeature(h,Pm.TEXT,[u],c):t._createFeature(h,Pm.POINT,[u],c);else if("MultiPoint"===l)o=t._createFeature(h,Pm.POINT,u,c);else if("LineString"===l)o=t._createFeature(h,Pm.LINE,[u],c);else if("MultiLineString"===l||"Polygon"===l){for(i=[],n=0;n<u.length;n++)s=u[n],"Polygon"===l&&(s.outer=0===n),i.push(s);var p="Polygon"===l?Pm.REGION:Pm.LINE;o=t._createFeature(h,p,i,c)}else{if("MultiPolygon"!==l)throw new Error("Illegal GeoJSON object");for(i=[],n=0;n<u.length;n++)for(r=0;r<u[n].length;r++)s=u[n][r],s.outer=0===r,i.push(s);o=t._createFeature(h,Pm.REGION,i,c)}return o}},_convertToGeoJSON:function(e){if(e){for(var t=0;t<e.length;t++){for(var n=e[t],r=0;r<n.features.length;r++){for(var i=n.features[r],s=[],o=0,a=0;a<i.geometry.parts.length;a++){for(var l=2*i.geometry.parts[a],u=0,c=o;u<l;u+=2,c+=2){var h=i.geometry.points[c],p=i.geometry.points[c+1];s.push({x:h,y:p})}o+=l}i.geometry.points=s}n.features=$d(n.features).features}return e}},_createFeature:function(e,t,n,r){return{id:e,type:t,geometry:n,properties:r}}}),zm={JSON:"JSON",MVT:"MVT",PBF:"PBF"};a.a.supermap.VectorTileFormat=zm;var Um=a.a.Class.extend({initialize:function(e,t){this.layer=e.layer,this.tileSize=e.layer.getTileSize(),this.format=e.format,this.coords=e.coords,this.renderer=e.renderer,this.done=t,this.layer._textVectorTiles={}},renderTile:function(){var e,t=this,n=t.layer,r=t.coords,i=n._getTileUrl(r),s=[zm.MVT,zm.PBF];e=s.indexOf(t.format.toUpperCase())>-1?new Bm(i):new qm(i),e.getTile().then((function(e){t.render(e,r)}))},render:function(e,t){if(e){for(var n=this,r=n.renderer,i=n.layer,s=0;s<e.length;s++){var o=e[s],l=o.layerName;i._dataLayerNames[l]=!0;for(var u=n.tileSize.divideBy(o.extent),c=i.getLayerStyleInfo(o.layerName),h=0;h<o.features.length;h++){var p=o.features[h];if(p){c&&c.type===Pm.LABEL&&p.type===Pm.POINT&&p.properties.attributes&&(p.type=Pm.TEXT);var d=n._getStyleOptions(t,p,l,n);if(d.length){var f=n._createFeatureLayer(p,u);if(f){var m={scope:n,coords:t,renderer:r};if(!n._extractTextLayer(p,f,d,m)){for(var y=0;y<d.length;y++){var g=n._validateStyle(d[y],p.type);f.render(r,g),r._addPath(f)}i.options.interactive&&f.makeInteractive();var _=i._getFeatureKey(p.id,l);r._features[_]={layerName:l,feature:f}}}}}}}i._map&&r.addTo(i._map),a.a.Util.requestAnimFrame(n.done.bind(t,null,n.layer._vectorTiles[n.layer._tileCoordsToKey(t)]))}},_extractTextLayer:function(e,t,n,r){if(e.type!==Pm.TEXT)return!1;var i=r.scope,s=r.coords,o=i.layer,a=o._tileCoordsToKey(s),l=e.id,u=e.layerName,c=o._textVectorTiles[a];return c||(c={layers:{},coords:s,renderer:r.renderer}),c.layers[l]={layer:t,style:n,layerName:u},o._textVectorTiles[a]=c,!0},_getStyleOptions:function(e,t,n,r){var i=r,s=i.layer,o=s.getVectorTileLayerStyle(e,t)||i._defaultStyle(t.type),a=t.id,l=s._getFeatureKey(a,n),u=s._overriddenStyles[l];return o=u||o,o=o instanceof Function?o(t.properties,e.z):o,o=o instanceof Array?o:[o],o},_createFeatureLayer:function(e,t){var n;switch(e.type){case Pm.POINT:n=new Mm(e,t);break;case Pm.LINE:n=new km(e,t);break;case Pm.REGION:n=new Nm(e,t);break;case Pm.TEXT:n=new Lm(e,t);break;default:break}var r=this.layer;return n&&r.options.interactive&&n.addEventParent(r),n},_validateStyle:function(e,t){switch(a.a.Path.prototype.options.weight=1,a.a.Path.prototype.options.fillOpacity=1,t){case Pm.POINT:return a.a.extend({},a.a.CircleMarker.prototype.options,e);case Pm.LINE:return a.a.extend({},a.a.Polyline.prototype.options,e);case Pm.REGION:return a.a.extend({},a.a.Polygon.prototype.options,e);case Pm.TEXT:return a.a.extend({},Lm.prototype.options,e);default:break}},_defaultStyle:function(e){var t=a.a.Path.prototype.options;switch(t.weight=1,t.fillOpacity=1,t.radius=3,e){case Pm.POINT:return a.a.extend({},t,a.a.CircleMarker.prototype.options);case Pm.LINE:return a.a.extend({},t,a.a.Polyline.prototype.options);case Pm.REGION:return a.a.extend({},t,a.a.Polygon.prototype.options);case Pm.TEXT:return a.a.extend({},t,Lm.prototype.options);default:break}}}),Gm=a.a.GridLayer.extend({options:{vectorTileLayerStyles:null,renderer:"SVG",format:zm.JSON,interactive:!0,maxZoom:23},initialize:function(e){var t=this;a.a.setOptions(t,e),a.a.GridLayer.prototype.initialize.call(t,e),t._vectorTiles={},t._overriddenStyles={},t.vectorTileLayerStyles=t.options.vectorTileLayerStyles,t.on("tileunload",(function(e){var n=t._tileCoordsToKey(e.coords),r=t._vectorTiles[n];r&&t._map&&r.removeFrom(t._map),delete t._vectorTiles[n]}),t),t.on("tileerror ",t._renderText,t),t.on("load",t._renderText,t),t._dataLayerNames={}},createTile:function(e,t){var n=this,r=n.getTileSize(),i=null;return i="Canvas"===n.options.renderer?new Am(e,r,n.options):new Tm(e,r,n.options),n._vectorTiles[n._tileCoordsToKey(e)]=i,i._features={},new Um({layer:n,format:n.options.format,coords:e,renderer:i},t).renderTile(),i.getContainer()},getStyles:function(){return this.vectorTileLayerStyles},getStyle:function(e){return this.vectorTileLayerStyles&&this.vectorTileLayerStyles[e]},setFeatureStyle:function(e,t,n){var r=this._getFeatureKey(e,t);for(var i in this._overriddenStyles[r]=n,this._vectorTiles){var s=this._vectorTiles[i],o=s._features,a=o[r];if(a){var l=a.feature;this._updateStyles(l,s,n)}}return this},resetFeatureStyle:function(e,t){var n=this._getFeatureKey(e,t);for(var r in delete this._overriddenStyles[n],this._vectorTiles){var i=this._vectorTiles[r],s=i._features[n];if(s){var o=s.feature,a=this.vectorTileLayerStyles[s.layerName];this._updateStyles(o,i,a)}}return this},getDataLayerNames:function(){return Object.keys(this._dataLayerNames)},_removeAllTiles:function(){a.a.GridLayer.prototype._removeAllTiles.call(this),this._textVectorTiles={}},_renderText:function(){var e=this._textVectorTiles;for(var t in e){var n=e[t],r=n.renderer;for(var i in n.layers){for(var s=n.layers[i],o=s.style,a=s.layer,l=0;l<o.length;l++)a.render(r,o[l]),r._addPath(a);this.options.interactive&&a.makeInteractive()}}},_getFeatureKey:function(e,t){return e=e||0,t=t||"null",e+"_"+t},_updateStyles:function(e,t,n){n=n instanceof Function?n(e.properties,t.getCoord().z):n,n instanceof Array||(n=[n]);for(var r=0;r<n.length;r++){var i=this._extendStyle(n[r],e.type);e.updateStyle(t,i)}},_extendStyle:function(e,t){switch(t){case Pm.POINT:return a.a.extend({},a.a.CircleMarker.prototype.options,e);case Pm.LINE:return a.a.extend({},a.a.Polyline.prototype.options,e);case Pm.REGION:return a.a.extend({},a.a.Polygon.prototype.options,e);case Pm.TEXT:return a.a.extend({},Lm.prototype.options,e);default:break}}}),jm=Gm.extend({options:{serverType:null,crs:null,cartoCSS:null,layerNames:null,layersID:null,serverCartoCSSStyle:!0,processCharacters:!1,returnAttributes:!1,expands:null,cacheEnabled:!1,tileTemplate:null,subdomains:"abc",timeout:1e4,attribution:Gd.Common.attribution},initialize:function(e,t){t=t||{},t.noWrap=null==t.noWrap||t.noWrap,a.a.setOptions(this,t),Gm.prototype.initialize.call(this,t),a.a.stamp(this);var n=this;if(!e||e.indexOf("http")<0)return e="",this;n.url=e,e.indexOf("/")===e.length-1&&(e=e.substr(0,e.length-1),n.url=e),this.cartoCSSToLeaflet=new Tf(n.url),n.initLayersInfo(),!n.options.serverCartoCSSStyle&&n.options.cartoCSS&&n.setClientCartoCSS(n.options.cartoCSS)},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._map=e,this._initLayerUrl(),!this.options.tileTemplate&&this.options.serverCartoCSSStyle||this._initGrid()},initLayersInfo:function(){var e=this,t=te.urlPathAppend(e.url,"layers");Be.get(t,null,{timeout:e.options.timeout}).then((function(e){return e.json()})).then((function(t){if(e.layersInfoInitialized=!0,e.layersInfo=t,e.layersInfo){for(var n={},r=0,i=e.layersInfo.length;r<i;r++)for(var s=e.layersInfo[r].subLayers.layers,o=0,a=s.length;o<a;o++)s[o].layerIndex=a-o,n[s[o].name]=s[o];e.layersInfo=n,e.cartoCSSToLeaflet.layersInfo=n,e.options.serverCartoCSSStyle&&e.getVectorStylesFromServer()}})).catch((function(e){console.error("error",e)}))},getLayerStyleInfo:function(e){var t,n=this;if(n.layersStyles=n.layersStyles||{},t=n.layersStyles[e],t)return t;if(!n.layersInfo)return{};var r=n.layersInfo[e];if(!r)return null;switch(t={layerIndex:r.layerIndex,ugcLayerType:r.ugcLayerType},r.ugcLayerType){case"VECTOR":t.layerStyle=r.style?r.style:null;break;case"THEME":var i=r.theme;t.layerStyle=i?i.defaultStyle:null,i&&"LABEL"===i.type&&(t.type=i.type,t.textField=i.labelExpression);break;default:r.style&&(t.layerStyle=r.style);break}return n.layersStyles[e]=t,t},getVectorStylesFromServer:function(){var e=this,t=te.urlPathAppend(e.url,"tileFeature/vectorstyles");Be.get(t,null,{timeout:e.options.timeout}).then((function(e){return e.json()})).then((function(t){if(!t||!t.style)return null;t.style&&"cartoCSS"===t.type&&e.setServerCartoCSS(t.style),e.options&&e.setClientCartoCSS(e.options.cartoCSS),e._initGrid()})).catch((function(e){console.error("error",e)}))},setServerCartoCSS:function(e){this.cartoCSSToLeaflet.pretreatedCartoCSS(e,!0)},setClientCartoCSS:function(e){let t=!1;this.options.processCharacters&&(t=this.options.processCharacters),this.cartoCSSToLeaflet.pretreatedCartoCSS(e,t)},getVectorTileLayerStyle:function(e,t){if(!t)return null;var n=this,r=t.layerName,i=n.getLayerStyleInfo(r);if(i&&i.textField){var s=i.textField;if(s&&s.indexOf(".")){var o=s.split(".");s=o&&o.length>0&&o[o.length-1]}t.properties.textField=s}n.vectorTileLayerStyles=n.vectorTileLayerStyles||{};var a=n.vectorTileLayerStyles[r];if(a)return t=this._mergeFeatureTextField(t,a),a;var l=this.getScaleFromCoords(e),u=this.cartoCSSToLeaflet.pickShader(r)||[];for(var c in a=[],u)for(var h=u[c],p=0;p<h.length;p++){var d=this.cartoCSSToLeaflet.getValidStyleFromCarto(e.z,l,h[p],t,this.options.serverCartoCSSStyle);d&&a.push(d)}return t=this._mergeFeatureTextField(t,a),"TEXT"!==t.type&&0!==a.length||(a=this.cartoCSSToLeaflet.getValidStyleFromLayerInfo(t,i),"TEXT"===t.type&&(a.textName="["+t.properties.textField+"]")),n.vectorTileLayerStyles[r]=a,a},getScale:function(e){var t=this,n=e||t._map.getZoom();return t.scales[n]},getScaleFromCoords:function(e){var t,n=this;return n.scales&&n.scales[e.z]?n.scales[e.z]:(n.scales=n.scales||{},t=n.getDefaultScale(e),n.scales[e.z]=t,t)},getDefaultScale:function(e){var t=this,n=t._crs;if(n.scales)return n.scales[e.z];var r=t._tileCoordsToBounds(e),i=n.project(r.getNorthEast()),s=n.project(r.getSouthWest()),o=t.options.tileSize,a=Math.max(Math.abs(i.x-s.x)/o,Math.abs(i.y-s.y)/o),l=y.METER;if(n.code){var u=n.code.split(":");if(u&&u.length>1){var c=parseInt(u[1]);l=c&&c>=4e3&&c<=5e3?y.DEGREE:y.METER}}return nf(a,96,l)},_mergeFeatureTextField:function(e,t){if(!this.options.serverCartoCSSStyle||!t||"TEXT"!==e.type)return e;var n=t;a.a.Util.isArray(t)||(n=[t]);for(var r=0;r<n.length;r++){var i=n[r].textName;i&&e.properties&&(e.properties.textField=i.substring(1,i.length-1))}return e},_getTileUrl:function(e){var t=this,n=t.options.tileTemplate;return n?t._getTileTemplateUrl(e):t._getDefaultTileUrl(e)},_getTileTemplateUrl:function(e){var t=this,n=t.options.tileTemplate,r={s:t._getSubdomain(e),x:e.x,y:e.y,z:e.z};if(t._map&&!t._map.options.crs.infinite){var i=t._globalTileRange.max.y-e.y;t.options.tms&&(r["y"]=i),r["-y"]=i}var s=a.a.Util.template(n,a.a.extend(r,t.options));return s},_initGrid:function(){Gm.prototype.onAdd.call(this,this._map)},_getSubdomain:a.a.TileLayer.prototype._getSubdomain,_getDefaultTileUrl:function(e){var t=e.x,n=e.y,r=this._tileUrl+"&x="+t+"&y="+n,i=this.getScaleFromCoords(e);return r+="&scale="+i,r},_initLayerUrl:function(){var e=this.options;if(this.url){var t=e.format.toString().toLowerCase();this._tileUrl=te.urlPathAppend(this.url,"tileFeature."+t),this._tileUrl=te.urlAppend(this._tileUrl,encodeURI(this._createURLParam(e)))}},_createURLParam:function(e){var t=[],n=this._getCredential();if(n&&t.push(n),e.layersID&&t.push("layersID="+e.layersID),e.layerNames){a.a.Util.isArray(e.layerNames)||(e.layerNames=[e.layerNames]);var r="["+e.layerNames.join(",")+"]";t.push("layerNames="+r)}var i=this._crs;if(i.options&&i.options.origin)t.push("origin="+JSON.stringify({x:i.options.origin[0],y:i.options.origin[1]}));else if(i.projection&&i.projection.bounds){var s=i.projection.bounds,o=a.a.point(s.min.x,s.max.y);t.push("origin="+JSON.stringify({x:o.x,y:o.y}))}e.expands&&t.push("expands="+e.expands),t.push("returnAttributes="+e.returnAttributes),t.push("cacheEnabled="+e.cacheEnabled);var l=this.options.tileSize;return t.push("width="+l),t.push("height="+l),t.join("&")},_getCredential:function(e){var t,n;switch(this.options.serverType){case h.IPORTAL:n=qe.getToken(e),t=n?new ye(n,"token"):null,t||(n=qe.getKey(e),t=n?new ye(n,"key"):null);break;case h.ONLINE:n=qe.getKey(e),t=n?new ye(n,"key"):null;break;default:n=qe.getToken(e),t=n?new ye(n,"token"):null;break}return t?t.getUrlParameters():null}}),Vm=function(e,t){return new jm(e,t)};a.a.supermap.tiledVectorLayer=Vm;var Wm=n("595b"),Hm=a.a.GeoJSON.extend({turfMap:{"Measurement.along":["line","distance","units"],"Measurement.area":["geojson"],"Measurement.bbox":["geojson"],"Measurement.bboxPolygon":["bbox"],"Measurement.bearing":["start","end","final"],"Measurement.center":["geojson","properties"],"Measurement.centerOfMass":["geojson","properties"],"Measurement.centroid":["geojson","properties"],"Measurement.destination":["origin","distance","bearing","units"],"Measurement.distance":["from","to","units"],"Measurement.envelope":["geojson"],"Measurement.length":["geojson","units"],"Measurement.midpoint":["point1","point2"],"Measurement.pointOnFeature":["geojson"],"Measurement.polygonTangents":["point","polygon"],"Measurement.rhumbBearing":["start","end","final"],"Measurement.rhumbDestination":["origin","distance","bearing","units"],"Measurement.rhumbDistance":["from","to","units"],"Measurement.square":["bbox"],"Measurement.greatCircle":["start","end","properties","npoints","offset"],"CoordinateMutation.cleanCoords":["geojson","mutate"],"CoordinateMutation.flip":["geojson","mutate"],"CoordinateMutation.rewind":["geojson","reverse","mutate"],"CoordinateMutation.round":["num","precision"],"CoordinateMutation.truncate":["geojson","precision","coordinates","mutate"],"Transformation.bboxClip":["feature","bbox"],"Transformation.bezierSpline":["line","resolution","sharpness"],"Transformation.buffer":["geojson","radius","units","steps"],"Transformation.circle":["center","radius","steps","units","properties"],"Transformation.clone":["geojson"],"Transformation.concave":["points","maxEdge","units"],"Transformation.convex":["geojson","concavity"],"Transformation.difference":["polygon1","polygon2"],"Transformation.dissolve":["featureCollection","propertyName"],"Transformation.intersect":["poly1","poly2"],"Transformation.lineOffset":["geojson","distance","units"],"Transformation.simplify":["feature","tolerance","highQuality"],"Transformation.tesselate":["poly"],"Transformation.transformRotate":["geojson","angle","pivot","mutate"],"Transformation.transformTranslate":["geojson","distance","direction","units","zTranslation","mutate"],"Transformation.transformScale":["geojson","factor","origin","mutate"],"Transformation.union":["A"],"Transformation.voronoi":["points","bbox"],"featureConversion.combine":["fc"],"featureConversion.explode":["geojson"],"featureConversion.flatten":["geojson"],"featureConversion.lineStringToPolygon":["lines","properties","autoComplete","orderCoords"],"featureConversion.polygonize":["geojson"],"featureConversion.polygonToLineString":["polygon","properties"],"Misc.kinks":["featureIn"],"Misc.lineArc":["center","radius","bearing1","bearing2","steps","units"],"Misc.lineChunk":["geojson","segmentLength","units","reverse"],"Misc.lineIntersect":["line1","line2"],"Misc.lineOverlap":["line1","line2"],"Misc.lineSegment":["geojson"],"Misc.lineSlice":["startPt","stopPt","line"],"Misc.lineSliceAlong":["line","startDist","stopDist","units"],"Misc.lineSplit":["line","splitter"],"Misc.mask":["polygon","mask"],"Misc.pointOnLine":["lines","pt","units"],"Misc.sector":["center","radius","bearing1","bearing2","steps","units"],"Misc.shortestPath":["start","end","obstacles","units","resolution"],"Misc.unkinkPolygon":["geojson"],"Helper.featureCollection":["features","bbox","id"],"Helper.feature":["geometry","properties","bbox","id"],"Helper.geometryCollection":["geometries","properties","bbox","id"],"Helper.lineString":["coordinates","properties","bbox","id"],"Helper.multiLineString":["coordinates","properties","bbox","id"],"Helper.multiPoint":["coordinates","properties","bbox","id"],"Helper.multiPolygon":["coordinates","properties","bbox","id"],"Helper.point":["coordinates","properties","bbox","id"],"Helper.polygon":["coordinates","properties","bbox","id"],"Data.sample":["featurecollection","num"],"Interpolation.interpolate":["points","cellSize","gridType","property","units","weight"],"Interpolation.isobands":["pointGrid","breaks","zProperty","commonProperties","breaksProperties"],"Interpolation.isolines":["pointGrid","breaks","zProperty","commonProperties","breaksProperties"],"Interpolation.planepoint":["point","triangle"],"Interpolation.tin":["points","z"],"Joins.pointsWithinPolygon":["points","polygons"],"Joins.tag":["points","polygons","field","outField","mask","properties"],"Grids.hexGrid":["bbox","cellSide","units","triangles"],"Grids.pointGrid":["bbox","cellSide","units","mask","properties"],"Grids.squareGrid":["bbox","cellSide","units","mask","properties"],"Grids.triangleGrid":["bbox","cellSide","units","mask","properties"],"Classification.nearestPoint":["targetPoint","points"],"Aggregation.collect":["polygons","points","inProperty","outProperty"],"Aggregation.clustersDbscan":["points","maxDistance","units","minPoints","mutate"],"Aggregation.clustersKmeans":["points","numberOfClusters","mutate"],"Meta.coordAll":["geojson"],"Meta.coordEach":["geojson","callback","excludeWrapCoord"],"Meta.coordReduce":["geojson","callback","initialValue","excludeWrapCoord"],"Meta.featureEach":["geojson","callback"],"Meta.featureReduce":["geojson","callback","initialValue"],"Meta.flattenEach":["geojson","callback"],"Meta.flattenReduce":["geojson","callback","initialValue"],"Meta.getCoord":["coord"],"Meta.getCoords":["coords"],"Meta.getGeom":["geojson"],"Meta.getGeomType":["geojson","name"],"Meta.geomEach":["geojson","callback"],"Meta.geomReduce":["geojson","callback","initialValue"],"Meta.propEach":["geojson","callback"],"Meta.propReduce":["geojson","callback","initialValue"],"Meta.segmentEach":["geojson","callback"],"Meta.segmentReduce":["geojson","callback","initialValue"],"Meta.getCluster":["geojson","filter"],"Meta.clusterEach":["geojson","property","callback"],"Meta.clusterReduce":["geojson","property","callback","initialValue"],"Assertions.collectionOf":["featureCollection","type","name"],"Assertions.containsNumber":["coordinates"],"Assertions.geojsonType":["value","type","name"],"Assertions.featureOf":["feature","type","name"],"Booleans.booleanClockwise":["line"],"Booleans.booleanContains":["feature1","feature2"],"Booleans.booleanCrosses":["feature1","feature2"],"Booleans.booleanDisjoint":["feature1","feature2"],"Booleans.booleanEqual":["feature1","feature2"],"Booleans.booleanOverlap":["feature1","feature2"],"Booleans.booleanParallel":["feature1","feature2"],"Booleans.booleanPointInPolygon":["point","polygon","ignoreBoundary"],"Booleans.booleanPointOnLine":["point","linestring","ignoreEndVertices"],"UnitConversion.bearingToAngle":["bearing"],"UnitConversion.convertArea":["area","originalUnit","finalUnit"],"UnitConversion.convertLength":["length","originalUnit","finalUnit"],"UnitConversion.degreesToradians":["degrees"],"UnitConversion.lengthToRadians":["distance","units"],"UnitConversion.lengthToDegrees":["distance","units"],"UnitConversion.radiansToLength":["radians","units"],"UnitConversion.radiansToDegrees":["radians"],"UnitConversion.toMercator":["geojson","mutate"],"UnitConversion.toWgs84":["geojson","mutate"]},options:{attribution:Gd.Turf.attribution},initialize:function(e){e=e||{},a.a.Util.setOptions(this,e),a.a.stamp(this),this._layers={}},turfOptionMap:{"Measurement.along":["line","distance",{units:""}],"Measurement.bboxPolygon":["bbox",{properties:"",id:""}],"Measurement.bearing":["start","end",{final:""}],"Measurement.center":["geojson",{properties:""}],"Measurement.destination":["origin","distance","bearing",{units:"",properties:""}],"Measurement.distance":["from","to",{units:""}],"Measurement.length":["geojson",{units:""}],"Measurement.rhumbBearing":["start","end",{final:""}],"Measurement.rhumbDestination":["origin","distance","bearing",{units:"",properties:""}],"Measurement.rhumbDistance":["from","to",{units:""}],"Measurement.greatCircle":["start","end",{properties:"",npoints:"",offset:""}],"CoordinateMutation.cleanCoords":["geojson",{mutate:""}],"CoordinateMutation.flip":["geojson",{mutate:""}],"CoordinateMutation.rewind":["geojson",{mutate:"",reverse:""}],"CoordinateMutation.truncate":["geojson",{precision:"",coordinates:"",mutate:""}],"Transformation.bezierSpline":["line",{resolution:"",sharpness:""}],"Transformation.buffer":["geojson","radius",{units:"",steps:""}],"Transformation.circle":["center","radius",{units:"",steps:"",properties:""}],"Transformation.concave":["points",{maxEdge:"",units:""}],"Transformation.convex":["geojson",{concavity:""}],"Transformation.dissolve":["featureCollection",{propertyName:""}],"Transformation.lineOffset":["geojson","distance",{units:""}],"Transformation.simplify":["geojson",{tolerance:"",highQuality:""}],"Transformation.transformRotate":["geojson","angle",{pivot:"",mutate:""}],"Transformation.transformTranslate":["geojson","distance","direction",{units:"",zTranslation:"",mutate:""}],"Transformation.transformScale":["geojson","factor",{origin:"",mutate:""}],"Transformation.voronoi":["points",{bbox:""}],"featureConversion.lineStringToPolygon":["lines",{properties:"",autoComplete:"",orderCoords:""}],"featureConversion.polygonToLineString":["polygon",{properties:""}],"Misc.lineArc":["center","radius","bearing1","bearing2",{steps:"",units:""}],"Misc.lineChunk":["geojson","segmentLength",{units:"",reverse:""}],"Misc.lineOverlap":["line1","line2",{tolerance:""}],"Misc.lineSliceAlong":["line","startDist","stopDist",{units:""}],"Misc.pointOnLine":["lines","pt",{units:""}],"Misc.sector":["center","radius","bearing1","bearing2",{units:"",steps:"",properties:""}],"Misc.shortestPath":["start","end",{obstacles:"",units:"",resolution:""}],"Helper.feature":["geometry","properties",{bbox:"",id:""}],"Helper.geometryCollection":["geometries","properties",{bbox:"",id:""}],"Helper.lineString":["coordinates","properties",{bbox:"",id:""}],"Helper.multiLineString":["coordinates","properties",{bbox:"",id:""}],"Helper.multiPoint":["coordinates","properties",{bbox:"",id:""}],"Helper.multiPolygon":["coordinates","properties",{bbox:"",id:""}],"Helper.point":["coordinates","properties",{bbox:"",id:""}],"Helper.polygon":["coordinates","properties",{bbox:"",id:""}],"Interpolation.interpolate":["points","cellSize",{gridType:"",property:"",units:"",weight:""}],"Interpolation.isobands":["pointGrid","breaks",{zProperty:"",commonProperties:"",breaksProperties:""}],"Interpolation.isolines":["pointGrid","breaks",{zProperty:"",commonProperties:"",breaksProperties:""}],"Grids.hexGrid":["bbox","cellSide",{units:"",triangles:"",properties:"",mask:""}],"Grids.pointGrid":["bbox","cellSide",{units:"",mask:"",properties:""}],"Grids.squareGrid":["bbox","cellSide",{units:"",mask:"",properties:""}],"Grids.triangleGrid":["bbox","cellSide",{units:"",mask:"",properties:""}],"Aggregation.clustersDbscan":["points","maxDistance",{units:"",minPoints:"",mutate:""}],"Aggregation.clustersKmeans":["points",{numberOfClusters:"",mutate:""}],"Booleans.booleanPointInPolygon":["point","polygon",{ignoreBoundary:""}],"Booleans.booleanPointOnLine":["point","linestring",{ignoreEndVertices:""}],"UnitConversion.toMercator":["geojson",{mutate:""}],"UnitConversion.toWgs84":["geojson",{mutate:""}]},process:function(e,t,n,r){var i;try{i=Wm[e.split(".")[1]].apply(this,this.parse(e,t))}catch(s){i=Wm[e.split(".")[1]].apply(this,this.parseOption(e,t))}r=null==r||r,r&&this.addData([i]),n&&n(i)},parse:function(e,t){if("Transformation.union"===e)return t["A"];var n=[],r=this.turfMap[e];return r&&r.map((function(e){return n.push(t[e]),t[e]})),n},parseOption(e,t){var n=[],r=this.turfOptionMap[e];return r.map((function(e){if(e instanceof Object){var r=e;Object.keys(r).forEach((function(e){r[e]=t[e]})),n.push(r)}else n.push(t[e]);return t})),n}}),Jm=function(e){return new Hm(e)};a.a.supermap.turfLayer=Jm;var Xm=a.a.Class.extend({initialize:function(e,t){this.geometry=e,this.attributes=t},toFeature:function(){var e=this.geometry,t=[];if(e instanceof a.a.LatLng)t=[e.lng,e.lat];else if(e instanceof a.a.Point)t=[e.x,e.y];else if(e instanceof a.a.CircleMarker){var n=e.getLatLng();t=[n.lng,n.lat]}else t=e;return 2===t.length&&(e=new le(t[0],t[1])),new be(e,this.attributes)}}),Zm=function(e,t){return new Xm(e,t)};a.a.supermap.heatMapFeature=Zm;var Ym=a.a.Layer.extend({options:{alwaysMapCRS:!1,id:te.createUniqueID("heatMapLayer_"),featureWeight:null,opacity:1,colors:["blue","cyan","lime","yellow","red"],useGeoUnit:!1,radius:50,attribution:Gd.Common.attribution},initialize:function(e,t){a.a.Util.setOptions(this,t),this.name=e,this.features=[],this.maxWeight=null,this.minWeight=null,this.rootCanvas=null,this.canvasContext=null,this.maxWidth=null,this.maxHeight=null,this.id=this.options.id,this.featureWeight=this.options.featureWeight,this.colors=this.options.colors,this.useGeoUnit=this.options.useGeoUnit,this.opacity=this.options.opacity,this.radius=this.options.radius,this.blur=this.options.blur,this.movingOffset=[0,0]},onRemove:function(e){var t=this;a.a.DomUtil.remove(t.rootCanvas),e.off("mousemove",t.mouseMoveHandler)},onAdd:function(e){var t=this;if(t._map=e,t._createCanvasContainer(),t.rootCanvas){var n=e.getSize();t.rootCanvas.width=t.maxWidth=n.x,t.rootCanvas.height=t.maxHeight=n.y,t._updateOpacity(),t.mouseMoveHandler=function(e){var n=e.layerPoint;t.currentMousePosition=a.a.point(n.x+t.movingOffset[0],n.y+t.movingOffset[1])},e.on("mousemove",t.mouseMoveHandler),t.update()}else e.removeLayer(t)},addFeatures:function(e){this.features=this.toiClientFeature(e),this.refresh()},refresh:function(){if(0!==this.features.length&&this._map){var e=this._map.getBounds();this.updateHeatPoints(e)}},updateHeatPoints:function(e){this.features&&this.features.length>0?this.convertFastToPixelPoints(e):this.canvasContext.clearRect(0,0,this.maxWidth,this.maxWidth)},convertFastToPixelPoints:function(e){var t,n,r,i,s,o,a,l=[],u=e.getEast()-e.getWest(),c=e.getNorth()-e.getSouth(),h=this._map.getSize();i=u/h.x>c/h.y?u/h.x:c/h.y,this.useRadius=this.useGeoUnit?parseInt(this.radius/i):this.radius;for(var p=0;p<this.features.length;p++){var d=this.features[p],f=d.geometry,m=this.getLocalXY(new ne(f.x,f.y));this.featureWeight?(m.weight=d.attributes[this.featureWeight],this.maxWeight||(s=s||m.weight,o=o||m.weight,s=Math.max(s,m.weight),o=Math.min(o,m.weight))):m.weight=1,t=Math.floor(m[0]),n=Math.floor(m[1]),r=m.weight,l.push([t,n,r])}this.maxWeight?this.draw(l,this.maxWeight):(a=s&&o?(s+o)/2:1,this.draw(l,a))},draw:function(e,t){if(!(this.maxHeight>0&&this.maxWidth>0))return!1;var n=this.canvasContext;this.canvasContext.clearRect(0,0,this.maxWidth,this.maxHeight),this.drawCircle(this.useRadius),this.createGradient();for(var r=0;r<e.length;r++){var i=e[r];this.canvasContext.globalAlpha=Math.max(i[2]/t,.05),this.canvasContext.drawImage(this.circle,i[0]-this.useRadius,i[1]-this.useRadius)}var s=n.getImageData(0,0,this.maxWidth,this.maxHeight);this.colorize(s.data,this.grad),n.putImageData(s,0,0)},colorize:function(e,t){for(var n,r=0;r<e.length;r+=4)n=4*e[r+3],n&&(e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2])},drawCircle:function(e){var t=this.blur||e/2,n=this.circle=document.createElement("canvas"),r=n.getContext("2d");n.height=2*e,n.width=2*e,r.shadowOffsetX=r.shadowOffsetY=2*e,r.shadowBlur=t,r.shadowColor="#000000",r.beginPath(),r.arc(-e,-e,e/2,0,2*Math.PI,!0),r.closePath(),r.fill()},createGradient:function(){var e=this.colors,t=document.createElement("canvas"),n=t.getContext("2d"),r=n.createLinearGradient(0,0,0,256);t.height=256,t.width=1;for(var i=1,s=0,o=e.length;s<o;s++)r.addColorStop(i/o,e[s]),i++;n.fillStyle=r,n.fillRect(0,0,1,256),this.grad=n.getImageData(0,0,1,256).data},update:function(){var e=this._map.containerPointToLayerPoint([0,0]);a.a.DomUtil.setPosition(this.rootCanvas,e);var t=this;t.refresh(),t.currentMousePosition&&(t.currentMousePosition=a.a.point(t.currentMousePosition.x-t.movingOffset[0],t.currentMousePosition.y-t.movingOffset[1])),t.movingOffset=[0,0],t._zoom=t._map.getZoom(),t._center=t._map.getCenter()},getLocalXY:function(e){if(!this._map)return e;var t=e;a.a.Util.isArray(e)&&(t=a.a.point(e[0],e[1])),e instanceof a.a.Point||(t=e instanceof le||e instanceof ce?a.a.point(e.x,e.y):a.a.point(e.lon,e.lat));var n=this._map.latLngToContainerPoint(this.options.alwaysMapCRS?this._map.options.crs.unproject(t):a.a.latLng(t.y,t.x));return[n.x,n.y]},setOpacity:function(e){var t=this;e!==t.options.opacity&&(e&&(t.options.opacity=e),t._updateOpacity())},removeFeatures:function(e){if(e&&0!==e.length&&this.features&&0!==this.features.length){if(e===this.features)return this.removeAllFeatures();te.isArray(e)||(e=[e]);for(var t,n,r=[],i=0,s=e.length;i<s;i++)t=e[i],n=te.indexOf(this.features,t),-1!==n?this.features.splice(n,1):r.push(t);var o=0==r.length;this._map.fire("featuresremoved",{features:r,succeed:o}),this.refresh()}},removeAllFeatures:function(){this.features=[],this.refresh()},_createCanvasContainer:function(){var e=this.getPane(),t=this._map.options.zoomAnimation&&a.a.Browser.any3d,n="heatMapLayer leaflet-layer leaflet-zoom-"+(t?"animated":"hide");this.rootCanvas=a.a.DomUtil.create("canvas",n,e);var r=a.a.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);this.rootCanvas.id=this.id,this.rootCanvas.style[r]="50% 50%",this.rootCanvas.style.position="absolute",this.rootCanvas.style.zIndex=200,te.modifyDOMElement(this.rootCanvas,null,null,null,null,null,null,this.opacity),this.canvasContext=this.rootCanvas.getContext("2d")},_updateOpacity:function(){var e=this;te.modifyDOMElement(e.rootCanvas,null,null,null,null,null,null,e.options.opacity),null!==e._map&&e._map.fire("changelayer",{layer:e,property:"opacity"})},getEvents:function(){var e=this,t={zoomend:e._reset,moveend:e._reset,resize:e._resize};return this._map._zoomAnimated&&(t.zoomanim=e._zoomAnim),t},toiClientFeature:function(e){a.a.Util.isArray(e)||(e=[e]);let t=[];for(let n=0,r=e.length;n<r;n++)if(e[n]instanceof Xm)t.push(e[n].toFeature());else if(-1!=["FeatureCollection","Feature","Geometry"].indexOf(e[n].type)){const r=new Pe;t=t.concat(r.read(e[n]))}else{if(!e[n].geometry||!e[n].geometry.parts)throw new Error("Features's type does not match, please check.");t.push(fi.fromJson(e[n]).toFeature())}return t},_zoomAnim:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this._map._getMapPanePos());a.a.DomUtil.setTransform?a.a.DomUtil.setTransform(this.rootCanvas,n,t):this.rootCanvas.style[a.a.DomUtil.TRANSFORM]=a.a.DomUtil.getTranslateString(n)+" scale("+t+")"},_reset:function(){var e=this;e.update();var t=e._map.getSize(),n=this._map.containerPointToLayerPoint([0,0]);a.a.DomUtil.setPosition(this.rootCanvas,n),parseFloat(e.rootCanvas.width)!==parseFloat(t.x)&&(e.rootCanvas.width=t.x),parseFloat(e.rootCanvas.height)!==parseFloat(t.y)&&(e.rootCanvas.height=t.y),e.refresh()},_resize:function(){var e=this,t=e._map.getSize();e.maxWidth=t.x,e.maxHeight=t.y}}),Km=function(e,t){return new Ym(e,t)};a.a.supermap.heatMapLayer=Km;var Qm=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},code:function(e,t){var n=this,r=new ot(this.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.code(te.urlPathAppend(n.url,"geocoding"),e)},decode:function(e,t){var n=this,r=new ot(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.decode(te.urlPathAppend(n.url,"geodecoding"),e)}}),$m=function(e,t){return new Qm(e,t)};a.a.supermap.addressMatchService=$m;var ey=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},queryChart:function(e,t,n){var r=this,i=r._processParams(e),s=r._processFormat(n),o=new Rt(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:s});o.processAsync(i)},getChartFeatureInfo:function(e){var t=this,n=t.url.concat();n=te.urlPathAppend(n,"chartFeatureInfoSpecs");var r=new Mt(n,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{scope:t,processCompleted:e,processFailed:e}});r.processAsync()},_processParams:function(e){if(!e)return{};e.returnContent=null==e.returnContent||e.returnContent,e.chartQueryFilterParameters&&!a.a.Util.isArray(e.chartQueryFilterParameters)&&(e.chartQueryFilterParameters=[e.chartQueryFilterParameters]),e.bounds&&(e.bounds=Kd.toSuperMapBounds(e.bounds))},_processFormat:function(e){return e||c.GEOJSON}}),ty=function(e,t){return new ey(e,t)};a.a.supermap.chartService=ty;var ny=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},getFields:function(e,t){var n=this,r=new $n(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t},datasource:e.datasource,dataset:e.dataset});r.processAsync()},getFieldStatisticsInfo:function(e,t){if(e instanceof gn){var n=this,r=e.fieldName,i=e.statisticMode;i&&!a.a.Util.isArray(i)&&(i=[i]),n.currentStatisticResult={fieldName:r},n._statisticsCallback=t,i.forEach(t=>{n.currentStatisticResult[t]=null,n._fieldStatisticRequest(e.datasource,e.dataset,r,t)})}},_fieldStatisticRequest:function(e,t,n,r){var i=this,s=new _n(i.url,{eventListeners:{scope:i,processCompleted:i._processCompleted,processFailed:i._statisticsCallback},datasource:e,dataset:t,field:n,statisticMode:r,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers});s.processAsync()},_processCompleted:function(e){var t=this,n=!0,r=e.result;for(var i in this.currentStatisticResult&&null==t.currentStatisticResult[r.mode]&&(this.currentStatisticResult[r.mode]=r.result),t.currentStatisticResult)if(null==t.currentStatisticResult[i]){n=!1;break}n&&t._statisticsCallback({result:t.currentStatisticResult})}}),ry=function(e,t){return new ny(e,t)};a.a.supermap.fieldService=ry;var iy=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},getGridCellInfos:function(e,t){if(e instanceof er){var n=this,r=new tr(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(e)}}}),sy=function(e,t){return new iy(e,t)};a.a.supermap.gridCellInfosService=sy;const oy=Vd.extend({initialize:function(e,t){t=t||{},a.a.setOptions(this,t),Vd.prototype.initialize.call(this,e,t),this.headers={},this.crossOrigin=!0,this.withCredentials=!0,this.proxy=!0},getTools:function(e){const t=new Bn(this.url,{proxy:this.options.proxy,withCredentials:this.options.withCredentials,crossOrigin:this.options.crossOrigin,headers:this.options.headers,serverType:this.options.serverType,eventListeners:{scope:this,processCompleted:e,processFailed:e}});t.getTools()},getTool:function(e,t){const n=new Bn(this.url,{proxy:this.options.proxy,withCredentials:this.options.withCredentials,crossOrigin:this.options.crossOrigin,headers:this.options.headers,serverType:this.options.serverType,eventListeners:{scope:this,processCompleted:t,processFailed:t}});n.getTool(e)},execute:function(e,t,n,r){const i=new Bn(this.url,{proxy:this.options.proxy,withCredentials:this.options.withCredentials,crossOrigin:this.options.crossOrigin,headers:this.options.headers,serverType:this.options.serverType,eventListeners:{scope:this,processCompleted:r,processFailed:r}});i.execute(e,t,n)},submitJob:function(e,t,n,r){const i=new Bn(this.url,{proxy:this.options.proxy,withCredentials:this.options.withCredentials,crossOrigin:this.options.crossOrigin,headers:this.options.headers,serverType:this.options.serverType,eventListeners:{scope:this,processCompleted:r,processFailed:r}});i.submitJob(e,t,n)},waitForJobCompletion:function(e,t,n,r){const i=new Bn(this.url,{proxy:this.options.proxy,withCredentials:this.options.withCredentials,crossOrigin:this.options.crossOrigin,headers:this.options.headers,serverType:this.options.serverType,eventListeners:{scope:this,processCompleted:r,processFailed:r}});i.waitForJobCompletion(e,t,n)},getJobInfo:function(e,t,n){const r=new Bn(this.url,{proxy:this.options.proxy,withCredentials:this.options.withCredentials,crossOrigin:this.options.crossOrigin,headers:this.options.headers,serverType:this.options.serverType,eventListeners:{scope:this,processCompleted:n,processFailed:n}});r.getJobInfo(e,t)},cancelJob:function(e,t,n){const r=new Bn(this.url,{proxy:this.options.proxy,withCredentials:this.options.withCredentials,crossOrigin:this.options.crossOrigin,headers:this.options.headers,serverType:this.options.serverType,eventListeners:{scope:this,processCompleted:n,processFailed:n}});r.cancelJob(e,t)},getJobs:function(e,t){const n=new Bn(this.url,{proxy:this.options.proxy,withCredentials:this.options.withCredentials,crossOrigin:this.options.crossOrigin,headers:this.options.headers,serverType:this.options.serverType,eventListeners:{scope:this,processCompleted:t,processFailed:t}});n.getJobs(e)},getResults:function(e,t,n,r){const i=new Bn(this.url,{proxy:this.options.proxy,withCredentials:this.options.withCredentials,crossOrigin:this.options.crossOrigin,headers:this.options.headers,serverType:this.options.serverType,eventListeners:{scope:this,processCompleted:r,processFailed:r}});i.getResults(e,t,n)}}),ay=function(e,t){return new oy(e,t)};a.a.supermap.geoprocessingService=ay;var ly=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},getLayersInfo:function(e){var t=this,n=new kr(t.url,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{processCompleted:e,processFailed:e}});n.processAsync()},setLayerInfo:function(e,t){if(e instanceof mi){var n=this,r=e.resourceID,i=e.tempLayerName,s=e.layerInfo;if(r&&i){var o=te.urlPathAppend(n.url,`tempLayersSet/${r}/${i}`),a=new yi(o,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t}});a.processAsync(s)}}},setLayersInfo:function(e,t){if(e instanceof gi){var n=this,r=e.resourceID,i=!!e.isTempLayers&&e.isTempLayers,s=e.layersInfo;if((!i||r)&&s){var o=new _i(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t},resourceID:r,isTempLayers:i});o.processAsync(s)}}},setLayerStatus:function(e,t){if(e instanceof vi){var n=this,r=new bi(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{processCompleted:t,processFailed:t}});r.processAsync(e)}}}),uy=function(e,t){return new ly(e,t)};a.a.supermap.layerInfoService=uy;var cy=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},measureDistance:function(e,t){return this.measure(m.DISTANCE,e,t),this},measureArea:function(e,t){return this.measure(m.AREA,e,t),this},measure:function(e,t,n){if(t instanceof Yr){var r=this;t.geometry&&(t.geometry=ef(t.geometry));var i=new Kr(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,measureMode:e,eventListeners:{scope:r,processCompleted:n,processFailed:n}});i.processAsync(t)}}}),hy=function(e,t){return new cy(e,t)};a.a.supermap.measureService=hy;var py=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},sinksFacilityAnalyst:function(e,t){var n=this,r=new rn(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(e)},sourcesFacilityAnalyst:function(e,t){var n=this,r=new on(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(e)},traceUpFacilityAnalyst:function(e,t){var n=this,r=new pn(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(e)},traceDownFacilityAnalyst:function(e,t){var n=this,r=new cn(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(e)},upstreamFacilityAnalyst:function(e,t){var n=this,r=new fn(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(e)}}),dy=function(e,t){return new py(e,t)};a.a.supermap.networkAnalyst3DService=dy;var fy=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},burstPipelineAnalyst:function(e,t){var n=this,r=new Lt(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(n._processParams(e))},computeWeightMatrix:function(e,t){var n=this,r=new Ut(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(n._processParams(e))},findClosestFacilities:function(e,t,n){var r=this,i=new bn(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},streamFacilityAnalyst:function(e,t,n){var r=this,i=new ln(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},findLocation:function(e,t,n){var r=this,i=new wn(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},findPath:function(e,t,n){var r=this,i=new Tn(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},findTSPPaths:function(e,t,n){var r=this,i=new Ln(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},findMTSPPaths:function(e,t,n){var r=this,i=new Cn(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},findServiceAreas:function(e,t,n){var r=this,i=new Pn(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},updateEdgeWeight:function(e,t){var n=this,r=new $i(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(e)},updateTurnNodeWeight:function(e,t){var n=this,r=new ts(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(e)},_processParams:function(e){if(!e)return{};if(e.centers&&a.a.Util.isArray(e.centers)&&e.centers.map((function(t,n){return e.centers[n]=t instanceof a.a.LatLng?{x:t.lng,y:t.lat}:t,e.centers[n]})),e.nodes&&a.a.Util.isArray(e.nodes)&&e.nodes.map((function(t,n){return e.nodes[n]=t instanceof a.a.LatLng?{x:t.lng,y:t.lat}:t,e.nodes[n]})),e.event&&e.event instanceof a.a.LatLng&&(e.event={x:e.event.lng,y:e.event.lat}),e.facilities&&a.a.Util.isArray(e.facilities)&&e.facilities.map((function(t,n){return e.facilities[n]=t instanceof a.a.LatLng?{x:t.lng,y:t.lat}:t,e.facilities[n]})),e.parameter&&e.parameter.barrierPoints){var t=e.parameter.barrierPoints;a.a.Util.isArray(t)?t.map((function(t,n){return e.parameter.barrierPoints[n]=t instanceof a.a.LatLng?{x:t.lng,y:t.lat}:t,e.parameter.barrierPoints[n]})):e.parameter.barrierPoints=[t instanceof a.a.LatLng?{x:t.lng,y:t.lat}:t]}return e},_processFormat:function(e){return e||c.GEOJSON}}),my=function(e,t){return new fy(e,t)};a.a.supermap.networkAnalystService=my;var yy=Vd.extend({initialize:function(e,t){t=t||{},a.a.setOptions(this,t),Vd.prototype.initialize.call(this,e,t),this.kernelDensityJobs={},this.summaryMeshJobs={},this.queryJobs={},this.summaryRegionJobs={},this.vectorClipJobs={},this.overlayGeoJobs={},this.buffersJobs={},this.topologyValidatorJobs={},this.summaryAttributesJobs={}},getKernelDensityJobs:function(e,t){var n=this,r=n._processFormat(t),i=new Ur(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r});i.getKernelDensityJobs()},getKernelDensityJob:function(e,t,n){var r=this,i=r._processFormat(n),s=new Ur(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i});s.getKernelDensityJob(e)},addKernelDensityJob:function(e,t,n,r){var i=this,s=i._processParams(e),o=i._processFormat(r),a=new Ur(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.kernelDensityJobs[e.id]=e.state}},format:o});a.addKernelDensityJob(s,n)},getKernelDensityJobState:function(e){return this.kernelDensityJobs[e]},getSummaryMeshJobs:function(e,t){var n=this,r=n._processFormat(t),i=new Pi(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r});i.getSummaryMeshJobs()},getSummaryMeshJob:function(e,t,n){var r=this,i=r._processFormat(n),s=new Pi(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i});s.getSummaryMeshJob(e)},addSummaryMeshJob:function(e,t,n,r){var i=this,s=i._processParams(e),o=i._processFormat(r),a=new Pi(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.summaryMeshJobs[e.id]=e.state}},format:o});a.addSummaryMeshJob(s,n)},getSummaryMeshJobState:function(e){return this.summaryMeshJobs[e]},getQueryJobs:function(e,t){var n=this,r=n._processFormat(t),i=new wi(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r});i.getQueryJobs()},getQueryJob:function(e,t,n){var r=this,i=r._processFormat(n),s=new wi(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i});s.getQueryJob(e)},addQueryJob:function(e,t,n,r){var i=this,s=i._processParams(e),o=i._processFormat(r),a=new wi(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.queryJobs[e.id]=e.state}},format:o});a.addQueryJob(s,n)},getQueryJobState:function(e){return this.queryJobs[e]},getSummaryRegionJobs:function(e,t){var n=this,r=n._processFormat(t),i=new Li(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r});i.getSummaryRegionJobs()},getSummaryRegionJob:function(e,t,n){var r=this,i=r._processFormat(n),s=new Li(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i});s.getSummaryRegionJob(e)},addSummaryRegionJob:function(e,t,n,r){var i=this,s=i._processParams(e),o=i._processFormat(r),a=new Li(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.summaryRegionJobs[e.id]=e.state}},format:o});a.addSummaryRegionJob(s,n)},getSummaryRegionJobState:function(e){return this.summaryRegionJobs[e]},getVectorClipJobs:function(e,t){var n=this,r=n._processFormat(t),i=new rs(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r});i.getVectorClipJobs()},getVectorClipJob:function(e,t,n){var r=this,i=r._processFormat(n),s=new rs(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i});s.getVectorClipJob(e)},addVectorClipJob:function(e,t,n,r){var i=this,s=i._processParams(e),o=i._processFormat(r),a=new rs(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.vectorClipJobs[e.id]=e.state}},format:o});a.addVectorClipJob(s,n)},getVectorClipJobState:function(e){return this.vectorClipJobs[e]},getOverlayGeoJobs:function(e,t){var n=this,r=n._processFormat(t),i=new ei(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r});i.getOverlayGeoJobs()},getOverlayGeoJob:function(e,t,n){var r=this,i=r._processFormat(n),s=new ei(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i});s.getOverlayGeoJob(e)},addOverlayGeoJob:function(e,t,n,r){var i=this,s=i._processParams(e),o=i._processFormat(r),a=new ei(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.overlayGeoJobs[e.id]=e.state}},format:o});a.addOverlayGeoJob(s,n)},getoverlayGeoJobState:function(e){return this.overlayGeoJobs[e]},getBuffersJobs:function(e,t){var n=this,r=n._processFormat(t),i=new At(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r});i.getBuffersJobs()},getBuffersJob:function(e,t,n){var r=this,i=r._processFormat(n),s=new At(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i});s.getBuffersJob(e)},addBuffersJob:function(e,t,n,r){var i=this,s=i._processParams(e),o=i._processFormat(r),a=new At(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.buffersJobs[e.id]=e.state}},format:o});a.addBuffersJob(s,n)},getBuffersJobState:function(e){return this.buffersJobs[e]},getTopologyValidatorJobs:function(e,t){var n=this,r=n._processFormat(t),i=new Hi(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r});i.getTopologyValidatorJobs()},getTopologyValidatorJob:function(e,t,n){var r=this,i=r._processFormat(n),s=new Hi(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i});s.getTopologyValidatorJob(e)},addTopologyValidatorJob:function(e,t,n,r){var i=this,s=i._processParams(e),o=i._processFormat(r),a=new Hi(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.topologyValidatorJobs[e.id]=e.state}},format:o});a.addTopologyValidatorJob(s,n)},getTopologyValidatorJobState:function(e){return this.topologyValidatorJobs[e]},getSummaryAttributesJobs:function(e,t){var n=this,r=n._processFormat(t),i=new Ti(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:e,processFailed:e},format:r});i.getSummaryAttributesJobs()},getSummaryAttributesJob:function(e,t,n){var r=this,i=r._processFormat(n),s=new Ti(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:i});s.getSummaryAttributesJob(e)},addSummaryAttributesJob:function(e,t,n,r){var i=this,s=i._processParams(e),o=i._processFormat(r),a=new Ti(i.url,{proxy:i.options.proxy,withCredentials:i.options.withCredentials,crossOrigin:i.options.crossOrigin,headers:i.options.headers,serverType:i.options.serverType,eventListeners:{scope:i,processCompleted:t,processFailed:t,processRunning:function(e){i.summaryAttributesJobs[e.id]=e.state}},format:o});a.addSummaryAttributesJob(s,n)},getSummaryAttributesJobState:function(e){return this.summaryAttributesJobs[e]},_processFormat:function(e){return e||c.GEOJSON},_processParams:function(e){return e?(e.bounds&&(e.bounds=Kd.toSuperMapBounds(e.bounds)),e.query&&(e.query=Kd.toSuperMapBounds(e.query)),e.geometryQuery&&(e.geometryQuery=Kd.toProcessingParam(e.geometryQuery)),e.geometryClip&&(e.geometryClip=Kd.toProcessingParam(e.geometryClip)),e):{}}}),gy=function(e,t){return new yy(e,t)};a.a.supermap.processingService=gy;var _y=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},queryByBounds:function(e,t,n){var r=this,i=new ri(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},queryByDistance:function(e,t,n){var r=this,i=new si(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},queryBySQL:function(e,t,n){var r=this,i=new ui(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},queryByGeometry:function(e,t,n){var r=this,i=new ai(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},_processParams:function(e){return e?(e.returnContent=null==e.returnContent||e.returnContent,e.queryParams&&!a.a.Util.isArray(e.queryParams)&&(e.queryParams=[e.queryParams]),e.bounds&&(e.bounds=Kd.toSuperMapBounds(e.bounds)),e.geometry&&(e.geometry instanceof a.a.Point?e.geometry=new le(e.geometry.x,e.geometry.y):e.geometry=ef(e.geometry)),e):{}},_processFormat:function(e){return e||c.GEOJSON}}),vy=function(e,t){return new _y(e,t)};a.a.supermap.queryService=vy;var by=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},getAreaSolarRadiationResult:function(e,t,n){var r=this,i=new ht(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(e)},bufferAnalysis:function(e,t,n){var r=this,i=new wt(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},densityAnalysis:function(e,t,n){var r=this,i=new Qt(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},generateSpatialData:function(e,t,n){var r=this,i=new On(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(e)},geoRelationAnalysis:function(e,t,n){var r=this,i=new zn(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(e)},interpolationAnalysis:function(e,t,n){var r=this,i=new qr(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},mathExpressionAnalysis:function(e,t,n){var r=this,i=new Zr(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},overlayAnalysis:function(e,t,n){var r=this,i=new Qr(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},routeCalculateMeasure:function(e,t,n){var r=this,i=new hi(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},routeLocate:function(e,t,n){var r=this,i=new di(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},surfaceAnalysis:function(e,t,n){var r=this,i=new Oi(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},terrainCurvatureCalculate:function(e,t,n){var r=this,i=new Ni(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(e)},thiessenAnalysis:function(e,t,n){var r=this,i=new Gi(r.url,{proxy:r.options.proxy,withCredentials:r.options.withCredentials,crossOrigin:r.options.crossOrigin,headers:r.options.headers,serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)});i.processAsync(r._processParams(e))},geometrybatchAnalysis:function(e,t,n){for(var r=this,i=new ji(r.url,{serverType:r.options.serverType,eventListeners:{scope:r,processCompleted:t,processFailed:t},format:r._processFormat(n)}),s=[],o=0;o<e.length;o++){var a=e[o];s.push({analystName:a.analystName,param:r._processParams(a.param)})}i.processAsync(s)},_processParams:function(e){if(!e)return{};if(e.bounds&&(e.bounds=Kd.toSuperMapBounds(e.bounds)),e.inputPoints)for(let l=0;l<e.inputPoints.length;l++){let t=e.inputPoints[l];a.a.Util.isArray(t)&&(e.inputPoints[l]={x:t[0],y:t[1],tag:t[2]})}if(e.points)for(let l=0;l<e.points.length;l++){let t=e.points[l];a.a.Util.isArray(t)?e.points[l]={x:t[0],y:t[1]}:t instanceof a.a.LatLng?e.points[l]={x:t.lng,y:t.lat}:e.points[l]={x:t.x,y:t.y}}if(e.point&&(a.a.Util.isArray(e.point)?e.point={x:e.point[0],y:e.point[1]}:e.point instanceof a.a.LatLng?e.point={x:e.point.lng,y:e.point.lat}:e.point={x:e.point.x,y:e.point.y}),e.extractRegion&&(e.extractRegion=ef(e.extractRegion)),e.extractParameter&&e.extractParameter.clipRegion&&(e.extractParameter.clipRegion=ef(e.extractParameter.clipRegion)),e.clipParam&&e.clipParam.clipRegion&&(e.clipParam.clipRegion=ef(e.clipParam.clipRegion)),e.sourceGeometry){var t=null;e.sourceGeometrySRID&&(t=e.sourceGeometrySRID),e.sourceGeometry=ef(e.sourceGeometry),t&&(e.sourceGeometry.SRID=t),delete e.sourceGeometry.sourceGeometrySRID}if(e.operateGeometry&&(e.operateGeometry=ef(e.operateGeometry)),e.sourceGeometries){for(var n=[],r=0;r<e.sourceGeometries.length;r++)n.push(ef(e.sourceGeometries[r]));e.sourceGeometries=n}if(e.operateGeometries){for(var i=[],s=0;s<e.operateGeometries.length;s++)i.push(ef(e.operateGeometries[s]));e.operateGeometries=i}if(e.sourceRoute&&e.sourceRoute instanceof a.a.Polyline){var o={type:"LINEM"};o.parts=[e.sourceRoute.getLatLngs().length],o.points=[];for(let t=0;t<e.sourceRoute.getLatLngs().length;t++){let n=e.sourceRoute.getLatLngs()[t];o.points=o.points.concat({x:n.lng,y:n.lat,measure:n.alt})}e.sourceRoute=o}return e.operateRegions&&a.a.Util.isArray(e.operateRegions)&&e.operateRegions.map((function(t,n){return e.operateRegions[n]=ef(t),e.operateRegions[n]})),e},_processFormat:function(e){return e||c.GEOJSON}}),xy=function(e,t){return new by(e,t)};a.a.supermap.spatialAnalystService=xy;var wy=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},getThemeInfo:function(e,t){var n=this,r=new Ui(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(e)}}),Sy=function(e,t){return new wy(e,t)};a.a.supermap.themeService=Sy;var Cy=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},queryStop:function(e,t){var n=this,r=new Ci(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(e)},analysisTransferPath:function(e,t){var n=this,r=new Zi(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(n._processParams(e))},analysisTransferSolution:function(e,t){var n=this,r=new Ki(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.processAsync(n._processParams(e))},_processParams:function(e){return e?(e.points&&a.a.Util.isArray(e.points)&&e.points.map((function(t,n){return e.points[n]=t instanceof a.a.LatLng?{x:t.lng,y:t.lat}:t,e.points[n]})),e):{}}}),Ey=function(e,t){return new Cy(e,t)};a.a.supermap.trafficTransferAnalystService=Ey;var Ty=Vd.extend({initialize:function(e,t){Vd.prototype.initialize.call(this,e,t)},createWebPrintingJob(e,t){if(e){var n=this;console.log(n.url);var r=new _s(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.createWebPrintingJob(n._processParams(e))}},getPrintingJob:function(e,t){var n=this,r=new _s(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.getPrintingJob(e)},getPrintingJobResult:function(e,t){var n=this,r=new _s(n.url,{proxy:n.options.proxy,withCredentials:n.options.withCredentials,crossOrigin:n.options.crossOrigin,headers:n.options.headers,serverType:n.options.serverType,eventListeners:{scope:n,processCompleted:t,processFailed:t}});r.getPrintingJobResult(e)},getLayoutTemplates:function(e){var t=this,n=new _s(t.url,{proxy:t.options.proxy,withCredentials:t.options.withCredentials,crossOrigin:t.options.crossOrigin,headers:t.options.headers,serverType:t.options.serverType,eventListeners:{scope:t,processCompleted:e,processFailed:e}});n.getLayoutTemplates()},_processParams(e){return e.layoutOptions&&e.layoutOptions.littleMapOptions&&(e.layoutOptions.littleMapOptions.center=this._toPointObject(e.layoutOptions.littleMapOptions.center)),e.exportOptions&&(e.exportOptions.center=this._toPointObject(e.exportOptions.center)),e},_toPointObject(e){return a.a.Util.isArray(e)?{x:e[0],y:e[1]}:e instanceof u.Geometry.Point||e instanceof a.a.Point?{x:e.x,y:e.y}:e instanceof a.a.LatLng?{x:e.lng,y:e.lat}:e}}),Ay=function(e,t){return new Ty(e,t)};a.a.supermap.webPrintingJobService=Ay;var Py=a.a.Control.extend({options:{position:"topright",style:(e,t)=>t?a.a.circleMarker(t,{fillColor:"blue",weight:1,opacity:1,color:"blue",fillOpacity:.6}):{fillColor:"blue",weight:1,opacity:1,color:"blue",fillOpacity:.6},onEachFeature:null},initialize(e){a.a.setOptions(this,e),this._event=new a.a.Evented,this.rootContainer=null},onAdd(e){return this.map=e,this.rootContainer=this._initView(),this.rootContainer},on(e,t){this._event.on(e,t)},off(e,t){this._event.off(e,t)},_initView(){},_preventMapEvent(e,t){e&&t&&(e.addEventListener("mouseover",(function(){t.dragging.disable(),t.scrollWheelZoom.disable(),t.doubleClickZoom.disable()})),e.addEventListener("mouseout",(function(){t.dragging.enable(),t.scrollWheelZoom.enable(),t.doubleClickZoom.enable()})))}}),Iy=function(e){return new Py(e)};a.a.supermap.components.componentsViewBase=Iy;var Ly=a.a.Evented.extend({initialize(){this.fileModel=new jo},readFile(e){let t=e.target,n=t.files[0];if(n.size>this.fileModel.FileConfig.fileMaxSize)return this.fire("filesizeexceed",{messageType:"warring",message:Jo.i18n("msg_fileSizeExceeded")}),!1;let r=t.value,i=n.name,s=ca.getFileType(i);if(!s)return this.fire("errorfileformat",{messageType:"failure",message:Jo.i18n("msg_fileTypeUnsupported")}),!1;""!==i&&(this.fileModel.set("loadFileObject",{file:n,filePath:r,fileName:i,fileType:s}),this._readData())},_readData(){const e=this,t=this.fileModel.loadFileObject.fileType;Yo.readFile(t,{file:this.fileModel.loadFileObject.file,path:this.fileModel.loadFileObject.filePath},n=>{Yo.processDataToGeoJson(t,n,e=>{e&&this.fire("openfilesucceeded",{result:e,layerName:this.fileModel.loadFileObject.fileName.split(".")[0]})},t=>{e.fire("openfilefailed",{messageType:"failure",message:t})},this)},()=>{e.fire("openfilefailed",{messageType:"failure",message:Jo.i18n("msg_openFileFail")})},this)}}),My=function(e){return new Ly(e)};a.a.supermap.components.openFileViewModel=My,a.a.supermap.components.util=ca;var Oy=Py.extend({options:{layer:null},initialize(e){Py.prototype.initialize.apply(this,[e]),this.viewModel=new Ly},setViewStyle(e,t){this.rootContainer.style[e]=t},_initView(){const e=a.a.DomUtil.create("div","component-openfile");e.id="openFile",this.fileSelect=a.a.DomUtil.create("div","",e),this.label=a.a.DomUtil.create("label","component-openfile__span--select",this.fileSelect),this.label.htmlFor="input_file",a.a.DomUtil.create("div","supermapol-icons-upload",this.label);const t=a.a.DomUtil.create("span","component-openfile__span",this.label);return t.appendChild(document.createTextNode(Jo.i18n("text_chooseFile"))),this.fileInput=a.a.DomUtil.create("input","component-openfile__input",this.fileSelect),this.fileInput.id="input_file",this.fileInput.type="file",this.fileInput.accept=".json,.geojson,.csv,.xls,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel",this.fileInput.onchange=e=>{this.messageBox.closeView(),this.viewModel.readFile(e)},this.messageBox=new Vo,this.viewModel.on("filesizeexceed",e=>{this.messageBox.showView(e.message,e.messageType)}),this.viewModel.on("errorfileformat",e=>{this.messageBox.showView(e.message,e.messageType)}),this.viewModel.on("openfilefailed",e=>{this.messageBox.showView(e.message,e.messageType),this._event.fire("openfilefailed",e)}),this.viewModel.on("readdatafail",e=>{this.messageBox.showView(e.message,e.messageType)}),this.viewModel.on("openfilesucceeded",e=>{this._event.fire("openfilesucceeded",e)}),this._preventMapEvent(e,this.map),e}}),ky=function(e){return new Oy(e)};a.a.supermap.components.openFile=ky;const Ny={HOT:{HOT:["","","","","","","","","","","","","","","","","","","",""]},AB:{A:["","","","","","","","","","",""],B:["","","","","","","","","","","","","","","","","","","","","",""]},CD:{C:["","","","","","","","","","","","","","","","","","","","","",""],D:["","","","","","","","","","","","","","","","","","","",""]},EFG:{E:["","",""],F:["","","","","","",""],G:["","","","","","","","","","","",""]},H:{H:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},J:{J:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},KL:{K:["","","","",""],L:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},MNP:{M:["","","","","","",""],N:["","","","","","","","","","","","","",""],P:["","","","","","","","",""]},QR:{Q:["","","","","","","","","","","","","","","","",""],R:["",""]},S:{S:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},T:{T:["","","","","","","","","","","","","","","","","","","","","","","","","","",""]},W:{W:["","","","","","","","","","","","","","","","","","","",""]},X:{X:["","","","","","","","","","","","","","","","","","","","","","","","",""]},Y:{Y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Z:{Z:["","","","","","","","","","","","","","","","","","","","","","",""]}};class Ry{constructor(e){this.layers=[],e&&e.length>0&&this.addLayers(e),this.currentLayerDataModel=null}addLayers(e,t,n,r){for(let i=0;i<e.length;i++){let s=e[i].layerName;if(e[i].layer instanceof a.a.GeoJSON){let n=new Dy(e[i].layer);this.layers[s]=n,t&&t.call(r,{layerName:s,layer:n})}else n&&n.call(r,"")}}setCurrentLayerDataModel(e){this.layers[e]&&(this.currentLayerDataModel=this.layers[e])}}a.a.supermap.components.GeoJsonLayersDataModel=Ry;class Dy{constructor(e){if(this.layer=e,this.features=e.getLayers(),this.attributeNames=[],this.features[0].feature.properties)for(let t in this.features[0].feature.properties)this.attributeNames.push(t);this.operatingAttributeNames=[],this.attributes={}}setOperatingAttributeNames(e){this.operatingAttributeNames=e}getAllAttributeNames(){return this.attributeNames}getAttributeNamesByType(e){if(this.features[0].feature.properties){let t=this.features[0].feature.properties,n=[];if("Num"===e)for(let e in t)isNaN(t[e])||n.push(e);else n=this.attributeNames;return n}}getAllFeatures(){return this.features}getAttributeValueByAttributeName(e){if(this.attributes[e])return this.attributes[e];this.attributes[e]=[];for(let t=0;t<this.features.length;t++)this.attributes[e].push([this.features[t].feature.properties[e]]);return this.attributes[e]}getFeaturesByKeyWord(e){let t=[],n=new RegExp(e.toLowerCase());const r=this;return this.features.forEach((function(e){if(!e.feature.properties)return null;let i,s=e.feature.properties;i=r.operatingAttributeNames.length>0?r.operatingAttributeNames:r.attributeNames;for(let r=0,o=i.length;r<o;r++)if(s[i[r]]&&n.test(s[i[r]].toString().toLowerCase())){let n=i[r],o=s[i[r]];e.filterAttribute={filterAttributeName:n,filterAttributeValue:o},t.push(e);break}})),t}}var Fy=a.a.Evented.extend({options:{cityGeoCodingConfig:{addressUrl:"https://www.supermapol.com/iserver/services/localsearch/rest/searchdatas/China/poiinfos",key:"fvV2osxwuZWlY0wJb8FEb2i5"}},initialize(e,t){if(!e)return new Error("Cannot find map, fileModel.map cannot be null.");this.map=e,a.a.Util.setOptions(this,t),this.dataModel=new Ry,this.geoCodeParam={keyWords:"",city:"",pageSize:this.options.pageSize,pageNum:this.options.pageNum},this.searchCache={}},search(e,t){t?this.searchFromLayer(e,t):this.searchFromCityLocalSearchService(e)},searchFromLayer(e,t){if(this.dataModel.layers[t]){let n=this.dataModel.layers[t].getFeaturesByKeyWord(e);n&&n.length>0?this.fire("searchlayersucceeded",{result:n}):this.fire("searchfailed",{searchType:"searchLayersField"})}},searchFromCityLocalSearchService(e){if(this.searchCache[e])this.fire("geocodesucceeded",{result:this.searchCache[e]});else{this.geoCodeParam.keyWords=e||this.geoCodeParam.city;const t=this;let n=this._getSearchUrl(this.geoCodeParam);Be.get(n).then(e=>e.json()).then(e=>{if(e.error||0===e.poiInfos.length)t.fire("searchfailed",{searchType:"searchGeocodeField"});else if(e.poiInfos){const n=t._dataToGeoJson(e.poiInfos,t.geoCodeParam);t.fire("geocodesucceeded",{result:n})}})}},addSearchLayers(e){this.dataModel.addLayers(e,e=>{this.fire("newlayeradded",{layerName:e.layerName})},null,this)},panToLayer(e){this.dataModel.layers[e]&&this.map.flyToBounds(this.dataModel.layers[e].layer.getBounds())},panToCity(e){this.geoCodeParam.keyWords=e,this.geoCodeParam.city=e;const t=this;let n=this._getSearchUrl(this.geoCodeParam);Be.get(n).then(e=>e.json()).then(e=>{if(e.poiInfos.length>0){const n=a.a.latLng(e.poiInfos[0].location.y,e.poiInfos[0].location.x);t.map.setView(n,8)}else t.fire("searchfailed",{searchType:"cityGeocodeField"})})},_dataToGeoJson(e,t){let n=[];for(let r=0;r<e.length;r++){let i={type:"Feature",geometry:{type:"Point",coordinates:[e[r].location.x,e[r].location.y]},properties:{name:e[r].name||t.keyWords,address:e[r].formatedAddress||e[r].address}};n.push(i)}return n},_getSearchUrl(e){let t=this.options.cityGeoCodingConfig.addressUrl+`.json?keywords=${e.keyWords}&city=${e.city}&pageSize=${e.pageSize}&pageNum=${e.pageNum}&key=${this.options.cityGeoCodingConfig.key}`;return t}}),By=function(e){return new Fy(e)};a.a.supermap.components.searchViewModel=By;var qy=Py.extend({options:{cityConfig:Ny,cityGeoCodingConfig:{addressUrl:"https://www.supermapol.com/iserver/services/localsearch/rest/searchdatas/China/poiinfos",key:"fvV2osxwuZWlY0wJb8FEb2i5"},isGeoCoding:!0,pageSize:10,pageNum:1,perPageDataNum:8},initialize(e){Py.prototype.initialize.apply(this,[e]),this.currentSearchLayerName="",this.isSearchLayer=!1,this.perPageDataNum=this.options.perPageDataNum},onAdd:function(e){return this.viewModel=new Fy(e,this.options),Py.prototype.onAdd.apply(this,[e])},addSearchLayer(e){this.viewModel.addSearchLayers(e)},_initView(){const e=this,t=document.createElement("div");t.setAttribute("class","component-search-container");const n=document.createElement("div");n.setAttribute("class","component-search");const r=document.createElement("div");r.setAttribute("class","component-search__settings");const i=document.createElement("div");i.setAttribute("class","component-search__settings__name"),r.appendChild(i);const s=document.createElement("span");s.setAttribute("class","supermapol-icons-solid-down-triangle"),r.appendChild(s);let o=null;if(this.options.isGeoCoding){const e=new aa({config:this.options.cityConfig});o=e.getElement(),e.content.onclick=e=>{"SPAN"===e.target.nodeName&&e.target.innerText&&(this.viewModel.panToCity(e.target.innerHTML),this.messageBox.closeView(),i.removeChild(i.firstChild),i.insertBefore(document.createTextNode(e.target.innerHTML),i.firstChild),this.isSearchLayer=!1)},i.appendChild(document.createTextNode(e.content.getElementsByTagName("span")[0].innerText))}const a=function(){const t=document.createElement("div");t.setAttribute("class","component-search__layers");const n=document.createElement("div");n.setAttribute("class","component-search-layers-content"),t.appendChild(n);const r=document.createElement("div");r.setAttribute("class","component-search__layers__header");const s=document.createElement("div");s.setAttribute("class","load-btn"),r.appendChild(s);const o=document.createElement("span");o.setAttribute("class","supermapol-icons-poi-load"),s.appendChild(o);const a=document.createElement("span");a.appendChild(document.createTextNode(Jo.i18n("text_loadSearchCriteria"))),s.appendChild(a);const l=document.createElement("div");l.setAttribute("class","save-btn"),r.appendChild(l);const u=document.createElement("span");u.setAttribute("class","supermapol-icons-poi-save"),l.appendChild(u);const c=document.createElement("span");c.appendChild(document.createTextNode(Jo.i18n("text_saveSearchCriteria"))),l.appendChild(c);const h=document.createElement("div");return h.setAttribute("class","component-search__layers__body"),h.onclick=t=>{e.clearSearchResult();let n=null;if("component-search__layers__itme__singleselect"===t.target.classList[0])n=t.target;else{if("component-single-default-img"!==t.target.classList[0]&&"single-label"!==t.target.classList[0])return;n=t.target.parentNode}document.getElementsByClassName("component-single-checked-img").length>0&&document.getElementsByClassName("component-single-checked-img")[0].setAttribute("class","component-single-default-img"),n.firstChild.setAttribute("class","component-single-checked-img"),e.currentSearchLayerName=n.lastChild.innerText,e.isSearchLayer=!0,i.removeChild(i.firstChild),i.insertBefore(document.createTextNode(e.currentSearchLayerName),i.firstChild),e.viewModel.panToLayer(e.currentSearchLayerName),e.messageBox.closeView()},n.appendChild(h),t}();let l=[];o&&l.push({title:Jo.i18n("title_searchCity"),content:o}),l.push({title:Jo.i18n("title_searchLayer"),content:a});const u=new la({tabs:l}),c=u.getElement();u.closeView(),n.appendChild(c),r.onclick=()=>{c.hidden?u.showView():u.closeView()},n.appendChild(r),i.innerText||i.appendChild(document.createTextNode(Jo.i18n("text_label_chooseSearchLayers")));const h=document.createElement("div");h.setAttribute("class","component-search__input");const p=document.createElement("input");p.type="text",p.placeholder=Jo.i18n("text_label_searchTips"),h.appendChild(p),this.poiInput=p;const d=document.createElement("span");d.setAttribute("class","supermapol-icons-close"),d.hidden=!0,h.appendChild(d),n.appendChild(h);const f=document.createElement("div");f.setAttribute("class","component-search-icon supermapol-icons-search");const m=new ua;this._resultDomObj=m,f.onclick=()=>{m.closeView(),this.clearSearchResult(),this.messageBox.closeView(),u.closeView();const e=this.poiInput.value.trim();""!==e?this.isSearchLayer?this.viewModel.search(e,this.currentSearchLayerName):this.viewModel.search(e):this.messageBox.showView(Jo.i18n("msg_searchKeywords"))},p.onkeypress=e=>{if(13==e.which){var t=document.createEvent("HTMLEvents");t.initEvent("click",!1,!0),f.dispatchEvent(t)}},n.appendChild(f);const y=function(){const t=m.getElement();return t.style.position="absolute",t.style.top="44px",t.style.right="0",m.closeView(),m.content.onclick=t=>{let n=null;if("component-search-result-info"===t.target.parentNode.className)n=t.target.parentNode.parentNode;else if("component-search__resultitme"===t.target.parentNode.className)n=t.target.parentNode;else{if("component-search__resultitme"!==t.target.className)return;n=t.target}document.getElementsByClassName("component-search__resultitme-selected").length>0&&document.getElementsByClassName("component-search__resultitme-selected")[0].classList.remove("component-search__resultitme-selected"),n.firstChild.classList.add("component-search__resultitme-selected");let r=n.children[1].firstChild.innerText;e._linkageFeature(r)},t}();return n.appendChild(y),d.onclick=e=>{this.clearSearchResult(),p.value="",e.target.hidden=!0,m.closeView()},p.oninput=()=>{d.hidden=!1},this.messageBox=new Vo,this._addViewModelListener(),t.appendChild(n),this._preventMapEvent(t,this.map),t},_createSearchLayerItem(e){const t=document.createElement("div");t.setAttribute("class","component-search__layers__itme");const n=document.createElement("div");n.setAttribute("class","component-search__layers__itme__singleselect");const r=document.createElement("div");r.setAttribute("class","component-single-default-img"),n.appendChild(r);const i=document.createElement("span");i.setAttribute("class","single-label"),i.innerHTML=e,n.appendChild(i),t.appendChild(n),document.getElementsByClassName("component-search__layers__body")[0].appendChild(t)},_createResultItem(e,t){const n=document.createElement("div");n.setAttribute("class","component-search__resultitme");let r=document.createElement("div");"Point"===e||"MultiPoint"===e?r.setAttribute("class","supermapol-icons-marker-layer component-search-result-icon"):"LineString"===e||"MultiLineString "===e?r.setAttribute("class","supermapol-icons-line-layer component-search-result-icon"):"Polygon"===e||"MultiPolygon"===e?r.setAttribute("class","supermapol-icons-polygon-layer component-search-result-icon"):r.setAttribute("class","supermapol-icons-point-layer component-search-result-icon"),n.appendChild(r);const i=document.createElement("div");i.setAttribute("class","component-search-result-info");const s=document.createElement("div");i.appendChild(s);const o=document.createElement("div");t.name?(s.innerHTML=t.name,o.innerHTML=t.address,i.appendChild(o)):s.innerHTML=t.filterAttributeName+": "+t.filterAttributeValue,n.appendChild(i);const a=document.createElement("div");return a.setAttribute("class","component-checkbox component-checkbox-default-img"),n},_addViewModelListener(){this.viewModel.on("searchlayerschanged",e=>{for(let t=0;t<e.length;t++)this._createSearchLayerItem(e[t])}),this.viewModel.on("newlayeradded",e=>{this._createSearchLayerItem(e.layerName)}),this.viewModel.on("searchlayersucceeded",e=>{const t=e.result;this.clearSearchResult(),this.searchResultLayer=a.a.featureGroup(t,{pointToLayer:this.options.style,style:this.options.style}).bindPopup((function(e){if(e.feature.properties)return new sa({attributes:e.feature.properties}).getElement()})).addTo(this.map),this.searchResultLayer.eachLayer(e=>{this.options.onEachFeature?this.options.onEachFeature(e.toGeoJSON(),e):this._featureOnclickEvent.bind(this)(e.toGeoJSON(),e)}),this.searchLayersData=t,this._prepareResultData(t),this._event.fire("searchlayersucceeded",{result:this.searchResultLayer.toGeoJSON()})}),this.viewModel.on("geocodesucceeded",e=>{const t=e.result;this.clearSearchResult(),this.searchResultLayer=a.a.geoJSON(t,{pointToLayer:this.options.style,style:this.options.style,onEachFeature:this.options.onEachFeature||this._featureOnclickEvent.bind(this)}).bindPopup((function(e){if(e.feature.properties)return new sa({attributes:e.feature.properties}).getElement()})).addTo(this.map),this.searchLayersData=t,this._prepareResultData(t),this._event.fire("geocodesucceeded",{result:t})}),this.viewModel.on("searchfailed",e=>{let t="";t="searchGeocodeField"===e.searchType?Jo.i18n("msg_searchGeocodeField"):"cityGeocodeField"===e.searchType?Jo.i18n("msg_cityGeocodeField"):Jo.i18n("msg_getFeatureField"),this.messageBox.showView(t),this._event.fire("searchfailed",{message:t})})},_prepareResultData(e){this.currentResult=e;let t=Math.ceil(e.length/this.perPageDataNum);this._resultDomObj.setPageLink(t),this._createResultListByPageNum(1,e),this._resultDomObj.showView(),this._resultDomObj.setLinkageEvent(r);const n=this;function r(e){n._createResultListByPageNum(e,n.currentResult)}},_createResultListByPageNum(e,t){let n,r=0;1===e&&t.length<this.perPageDataNum?n=t.length-1:e*this.perPageDataNum>t.length?(r=this.perPageDataNum*(e-1),n=t.length-1):(r=this.perPageDataNum*(e-1),n=e*this.perPageDataNum-1);const i=document.createElement("div");for(let o=r;o<=n;o++){let e,n="Point";t[o].filterAttribute?(n=t[o].feature.geometry.type,e=t[o].filterAttribute):e=t[o].properties,i.appendChild(this._createResultItem(n,e))}this._resultDomObj.setContent(i),this._resultDomObj.showView(),i.firstChild.getElementsByClassName("component-search-result-icon")[0].classList.add("component-search__resultitme-selected");const s=i.firstChild.getElementsByClassName("component-search-result-info")[0].firstChild.innerText;!this._selectMarkerFeature&&this._linkageFeature(s)},_flyToBounds(e){const t=e.getSouthWest(),n=e.getNorthEast();t.lat===n.lat&&t.lng===n.lng?this.map.flyTo(t):this.map.fitBounds(e)},_linkageFeature(e){let t="";t=this.isSearchLayer?e.split(":")[1].trim():e,this._selectFeature&&this._selectFeature.addTo(this.map),this.searchResultLayer.eachLayer(e=>{(!t||e.filterAttribute&&e.filterAttribute.filterAttributeValue===t||e.feature.properties&&e.feature.properties.name===t)&&(e.remove(),this._setSelectedLayerStyle(e))})},clearSearchResult(){this.searchResultLayer&&(this.map.closePopup(),!this.isSearchLayer&&this.map.removeLayer(this.searchResultLayer),this._selectMarkerFeature&&this.map.removeLayer(this._selectMarkerFeature),this._selectFeaturethis&&this.map.removeLayer(this._selectFeature),this._selectMarkerFeature=null,this._selectFeature=null,this.searchResultLayer=null,this.currentResult=null)},_featureOnclickEvent(e,t){t.on("click",()=>{let n,r,i=document.getElementsByClassName("component-pagination__link")[0];this._resultDomObj._changePageEvent({target:i.children[0].children[0]}),this._selectFeature&&this._selectFeature.addTo(this.map),t.remove();for(let a=0;a<this.searchLayersData.length;a++){let i=this.searchLayersData[a];if(i.properties&&i.properties.name===e.properties.name||i.filterAttribute&&i.filterAttribute.filterAttributeName+": "+i.filterAttribute.filterAttributeValue===t.filterAttribute.filterAttributeName+": "+t.filterAttribute.filterAttributeValue){r=a%this.perPageDataNum,n=parseInt(a/this.perPageDataNum)+1;break}}if(n>1)for(let e=1;e<n;e++){let e;e=document.getElementsByClassName("component-pagination__link")[0],this._resultDomObj._changePageEvent({target:e.children[e.children.length-2].children[0]})}let s=document.getElementsByClassName("component-search-result-info"),o=s[r].children[0];if(o.innerHTML===e.properties.name||o.innerHTML===t.filterAttribute.filterAttributeName+": "+t.filterAttribute.filterAttributeValue){let e=s[r].parentNode;document.getElementsByClassName("component-search__resultitme-selected").length>0&&document.getElementsByClassName("component-search__resultitme-selected")[0].classList.remove("component-search__resultitme-selected"),e.firstChild.classList.add("component-search__resultitme-selected"),this._setSelectedLayerStyle(t)}},this)},_setSelectedLayerStyle(e){let t;this._selectMarkerFeature&&this._selectMarkerFeature.remove(),this._selectMarkerFeature=null,this._selectFeature=e,this._selectMarkerFeature=a.a.geoJSON(e.toGeoJSON(),{pointToLayer:(e,t)=>a.a.marker(t,{icon:a.a.divIcon({className:"component-select-marker-icon",iconAnchor:[15,0]})}),style:{fillColor:"red",weight:1,opacity:1,color:"red",fillOpacity:.2}}).addTo(this.map),this._selectMarkerFeature.bindPopup((function(){return new sa({attributes:e.feature.properties}).getElement()}),{closeOnClick:!1}).openPopup().addTo(this.map),this._flyToBounds(this.searchResultLayer.getBounds()),e.getLatLng?t=e.getLatLng():e.getCenter&&(t=e.getCenter()),this.map.setView(t)}}),zy=function(e){return new qy(e)};a.a.supermap.components.search=zy;var Uy=a.a.Evented.extend({options:{_defaultLayerOptions:{style:null,onEachFeature:function(e,t){let n="<br>";for(let r in e.properties)n+=r+": "+e.properties[r]+"<br>";t.bindPopup(n)}}},initialize(e,t=null){if(!e)return new Error("Cannot find map, fileModel.map cannot be null.");this.map=e,a.a.Util.extend(this.options._defaultLayerOptions,t),this.options._defaultLayerOptions.pointToLayer=this.options._defaultLayerOptions.style,this.popupsStatus=!0,this.dataFlowStatus=!1,this.dataFlowUrl="",this.currentFeatures=[],this.dataFlowLayer=null},subscribe(e){if(this.dataFlowUrl===e){if(this.dataFlowStatus)return void this.fire("dataflowservicesubscribed")}else this.dataFlowUrl=e;this.dataFlowStatus=!0,this.dataFlowLayer&&(this.dataFlowLayer.remove(),this.dataFlowLayer=null);const t=new em(e,this.options._defaultLayerOptions);t.on("subscribesucceeded",e=>{this.fire("subscribesucceeded",{result:e})}),t.on("subscribefailed",e=>{this.fire("subscribefailed",{result:e})}),t.on("dataupdated",e=>{this.fire("dataupdated",{result:e});let t=e.layer.getBounds(),n=Kd.toSuperMapBounds(this.map.getBounds()),r=Kd.toSuperMapBounds(t);n.intersectsBounds(r)||(r.left===r.right&&r.top===r.bottom?this.map.setView(t.getCenter()):this.map.flyToBounds(t)),this.popupsStatus&&this.openPopups()}),t.addTo(this.map),this.dataFlowLayer=t},cancelSubscribe(){this.dataFlowLayer&&(this.dataFlowStatus=!1,this.dataFlowLayer.dataService.unSubscribe(),this.dataFlowLayer.remove(),this.dataFlowLayer=null)},openPopups(){if(this.popupsStatus=!0,this.dataFlowLayer){const e=this.dataFlowLayer.getLayers();for(let t=0;t<e.length;t++)for(let n=0;n<e[t].getLayers().length;n++)e[t].getLayers()[n].openPopup()}},closePopups(){if(this.popupsStatus=!1,this.dataFlowLayer){const e=this.dataFlowLayer.getLayers();for(let t=0;t<e.length;t++)for(let n=0;n<e[t].getLayers().length;n++)e[t].getLayers()[n].closePopup()}}}),Gy=function(e){return new Uy(e)};a.a.supermap.components.dataFlowViewModel=Gy;var jy=Py.extend({initialize(e){Py.prototype.initialize.apply(this,[e])},onAdd(e){let t={};return this.options.style&&(t.style=this.options.style),this.options.onEachFeature&&(t.style=this.options.onEachFeature),this.viewModel=new Uy(e,t),Py.prototype.onAdd.apply(this,[e])},_initView(){const e=new ta({title:Jo.i18n("title_dataFlowService")}),t=e.getElement(),n=e.getContentElement();n.style.padding="10px 18px";const r=document.createElement("div");r.setAttribute("class","component-dataflow__container");const i=document.createElement("div");i.setAttribute("class","component-input-default");const s=document.createElement("input");s.setAttribute("class","component-input-default"),s.type="text",s.placeholder=Jo.i18n("text_input_value_inputDataFlowUrl"),s.title=Jo.i18n("text_input_value_inputDataFlowUrl"),i.appendChild(s);const o=document.createElement("span");o.setAttribute("class","supermapol-icons-close"),o.hidden=!0,o.onclick=e=>{s.value="",e.target.hidden=!0},s.oninput=()=>{o.hidden=!1},i.appendChild(o),r.appendChild(i),n.appendChild(r);const a=document.createElement("div");a.setAttribute("class","component-dataflow__container");const l=document.createElement("div");l.setAttribute("class","component-checkbox-container");const u=document.createElement("div");u.setAttribute("class","component-checkbox-default component-checkbox-selected-img"),u.checked=!0,l.appendChild(u);const c=document.createElement("div");c.setAttribute("class","component-label component-label-selected"),c.innerHTML=Jo.i18n("text_displayFeaturesInfo"),l.appendChild(c),u.onclick=e=>{e.target.checked=!e.target.checked,e.target.checked?(c.setAttribute("class","component-label component-label-selected"),e.target.setAttribute("class","component-checkbox-default component-checkbox-selected-img"),this.viewModel.openPopups()):(c.setAttribute("class","component-label"),e.target.setAttribute("class","component-checkbox-default component-checkbox-default-img"),this.viewModel.closePopups())},a.appendChild(l),n.appendChild(a);const h=document.createElement("div");h.setAttribute("class","component-dataflow__container component-init-center");const p=document.createElement("button");p.setAttribute("class","component-button-default"),p.innerHTML=Jo.i18n("text_subscribe"),p.onclick=()=>{const e=s.value;""!==e?this.viewModel.subscribe(e):this.messageBox.showView(Jo.i18n("msg_inputDataFlowUrlFirst"))},h.appendChild(p);const d=document.createElement("button");return d.setAttribute("class","component-button-default"),d.innerHTML=Jo.i18n("text_cancelSubscribe"),d.onclick=()=>{this.viewModel.cancelSubscribe()},h.appendChild(d),n.appendChild(h),this.messageBox=new Vo,this.viewModel.on("dataflowservicesubscribed",()=>{this.messageBox.showView(Jo.i18n("msg_dataflowservicesubscribed"))}),this.viewModel.on("subscribesucceeded",()=>{this.messageBox.showView(Jo.i18n("msg_subscribesucceeded"))}),this.viewModel.on("dataupdated",e=>{this.messageBox.closeView(),this._event.fire("dataupdated",e)}),this._preventMapEvent(t,this.map),t}}),Vy=function(e){return new jy(e)};a.a.supermap.components.dataFlow=Vy;class Wy{constructor(e,t){this.layerName=e,this.layer=t}}var Hy=function(e,t){return new Wy(e,t)};a.a.supermap.components.geoJSONLayerWithName=Hy;class Jy extends a.a.Evented{initialize(e){this.workerUrl=e,this.turfLayers=[]}getLayersData(e){let t={},n={},r={},i={};for(let a=0;a<e;a++)e[a]=new Wy(e[a].layerName,e[a].layer);this.geoJsonLayersDataModel=new Ry(e);let s=[];for(let a=0;a<e.length;a++)s[e[a].layerName]={fields:e[a].fields,layer:e[a].layer.toGeoJSON()};for(let a in this.geoJsonLayersDataModel.layers){let e;e=s[a].fields?s[a].fields:this.geoJsonLayersDataModel.layers[a].getAttributeNamesByType("Num");let t=[];for(let n=0;n<e.length;n++){t[e[n]]=this.geoJsonLayersDataModel.layers[a].getAttributeValueByAttributeName(e[n]);let r=t[e[n]];for(var o=0;o<r.length;o++)""!=r[o]&&"undefined"!=typeof r[o]||(r.splice(o,1),o-=1),r[o]=parseFloat(r[o]);t[e[n]]=Array.from(new Set(r.sort((function(e,t){return e-t}))))}let l={layerName:a,fields:e,fieldsValue:t,features:s[a].layer},u=s[a].layer.features[0].geometry.type;"Point"===u?n[a]=l:"LineString"===u?r[a]=l:"Polygon"===u&&(i[a]=l)}return t["point"]=n,t["lineString"]=r,t["polygon"]=i,t}analysis(e,t){this.geoJsonLayersDataModel.setCurrentLayerDataModel(e.analysisLayers),this.worker=new Worker(this.workerUrl);let n=this.geoJsonLayersDataModel.currentLayerDataModel.layer.toGeoJSON();if("isolines"===e.analysisMethod){let r=e.analysisFieldsValue.split(","),i=n;for(let e=0;e<r.length;e++)r[e]=parseFloat(r[e]);let s=this,o={pointGrid:i,analysisMethod:e.analysisMethod,breaks:r,zProperty:e.analysisFields,analysisCellSize:e.analysisCellSize,options:{gridType:"point",property:e.analysisFields,weight:Number(e.analysisBreaks)}};this.worker.postMessage(o),this.worker.onmessage=n=>{if(0===n.data.features.length)s.fire("analysisfailed");else{s.fire("analysissucceeded",{data:n.data});let r=a.a.geoJSON(n.data,{style:{color:"#1060C2",weight:3},onEachFeature:function(e,t){e.properties&&t.bindPopup(new sa(e.properties).getElement()),t.on({mouseover:function(){t.setStyle({color:"#ffffff",weight:5})},mouseout:function(){t.setStyle({color:"#1060C2",weight:3})},click:function(){t.setStyle({color:"#ffffff",weight:5})}})}}).addTo(t);s.turfLayers.push(r),s.fire("layerloaded",{layer:r,name:e.resultLayersName}),s.worker.terminate()}}}else if("buffer"===e.analysisMethod){let r=this,i={analysisMethod:"buffer",radius:e.radius,unit:e.unit,isSave:e.isSaveStatus,isUnion:e.isUnion,geoJson:n};this.worker.postMessage(i),this.worker.onmessage=n=>{let i=a.a.geoJSON(n.data,{style:{color:"#ffffff",fillColor:"#1060C2",fillOpacity:.5,weight:1.5},onEachFeature:function(e,t){e.properties&&t.bindPopup(new sa(e.properties).getElement()),t.on({mouseover:function(){t.setStyle({color:"#ffffff",fillColor:"rgb(46,40,79)",fillOpacity:.5,weight:5})},mouseout:function(){t.setStyle({color:"#ffffff",fillColor:"#1060C2",fillOpacity:.5,weight:1.5})},click:function(){t.setStyle({color:"#ffffff",fillColor:"rgb(46,40,79)",fillOpacity:.5,weight:2})}})}}).addTo(t);r.turfLayers.push(i),r.fire("layerloaded",{layer:i,name:e.resultLayersName}),r.worker.terminate()}}}clearLayers(){for(let e in this.turfLayers)this.turfLayers[e].clearLayers();this.fire("layersremoved",{layers:this.turfLayers})}cancelAnalysis(){this.worker.terminate()}}var Xy=function(e){return new Jy(e)};a.a.supermap.components.clientComputationViewModel=Xy;var Zy=Py.extend({initialize:function(e,t){if(!e)throw new Error("workerUrl is required");this.workerUrl=e,Py.prototype.initialize.apply(this,[t])},onAdd:function(e){return this.map=e,Py.prototype.onAdd.apply(this,[e])},addLayer:function(e){this.layers=this.layers||[],this.layers.push(e);let t=this.viewModel.getLayersData(this.layers);this.fillDataToView(t)},fillDataToView:function(e){if(!e)return;this.fillData=e;let t=document.getElementById("dropDownTop").getAttribute("data-value"),n={};switch(t){case"isolines":n=e["point"];break;case"buffer":n=e["point"];break}if("{}"==JSON.stringify(n))return;let r=[];for(let m in n)r.push(m);let i=document.getElementById("layersSelect"),s=document.getElementById("layerSelectName");i.innerHTML="",s.title=r[0],s.innerHTML=r[0],this._createOptions(i,r),this.layerSelectObj.optionClickEvent(i,s,this.layersSelectOnchange);let o=n[s.title],a=o.fields,l=o.fieldsValue;this.currentData=o,this.currentFillData=n;let u=document.getElementById("fieldsSelect");u.innerHTML="";let c=document.getElementById("fieldsSelectName");c.innerHTML=a[0],c.title=a[0],this._createOptions(u,a),this.fieldsSelectObj.optionClickEvent(u,c,this.fieldsSelectOnchange);let h=c.title,p=document.getElementById("getValueTextArea");p.value=l[h].toString().replace(/,/g,",\r\n"),p.setAttribute("data-value",l[h]);let d=document.getElementById("resultLayersName"),f=document.getElementById("dropDownTop").getAttribute("data-value");switch(f){case"isolines":d.value=Jo.i18n("text_label_isolines")+s.title;break;case"buffer":d.value=Jo.i18n("text_label_buffer")+s.title;break}},_initView:function(){this.workerUrl&&(this.viewModel=new Jy(this.workerUrl));let e=new ta({title:Jo.i18n("title_clientComputing")}).getElement();e.classList.add("component-analysis"),e.children[0].style.fontSize="12px";let t=[{title:Jo.i18n("text_isoline"),dataValue:"isolines",remark:Jo.i18n("text_extractDiscreteValue"),icon:{className:"component-analyst-isoline-img"}},{title:Jo.i18n("text_buffer"),dataValue:"buffer",remark:Jo.i18n("text_specifyTheDistance"),icon:{className:"component-analyst-buffer-img"}}],n=e.children[1];n.classList.add("component-content--scroll"),n.classList.add("component-content--analysis");let r=new ra(t).getElement();n.appendChild(r);let i=r.children[0].children[0],s=r.children[0].children[2].children[0];i.children[0].id="dropDownTop";let o=a.a.DomUtil.create("div","component-analysis__container",n),l=a.a.DomUtil.create("div","component-analysis__container__analysisLayer",o),u=a.a.DomUtil.create("div","component-analysis__selecttool",l);u.id="layerSelectControl";let c={optionsArr:[""],labelName:Jo.i18n("text_label_analysisLayer")},h=new na(c),p=h.getElement();this.layerSelectObj=h,u.appendChild(p);let d=p.children[1].children[0];d.id="layerSelectName";let f=p.children[1].children[2].children[0].children[0];f.id="layersSelect";let m=a.a.DomUtil.create("div","component-analysis__container__analysistype",o),y=a.a.DomUtil.create("div","component-clientcomputation__isoline",m),g={optionsArr:[""],labelName:Jo.i18n("text_label_extractField"),optionsClickCb:this.fieldsSelectOnchange},_=a.a.DomUtil.create("div","component-analysis__selecttool",y),v=new na(g),b=v.getElement();this.fieldsSelectObj=v;let x=b.children[1].children[0];x.id="fieldsSelectName";let w=b.children[1].children[2].children[0].children[0];w.id="fieldsSelect",_.appendChild(b);let S=a.a.DomUtil.create("div","component-analysis__container",y),C=a.a.DomUtil.create("span","component-textarea__name",S);C.innerHTML=Jo.i18n("text_label_extractedValue");let E=a.a.DomUtil.create("div","component-textarea",S);E.id="getValueText";let T=a.a.DomUtil.create("div","",E),A=a.a.DomUtil.create("div","component-scrollarea-content",T);A.setAttribute("tabindex","1");let P=a.a.DomUtil.create("textarea","component-textarea__content",A);P.id="getValueTextArea",P.setAttribute("rows","20");let I=a.a.DomUtil.create("div","",y),L=a.a.DomUtil.create("span","",I);L.innerHTML=Jo.i18n("text_label_distanceAttenuation");let M=a.a.DomUtil.create("input","",I);M.value="3";let O=a.a.DomUtil.create("div","",y),k=a.a.DomUtil.create("span","",O);k.innerHTML=Jo.i18n("text_label_gridSize");let N=a.a.DomUtil.create("input","",O);N.value="30";let R=a.a.DomUtil.create("div","component-clientcomputation__buffer hidden",m),D=a.a.DomUtil.create("div","component-clientcomputation__buffer--radius",R),F=a.a.DomUtil.create("span","",D);F.innerHTML=Jo.i18n("text_label_bufferRadius");let B=a.a.DomUtil.create("div","",D),q=a.a.DomUtil.create("input","buffer-radius-input",B);q.id="bufferRadiusInput",q.value="10",q.setAttribute("placeholder",Jo.i18n("text_label_defaultkilometers"));let z=a.a.DomUtil.create("div","component-clientcomputation__buffer--unit",B);z.id="bufferUnit";let U={optionsArr:[Jo.i18n("text_option_kilometer")],labelName:Jo.i18n("text_label_unit")},G=new na(U).getElement(),j=G.children[1].children[0];j.id="bufferUnitSelectName";let V=G.children[1].children[2].children[0].children[0];V.id="bufferUnitSelect",G.children[0].style.display="none",z.appendChild(G);let W=a.a.DomUtil.create("div","",D),H=a.a.DomUtil.create("div","component-clientcomputation__buffer--issaveattrs",W);H.id="saveAttrsContainer";let J=a.a.DomUtil.create("div","checkbox checkbox-fault",H);J.id="saveAttrsCheckbox";let X=a.a.DomUtil.create("div","lable",H);X.id="saveAttrsLabel",X.innerHTML=Jo.i18n("text_retainOriginal");let Z=a.a.DomUtil.create("div","component-clientcomputation__buffer--isunion",W);Z.id="isUnionContainer";let Y=a.a.DomUtil.create("div","checkbox checkbox-fault",Z);Y.id="isUnionCheckbox";let K=a.a.DomUtil.create("div","lable",Z);K.innerHTML=Jo.i18n("text_mergeBuffer"),K.id="isUnionLabel";let Q=a.a.DomUtil.create("div","component-analysis__container__resultLayersName",o),$=a.a.DomUtil.create("span","",Q);$.innerHTML=Jo.i18n("text_label_resultLayerName");let ee=a.a.DomUtil.create("input","",Q);ee.id="resultLayersName";let te=a.a.DomUtil.create("div","component-analysis__container__analysisbtn",o),ne=a.a.DomUtil.create("div","component-analysis__analysisbtn",te),re=a.a.DomUtil.create("button","component-analysis__analysisbtn--analysis",ne);re.innerHTML=Jo.i18n("btn_analyze");let ie=a.a.DomUtil.create("div","component-analysis__analysisbtn--analysing-container hidden",ne),se=a.a.DomUtil.create("div","component-analysis__analysisbtn--analysising",ie),oe=a.a.DomUtil.create("div","component-analysis__svg-container",se);oe.id="analyse_background",oe.innerHTML='<svg class="component-analysis__svg-rotate" width="16px" height="16px" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <path id="ring" fill="#FFF" transform="translate(8,8)" d="M 0 0 v -8 A 8 8 0 1 1 -8.00 0 z"></path>\n            <circle cx="8" cy="8" r="6" fill="#38ADF5"></circle>\n            <rect class="svg-top" x="8" y="0" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n            <rect class="svg-left" x="0" y="8" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n        </svg>',a.a.DomUtil.create("span","",se).innerHTML=Jo.i18n("btn_analyzing");let ae=a.a.DomUtil.create("button","component-analysis__analysisbtn--cancel",ie);ae.innerHTML=Jo.i18n("btn_cancelAnalysis");let le=a.a.DomUtil.create("button","component-analysis__analysisbtn--analysis component-analysis__analysisbtn--deletelayers",ne);le.innerHTML=Jo.i18n("btn_emptyTheAnalysisLayer");for(let a=0;a<s.children.length;a++)s.children[a].onclick=()=>{i.innerHTML=s.children[a].outerHTML,i.children[0].id="dropDownTop";let e=document.getElementById("layersSelect"),t=document.getElementById("layerSelectName"),r=s.children[a].getAttribute("data-value"),o={};switch(r){case"buffer":y.classList.add("hidden"),R.classList.remove("hidden"),n.style.height="422px",ee.value=Jo.i18n("text_label_buffer")+t.title,o=this.fillData["point"];break;case"isolines":y.classList.remove("hidden"),R.classList.add("hidden"),n.style.height="712px",ee.value=Jo.i18n("text_label_isolines")+t.title,o=this.fillData["point"];break}if(this.currentFillData===o)return;if(e.innerHTML="","{}"==JSON.stringify(o))return ee.value="",t.title="",void(t.innerHTML="");let l=[];for(let n in o)l.push(n);t.title=l[0],t.innerHTML=l[0],this._createOptions(e,l),this.layerSelectObj.optionClickEvent(e,t,this.layersSelectOnchange),"buffer"===r?ee.value=Jo.i18n("text_label_buffer")+l[0]:"isolines"===r&&(ee.value=Jo.i18n("text_label_isolines")+l[0]),this.currentData=o[t.title],this.currentFillData=o};function ue(e){if(this.currentData){let t=this.currentData,n=e.title;P.value=t.fieldsValue[n].toString().replace(/,/g,",\r\n"),P.setAttribute("data-value",t.fieldsValue[n])}}function ce(e){if(this.currentData){let t=e.title,n=this.currentFillData[t];this.currentData=n,w.innerHTML="",this._createOptions(w,n.fields);let r=document.getElementById("fieldsSelectName"),i=n.fields[0];r.title=i,r.innerHTML=i;let s=i;this.fieldsSelectObj.optionClickEvent(w,r,this.fieldsSelectOnchange),P.value=n.fieldsValue[s].toString().replace(/,/g,",\r\n"),P.setAttribute("data-value",n.fieldsValue[s]);let o=document.getElementById("dropDownTop").getAttribute("data-value");switch(o){case"buffer":ee.value=Jo.i18n("text_label_buffer")+t;break;case"isolines":ee.value=Jo.i18n("text_label_isolines")+t;break}}}this.fieldsSelectOnchange=ue.bind(this),this.layersSelectOnchange=ce.bind(this);let he=!0,pe=!1;function de(){let e=document.getElementById("dropDownTop"),t=e.getAttribute("data-value"),n=document.getElementById("resultLayersName").value,r=d.title,i=x.title,s=P.value.replace(/[\r\n]/g,"").split(",").toString(),o=M.value,a=N.value,l={analysisMethod:t,analysisLayers:r,analysisFields:i,analysisFieldsValue:s,analysisBreaks:o,analysisCellSize:a,resultLayersName:n};return l}function fe(){let e=document.getElementById("dropDownTop"),t=document.getElementById("resultLayersName").value,n=d.title,r=e.getAttribute("data-value"),i=q.value,s=j.title,o={analysisMethod:r,analysisLayers:n,radius:i,unit:s,resultLayersName:t,isSaveStatus:he,isUnion:pe};return o}return X.classList.add("selected"),J.classList.add("checkbox-active"),H.onclick=()=>{he?(J.classList.add("checkbox-fault"),J.classList.remove("checkbox-active"),X.classList.remove("selected"),he=!1):(J.classList.add("checkbox-active"),J.classList.remove("checkbox-fault"),X.classList.add("selected"),he=!0,pe&&(Y.classList.add("checkbox-fault"),Y.classList.remove("checkbox-active"),pe=!1))},Z.onclick=()=>{pe?(Y.classList.add("checkbox-fault"),Y.classList.remove("checkbox-active"),K.classList.remove("selected"),pe=!1):(Y.classList.add("checkbox-active"),Y.classList.remove("checkbox-fault"),K.classList.add("selected"),pe=!0,he&&(J.classList.add("checkbox-fault"),J.classList.remove("checkbox-active"),he=!1))},this.messageBox=new Vo,re.onclick=()=>{ie.style.display="block",re.style.display="none";let e,t=document.getElementById("dropDownTop"),n=t.getAttribute("data-value");switch(n){case"isolines":e=de();break;case"buffer":e=fe();break}this.viewModel.analysis(e,this.map),this.viewModel.on("layerloaded",e=>{ie.style.display="none",re.style.display="block",this._event.fire("analysissucceeded",{layer:e.layer,name:e.name})}),this.viewModel.on("analysisfailed",()=>{ie.style.display="none",re.style.display="block",this.messageBox.showView(Jo.i18n("msg_resultIsEmpty"),"failure"),this._event.fire("analysisfailed")})},ae.onclick=()=>{ie.style.display="none",re.style.display="block",this.viewModel.cancelAnalysis()},le.onclick=()=>{this.viewModel.on("layersremoved",e=>{this._event.fire("layersremoved",{layers:e.layers})}),this.viewModel.clearLayers()},this._preventMapEvent(e,this.map),e},_createOptions(e,t){for(let n in t){let r=document.createElement("div"),i=t[n];r.className="component-selecttool__option",r.title=i,r.innerHTML=i,r.setAttribute("data-value",i),e.appendChild(r)}}}),Yy=function(e){return new Zy(e)};a.a.supermap.components.clientComputation=Yy;class Ky{constructor(e){this.layerName=e.layerName,this.layer=e.layer,this.fields=e.fields||null}}var Qy=function(e){return new Ky(e)};a.a.supermap.components.clientComputationLayer=Qy;class $y extends a.a.Evented{initialize(e){this.processingUrl=e}getDatasetsName(){let e=this.processingUrl;this.dataset=[],this.dataset["datasetNames"]=[],this.dataset["childUrl"]=[];let t="http://"+e.split("/")[2],n=t+"/iserver/services/datacatalog/rest/datacatalog/sharefile.json",r=t+"/iserver/services/datacatalog/rest/datacatalog/relationship/datasets.json",i=this;Be.get(n).then((function(e){return e.json()})).then((function(e){i.dataset["datasetNames"]=i.dataset["datasetNames"].concat(e.datasetNames),i.dataset["childUrl"]=i.dataset["childUrl"].concat(e.childUriList);let t=i;Be.get(r).then((function(e){return e.json()})).then((function(e){t.dataset["datasetNames"]=t.dataset["datasetNames"].concat(e.datasetNames),t.dataset["childUrl"]=t.dataset["childUrl"].concat(e.childUriList);let n=[];for(let r in t.dataset["datasetNames"])n[t.dataset.datasetNames[r]]=t.dataset.childUrl[r];t.fire("datasetsloaded",{result:{dataset:t.dataset,datasetHash:n}})}))}))}getDatasetInfo(e){let t,n=this;Be.get(e).then((function(e){return e.json()})).then((function(e){let r=e.datasetInfo;"LINE"===r.datasetType||"LINE"===r.type?t="LINE":"POINT"===r.datasetType||"POINT"===r.type||"CSV"===r.type?t="POINT":"REGION"!==r.datasetType&&"REGION"!==r.type||(t="REGION");let i=[],s=r.fieldInfos||r.fieldInfo||null;if(s){for(let e in s)i.push(s[e].name);n.fire("datasetinfoloaded",{result:{type:t,fields:i}})}else{let r=e.childUriList[0].replace("//fields","/fields");Be.get(r).then((function(e){return e.json()})).then((function(e){let r=e.fieldNames,i=[];for(let t in r)i.push(r[t]);n.fire("datasetinfoloaded",{result:{type:t,fields:i}})}))}}))}}a.a.supermap.components.DistributedAnalysisModel=$y;class eg extends a.a.Evented{initialize(e){this.processingUrl=e}getDatasetsName(){let e=this.processingUrl;this.resultLayers=[],this.datasetNames=[],this.distributedAnalysisModel=new $y(e),this.distributedAnalysisModel.getDatasetsName();let t=this;this.distributedAnalysisModel.on("datasetsloaded",(function(e){t.fire("datasetsloaded",{result:e.result})}))}getDatasetInfo(e){this.distributedAnalysisModel.getDatasetInfo(e);let t=this;this.distributedAnalysisModel.on("datasetinfoloaded",(function(e){let n=e.result.type,r=e.result.fields;t.fire("datasetinfoloaded",{result:{type:n,fields:r}})}))}analysis(e,t){let n=new yy(this.processingUrl);if(e.analysisParam instanceof zr){let r=e.analysisParam,i=this;n.addKernelDensityJob(r,(function(n){n.error?i.fire("analysisfailed",{error:n.error}):n.result.setting.serviceInfo.targetServiceInfos.map((function(n){return"RESTMAP"===n.serviceType&&Be.get(n.serviceAddress+"/maps").then((function(e){return e.json()})).then((function(n){let r=n[0].path;i.fire("analysissucceed",{result:n});let s=a.a.supermap.tiledMapLayer(r,{noWrap:!0,transparent:!0});i.resultLayers.push(s),s.addTo(t);let o=new Date,l=e.resultLayerName||o.getTime();i.fire("layerloaded",{layer:s,name:l})})),n}))}))}}clearLayers(){for(let e in this.resultLayers)this.resultLayers[e].remove();this.fire("layersremoved",{layers:this.resultLayers}),this.resultLayers=[]}}var tg=function(e){return new eg(e)};a.a.supermap.components.distributedAnalysisViewModel=tg;var ng=Py.extend({initialize:function(e,t){Py.prototype.initialize.apply(this,[t]),this.viewModel=new eg(e)},onAdd:function(e){return this._fillDataToView(),Py.prototype.onAdd.apply(this,[e])},_fillDataToView:function(){this.viewModel.on("datasetsloaded",e=>{let t=e.result.dataset.datasetNames;this.datasetSelect.innerHTML="",this._createOptions(this.datasetSelect,t),this.datasetSelectObj.optionClickEvent(this.datasetSelect,this.datasetSelectName,this.datasetSelectOnchange),this.dataHash=e.result.datasetHash}),this.viewModel.getDatasetsName()},_initView:function(){let e=new ta({title:Jo.i18n("title_distributedAnalysis")}).getElement();e.classList.add("component-analysis"),e.children[0].style.fontSize="12px";let t=a.a.DomUtil.create("div","component-content component-content--scroll component-content--analysis",e),n=[{title:Jo.i18n("text_densityAnalysis"),dataValue:"density",remark:Jo.i18n("text_CalculateTheValuePerUnitArea"),icon:{className:"component-analyst-density-img"}}],r=new ra(n).getElement();t.appendChild(r);let i=r.children[0].children[0].children[0],s=a.a.DomUtil.create("div","component-analysis__container",t),o=a.a.DomUtil.create("div","analysistype",s),l=a.a.DomUtil.create("div","component-analysis__container__analysisLayer",o),u=a.a.DomUtil.create("div","component-analysis__selecttool",l),c={optionsArr:[Jo.i18n("text_option_selectDataset")],labelName:Jo.i18n("text_label_dataset"),optionsClickCb:he.bind(this)},h=new na(c),p=h.getElement();this.datasetSelectObj=h,u.appendChild(p);let d=p.children[1].children[0];this.datasetSelectName=d;let f=p.children[1].children[2].children[0].children[0];f.children[0].style.display="none",this.datasetSelect=f;let m=a.a.DomUtil.create("div","component-analysis__idw",l),y=[{optionsArr:[Jo.i18n("text_option_simplePointDensityAnalysis"),Jo.i18n("text_option_nuclearDensityAnalysis")],labelName:Jo.i18n("text_label_analyticalMethod")},{optionsArr:[Jo.i18n("text_option_quadrilateral"),Jo.i18n("text_option_hexagon")],labelName:Jo.i18n("text_label_meshType")}],g=a.a.DomUtil.create("div","component-analysis__idw__selecttool",m);for(let a in y){let e=new na(y[a]).getElement();g.appendChild(e)}let _={optionsArr:[Jo.i18n("text_option_notSet")],labelName:Jo.i18n("text_label_weightField")},v=new na(_),b=v.getElement();g.appendChild(b),this.weightFieldsSelectObj=v;let x=g.children[0].children[1].children[0];x.setAttribute("data-value","0");let w=g.children[0].children[1].children[2].children[0].children[0],S=["0","1"];this._setEleAtribute(S,"data-value",w.children);let C=g.children[1].children[1].children[0];C.setAttribute("data-value","0");let E=g.children[1].children[1].children[2].children[0].children[0],T=["0","1"];this._setEleAtribute(T,"data-value",E.children);let A=g.children[2].children[1].children[0],P=g.children[2].children[1].children[2].children[0].children[0],I=[{spanName:Jo.i18n("text_label_queryRange"),value:""}];for(let a in I)this._creatInputBox(I[a],g);let L=g.children[3].children[1];L.setAttribute("placeholder",Jo.i18n("text_label_queryRangeTips")),L.title=Jo.i18n("text_label_queryRangeTips");let M={optionsArr:["Meter","Kilometer","Yard","Foot","Mile"]},O={labelName:Jo.i18n("text_label_gridSizeInMeters"),selectOptions:M},k=this._creatUnitSelectBox(O,g),N=k.children[1].children[0];N.value="1000";let R=k.children[1].children[1].children[0].children[0].children[0],D={optionsArr:["Meter","Kilometer","Yard","Foot","Mile"]},F={labelName:Jo.i18n("text_label_searchRadius"),selectOptions:D},B=this._creatUnitSelectBox(F,g),q=B.children[1].children[0];q.value="300";let z=B.children[1].children[1].children[0].children[0].children[0],U={labelName:Jo.i18n("text_label_areaUnit"),optionsArr:["SquareMile","SquareMeter","Hectare","Acre","SquareFoot","SquareYard"]},G=new na(U).getElement();g.appendChild(G);let j=G.children[1].children[0],V=a.a.DomUtil.create("div","range-content",o),W={optionsArr:[Jo.i18n("text_option_notSet"),Jo.i18n("text_option_equidistantSegmentation"),Jo.i18n("text_option_logarithm"),Jo.i18n("text_option_equalCountingSegment"),Jo.i18n("text_option_squareRootSegmentation")],labelName:Jo.i18n("text_label_thematicMapSegmentationMode"),optionsClickCb:ee};V.appendChild(new na(W).getElement());let H=V.children[0].children[1].children[0];H.setAttribute("data-value","NOTSET");let J=V.children[0].children[1].children[2].children[0].children[0],X=["NOTSET","EQUALINTERVAL","LOGARITHM","QUANTILE","SQUAREROOT"];this._setEleAtribute(X,"data-value",J.children);let Z=this._creatInputBox({spanName:Jo.i18n("text_label_thematicMapSegmentationParameters"),value:"20"},V);Z.classList.add("hidden");let Y=new na({optionsArr:[Jo.i18n("text_option_greenOrangePurpleGradient"),Jo.i18n("text_option_greenOrangeRedGradient"),Jo.i18n("text_option_rainbowGradient"),Jo.i18n("text_option_spectralGradient"),Jo.i18n("text_option_terrainGradient")],labelName:Jo.i18n("text_label_thematicMapColorGradientMode")}).getElement();V.appendChild(Y),Y.classList.add("hidden");let K=Y.children[1].children[2].children[0].children[0],Q=Y.children[1].children[0];Q.setAttribute("data-value","GREENORANGEVIOLET");let $=["GREENORANGEVIOLET","GREENORANGERED","RAINBOW","SPECTRUM","TERRAIN"];function ee(e){"NOTSET"!==e.getAttribute("data-value")?(Z.classList.remove("hidden"),Y.classList.remove("hidden")):(Z.classList.add("hidden"),Y.classList.add("hidden"))}this._setEleAtribute($,"data-value",K.children);let te=a.a.DomUtil.create("div","",o),ne=a.a.DomUtil.create("span","",te);ne.innerHTML=Jo.i18n("text_label_resultLayerName");let re=a.a.DomUtil.create("input","component-distributeanalysis__input",te),ie=a.a.DomUtil.create("div","component-analysis__container__analysisbtn",s),se=a.a.DomUtil.create("div","component-analysis__analysisbtn",ie),oe=a.a.DomUtil.create("button","component-analysis__analysisbtn--analysis",se);oe.innerHTML=Jo.i18n("btn_analyze");let ae=a.a.DomUtil.create("div","component-analysis__analysisbtn--analysing-container hidden",se),le=a.a.DomUtil.create("div","component-analysis__analysisbtn--analysising",ae);le.style.width="200px";let ue=a.a.DomUtil.create("div","component-analysis__svg-container",le);ue.innerHTML='<svg class="component-analysis__svg-rotate" width="16px" height="16px" version="1.1" xmlns="http://www.w3.org/2000/svg">\n            <path id="ring" fill="#FFF" transform="translate(8,8)" d="M 0 0 v -8 A 8 8 0 1 1 -8.00 0 z"></path>\n            <circle cx="8" cy="8" r="6" fill="#38ADF5"></circle>\n            <rect class="svg-top" x="8" y="0" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n            <rect class="svg-left" x="0" y="8" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n        </svg>',a.a.DomUtil.create("span","",le).innerHTML=Jo.i18n("btn_analyzing");let ce=a.a.DomUtil.create("button","component-analysis__analysisbtn--analysis component-analysis__analysisbtn--deletelayers",se);function he(e){if(this.messageBox.closeView(),this.dataHash){P.innerHTML="";let t=this.dataHash[e.title],n=this;this.viewModel.on("datasetinfoloaded",(function(e){A.title=Jo.i18n("text_option_notSet"),A.innerHTML=Jo.i18n("text_option_notSet"),P.innerHTML="";let t=i.getAttribute("data-value"),r=e.result.type,s=e.result.fields;"density"===t&&("REGION"===r||"LINE"===r?n.messageBox.showView(Jo.i18n("msg_datasetOrMethodUnsupport"),"failure"):(n.messageBox.closeView(),n._createOptions(P,s),n.weightFieldsSelectObj.optionClickEvent(P,A)))})),this.viewModel.getDatasetInfo(t)}}function pe(){let e,t,n=i.getAttribute("data-value"),r=x.getAttribute("data-value"),s=C.getAttribute("data-value"),o=L.value,a=R.title,l=z.title,u=j.title,c=Q.getAttribute("data-value"),h=H.getAttribute("data-value"),p=new Date,f=re.value||p.getTime();e="NOTSET"===h?"":{rangeMode:h,rangeCount:Z.value,colorGradientType:c},"density"===n&&(t=new zr({datasetName:d.title,method:r,meshType:s,resolution:N.value,fields:A.title,radius:q.value,meshSizeUnit:a,radiusUnit:l,areaUnit:u,query:o,mappingParameters:new Ct({rangeMode:e.rangeMode,rangeCount:e.rangeCount,colorGradientType:e.colorGradientType})}));let m={analysisParam:t,resultLayerName:f};return m}return ce.id="deleteLayersBtn",ce.innerHTML=Jo.i18n("btn_emptyTheAnalysisLayer"),this.messageBox=new Vo,this.datasetSelectOnchange=he.bind(this),oe.onclick=()=>{this.messageBox.closeView();let e=pe();d.title===Jo.i18n("text_option_selectDataset")?this.messageBox.showView(Jo.i18n("msg_selectDataset"),"failure"):A.title===Jo.i18n("text_option_notSet")?this.messageBox.showView(Jo.i18n("msg_setTheWeightField"),"failure"):(this.messageBox.closeView(),ae.style.display="block",oe.style.display="none",this.viewModel.on("layerloaded",e=>{ae.style.display="none",oe.style.display="block",this._event.fire("analysissucceeded",{layer:e.layer,name:e.name})}),this.viewModel.on("analysisfailed",e=>{this.messageBox.showView(Jo.i18n("msg_theFieldNotSupportAnalysis"),"failure"),ae.style.display="none",oe.style.display="block",this._event.fire("analysisfailed",{error:e.error})}),this.viewModel.analysis(e,this.map))},ce.onclick=()=>{this.viewModel.on("layersremoved",e=>{this._event.fire("layersremoved",{layers:e.layers})}),this.viewModel.clearLayers()},this._preventMapEvent(e,this.map),e},_createOptions(e,t){for(let n in t){let r=document.createElement("div");r.className="component-selecttool__option",r.title=t[n],r.innerHTML=t[n],r.setAttribute("data-value",t[n]),e.appendChild(r)}},_creatInputBox(e,t){let n=a.a.DomUtil.create("div","",t),r=a.a.DomUtil.create("span","",n);r.innerHTML=e.spanName;let i=a.a.DomUtil.create("input","",n);return i.value=e.value,i.className="component-distributeanalysis__input",n},_creatUnitSelectBox(e,t){let n=a.a.DomUtil.create("div","component-clientcomputation__buffer--radius",t),r=a.a.DomUtil.create("span","",n);r.innerHTML=e.labelName;let i=a.a.DomUtil.create("div","",n);a.a.DomUtil.create("input","buffer-radius-input",i);let s=a.a.DomUtil.create("div","component-clientcomputation__buffer--unit",i),o=e.selectOptions,l=new na(o).getElement();return s.appendChild(l),n},_setEleAtribute(e,t,n){for(let r=0;r<n.length;r++)n[r].setAttribute(t,e[r])}}),rg=function(e){return new ng(e)};a.a.supermap.components.distributedAnalysis=rg;class ig extends a.a.Evented{initialize(e){this.dataserviceUrl=e,this.resultLayers=[]}getFeatures(e,t){let n=this.dataserviceUrl,r=this,i=a.a.supermap.featureService(n);e instanceof Zn?i.getFeaturesByIDs(e,(function(e){r._getQureyResult(e,t)})):e instanceof Kn?i.getFeaturesBySQL(e,(function(e){r._getQureyResult(e,t)})):e instanceof Gn?i.getFeaturesByBounds(e,(function(e){r._getQureyResult(e,t)})):e instanceof Wn?i.getFeaturesByBuffer(e,(function(e){r._getQureyResult(e,t)})):e instanceof Jn&&i.getFeaturesByGeometry(e,(function(e){r._getQureyResult(e,t)}))}_getQureyResult(e,t){if(e.error)return void this.fire("getfeaturesfailed",{error:e.error});let n=a.a.geoJSON(e.result.features,{onEachFeature:function(e,t){t.bindPopup("ID: "+e.properties.SMID)},pointToLayer:function(e,t){return a.a.circleMarker(t,{radius:6})}}).addTo(t);this.resultLayers.push(n),this.fire("getfeaturessucceeded",{result:e.result.features})}clearLayers(){for(let e in this.resultLayers)this.resultLayers[e].remove();this.resultLayers=[]}}var sg=function(e){return new sg(e)};a.a.supermap.components.dataServiceQueryViewModel=sg;var og=Py.extend({initialize:function(e,t,n){if(Py.prototype.initialize.apply(this,[n]),this.dataServiceUrl=e,!t||0===t.length)throw new Error("Please configure the dataset of the query");this.dataSetNames=t instanceof Array?t:t.split(" ")},onAdd:function(e){return Py.prototype.onAdd.apply(this,[e])},onRemove:function(){this.map.off("pm:create")},setDataSetNames(e){this.dataSetNames=e instanceof Array?e:e.split(" ")},setGetFeatureMode(e){this.getFeatureMode=e,this._getFeatureModeOnchange(this.getFeatureMode)},setDataServiceUrl(e){this.dataServiceUrl=e,this.viewModel=new ig(this.dataServiceUrl)},_getFeatureModeOnchange(e){let t;t=e&&"{}"!=JSON.stringify(e)?e:["ID","SQL","BOUNDS","BUFFER","SPATIAL"];let n=document.getElementById("queryModelControl");n.innerHTML="",this.creatQueryModeSelect(t,n)},_initView:function(){this.viewModel=new ig(this.dataServiceUrl),this.messageBox=new Vo;let e=new ta({title:Jo.i18n("title_dataServiceQuery")}).getElement();e.classList.add("component-servicequery__container"),e.children[0].classList.add("component-servicequery__title");let t=e.children[1];t.classList.add("component-content--scroll"),t.classList.add("data-services");let n,r=a.a.DomUtil.create("div","component-analysis__container",t),i=a.a.DomUtil.create("div","component-servicequery__analysistype",r),s=a.a.DomUtil.create("div","component-analysis__container__analysisLayer",i),o=this.options.getFeatureMode;n=o&&"{}"!=JSON.stringify(o)?o:["ID","SQL","BOUNDS","BUFFER","SPATIAL"];let l=a.a.DomUtil.create("div","",s);l.id="queryModelContainer";let u=a.a.DomUtil.create("div","component-analysis__selecttool",l);u.id="queryModelControl",this.creatQueryModeSelect=K.bind(this),this.queryModeltOnchange=Q.bind(this),this.creatQueryModeSelect(n,u);let c=a.a.DomUtil.create("div","component-analysis__container component-textarea--dataservice__container",s),h=a.a.DomUtil.create("span","textarea-name",c);h.innerHTML=Jo.i18n("text_label_IDArrayOfFeatures");let p=a.a.DomUtil.create("div","component-textarea component-textarea--dataservice",c);p.id="getfeaturesIdArr";let d=a.a.DomUtil.create("div","scrollarea",p),f=a.a.DomUtil.create("div","component-scrollarea-content",d);f.setAttribute("tabindex","1");let m=a.a.DomUtil.create("textarea","component-textarea__content",f);m.value="[1,2,3]",m.id="getValueTextArea";let y=a.a.DomUtil.create("div","component-servicequery__maxfeatures-container hidden",s),g={spanName:Jo.i18n("text_label_maxFeatures"),value:"1000"},_=this._creatInputBox(g,y),v=_.children[1];v.classList.add("max-features-input");let b=a.a.DomUtil.create("div","component-servicequery__distance-container hidden",s),x={spanName:Jo.i18n("text_label_bufferDistance"),value:"10"},w=this._creatInputBox(x,b),S=w.children[1],C=a.a.DomUtil.create("div","component-analysis__container component-textarea--dataservice__container hidden",s),E=a.a.DomUtil.create("span","textarea-name",C),T=a.a.DomUtil.create("div","",C),A=a.a.DomUtil.create("div","component-servicequery__rangeicon-container",T);E.innerHTML=Jo.i18n("text_label_queryRange1");let P=a.a.DomUtil.create("div","component-servicequery__rangeicon supermapol-icons-polygon-layer bounds",A),I=a.a.DomUtil.create("div","component-servicequery__rangeicon supermapol-icons-line-layer hidden",A),L=a.a.DomUtil.create("div","component-servicequery__rangeicon supermapol-icons-point-layer hidden",A),M=a.a.DomUtil.create("div","component-textarea component-textarea--rangequery",T);M.id="getfeaturesIdArr";let O=a.a.DomUtil.create("div","",M),k=a.a.DomUtil.create("div","component-scrollarea-content",O);k.setAttribute("tabindex","1");let N=a.a.DomUtil.create("textarea","component-textarea__content component-textarea--rangequery__content",k);N.value='{"leftBottom":{"x":-5,"y":-5},"rightTop":{"x":5,"y":5}}';let R=a.a.DomUtil.create("div","component-servicequery__spatialquerymode-container hidden",s),D={optionsArr:["CONTAIN","CROSS","DISJOINT","IDENTITY","INTERSECT","NONE","OVERLAP","TOUCH","WITHIN"],labelName:Jo.i18n("text_label_spatialQueryMode")},F=a.a.DomUtil.create("div","component-analysis__selecttool",R),B=new na(D).getElement();B.children[1].classList.add("dataservice-select"),F.appendChild(B);let q=B.children[1].children[0];q.id="spatialQueryModeSelectName";let z=B.children[1].children[2];z.classList.add("component-servicequery__spatialquerymode__selectcontent");let U=a.a.DomUtil.create("div","component-analysis__container__analysisbtn",s),G=a.a.DomUtil.create("div","component-analysis__analysisbtn",U),j=a.a.DomUtil.create("button","component-analysis__analysisbtn--analysis",G);j.innerHTML=Jo.i18n("btn_query");let V=a.a.DomUtil.create("div","component-analysis__analysisbtn--analysing-container hidden",G),W=a.a.DomUtil.create("div","component-analysis__analysisbtn--analysising component-servicequery__querybtn--querying",V),H=a.a.DomUtil.create("div","component-analysis__svg-container",W);H.innerHTML='<svg class="component-analysis__svg-rotate" width="16px" height="16px" version="1.1" xmlns="http://www.w3.org/2000/svg">\n             <path id="ring" fill="#FFF" transform="translate(8,8)" d="M 0 0 v -8 A 8 8 0 1 1 -8.00 0 z"></path>\n             <circle cx="8" cy="8" r="6" fill="#38ADF5"></circle>\n             <rect class="svg-top" x="8" y="0" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n             <rect class="svg-left" x="0" y="8" rx="2" ry="2" width="2" height="2" style="fill: rgb(255, 255, 255); stroke-width: 0;"></rect>\n         </svg>',a.a.DomUtil.create("span","",W).innerHTML=Jo.i18n("btn_querying");let J=a.a.DomUtil.create("button","component-analysis__analysisbtn--analysis component-analysis__analysisbtn--deletelayers",G);J.innerHTML=Jo.i18n("btn_emptyTheRresultLayer"),Q(n[0]);let X,Z,Y=this;function K(e,t){let n;if(e instanceof Array&&e.length>1){let r={optionsArr:e,labelName:Jo.i18n("text_label_queryMode"),optionsClickCb:this.queryModeltOnchange},i=new na(r).getElement();t.appendChild(i),n=i.children[1].children[0],i.children[1].classList.add("dataservice-select");let s=i.children[1];s.classList.add("dataservice-select"),s.classList.add("querymodel-select")}else{let t=a.a.DomUtil.create("span","",l);t.innerHTML=Jo.i18n("text_label_queryMode"),n=a.a.DomUtil.create("div","component-servicequery__querymode-selectname",l);let r=a.a.DomUtil.create("span","",n);r.innerHTML=e instanceof Array?e[0]:e,n.title=r.innerHTML,this.queryModeltOnchange(n)}return n.id="queryModelSelectName",n}function Q(e){let t;switch(t=e.title?e.title:e,y.classList.add("hidden"),C.classList.add("hidden"),b.classList.add("hidden"),I.classList.add("hidden"),L.classList.add("hidden"),P.classList.remove("bounds"),R.classList.add("hidden"),h.innerHTML=Jo.i18n("text_label_featureFilter"),m.value="SMID<10","BUFFER"!==t&&"SPATIAL"!==t||(C.classList.remove("hidden"),E.innerHTML=Jo.i18n("text_label_geometricObject"),N.value='{"type":"Feature","properties":{},"geometry":{"type":"Point","coordinates":[84.90234375,40.25390625]}}',I.classList.remove("hidden"),L.classList.remove("hidden")),t){case"ID":h.innerHTML=Jo.i18n("text_label_IDArrayOfFeatures"),m.value="[1,2,3]";break;case"SQL":y.classList.remove("hidden");break;case"BOUNDS":C.classList.remove("hidden"),E.innerHTML=Jo.i18n("text_label_queryRange"),N.value='{"leftBottom":{"x":-5,"y":-5},"rightTop":{"x":5,"y":5}}',P.classList.add("bounds");break;case"BUFFER":b.classList.remove("hidden");break;case"SPATIAL":R.classList.remove("hidden");break}}function $(){let e,t=Y.dataSetNames,n=document.getElementById("queryModelSelectName"),r=n.title,i=m.value;if("ID"===r){let n=m.value,r=n.substring(1,n.length-1).split(",");e=new Zn({IDs:r,datasetNames:t})}else if("SQL"===r){let n=v.value;e=new Kn({queryParameter:{attributeFilter:i},datasetNames:t,maxFeatures:n})}else if("BOUNDS"===r){if(!X){let e=JSON.parse(N.value);X=a.a.bounds([e.leftBottom.x,e.leftBottom.y],[e.rightTop.x,e.rightTop.y])}e=new Gn({attributeFilter:i,datasetNames:t,bounds:X})}else if("BUFFER"===r){let n=S.value,r=JSON.parse(N.value),s=Z||r;e=new Wn({attributeFilter:i,datasetNames:t,bufferDistance:n,geometry:s})}else if("SPATIAL"===r){let n=q.title,r=JSON.parse(N.value),s=Z||r;e=new Jn({attributeFilter:i,datasetNames:t,spatialQueryMode:n,geometry:s})}return e}return j.onclick=()=>{this.messageBox.closeView(),V.style.display="block",j.style.display="none";let e=$();this.viewModel.on("getfeaturessucceeded",e=>{V.style.display="none",j.style.display="block",0===e.result.features.length&&this.messageBox.showView(Jo.i18n("msg_dataReturnedIsEmpty"),"success"),this._event.fire("getfeaturessucceeded",{result:e.result})}),this.viewModel.on("getfeaturesfailed",e=>{V.style.display="none",j.style.display="block",this.messageBox.showView(e.error.errorMsg,"failure"),this._event.fire("getfeaturesfailed",{error:e.error})}),this.viewModel.getFeatures(e,this.map)},P.onclick=e=>{let t=document.getElementById("queryModelSelectName"),n=t.title;Z&&Z.remove(),"BOUNDS"===n?this.map.pm.enableDraw("Rectangle"):this.map.pm.enableDraw("Poly"),e.stopPropagation(),e.preventDefault()},I.onclick=e=>{Z&&Z.remove(),this.map.pm.enableDraw("Line"),e.stopPropagation(),e.preventDefault()},L.onclick=e=>{Z&&Z.remove(),this.map.pm.enableDraw("Marker"),e.stopPropagation(),e.preventDefault()},this.map.on("pm:create",e=>{if("Rectangle"===e.shape){Z=e.layer;let t=Z.getBounds();X=a.a.bounds([t._southWest.lng,t._southWest.lat],[t._northEast.lng,t._northEast.lat]);let n={leftBottom:{x:t._southWest.lng,y:t._southWest.lat},rightTop:{x:t._northEast.lng,y:t._northEast.lat}};N.value=JSON.stringify(n)}"Marker"===e.shape&&(Z=e.layer,N.value=JSON.stringify(e.layer.toGeoJSON()),this.map.pm.disableDraw("Marker")),"Line"===e.shape&&(Z=e.layer,N.value=JSON.stringify(e.layer.toGeoJSON())),"Polygon"===e.shape&&(Z=e.layer,N.value=JSON.stringify(e.layer.toGeoJSON()))}),J.onclick=()=>{this.viewModel.clearLayers()},this._preventMapEvent(e,this.map),e},_creatInputBox(e,t){let n=a.a.DomUtil.create("div","",t),r=a.a.DomUtil.create("span","",n);r.innerHTML=e.spanName;let i=a.a.DomUtil.create("input","",n);return i.value=e.value,n}}),ag=function(e,t,n){return new og(e,t,n)};a.a.supermap.components.dataServiceQuery=ag;n("ac1f"),n("1276");function lg(e,t,n,r){n&&n!=={}||(n={maxZoom:e.getMaxZoom(),minZoom:e.getMinZoom()});var i={layer:null,type:""};return-1!==t.indexOf("iserver")?(n.cacheEnabled=r,i.layer=o["supermap"].tiledMapLayer(t,n),i.type="supermap"):-1!==t.indexOf("arcgis")?(n.url=t,i.layer=r?o["esri"].tiledMapLayer(n):o["esri"].dynamicMapLayer(n),i.type="arcgis"):-1!==t.indexOf("T-")?(i.layer=o["tileLayer"].chinaProvider(t,n),-1!==t.indexOf("TianDiTu")?i.type="tdt":-1!==t.indexOf("T-Geoq.Normal.PurplishBlue")?i.type="geoqB":-1!==t.indexOf("T-Geoq.Normal.Gray")?i.type="geoqG":t.indexOf("T-GaoDe.Normal.Map")?i.type="geoDe":i.type="google"):(i.layer=o["tileLayer"](t,n),i.type="osm"),""===t&&(i.type=""),i}o["TileLayer"].ChinaProvider=o["TileLayer"].extend({initialize:function(e,t){var n=o["TileLayer"].ChinaProvider.providers,r=e.split("."),i=r[0],s=r[1],a=r[2],l=n[i][s][a];t.subdomains=n[i].Subdomains,t.key=t.key||n[i].key,o["TileLayer"].prototype.initialize.call(this,l,t)}}),o["TileLayer"].ChinaProvider.providers={"T-TianDiTu":{Normal:{Map:"http://t{s}.tianditu.com/DataServer?T=vec_w&X={x}&Y={y}&L={z}&tk={key}",Annotation:"http://t{s}.tianditu.com/DataServer?T=cva_w&X={x}&Y={y}&L={z}&tk={key}"},Satellite:{Map:"http://t{s}.tianditu.com/DataServer?T=img_w&X={x}&Y={y}&L={z}&tk={key}",Annotation:"http://t{s}.tianditu.com/DataServer?T=cia_w&X={x}&Y={y}&L={z}&tk={key}"},Terrain:{Map:"http://t{s}.tianditu.com/DataServer?T=ter_w&X={x}&Y={y}&L={z}&tk={key}",Annotation:"http://t{s}.tianditu.com/DataServer?T=cta_w&X={x}&Y={y}&L={z}&tk={key}"},Subdomains:["0","1","2","3","4","5","6","7"],key:"f5a5b965118d9f64418ff38c6bcf25f3"},"T-GaoDe":{Normal:{Map:"http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}"},Satellite:{Map:"http://webst0{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}",Annotation:"http://webst0{s}.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}"},Subdomains:["1","2","3","4"]},"T-Google":{Normal:{Map:"http://www.google.cn/maps/vt?lyrs=m@189&gl=cn&x={x}&y={y}&z={z}"},Satellite:{Map:"http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}"},Subdomains:[]},"T-Geoq":{Normal:{Map:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer/tile/{z}/{y}/{x}",PurplishBlue:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}",Gray:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetGray/MapServer/tile/{z}/{y}/{x}",Warm:"http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetWarm/MapServer/tile/{z}/{y}/{x}"},Theme:{Hydro:"http://thematic.geoq.cn/arcgis/rest/services/ThematicMaps/WorldHydroMap/MapServer/tile/{z}/{y}/{x}"},Subdomains:[]},"T-OSM":{Normal:{Map:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"},Subdomains:["a","b","c"]}},o["tileLayer"].chinaProvider=function(e,t){return new o["TileLayer"].ChinaProvider(e,t)};n("a15b"),n("0d03");var ug=n("fdf9"),cg=(n("7319"),n("3ac1"),n("3cb9"));n("c197");L.Icon.Pulse=L.DivIcon.extend({options:{className:"",iconSize:[12,12],fillColor:"red",color:"red",animate:!0,heartbeat:1},initialize:function(e){L.setOptions(this,e);var t="lpi-"+(new Date).getTime()+"-"+Math.round(1e5*Math.random()),n=["background-color: "+this.options.fillColor],r=["box-shadow: 0 0 6px 2px "+this.options.color,"animation: pulsate "+this.options.heartbeat+"s ease-out","animation-iteration-count: infinite","animation-delay: "+(this.options.heartbeat+.1)+"s"];this.options.animate||(r.push("animation: none"),r.push("box-shadow:none"));var i=["."+t+"{"+n.join(";")+";}","."+t+":after{"+r.join(";")+";}"].join(""),s=document.createElement("style");s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i)),document.getElementsByTagName("head")[0].appendChild(s),this.options.className=this.options.className+" leaflet-pulsing-icon "+t,L.DivIcon.prototype.initialize.call(this,e)}}),L.icon.pulse=function(e){return new L.Icon.Pulse(e)},L.Marker.Pulse=L.Marker.extend({initialize:function(e,t){t.icon=L.icon.pulse(t),L.Marker.prototype.initialize.call(this,e,t)}}),L.marker.pulse=function(e,t){return new L.Marker.Pulse(e,t)};var hg={proLayerSelector:function(e){switch(e){case"heatmap":return function(t,n,r){return hg._mapVLayerBuilder(t,hg._heatOptionConverter(n,e),r)};case"grid":return function(t,n,r){return hg._mapVLayerBuilder(t,hg._heatOptionConverter(n,e),r)};case"honeycomb":return function(t,n,r){return hg._mapVLayerBuilder(t,hg._heatOptionConverter(n,e),r)};case"cluster":return function(e,t){var n=[];e.map((function(e){n.push(L.marker(L.latLng(e.geometry.coordinates[1],e.geometry.coordinates[0])))}));var r=L.markerClusterGroup(hg._clusterOptionConverter(t));return r.addLayers(n),r};case"track":return function(t,n,r){return hg._mapVTrackLine(t,hg._trackLineOptionConverter(n,e),r)};case"strength":return function(t,n,r){return hg._mapVStrengthLine(t,hg._strengthLineOptionConverter(n,e),r)};case"optimiseColor":return function(t,n,r){return hg._optimiseClassifyColorLayer(t,hg._optimiseColorOptionConverter(n,e),r)};case"classColor":return function(t,n,r){return hg._mapVClassifyColorLayer(t,hg._classColorOptionConverter(n,e),r)};case"classSymbol":return function(t,n,r){return hg._mapVClassicSymbolLayer(t,hg._classSymbolColorOptionConverter(n,e),r)}}},_entries:function(e){for(var t={},n=0;n<e.length;n++)""!==e[n].val&&""!==e[n].color&&(t=Object.assign(t,JSON.parse('{"'.concat(e[n].val,'":"').concat(e[n].color,'"}'))));return t},_heatOptionConverter:function(e,t){var n=JSON.parse(JSON.stringify(e));return n.gradient=this._entries(e._gradient),n.draw=t,n},_clusterOptionConverter:function(e){var t=JSON.parse(JSON.stringify(cg["c"]));return e&&(t=Object.assign(cg["c"],e)),t.draw="cluster",t},_trackLineOptionConverter:function(e){var t={time:JSON.parse(JSON.stringify(cg["k"])),line:JSON.parse(JSON.stringify(cg["f"])),text:JSON.parse(JSON.stringify(cg["j"])),point:JSON.parse(JSON.stringify(cg["g"]))};return e&&(t=Object.assign(t,e)),t},_strengthLineOptionConverter:function(e){var t=JSON.parse(JSON.stringify(cg["h"]));return e&&(t=Object.assign(t,e)),t.draw="simple",t},_optimiseColorOptionConverter:function(e){var t=JSON.parse(JSON.stringify(cg["a"]));if(e){t=Object.assign(t,e),t.scale=[];for(var n=0;n<t._scale.length;n++)t.scale.push(t._scale[n].color)}return t},_classColorOptionConverter:function(e){var t=JSON.parse(JSON.stringify(cg["b"]));return e&&(t=Object.assign(t,e)),t.gradient=this._entries(e._gradient),t},_classSymbolColorOptionConverter:function(e){var t=JSON.parse(JSON.stringify(cg["i"]));return e&&(t=Object.assign(t,e)),t},_mapVLayerBuilder:function(e,t,n){var r=void 0;n.hasOwnProperty("countField")&&e[0].properties.hasOwnProperty(n["countField"])&&(r=n["countField"]);for(var i=e.length,s=[],o=0;o<i;o++){var a=e[o];if("Point"!==a.geometry.type)return;s.push({geometry:{type:"Point",coordinates:[a.geometry.coordinates[0],a.geometry.coordinates[1]]},count:r?a.properties[r]:1})}var l=new ug["DataSet"](JSON.parse(JSON.stringify(s)));return ug["leafletMapLayer"](l,t)},_mapVTrackLine:function(e,t,n){for(var r=[],i=[],s=[],o=[],a=e.length,l={},u={},c=0;c<a;c++){var h=e[c],p=h.properties[n.directField];"from"===p?u[h.properties[n.nameField]]=h:l[h.properties[n.nameField]]=h}for(var d=0;d<a;d++){var f=e[d],m=f.properties[n.directField];if("from"===m){var y=l[f.properties[n.toField]];i.push({geometry:f.geometry}),o.push({geometry:f.geometry,text:f.properties[n.nameField]}),i.push({geometry:y.geometry}),o.push({geometry:y.geometry,text:y.properties[n.nameField]});for(var g={lat:f.geometry.coordinates[1],lng:f.geometry.coordinates[0]},_={lat:y.geometry.coordinates[1],lng:y.geometry.coordinates[0]},v=ug["utilCurve"].getPoints([g,_]),b=0;b<v.length;b++)s.push({geometry:{type:"Point",coordinates:v[b]},count:1,time:b});r.push({geometry:{type:"LineString",coordinates:v},count:f.properties[n.countField]})}}var x=new ug["DataSet"](JSON.parse(JSON.stringify(o))),w=ug["leafletMapLayer"](x,t.text),S=new ug["DataSet"](JSON.parse(JSON.stringify(r))),C=ug["leafletMapLayer"](S,t.line),E=new ug["DataSet"](JSON.parse(JSON.stringify(i))),T=ug["leafletMapLayer"](E,t.point),A=new ug["DataSet"](JSON.parse(JSON.stringify(s))),P=ug["leafletMapLayer"](A,t.time),I=L.layerGroup();return I.addLayer(w),I.addLayer(C),I.addLayer(T),I.addLayer(P),I},_mapVStrengthLine:function(e,t,n){for(var r=e.length,i=[],s=0;s<r;s++)i.push({geometry:e[s].geometry,count:100});var o=new ug["DataSet"](JSON.parse(JSON.stringify(i)));return ug["leafletMapLayer"](o,t)},_optimiseClassifyColorLayer:function(e,t){var n={type:"FeatureCollection",features:e};return L.choropleth(n,t)},_mapVClassicSymbolLayer:function(e,t,n){t.draw="bubble";for(var r=e.length,i=[],s=0;s<r;s++){var o=e[s];if("Point"!==o.geometry.type)return;i.push({geometry:{type:"Point",coordinates:[o.geometry.coordinates[0],o.geometry.coordinates[1]]},count:n.countField?o.properties[n.countField]:1})}var a=new ug["DataSet"](JSON.parse(JSON.stringify(i)));return ug["leafletMapLayer"](a,t)},_mapVClassifyColorLayer:function(e,t,n){t.draw="intensity";var r=ug["geojson"].getDataSet({type:"FeatureCollection",features:e}),i=r.get({filter:function(e){return e.count=e.hasOwnProperty(n.countField)?e[n.countField]:1,!0}}),s=new ug["DataSet"](JSON.parse(JSON.stringify(i)));return ug["leafletMapLayer"](s,t)}},pg=(n("83ff"),n("0e0b"));o["esri"]=l;var dg=o["Evented"].extend({initialize:function(e,t){var n;this.map=null,this.baseUrl="http://10.10.50.15:6080/arcgis/rest/services/AdminArea/MapServer/",this.tileLayers={},this.conf=t,this.vectorLayers=[],n=""!==t.resolutions?new o["Proj"].CRS(proj4(t.epsg),{resolutions:t.resolutions?JSON.parse(t.resolutions):null,origin:t.originX?[t.originY,t.originX]:null}):o["CRS"][t.epsg],this.epsg=t.epsg;var r=null,i=o["latLng"](t.bottomLeftY,t.bottomLeftX),s=o["latLng"](t.topRightY,t.topRightX);r=o["latLngBounds"](i,s);var a={crs:n,attributionControl:!1,logoControl:!1,zoomControl:!1,minZoom:t.minZoom||0,maxZoom:t.maxZoom||18,maxBounds:r,renderer:o["svg"](),maxBoundsViscosity:1};return this.map=o["map"](e,a),this.setView(t),this.map},setView:function(e){this.map.invalidateSize(!0),this.map.setView([e.centerY,e.centerX],e.zoom)},processView:function(e){e.centerX===this.map.getCenter().lng&&e.centerY===this.map.getCenter().lat&&e.zoom===this.map.getZoom()||this.setView(e),e.maxZoom!==this.map.getMaxZoom()&&this.map.setMaxZoom(e.maxZoom),e.minZoom!==this.map.getMinZoom()&&this.map.setMinZoom(e.minZoom)},addTileLayer:function(e,t){var n=e.url;"tdt"===e.source?(n="T-TianDiTu.Normal.Map",t={annotation:"T-TianDiTu.Normal.Annotation"}):"google"===e.source?n="T-Google.Satellite.Map":"geoqB"===e.source?n="T-Geoq.Normal.PurplishBlue":"geoqG"===e.source?n="T-Geoq.Normal.Gray":"geoDe"===e.source?n="T-GaoDe.Normal.Map":"supermapD"===e.source&&(n="https://iserver.supermap.io/iserver/services/map-china400/rest/maps/ChinaDark");var r=lg(this.map,n,t||{},"tile"===e.tileType);return this.map.addLayer(r.layer),this.tileLayers[r.layer._leaflet_id]=r.layer,r.layer.conf=JSON.parse(JSON.stringify(e)),r.layer.conf.id=r.layer._leaflet_id,{id:r.layer._leaflet_id,type:r.type}},addProLayer:function(e,t,n){var r=this.Visualization.proLayerSelector(t);if(r instanceof Function){var i=[];if(e.forEach((function(e){e.name===n.refLayer&&(i=e.feats)})),i&&i instanceof Array&&i.length>0){var s=r(i,n[t+"Opt"],n);return s.id=pg["a"].guid(),s}}},queryGisData:function(e,t){return new Promise((function(n,r){var i=o["esri"].query({url:e}),s=t.where;s&&i.where(s);var a=t.within,l=t.intersects,u=t.contains,c=t.overlaps,h=t.nearby;a&&i.within(a),l&&i.intersects(l),u&&i.contains(u),c&&i.overlaps(c),h&&i.nearby(h.latlng,h.radius);var p=t.outFields;p&&(i.params.outFields=p),i.run((function(e,t){e?(console.error("ID"),n({features:[]})):n(t)}))}))},fieldsService:function(e,t){return new Promise((function(n,r){var i=new SuperMap.FieldParameters({datasource:t.datasource,dataset:t.name});ry(e).getFields(i,(function(e){"processFailed"===e.type||e.hasOwnProperty("error")?n([]):n(e.result.fieldNames)}))}))},queryGisDataSm:function(e,t){return new Promise((function(n,r){var i={name:"".concat(t.name,"@").concat(t.datasource),attributeFilter:"1=1"};t.hasOwnProperty("fields")&&(i.fields=t.fields);var s=new SuperMap.GetFeaturesBySQLParameters({queryParameter:i,fromIndex:0,toIndex:1e7,datasetNames:["".concat(t.datasource,":").concat(t.name)]});zf(e).getFeaturesBySQL(s,(function(e){"processFailed"===e.type||e.hasOwnProperty("error")?n({features:[]}):n(e.result.features)}))}))},Visualization:hg,featClick:function(e,t){for(var n=this.compConf.linkage.linkEvents,r=0;r<n.length;r++){var i=n[r];if("click"===i.evtType&&i.explosive){var s={data:t.target.properties};this.$evtBus.emit(i.evtName,s)}}},clearVec:function(){for(var e=0;e<this.vectorLayers.length;e++)this.map.removeLayer(this.vectorLayers[e]);this.vectorLayers=[]},destroyMap:function(e){this.tileLayers={},this.vectorLayers={},e&&e.remove()}}),fg=dg,mg=n("b897"),yg=n("4d70"),gg=n("2f62"),_g={name:"BaseMap",mixins:[mg["a"]],data:function(){return{globalMap:null,map:null,epsg:"",data:[],themeLayer:null,proGisLayers:{},vectorGisLayers:{},legend:{points:{},lines:{},regions:{}}}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(gg["c"])({previewStatus:"getPreviewState"})),Object(gg["d"])(["components","preview"])),{},{compMap:function(){return this.previewStatus?this.preview.components.value:this.components.compMap},id:function(){return"smap"+this.compConf.compId},style:function(){return{width:this.compConf.box.width+"px",height:this.compConf.box.height+"px",background:this.styleConf.bgColor}},legendStyle:function(){switch(this.styleConf.legend.position){default:case"bl":return{bottom:0,left:0,width:this.styleConf.legend.width+"px",height:this.styleConf.legend.height+"px"};case"tl":return{top:0,left:0,width:this.styleConf.legend.width+"px",height:this.styleConf.legend.height+"px"};case"br":return{bottom:0,right:0,width:this.styleConf.legend.width+"px",height:this.styleConf.legend.height+"px"};case"tr":return{top:0,right:0,width:this.styleConf.legend.width+"px",height:this.styleConf.legend.height+"px"}}},legendShow:function(){return 0===Object.keys(this.legend.points).length&&0===Object.keys(this.legend.lines).length&&0===Object.keys(this.legend.regions).length}}),created:function(){var e=this;this.$nextTick((function(){e.createMap()}))},methods:{getCompConf:function(e){return this.compMap[e]},createMap:function(){return this.globalMap&&(this.globalMap.destroyMap(this.globalMap.map),this.globalMap=null),this.globalMap=new fg(this.id,this.styleConf),this.map=this.globalMap.map,this.epsg=this.styleConf.epsg,this.globalMap.compConf=this.compConf,this.globalMap.$evtBus=this.$evtBus,this.styleConf.tileLayers.length>0&&(this.processTileChange(!0),this.globalMap.setView(this.styleConf),this.reCreateProLayer(),this.reCreateVecLayer()),this.map},refreshMap:function(){this.legend={points:{},lines:{},regions:{}},this.styleConf.epsg!==this.epsg?this.createMap():(this.processTileChange(!1),this.globalMap.processView(this.styleConf),this.reCreateProLayer(),this.reCreateVecLayer())},resize:function(){this.globalMap&&this.globalMap.setView(this.styleConf)},processTileChange:function(e){for(var t=this.styleConf.tileLayers,n=[],r=0;r<t.length;r++){var i=t[r],s=null;if(e)s=this.globalMap.addTileLayer(i,{opacity:i.opacity});else if(this.globalMap.tileLayers.hasOwnProperty(i.id)||-1===["tdt","google","geoqB","geoqG","geoDe","supermapD"].indexOf(i.source))if(this.globalMap.tileLayers.hasOwnProperty(i.id)||""===i.url){if(this.globalMap.tileLayers.hasOwnProperty(i.id)){var o=this.globalMap.tileLayers[i.id];o.conf.url===i.url&&o.conf.tileType===i.tileType&&o.conf.source===i.source&&o.conf.opacity===i.opacity||(this.map.removeLayer(o),delete this.globalMap.tileLayers[i.id],s=this.globalMap.addTileLayer(i,{opacity:i.opacity}))}}else s=this.globalMap.addTileLayer(i,{opacity:i.opacity});else s=this.globalMap.addTileLayer(i,{opacity:i.opacity});s&&(this.$store.getters.getPreviewState?i.hasOwnProperty("id")&&i.id===s.id?i.source!==s.type&&""!==s.type&&Object(yg["e"])(this.compConf.compId+" tileLayers "+r+" source",s.type):Object(yg["e"])(this.compConf.compId+" tileLayers "+r+" id",s.id):i.hasOwnProperty("id")&&i.id===s.id?i.source!==s.type&&""!==s.type&&Object(yg["d"])(this.compConf.compId+" tileLayers "+r+" source",s.type):Object(yg["d"])(this.compConf.compId+" tileLayers "+r+" id",s.id)),i.hasOwnProperty("id")&&n.push(i.id)}for(var a in this.globalMap.tileLayers)-1===n.indexOf(parseInt(a))&&(this.map.removeLayer(this.globalMap.tileLayers[a]),delete this.globalMap.tileLayers[a])},reCreateProLayer:function(){for(var e=Object.keys(this.proGisLayers),t=0;t<this.compConf.style.proLayer.length;t++){var n=this.compConf.style.proLayer[t];!n.show&&this.$refs[n.id]&&this.proGisLayers.hasOwnProperty(n.id)&&this.globalMap.map.removeLayer(this.proGisLayers[n.id].layerObj),-1!==e.indexOf(n.id)&&e.splice(e.indexOf(n.id),1)}for(var r=0;r<e.length;r++)this.clearGisProLayer(this.proGisLayers[e[r]]),delete this.proGisLayers[e[r]];for(var i=0;i<this.compConf.style.proLayer.length;i++){var s=this.compConf.style.proLayer[i];s.show&&this.$refs[s.id]&&this.$refs[s.id][0].notifyBase()}},reCreateVecLayer:function(){for(var e=Object.keys(this.vectorGisLayers),t=0;t<this.compConf.style.vecLayer.length;t++){var n=this.compConf.style.vecLayer[t];!n.show&&this.$refs[n.id]&&this.vectorGisLayers.hasOwnProperty(n.id)&&this.globalMap.map.removeLayer(this.vectorGisLayers[n.id].layerObj),-1!==e.indexOf(n.id)&&e.splice(e.indexOf(n.id),1)}for(var r=0;r<e.length;r++)this.clearGisVecLayer(this.vectorGisLayers[e[r]]),delete this.vectorGisLayers[e[r]];for(var i=0;i<this.compConf.style.vecLayer.length;i++){var s=this.compConf.style.vecLayer[i];s.show&&this.$refs[s.id]&&this.$refs[s.id][0].notifyBase()}},updateGisProLayer:function(e){this.proGisLayers.hasOwnProperty(e.id)&&this.globalMap.map.removeLayer(this.proGisLayers[e.id].layerObj),this.proGisLayers[e.id]={id:e.id,layerId:e.layerObj.id,layerObj:e.layerObj},this.globalMap.map.addLayer(e.layerObj)},updateGisVecLayer:function(e){for(var t in this.vectorGisLayers.hasOwnProperty(e.id)&&this.globalMap.map.removeLayer(this.vectorGisLayers[e.id].layerObj),this.vectorGisLayers)this.vectorGisLayers[t].show=!1;for(var n in this.vectorGisLayers)for(var r=0;r<this.compConf.style.vecLayer.length;r++){var i=this.compConf.style.vecLayer[r];this.$refs[i.id]&&n===i.id&&(this.vectorGisLayers[n].show=this.$refs[i.id][0].showLayer)}this.vectorGisLayers.hasOwnProperty(e.id)?(this.vectorGisLayers[e.id].layerObj=e.layerObj,this.vectorGisLayers[e.id].layerId=e.layerObj.id):this.vectorGisLayers[e.id]={id:e.id,type:e.type,layerId:e.layerObj.id,layerObj:e.layerObj,show:e.show};for(var s=!1,o=this.compConf.style.vecLayer,a=0;a<o.length;a++)o[a].id===e.id&&(s=o[a].show);s&&e.show&&this.globalMap.map.addLayer(e.layerObj),this.refreshLegend()},refreshLegend:function(){for(var e in this.legend={points:{},lines:{},regions:{}},this.vectorGisLayers){var t=this.$refs[e][0].getStyleObj(),n=this.$refs[e][0].showLayer;if(t&&t.list.length>0&&n){var r=t.type;"Point"===r?this.$set(this.legend.points,e,t):"Line"===r?this.$set(this.legend.lines,e,t):"Region"===r&&this.$set(this.legend.regions,e,t)}}},clearGisProLayer:function(e){this.proGisLayers.hasOwnProperty(e.id)&&this.globalMap.map.removeLayer(this.proGisLayers[e.id].layerObj)},clearGisVecLayer:function(e){this.vectorGisLayers.hasOwnProperty(e.id)&&(this.globalMap.map.removeLayer(this.vectorGisLayers[e.id].layerObj),this.vectorGisLayers[e.id].show=!1,this.refreshLegend())},updateChildData:function(e,t){this.$refs[e][0].updateCompData(t.changedLoadedData)},linkageConfChanged:function(){this.globalMap&&(this.globalMap.compConf=this.compConf)},styleConfChanged:function(){this.$store.getters.getPreviewState||this.refreshMap()}}},vg=_g,bg=(n("efd0"),n("2d2d"),n("2877")),xg=Object(bg["a"])(vg,r,i,!1,null,"7726d46a",null);t["default"]=xg.exports},"7a48":function(e,t,n){var r=n("6044"),i=Object.prototype,s=i.hasOwnProperty;function o(e){var t=this.__data__;return r?void 0!==t[e]:s.call(t,e)}e.exports=o},"7aa2":function(e,t,n){var r=n("ec47"),i=n("9934"),s=r(i);e.exports=s},"7b83":function(e,t,n){var r=n("7c64"),i=n("93ed"),s=n("2478"),o=n("a524"),a=n("1fc8");function l(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l},"7b97":function(e,t,n){var r=n("7e64"),i=n("a2be"),s=n("1c3c"),o=n("b1e5e"),a=n("42a2"),l=n("6747"),u=n("0d24"),c=n("73ac"),h=1,p="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function g(e,t,n,m,g,_){var v=l(e),b=l(t),x=v?d:a(e),w=b?d:a(t);x=x==p?f:x,w=w==p?f:w;var S=x==f,C=w==f,E=x==w;if(E&&u(e)){if(!u(t))return!1;v=!0,S=!1}if(E&&!S)return _||(_=new r),v||c(e)?i(e,t,n,m,g,_):s(e,t,x,n,m,g,_);if(!(n&h)){var T=S&&y.call(e,"__wrapped__"),A=C&&y.call(t,"__wrapped__");if(T||A){var P=T?e.value():e,I=A?t.value():t;return _||(_=new r),g(P,I,n,m,_)}}return!!E&&(_||(_=new r),o(e,t,n,m,g,_))}e.exports=g},"7c64":function(e,t,n){var r=n("e24b"),i=n("5e2e"),s=n("79bc");function o(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}e.exports=o},"7d1f":function(e,t,n){var r=n("087d"),i=n("6747");function s(e,t,n){var s=t(e);return i(e)?s:r(s,n(e))}e.exports=s},"7d33":function(e,t,n){(function(t){var r=n("2ef0"),i=n("9eab"),s=n("0b16"),o=n("faa1").EventEmitter;function a(e){if(e=e||{},e.log){var t,n;if(n=i.isArrayOfStrings(e.log)?[{levels:e.log}]:i.createArray(e.log,(function(e){return r.isPlainObject(e)?e:"string"===typeof e?{level:e}:void 0})),!n)throw new TypeError("Invalid logging output config. Expected either a log level, array of log levels, a logger config object, or an array of logger config objects.");for(t=0;t<n.length;t++)this.addOutput(n[t])}}i.inherits(a,o),a.loggers=n("5823"),a.prototype.close=function(){this.emit("closing"),this.listenerCount()&&(console.error("Something is still listening for log events, but the logger is closing."),this.clearAllListeners())},o.prototype.listenerCount?a.prototype.listenerCount=o.prototype.listenerCount:o.listenerCount?a.prototype.listenerCount=function(e){return o.listenerCount(this,e)}:a.prototype.listenerCount=function(e){return this.listeners(e).length},a.levels=["error","warning","info","debug","trace"],a.parseLevels=function(e){switch(typeof e){case"string":var t=r.indexOf(a.levels,e);if(t>=0)return a.levels.slice(0,t+1);case"object":if(r.isArray(e)){var n=r.intersection(e,a.levels);if(n.length===e.length)return n}default:throw new TypeError("invalid logging level "+e+". Expected zero or more of these options: "+a.levels.join(", "))}},a.join=function(e){return r.map(e,(function(e){return r.isPlainObject(e)?JSON.stringify(e,null,2)+"\n":e.toString()})).join(" ")},a.prototype.addOutput=function(e){e=e||{},e.levels=a.parseLevels(e.levels||e.level||"warning"),delete e.level;var n=i.funcEnum(e,"type",a.loggers,t.browser?"console":"stdio");return new n(this,e)},a.prototype.error=function(e){if(this.listenerCount("error"))return this.emit("error",e instanceof Error?e:new Error(e))},a.prototype.warning=function(){if(this.listenerCount("warning"))return this.emit("warning",a.join(arguments))},a.prototype.info=function(){if(this.listenerCount("info"))return this.emit("info",a.join(arguments))},a.prototype.debug=function(){if(this.listenerCount("debug"))return this.emit("debug",a.join(arguments))},a.prototype.trace=function(e,t,n,r,i){if(this.listenerCount("trace"))return this.emit("trace",a.normalizeTraceArgs(e,t,n,r,i))},a.normalizeTraceArgs=function(e,t,n,i,o){return"string"===typeof t?t=s.parse(t,!0,!0):(t=r.clone(t),t.path&&(t.query=s.parse(t.path,!0,!1).query),!t.pathname&&t.path&&(t.pathname=t.path.split("?").shift())),delete t.auth,{method:e,url:s.format(t),body:n,status:o,response:i}},e.exports=a}).call(this,n("4362"))},"7dc3":function(e,t,n){var r=n("2ef0");e.exports=function(e){if(r.isEmpty(e))return!1;for(var t=e.shift().protocol,n=0;n<e.length;n++)if(t!==e[n].protocol)return!1;return t}},"7e64":function(e,t,n){var r=n("5e2e"),i=n("efb6"),s=n("2fcc"),o=n("802a"),a=n("55a3"),l=n("d02c");function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype["delete"]=s,u.prototype.get=o,u.prototype.has=a,u.prototype.set=l,e.exports=u},"7ed2":function(e,t){var n="__lodash_hash_undefined__";function r(e){return this.__data__.set(e,n),this}e.exports=r},"802a":function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},8057:function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}e.exports=n},"812f":function(e,t,n){e.exports=o;var r=n("270d"),i=n("2ef0"),s=n("9eab");function o(e,t){r.call(this,e,t),this.color=!i.has(t,"color")||!!t.color}s.inherits(o,r),o.prototype.setupListeners=function(e){r.prototype.setupListeners.call(this,e)},o.prototype.write=function(e,t,n){console[n]&&console[n](this.format(e,t))},o.prototype.onError=s.handler((function(e){var t=console.error?"error":"log";this.write("Error"===e.name?"ERROR":e.name,e.stack||e.message,t)})),o.prototype.onWarning=s.handler((function(e){this.write("WARNING",e,console.warn?"warn":"log")})),o.prototype.onInfo=s.handler((function(e){this.write("INFO",e,console.info?"info":"log")})),o.prototype.onDebug=s.handler((function(e){this.write("DEBUG",e,console.debug?"debug":"log")})),o.prototype.onTrace=s.handler((function(e){this.write("TRACE",this._formatTraceMessage(e),"log")}))},8296:function(e,t,n){var r=n("656b"),i=n("2b10");function s(e,t){return t.length<2?e:r(e,i(t,0,-1))}e.exports=s},8332:function(e,t,n){var r=n("bbb4").makeFactoryWithModifier((function(e){return n("2ef0").merge(e,{params:{filterPath:{type:"list",name:"filter_path"}}})})),i=n("bbb4").namespaceFactory,s=e.exports={};s._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],s.bulk=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),s.cat=i(),s.cat.prototype.aliases=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),s.cat.prototype.allocation=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),s.cat.prototype.count=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),s.cat.prototype.fielddata=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),s.cat.prototype.health=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},ts:{type:"boolean",default:!0},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/health"}}),s.cat.prototype.help=r({params:{help:{type:"boolean",default:!1},s:{type:"list"}},url:{fmt:"/_cat"}}),s.cat.prototype.indices=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum",default:null,options:["green","yellow","red"]},help:{type:"boolean",default:!1},pri:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),s.cat.prototype.master=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/master"}}),s.cat.prototype.nodeattrs=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodeattrs"}}),s.cat.prototype.nodes=r({params:{format:{type:"string"},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodes"}}),s.cat.prototype.pendingTasks=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/pending_tasks"}}),s.cat.prototype.plugins=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/plugins"}}),s.cat.prototype.recovery=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),s.cat.prototype.repositories=r({params:{format:{type:"string"},local:{type:"boolean",default:!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/repositories"}}),s.cat.prototype.segments=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),s.cat.prototype.shards=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),s.cat.prototype.snapshots=r({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean",default:!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),s.cat.prototype.tasks=r({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/tasks"}}),s.cat.prototype.templates=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/templates/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_cat/templates"}]}),s.cat.prototype.threadPool=r({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),s.clearScroll=r({url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"DELETE"}),s.cluster=i(),s.cluster.prototype.allocationExplain=r({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),s.cluster.prototype.getSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),s.cluster.prototype.health=r({params:{expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},level:{type:"enum",default:"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForNoInitializingShards:{type:"boolean",name:"wait_for_no_initializing_shards"},waitForStatus:{type:"enum",default:null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),s.cluster.prototype.pendingTasks=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),s.cluster.prototype.putSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},needBody:!0,method:"PUT"}),s.cluster.prototype.remoteInfo=r({url:{fmt:"/_remote/info"}}),s.cluster.prototype.reroute=r({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),s.cluster.prototype.state=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},waitForMetadataVersion:{type:"number",name:"wait_for_metadata_version"},waitForTimeout:{type:"time",name:"wait_for_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),s.cluster.prototype.stats=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),s.count=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"list"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},terminateAfter:{type:"number",name:"terminate_after"}},urls:[{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),s.create=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/_create/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s["delete"]=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"DELETE"}),s.deleteByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}},needBody:!0,method:"POST"}),s.deleteByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_delete_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.deleteScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.exists=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.existsSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.explain=r({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},url:{fmt:"/<%=index%>/_explain/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"POST"}),s.fieldCaps=r({params:{fields:{type:"list"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},includeUnmapped:{type:"boolean",default:!1,name:"include_unmapped"}},urls:[{fmt:"/<%=index%>/_field_caps",req:{index:{type:"list"}}},{fmt:"/_field_caps"}],method:"POST"}),s.get=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.getScript=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}}),s.getSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.index=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum",default:"index",options:["index","create"],name:"op_type"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_doc",req:{index:{type:"string"}}}],needBody:!0,method:"POST"}),s.indices=i(),s.indices.prototype.analyze=r({params:{index:{type:"string"}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),s.indices.prototype.clearCache=r({params:{fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),s.indices.prototype.close=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.create=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),s.indices.prototype["delete"]=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteTemplate=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),s.indices.prototype.exists=r({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}}],method:"HEAD"}),s.indices.prototype.existsTemplate=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsType=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),s.indices.prototype.flush=r({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),s.indices.prototype.flushSynced=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),s.indices.prototype.forcemerge=r({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),s.indices.prototype.get=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}}}),s.indices.prototype.getAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),s.indices.prototype.getFieldMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),s.indices.prototype.getMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping"}]}),s.indices.prototype.getSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),s.indices.prototype.getTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),s.indices.prototype.getUpgrade=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),s.indices.prototype.open=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"closed",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.putAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),s.indices.prototype.putMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},needBody:!0,method:"PUT"}),s.indices.prototype.putSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),s.indices.prototype.putTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},order:{type:"number"},create:{type:"boolean",default:!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),s.indices.prototype.recovery=r({params:{detailed:{type:"boolean",default:!1},activeOnly:{type:"boolean",default:!1,name:"active_only"}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),s.indices.prototype.refresh=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),s.indices.prototype.rollover=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),s.indices.prototype.segments=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},verbose:{type:"boolean",default:!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),s.indices.prototype.shardStores=r({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),s.indices.prototype.shrink=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.split=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_split/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},level:{type:"enum",default:"indices",options:["cluster","indices","shards"]},types:{type:"list"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},forbidClosedIndices:{type:"boolean",default:!0,name:"forbid_closed_indices"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),s.indices.prototype.updateAliases=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),s.indices.prototype.upgrade=r({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),s.indices.prototype.validateQuery=r({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},rewrite:{type:"boolean"},allShards:{type:"boolean",name:"all_shards"}},urls:[{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),s.info=r({url:{fmt:"/"}}),s.ingest=i(),s.ingest.prototype.deletePipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.ingest.prototype.getPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),s.ingest.prototype.processorGrok=r({url:{fmt:"/_ingest/processor/grok"}}),s.ingest.prototype.putPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),s.ingest.prototype.simulate=r({params:{verbose:{type:"boolean",default:!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),s.mget=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},urls:[{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),s.msearch=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},typedKeys:{type:"boolean",name:"typed_keys"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),s.msearchTemplate=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},typedKeys:{type:"boolean",name:"typed_keys"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),s.mtermvectors=r({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),s.nodes=i(),s.nodes.prototype.hotThreads=r({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},url:{}}),s.nodes.prototype.info=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),s.nodes.prototype.reloadSecureSettings=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/reload_secure_settings",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/reload_secure_settings"}],method:"POST"}),s.nodes.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},level:{type:"enum",default:"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),s.nodes.prototype.usage=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/usage/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/<%=nodeId%>/usage",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/usage/<%=metric%>",req:{metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/usage"}]}),s.ping=r({url:{fmt:"/"},method:"HEAD"}),s.putScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},context:{type:"string"}},urls:[{fmt:"/_scripts/<%=id%>/<%=context%>",req:{id:{type:"string"},context:{type:"string"}}},{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}],needBody:!0,method:"PUT"}),s.rankEval=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_rank_eval",req:{index:{type:"list"}}},{fmt:"/_rank_eval"}],needBody:!0,method:"POST"}),s.reindex=r({params:{refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},scroll:{type:"time",default:"5m"},slices:{type:"number",default:1}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),s.reindexRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.renderSearchTemplate=r({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),s.scriptsPainlessContext=r({params:{context:{type:"string"}},url:{fmt:"/_scripts/painless/_context"}}),s.scriptsPainlessExecute=r({url:{fmt:"/_scripts/painless/_execute"},method:"POST"}),s.scroll=r({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"POST"}),s.search=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum",default:"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},trackTotalHits:{type:"boolean",name:"track_total_hits"},allowPartialSearchResults:{type:"boolean",default:!0,name:"allow_partial_search_results"},typedKeys:{type:"boolean",name:"typed_keys"},version:{type:"boolean"},seqNoPrimaryTerm:{type:"boolean",name:"seq_no_primary_term"},requestCache:{type:"boolean",name:"request_cache"},batchedReduceSize:{type:"number",default:512,name:"batched_reduce_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},urls:[{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),s.searchShards=r({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),s.searchTemplate=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},explain:{type:"boolean"},profile:{type:"boolean"},typedKeys:{type:"boolean",name:"typed_keys"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],needBody:!0,method:"POST"}),s.snapshot=i(),s.snapshot.prototype.create=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.createRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),s.snapshot.prototype["delete"]=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),s.snapshot.prototype.deleteRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),s.snapshot.prototype.get=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},verbose:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),s.snapshot.prototype.getRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),s.snapshot.prototype.restore=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.status=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),s.snapshot.prototype.verifyRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),s.tasks=i(),s.tasks.prototype.cancel=r({params:{nodes:{type:"list"},actions:{type:"list"},parentTaskId:{type:"string",name:"parent_task_id"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),s.tasks.prototype.get=r({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"},timeout:{type:"time"}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),s.tasks.prototype.list=r({params:{nodes:{type:"list"},actions:{type:"list"},detailed:{type:"boolean"},parentTaskId:{type:"string",name:"parent_task_id"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum",default:"nodes",options:["nodes","parents","none"],name:"group_by"},timeout:{type:"time"}},url:{fmt:"/_tasks"}}),s.termvectors=r({params:{termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_termvectors/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_termvectors",req:{index:{type:"string"}}}],method:"POST"}),s.update=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},lang:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"}},url:{fmt:"/<%=index%>/_update/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s.updateByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}},method:"POST"}),s.updateByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_update_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"})},83323:function(e,t,n){e.exports=n("7aa2")},"83ff":function(e,t,n){},"85e3":function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},8604:function(e,t,n){var r=n("26e8"),i=n("e2c0");function s(e,t){return null!=e&&i(e,t,r)}e.exports=s},"86e1":function(e,t,n){var r=n("85e3"),i=n("e2e4"),s=n("4416"),o=n("8296"),a=n("f4d6");function l(e,t,n){t=i(t,e),e=o(e,t);var l=null==e?e:e[a(s(t))];return null==l?void 0:r(l,e,n)}e.exports=l},"872a":function(e,t,n){var r=n("3b4a");function i(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}e.exports=i},"89d9":function(e,t,n){var r=n("656b"),i=n("159a"),s=n("e2e4");function o(e,t,n){var o=-1,a=t.length,l={};while(++o<a){var u=t[o],c=r(e,u);n(c,u)&&i(l,s(u,e),c)}return l}e.exports=o},"8adb":function(e,t){function n(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=n},"8d3f":function(e,t,n){var r=n("bbb4").makeFactoryWithModifier((function(e){return n("2ef0").merge(e,{params:{filterPath:{type:"list",name:"filter_path"}}})})),i=n("bbb4").namespaceFactory,s=e.exports={};s._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],s.bulk=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),s.cat=i(),s.cat.prototype.aliases=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),s.cat.prototype.allocation=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),s.cat.prototype.count=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),s.cat.prototype.fielddata=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),s.cat.prototype.health=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},ts:{type:"boolean",default:!0},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/health"}}),s.cat.prototype.help=r({params:{help:{type:"boolean",default:!1},s:{type:"list"}},url:{fmt:"/_cat"}}),s.cat.prototype.indices=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum",default:null,options:["green","yellow","red"]},help:{type:"boolean",default:!1},pri:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),s.cat.prototype.master=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/master"}}),s.cat.prototype.nodeattrs=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodeattrs"}}),s.cat.prototype.nodes=r({params:{format:{type:"string"},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodes"}}),s.cat.prototype.pendingTasks=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/pending_tasks"}}),s.cat.prototype.plugins=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/plugins"}}),s.cat.prototype.recovery=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),s.cat.prototype.repositories=r({params:{format:{type:"string"},local:{type:"boolean",default:!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/repositories"}}),s.cat.prototype.segments=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),s.cat.prototype.shards=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),s.cat.prototype.snapshots=r({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean",default:!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),s.cat.prototype.tasks=r({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/tasks"}}),s.cat.prototype.templates=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/templates/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_cat/templates"}]}),s.cat.prototype.threadPool=r({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),s.clearScroll=r({url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"DELETE"}),s.cluster=i(),s.cluster.prototype.allocationExplain=r({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),s.cluster.prototype.getSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),s.cluster.prototype.health=r({params:{expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},level:{type:"enum",default:"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForNoInitializingShards:{type:"boolean",name:"wait_for_no_initializing_shards"},waitForStatus:{type:"enum",default:null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),s.cluster.prototype.pendingTasks=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),s.cluster.prototype.putSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},needBody:!0,method:"PUT"}),s.cluster.prototype.remoteInfo=r({url:{fmt:"/_remote/info"}}),s.cluster.prototype.reroute=r({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),s.cluster.prototype.state=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},waitForMetadataVersion:{type:"number",name:"wait_for_metadata_version"},waitForTimeout:{type:"time",name:"wait_for_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),s.cluster.prototype.stats=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),s.count=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"list"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},terminateAfter:{type:"number",name:"terminate_after"}},urls:[{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),s.create=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/_create/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s["delete"]=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"DELETE"}),s.deleteByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}},needBody:!0,method:"POST"}),s.deleteByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_delete_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.deleteScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.exists=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.existsSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.explain=r({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},url:{fmt:"/<%=index%>/_explain/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"POST"}),s.fieldCaps=r({params:{fields:{type:"list"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},includeUnmapped:{type:"boolean",default:!1,name:"include_unmapped"}},urls:[{fmt:"/<%=index%>/_field_caps",req:{index:{type:"list"}}},{fmt:"/_field_caps"}],method:"POST"}),s.get=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.getScript=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}}),s.getSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.index=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum",default:"index",options:["index","create"],name:"op_type"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_doc",req:{index:{type:"string"}}}],needBody:!0,method:"POST"}),s.indices=i(),s.indices.prototype.analyze=r({params:{index:{type:"string"}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),s.indices.prototype.clearCache=r({params:{fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),s.indices.prototype.clone=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_clone/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.close=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.create=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),s.indices.prototype["delete"]=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteTemplate=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),s.indices.prototype.exists=r({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}}],method:"HEAD"}),s.indices.prototype.existsTemplate=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsType=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),s.indices.prototype.flush=r({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),s.indices.prototype.flushSynced=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),s.indices.prototype.forcemerge=r({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),s.indices.prototype.get=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}}}),s.indices.prototype.getAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),s.indices.prototype.getFieldMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),s.indices.prototype.getMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping"}]}),s.indices.prototype.getSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),s.indices.prototype.getTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),s.indices.prototype.getUpgrade=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),s.indices.prototype.open=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"closed",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.putAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),s.indices.prototype.putMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},needBody:!0,method:"PUT"}),s.indices.prototype.putSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),s.indices.prototype.putTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},order:{type:"number"},create:{type:"boolean",default:!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),s.indices.prototype.recovery=r({params:{detailed:{type:"boolean",default:!1},activeOnly:{type:"boolean",default:!1,name:"active_only"}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),s.indices.prototype.refresh=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),s.indices.prototype.rollover=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),s.indices.prototype.segments=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},verbose:{type:"boolean",default:!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),s.indices.prototype.shardStores=r({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),s.indices.prototype.shrink=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.split=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_split/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},level:{type:"enum",default:"indices",options:["cluster","indices","shards"]},types:{type:"list"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},forbidClosedIndices:{type:"boolean",default:!0,name:"forbid_closed_indices"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),s.indices.prototype.updateAliases=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),s.indices.prototype.upgrade=r({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),s.indices.prototype.validateQuery=r({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},rewrite:{type:"boolean"},allShards:{type:"boolean",name:"all_shards"}},urls:[{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),s.info=r({url:{fmt:"/"}}),s.ingest=i(),s.ingest.prototype.deletePipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.ingest.prototype.getPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),s.ingest.prototype.processorGrok=r({url:{fmt:"/_ingest/processor/grok"}}),s.ingest.prototype.putPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),s.ingest.prototype.simulate=r({params:{verbose:{type:"boolean",default:!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),s.mget=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},urls:[{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),s.msearch=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},typedKeys:{type:"boolean",name:"typed_keys"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),s.msearchTemplate=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},typedKeys:{type:"boolean",name:"typed_keys"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),s.mtermvectors=r({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),s.nodes=i(),s.nodes.prototype.hotThreads=r({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},url:{}}),s.nodes.prototype.info=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),s.nodes.prototype.reloadSecureSettings=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/reload_secure_settings",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/reload_secure_settings"}],method:"POST"}),s.nodes.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},level:{type:"enum",default:"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),s.nodes.prototype.usage=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/usage/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/<%=nodeId%>/usage",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/usage/<%=metric%>",req:{metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/usage"}]}),s.ping=r({url:{fmt:"/"},method:"HEAD"}),s.putScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},context:{type:"string"}},urls:[{fmt:"/_scripts/<%=id%>/<%=context%>",req:{id:{type:"string"},context:{type:"string"}}},{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}],needBody:!0,method:"PUT"}),s.rankEval=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_rank_eval",req:{index:{type:"list"}}},{fmt:"/_rank_eval"}],needBody:!0,method:"POST"}),s.reindex=r({params:{refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},scroll:{type:"time",default:"5m"},slices:{type:"number",default:1},maxDocs:{type:"number",name:"max_docs"}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),s.reindexRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.renderSearchTemplate=r({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),s.scriptsPainlessExecute=r({url:{fmt:"/_scripts/painless/_execute"},method:"POST"}),s.scroll=r({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"POST"}),s.search=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum",default:"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},trackTotalHits:{type:"boolean",name:"track_total_hits"},allowPartialSearchResults:{type:"boolean",default:!0,name:"allow_partial_search_results"},typedKeys:{type:"boolean",name:"typed_keys"},version:{type:"boolean"},seqNoPrimaryTerm:{type:"boolean",name:"seq_no_primary_term"},requestCache:{type:"boolean",name:"request_cache"},batchedReduceSize:{type:"number",default:512,name:"batched_reduce_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},urls:[{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),s.searchShards=r({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),s.searchTemplate=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},explain:{type:"boolean"},profile:{type:"boolean"},typedKeys:{type:"boolean",name:"typed_keys"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],needBody:!0,method:"POST"}),s.snapshot=i(),s.snapshot.prototype.create=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.createRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),s.snapshot.prototype["delete"]=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),s.snapshot.prototype.deleteRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),s.snapshot.prototype.get=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},verbose:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),s.snapshot.prototype.getRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),s.snapshot.prototype.restore=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.status=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),s.snapshot.prototype.verifyRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),s.tasks=i(),s.tasks.prototype.cancel=r({params:{nodes:{type:"list"},actions:{type:"list"},parentTaskId:{type:"string",name:"parent_task_id"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),s.tasks.prototype.get=r({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"},timeout:{type:"time"}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),s.tasks.prototype.list=r({params:{nodes:{type:"list"},actions:{type:"list"},detailed:{type:"boolean"},parentTaskId:{type:"string",name:"parent_task_id"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum",default:"nodes",options:["nodes","parents","none"],name:"group_by"},timeout:{type:"time"}},url:{fmt:"/_tasks"}}),s.termvectors=r({params:{termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_termvectors/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_termvectors",req:{index:{type:"string"}}}],method:"POST"}),s.update=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},lang:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"}},url:{fmt:"/<%=index%>/_update/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s.updateByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}},method:"POST"}),s.updateByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_update_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"})},"8de2":function(e,t,n){var r=n("8eeb"),i=n("9934");function s(e){return r(e,i(e))}e.exports=s},"8eeb":function(e,t,n){var r=n("32b3"),i=n("872a");function s(e,t,n,s){var o=!n;n||(n={});var a=-1,l=t.length;while(++a<l){var u=t[a],c=s?s(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),o?i(n,u,c):r(n,u,c)}return n}e.exports=s},"900d":function(e,t,n){var r=n("8eeb"),i=n("2ec1"),s=n("ec69"),o=i((function(e,t,n,i){r(t,s(t),e,i)}));e.exports=o},9152:function(e,t){t.read=function(e,t,n,r,i){var s,o,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?i-1:0,p=n?-1:1,d=e[t+h];for(h+=p,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=256*s+e[t+h],h+=p,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+e[t+h],h+=p,c-=8);if(0===s)s=1-u;else{if(s===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=u}return(d?-1:1)*o*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var o,a,l,u=8*s-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+h>=1?p/l:p*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(t*l-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&a,d+=f,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[n+d]=255&o,d+=f,o/=256,u-=8);e[n+d-f]|=128*m}},"91dd":function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,s){t=t||"&",n=n||"=";var o={};if("string"!==typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var l=1e3;s&&"number"===typeof s.maxKeys&&(l=s.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var h,p,d,f,m=e[c].replace(a,"%20"),y=m.indexOf(n);y>=0?(h=m.substr(0,y),p=m.substr(y+1)):(h=m,p=""),d=decodeURIComponent(h),f=decodeURIComponent(p),r(o,d)?i(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},"91e9":function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},93906:function(e,t,n){var r=n("9eab");e.exports=function(e){var t=0,n=e.connectionPool,i=n._onConnectionDied,s=function(){s.timerId=e._timeout(s.timerId),e.sniff()},o=function(e){var t=r.now();return function(){return t-e}};n._onConnectionDied=function(r,a){var l=i.call(n,r,a);t=s.timerId?t+1:0;var u=n.calcDeadTimeout(t,1e3);return s.timerId&&u<s.timerId&&s.countdown()&&(s.timerId=e._timeout(s.timerId)),s.timerId||(s.timerId=e._timeout(s,u),s.countdown=o(u)),l},n._onConnectionDied.restore=function(){n._onConnectionDied=i}}},"93ed":function(e,t,n){var r=n("4245");function i(e){var t=r(this,e)["delete"](e);return this.size-=t?1:0,t}e.exports=i},9520:function(e,t,n){var r=n("3729"),i=n("1a8c"),s="[object AsyncFunction]",o="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";function u(e){if(!i(e))return!1;var t=r(e);return t==o||t==a||t==s||t==l}e.exports=u},"95ae":function(e,t,n){var r=n("100e"),i=n("9638"),s=n("9aff"),o=n("9934"),a=Object.prototype,l=a.hasOwnProperty,u=r((function(e,t){e=Object(e);var n=-1,r=t.length,u=r>2?t[2]:void 0;u&&s(t[0],t[1],u)&&(r=1);while(++n<r){var c=t[n],h=o(c),p=-1,d=h.length;while(++p<d){var f=h[p],m=e[f];(void 0===m||i(m,a[f])&&!l.call(e,f))&&(e[f]=c[f])}}return e}));e.exports=u},9638:function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},"966f":function(e,t,n){var r=n("7e64"),i=n("c05f"),s=1,o=2;function a(e,t,n,a){var l=n.length,u=l,c=!a;if(null==e)return!u;e=Object(e);while(l--){var h=n[l];if(c&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}while(++l<u){h=n[l];var p=h[0],d=e[p],f=h[1];if(c&&h[2]){if(void 0===d&&!(p in e))return!1}else{var m=new r;if(a)var y=a(d,f,p,e,t,m);if(!(void 0===y?i(f,d,s|o,a,m):y))return!1}}return!0}e.exports=a},"96f3":function(e,t){var n=Object.prototype,r=n.hasOwnProperty;function i(e,t){return null!=e&&r.call(e,t)}e.exports=i},"972c":function(e,t){function n(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}e.exports=n},9934:function(e,t,n){var r=n("6fcd"),i=n("41c3"),s=n("30c9");function o(e){return s(e)?r(e,!0):i(e)}e.exports=o},9948:function(e,t,n){var r=n("72af"),i=n("1304"),s=n("9934");function o(e,t){return null==e?e:r(e,i(t),s)}e.exports=o},"99cd":function(e,t){function n(e){return function(t,n,r){var i=-1,s=Object(t),o=r(t),a=o.length;while(a--){var l=o[e?a:++i];if(!1===n(s[l],l,s))break}return t}}e.exports=n},"99d3":function(e,t,n){(function(e){var r=n("585a"),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o&&r.process,l=function(){try{var e=s&&s.require&&s.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=l}).call(this,n("62e4")(e))},"9aff":function(e,t,n){var r=n("9638"),i=n("30c9"),s=n("c0983"),o=n("1a8c");function a(e,t,n){if(!o(n))return!1;var a=typeof t;return!!("number"==a?i(n)&&s(t,n.length):"string"==a&&t in n)&&r(n[t],e)}e.exports=a},"9b02":function(e,t,n){var r=n("656b");function i(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}e.exports=i},"9e69":function(e,t,n){var r=n("2b3e"),i=r.Symbol;e.exports=i},"9e86":function(e,t,n){var r=n("872a"),i=n("242e"),s=n("badf");function o(e,t){var n={};return t=s(t,3),i(e,(function(e,i,s){r(n,i,t(e,i,s))})),n}e.exports=o},"9eab":function(e,t,n){(function(t,r){var i=n("2ef0"),s=n("3022"),o={};function a(e,t,n){return function(r){for(var i,s,o,a,l=0,u=[],c="";l<r.length;l++)i=r.charCodeAt(l),s=r.charAt(l),a=i>=97&&i<=122||i>=48&&i<=57,o=i>=65&&i<=90,!o&&a||(c.length&&u.push(c),c=""),(o||a)&&(a&&c.length?c+=s:c=!u.length&&e||u.length&&t?s.toUpperCase():s.toLowerCase());return c.length&&u.push(c),u.length&&"_"===r.charAt(0)&&(u[0]="_"+u[0]),u.join(n)}}o.inherits=s.inherits,o.isArrayOfStrings=function(e){return i.isArray(e)&&i.every(e.slice(0,10),i.isString)},o.ucfirst=function(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()},o.studlyCase=a(!0,!0,""),o.camelCase=a(!1,!0,""),o.snakeCase=a(!1,!1,"_"),o.toUpperString=function(e){return e?"string"!==typeof e&&(e=e.toString()):e="",e.toUpperCase()},o.isNumeric=function(e){return"object"!==typeof e&&e-parseFloat(e)>=0};var l=/^(\d+(?:\.\d+)?)(M|w|d|h|m|s|y|ms)$/;o.isInterval=function(e){return!(!e.match||!e.match(l))},o.repeat=function(e,t){return new Array(t+1).join(e)},o.applyArgs=function(e,t,n,r){switch(r=r||0,n.length-r){case 0:return e.call(t);case 1:return e.call(t,n[0+r]);case 2:return e.call(t,n[0+r],n[1+r]);case 3:return e.call(t,n[0+r],n[1+r],n[2+r]);case 4:return e.call(t,n[0+r],n[1+r],n[2+r],n[3+r]);case 5:return e.call(t,n[0+r],n[1+r],n[2+r],n[3+r],n[4+r]);default:return e.apply(t,Array.prototype.slice.call(n,r))}},o.nextTick=function(e){t.nextTick(i.bindKey(o,"applyArgs",e,null,arguments,1))},o.handler=function(e){return e._provideBound=!0,e},o.makeBoundMethods=function(e){for(var t in e.bound={},e)"function"===typeof e[t]&&!0===e[t]._provideBound&&(e.bound[t]=i.bind(e[t],e))},o.funcEnum=function(e,t,n,r){var s=e[t];switch(typeof s){case"undefined":return n[r];case"function":return s;case"string":if(n.hasOwnProperty(s))return n[s];default:var o="Invalid "+t+' "'+s+'", expected a function';switch(i.size(n)){case 0:break;case 1:o+=" or "+i.keys(n)[0];break;default:o+=" or one of "+i.keys(n).join(", ");break}throw new TypeError(o)}},o.createArray=function(e,t){t="function"===typeof t?t:i.identity;var n,r,s=[];for(i.isArray(e)||(e=[e]),r=0;r<e.length;r++){if(n=t(e[r]),void 0===n)return!1;s.push(n)}return s},o.getUnwrittenFromStream=function(e){var t=o.getStreamWriteBuffer(e);if(t){var n="";return t.length?(i.each(t,(function(e){if(e.chunk)n+=""+e.chunk;else{if(!i.isArray(e)||"string"!==typeof e[0]&&!r.isBuffer(e[0]))return!1;n+=""+e[0]}})),n):n}},o.getStreamWriteBuffer=function(e){if(e&&e._writableState){var t=e._writableState;return t.getBuffer?t.getBuffer():t.buffer?t.buffer:void 0}},o.clearWriteStreamBuffer=function(e){var t=o.getStreamWriteBuffer(e);return t&&t.splice(0)},o.now=function(){return"function"===typeof Date.now?Date.now():(new Date).getTime()},e.exports=o}).call(this,n("4362"),n("b639").Buffer)},a029:function(e,t,n){var r=n("087d"),i=n("2dcb"),s=n("32f4"),o=n("d327"),a=Object.getOwnPropertySymbols,l=a?function(e){var t=[];while(e)r(t,s(e)),e=i(e);return t}:o;e.exports=l},a0ac:function(e,t){var n="Expected a function";function r(e){if("function"!=typeof e)throw new TypeError(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}e.exports=r},a2be:function(e,t,n){var r=n("d612"),i=n("4284"),s=n("c584"),o=1,a=2;function l(e,t,n,l,u,c){var h=n&o,p=e.length,d=t.length;if(p!=d&&!(h&&d>p))return!1;var f=c.get(e),m=c.get(t);if(f&&m)return f==t&&m==e;var y=-1,g=!0,_=n&a?new r:void 0;c.set(e,t),c.set(t,e);while(++y<p){var v=e[y],b=t[y];if(l)var x=h?l(b,v,y,t,e,c):l(v,b,y,e,t,c);if(void 0!==x){if(x)continue;g=!1;break}if(_){if(!i(t,(function(e,t){if(!s(_,t)&&(v===e||u(v,e,n,l,c)))return _.push(t)}))){g=!1;break}}else if(v!==b&&!u(v,b,n,l,c)){g=!1;break}}return c["delete"](e),c["delete"](t),g}e.exports=l},a2db:function(e,t,n){var r=n("9e69"),i=r?r.prototype:void 0,s=i?i.valueOf:void 0;function o(e){return s?Object(s.call(e)):{}}e.exports=o},a3fd:function(e,t,n){var r=n("7948");function i(e,t){return r(t,(function(t){return[t,e[t]]}))}e.exports=i},a454:function(e,t,n){var r=n("72f0"),i=n("3b4a"),s=n("cd9d"),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=o},a524:function(e,t,n){var r=n("4245");function i(e){return r(this,e).has(e)}e.exports=i},a6fb:function(e,t,n){e.exports={assign:n("dce5"),assignIn:n("a9b9"),assignInWith:n("c30c"),assignWith:n("900d"),at:n("b8bb"),create:n("c3f4"),defaults:n("95ae"),defaultsDeep:n("3f84"),entries:n("0b49"),entriesIn:n("83323"),extend:n("cdd8"),extendWith:n("d6dd"),findKey:n("74c8"),findLastKey:n("ab3e"),forIn:n("9948"),forInRight:n("18f6"),forOwn:n("020f"),forOwnRight:n("ca7c"),functions:n("fb25"),functionsIn:n("1693"),get:n("9b02"),has:n("3852"),hasIn:n("8604"),invert:n("27f3c"),invertBy:n("e759"),invoke:n("3a0e"),keys:n("ec69"),keysIn:n("9934"),mapKeys:n("4472"),mapValues:n("9e86"),merge:n("42454"),mergeWith:n("2411"),omit:n("3eea"),omitBy:n("dd65"),pick:n("2593"),pickBy:n("77c1"),result:n("44677"),set:n("0f5c"),setWith:n("193b"),toPairs:n("f542"),toPairsIn:n("7aa2"),transform:n("50ca"),unset:n("3cfe"),update:n("ee45"),updateWith:n("e9d1"),values:n("3ff1"),valuesIn:n("7159")}},a78b:function(e,t,n){var r=n("656b"),i=n("159a");function s(e,t,n,s){return i(e,t,n(r(e,t)),s)}e.exports=s},a994:function(e,t,n){var r=n("7d1f"),i=n("32f4"),s=n("ec69");function o(e){return r(e,s,i)}e.exports=o},a9b9:function(e,t,n){var r=n("8eeb"),i=n("2ec1"),s=n("9934"),o=i((function(e,t){r(t,s(t),e)}));e.exports=o},ab3e:function(e,t,n){var r=n("972c"),i=n("4be8"),s=n("badf");function o(e,t){return r(e,s(t,3),i)}e.exports=o},ac41:function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}e.exports=n},afb9:function(e,t,n){var r=n("2d7c"),i=n("9520");function s(e,t){return r(t,(function(t){return i(e[t])}))}e.exports=s},b047:function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},b1e5e:function(e,t,n){var r=n("a994"),i=1,s=Object.prototype,o=s.hasOwnProperty;function a(e,t,n,s,a,l){var u=n&i,c=r(e),h=c.length,p=r(t),d=p.length;if(h!=d&&!u)return!1;var f=h;while(f--){var m=c[f];if(!(u?m in t:o.call(t,m)))return!1}var y=l.get(e),g=l.get(t);if(y&&g)return y==t&&g==e;var _=!0;l.set(e,t),l.set(t,e);var v=u;while(++f<h){m=c[f];var b=e[m],x=t[m];if(s)var w=u?s(x,b,m,t,e,l):s(b,x,m,e,t,l);if(!(void 0===w?b===x||a(b,x,n,s,l):w)){_=!1;break}v||(v="constructor"==m)}if(_&&!v){var S=e.constructor,C=t.constructor;S==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&S instanceof S&&"function"==typeof C&&C instanceof C||(_=!1)}return l["delete"](e),l["delete"](t),_}e.exports=a},b218:function(e,t){var n=9007199254740991;function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}e.exports=r},b383:function(e,t,n){"use strict";t.decode=t.parse=n("91dd"),t.encode=t.stringify=n("e099")},b4c0:function(e,t,n){var r=n("cb5a");function i(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}e.exports=i},b568:function(e,t,n){
/* @preserve
 * Leaflet 1.6.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
(function(e,n){n(t)})(0,(function(e){"use strict";var t="1.6.0",n=Object.freeze;function r(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n],i)e[t]=i[t];return e}Object.freeze=function(e){return e};var i=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function s(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(e){return e._leaflet_id=e._leaflet_id||++o,e._leaflet_id}function l(e,t,n){var r,i,s,o;return o=function(){r=!1,i&&(s.apply(n,i),i=!1)},s=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(o,t),r=!0)},s}function u(e,t,n){var r=t[1],i=t[0],s=r-i;return e===r&&n?e:((e-i)%s+s)%s+i}function c(){return!1}function h(e,t){var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function p(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d(e){return p(e).split(/\s+/)}function f(e,t){for(var n in e.hasOwnProperty("options")||(e.options=e.options?i(e.options):{}),t)e.options[n]=t[n];return e.options}function m(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var y=/\{ *([\w_-]+) *\}/g;function g(e,t){return e.replace(y,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r}))}var _=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function S(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var C=window.requestAnimationFrame||x("RequestAnimationFrame")||S,E=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function T(e,t,n){if(!n||C!==S)return C.call(window,s(e,t));e.call(t)}function A(e){e&&E.call(window,e)}var P=(Object.freeze||Object)({freeze:n,extend:r,create:i,bind:s,lastId:o,stamp:a,throttle:l,wrapNum:u,falseFn:c,formatNum:h,trim:p,splitWords:d,setOptions:f,getParamString:m,template:g,isArray:_,indexOf:v,emptyImageUrl:b,requestFn:C,cancelFn:E,requestAnimFrame:T,cancelAnimFrame:A});function I(){}function M(e){if("undefined"!==typeof L&&L&&L.Mixin){e=_(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}I.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=t.__super__=this.prototype,s=i(n);for(var o in s.constructor=t,t.prototype=s,this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(t[o]=this[o]);return e.statics&&(r(t,e.statics),delete e.statics),e.includes&&(M(e.includes),r.apply(null,[s].concat(e.includes)),delete e.includes),s.options&&(e.options=r(i(s.options),e.options)),r(s,e),s._initHooks=[],s.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=s._initHooks.length;e<t;e++)s._initHooks[e].call(this)}},t},I.include=function(e){return r(this.prototype,e),this},I.mergeOptions=function(e){return r(this.prototype.options,e),this},I.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var O={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else{e=d(e);for(var i=0,s=e.length;i<s;i++)this._on(e[i],t,n)}return this},off:function(e,t,n){if(e)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else{e=d(e);for(var i=0,s=e.length;i<s;i++)this._off(e[i],t,n)}else delete this._events;return this},_on:function(e,t,n){this._events=this._events||{};var r=this._events[e];r||(r=[],this._events[e]=r),n===this&&(n=void 0);for(var i={fn:t,ctx:n},s=r,o=0,a=s.length;o<a;o++)if(s[o].fn===t&&s[o].ctx===n)return;s.push(i)},_off:function(e,t,n){var r,i,s;if(this._events&&(r=this._events[e],r))if(t){if(n===this&&(n=void 0),r)for(i=0,s=r.length;i<s;i++){var o=r[i];if(o.ctx===n&&o.fn===t)return o.fn=c,this._firingCount&&(this._events[e]=r=r.slice()),void r.splice(i,1)}}else{for(i=0,s=r.length;i<s;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,t,n){if(!this.listens(e,n))return this;var i=r({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var s=this._events[e];if(s){this._firingCount=this._firingCount+1||1;for(var o=0,a=s.length;o<a;o++){var l=s[o];l.fn.call(l.ctx||this,i)}this._firingCount--}}return n&&this._propagateEvent(i),this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var r in this._eventParents)if(this._eventParents[r].listens(e,t))return!0;return!1},once:function(e,t,n){if("object"===typeof e){for(var r in e)this.once(r,e[r],t);return this}var i=s((function(){this.off(e,t,n).off(e,i,n)}),this);return this.on(e,t,n).on(e,i,n)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,r({layer:e.target,propagatedFrom:e.target},e),!0)}};O.addEventListener=O.on,O.removeEventListener=O.clearAllEventListeners=O.off,O.addOneTimeEventListener=O.once,O.fireEvent=O.fire,O.hasEventListeners=O.listens;var k=I.extend(O);function N(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var R=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function D(e,t,n){return e instanceof N?e:_(e)?new N(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new N(e.x,e.y):new N(e,t,n)}function F(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function B(e,t){return!e||e instanceof F?e:new F(e,t)}function q(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function z(e,t){return e instanceof q?e:new q(e,t)}function U(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function G(e,t,n){return e instanceof U?e:_(e)&&"object"!==typeof e[0]?3===e.length?new U(e[0],e[1],e[2]):2===e.length?new U(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new U(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new U(e,t,n)}N.prototype={clone:function(){return new N(this.x,this.y)},add:function(e){return this.clone()._add(D(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(D(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new N(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new N(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=R(this.x),this.y=R(this.y),this},distanceTo:function(e){e=D(e);var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return e=D(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=D(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+h(this.x)+", "+h(this.y)+")"}},F.prototype={extend:function(e){return e=D(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new N(this.min.x,this.max.y)},getTopRight:function(){return new N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return e="number"===typeof e[0]||e instanceof N?D(e):B(e),e instanceof F?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=B(e);var t=this.min,n=this.max,r=e.min,i=e.max,s=i.x>=t.x&&r.x<=n.x,o=i.y>=t.y&&r.y<=n.y;return s&&o},overlaps:function(e){e=B(e);var t=this.min,n=this.max,r=e.min,i=e.max,s=i.x>t.x&&r.x<n.x,o=i.y>t.y&&r.y<n.y;return s&&o},isValid:function(){return!(!this.min||!this.max)}},q.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof U)t=e,n=e;else{if(!(e instanceof q))return e?this.extend(G(e)||z(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new U(t.lat,t.lng),this._northEast=new U(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new q(new U(t.lat-r,t.lng-i),new U(n.lat+r,n.lng+i))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof U||"lat"in e?G(e):z(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof q?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=z(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),s=i.lat>=t.lat&&r.lat<=n.lat,o=i.lng>=t.lng&&r.lng<=n.lng;return s&&o},overlaps:function(e){e=z(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),s=i.lat>t.lat&&r.lat<n.lat,o=i.lng>t.lng&&r.lng<n.lng;return s&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=z(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},U.prototype={equals:function(e,t){if(!e)return!1;e=G(e);var n=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return n<=(void 0===t?1e-9:t)},toString:function(e){return"LatLng("+h(this.lat,e)+", "+h(this.lng,e)+")"},distanceTo:function(e){return V.distance(this,G(e))},wrap:function(){return V.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return z([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new U(this.lat,this.lng,this.alt)}};var j={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e),r=this.transformation.transform(t.min,n),i=this.transformation.transform(t.max,n);return new F(r,i)},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?u(e.lng,this.wrapLng,!0):e.lng,n=this.wrapLat?u(e.lat,this.wrapLat,!0):e.lat,r=e.alt;return new U(n,t,r)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var s=e.getSouthWest(),o=e.getNorthEast(),a=new U(s.lat-r,s.lng-i),l=new U(o.lat-r,o.lng-i);return new q(a,l)}},V=r({},j,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,s=Math.sin((t.lat-e.lat)*n/2),o=Math.sin((t.lng-e.lng)*n/2),a=s*s+Math.cos(r)*Math.cos(i)*o*o,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),W=6378137,H={R:W,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new N(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new U((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=W*Math.PI;return new F([-e,-e],[e,e])}()};function J(e,t,n,r){if(_(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function X(e,t,n,r){return new J(e,t,n,r)}J.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new N((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Z=r({},V,{code:"EPSG:3857",projection:H,transformation:function(){var e=.5/(Math.PI*H.R);return X(e,.5,-e,.5)}()}),Y=r({},Z,{code:"EPSG:900913"});function K(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Q(e,t){var n,r,i,s,o,a,l="";for(n=0,i=e.length;n<i;n++){for(o=e[n],r=0,s=o.length;r<s;r++)a=o[r],l+=(r?"L":"M")+a.x+" "+a.y;l+=t?Le?"z":"x":""}return l||"M0 0"}var $=document.documentElement.style,ee="ActiveXObject"in window,te=ee&&!document.addEventListener,ne="msLaunchUri"in navigator&&!("documentMode"in document),re=Oe("webkit"),ie=Oe("android"),se=Oe("android 2")||Oe("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=ie&&Oe("Google")&&oe<537&&!("AudioNode"in window),le=!!window.opera,ue=Oe("chrome"),ce=Oe("gecko")&&!re&&!le&&!ee,he=!ue&&Oe("safari"),pe=Oe("phantom"),de="OTransition"in $,fe=0===navigator.platform.indexOf("Win"),me=ee&&"transition"in $,ye="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!se,ge="MozPerspective"in $,_e=!window.L_DISABLE_3D&&(me||ye||ge)&&!de&&!pe,ve="undefined"!==typeof orientation||Oe("mobile"),be=ve&&re,xe=ve&&ye,we=!window.PointerEvent&&window.MSPointerEvent,Se=!re&&!(!window.PointerEvent&&!we),Ce=!window.L_NO_TOUCH&&(Se||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ee=ve&&le,Te=ve&&ce,Ae=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pe=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e},Ie=function(){return!!document.createElement("canvas").getContext}(),Le=!(!document.createElementNS||!K("svg").createSVGRect),Me=!Le&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}();function Oe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var ke=(Object.freeze||Object)({ie:ee,ielt9:te,edge:ne,webkit:re,android:ie,android23:se,androidStock:ae,opera:le,chrome:ue,gecko:ce,safari:he,phantom:pe,opera12:de,win:fe,ie3d:me,webkit3d:ye,gecko3d:ge,any3d:_e,mobile:ve,mobileWebkit:be,mobileWebkit3d:xe,msPointer:we,pointer:Se,touch:Ce,mobileOpera:Ee,mobileGecko:Te,retina:Ae,passiveEvents:Pe,canvas:Ie,svg:Le,vml:Me}),Ne=we?"MSPointerDown":"pointerdown",Re=we?"MSPointerMove":"pointermove",De=we?"MSPointerUp":"pointerup",Fe=we?"MSPointerCancel":"pointercancel",Be=["INPUT","SELECT","OPTION"],qe={},ze=!1,Ue=0;function Ge(e,t,n,r){return"touchstart"===t?Ve(e,n,r):"touchmove"===t?Ze(e,n,r):"touchend"===t&&Ye(e,n,r),this}function je(e,t,n){var r=e["_leaflet_"+t+n];return"touchstart"===t?e.removeEventListener(Ne,r,!1):"touchmove"===t?e.removeEventListener(Re,r,!1):"touchend"===t&&(e.removeEventListener(De,r,!1),e.removeEventListener(Fe,r,!1)),this}function Ve(e,t,n){var r=s((function(e){if("mouse"!==e.pointerType&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(Be.indexOf(e.target.tagName)<0))return;Vt(e)}Xe(e,t)}));e["_leaflet_touchstart"+n]=r,e.addEventListener(Ne,r,!1),ze||(document.documentElement.addEventListener(Ne,We,!0),document.documentElement.addEventListener(Re,He,!0),document.documentElement.addEventListener(De,Je,!0),document.documentElement.addEventListener(Fe,Je,!0),ze=!0)}function We(e){qe[e.pointerId]=e,Ue++}function He(e){qe[e.pointerId]&&(qe[e.pointerId]=e)}function Je(e){delete qe[e.pointerId],Ue--}function Xe(e,t){for(var n in e.touches=[],qe)e.touches.push(qe[n]);e.changedTouches=[e],t(e)}function Ze(e,t,n){var r=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&Xe(e,t)};e["_leaflet_touchmove"+n]=r,e.addEventListener(Re,r,!1)}function Ye(e,t,n){var r=function(e){Xe(e,t)};e["_leaflet_touchend"+n]=r,e.addEventListener(De,r,!1),e.addEventListener(Fe,r,!1)}var Ke=we?"MSPointerDown":Se?"pointerdown":"touchstart",Qe=we?"MSPointerUp":Se?"pointerup":"touchend",$e="_leaflet_";function et(e,t,n){var r,i,s=!1,o=250;function a(e){var t;if(Se){if(!ne||"mouse"===e.pointerType)return;t=Ue}else t=e.touches.length;if(!(t>1)){var n=Date.now(),a=n-(r||n);i=e.touches?e.touches[0]:e,s=a>0&&a<=o,r=n}}function l(e){if(s&&!i.cancelBubble){if(Se){if(!ne||"mouse"===e.pointerType)return;var n,o,a={};for(o in i)n=i[o],a[o]=n&&n.bind?n.bind(i):n;i=a}i.type="dblclick",i.button=0,t(i),r=null}}return e[$e+Ke+n]=a,e[$e+Qe+n]=l,e[$e+"dblclick"+n]=t,e.addEventListener(Ke,a,!!Pe&&{passive:!1}),e.addEventListener(Qe,l,!!Pe&&{passive:!1}),e.addEventListener("dblclick",t,!1),this}function tt(e,t){var n=e[$e+Ke+t],r=e[$e+Qe+t],i=e[$e+"dblclick"+t];return e.removeEventListener(Ke,n,!!Pe&&{passive:!1}),e.removeEventListener(Qe,r,!!Pe&&{passive:!1}),ne||e.removeEventListener("dblclick",i,!1),this}var nt,rt,it,st,ot,at=Ct(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),lt=Ct(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ut="webkitTransition"===lt||"OTransition"===lt?lt+"End":"transitionend";function ct(e){return"string"===typeof e?document.getElementById(e):e}function ht(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function pt(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function dt(e){var t=e.parentNode;t&&t.removeChild(e)}function ft(e){while(e.firstChild)e.removeChild(e.firstChild)}function mt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function yt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function gt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=xt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function _t(e,t){if(void 0!==e.classList)for(var n=d(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!gt(e,t)){var s=xt(e);bt(e,(s?s+" ":"")+t)}}function vt(e,t){void 0!==e.classList?e.classList.remove(t):bt(e,p((" "+xt(e)+" ").replace(" "+t+" "," ")))}function bt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function xt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function wt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&St(e,t)}function St(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function Ct(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Et(e,t,n){var r=t||new N(0,0);e.style[at]=(me?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Tt(e,t){e._leaflet_pos=t,_e?Et(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function At(e){return e._leaflet_pos||new N(0,0)}if("onselectstart"in document)nt=function(){Dt(window,"selectstart",Vt)},rt=function(){Bt(window,"selectstart",Vt)};else{var Pt=Ct(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);nt=function(){if(Pt){var e=document.documentElement.style;it=e[Pt],e[Pt]="none"}},rt=function(){Pt&&(document.documentElement.style[Pt]=it,it=void 0)}}function It(){Dt(window,"dragstart",Vt)}function Lt(){Bt(window,"dragstart",Vt)}function Mt(e){while(-1===e.tabIndex)e=e.parentNode;e.style&&(Ot(),st=e,ot=e.style.outline,e.style.outline="none",Dt(window,"keydown",Ot))}function Ot(){st&&(st.style.outline=ot,st=void 0,ot=void 0,Bt(window,"keydown",Ot))}function kt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Nt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Rt=(Object.freeze||Object)({TRANSFORM:at,TRANSITION:lt,TRANSITION_END:ut,get:ct,getStyle:ht,create:pt,remove:dt,empty:ft,toFront:mt,toBack:yt,hasClass:gt,addClass:_t,removeClass:vt,setClass:bt,getClass:xt,setOpacity:wt,testProp:Ct,setTransform:Et,setPosition:Tt,getPosition:At,disableTextSelection:nt,enableTextSelection:rt,disableImageDrag:It,enableImageDrag:Lt,preventOutline:Mt,restoreOutline:Ot,getSizedParentNode:kt,getScale:Nt});function Dt(e,t,n,r){if("object"===typeof t)for(var i in t)qt(e,i,t[i],n);else{t=d(t);for(var s=0,o=t.length;s<o;s++)qt(e,t[s],n,r)}return this}var Ft="_leaflet_events";function Bt(e,t,n,r){if("object"===typeof t)for(var i in t)zt(e,i,t[i],n);else if(t){t=d(t);for(var s=0,o=t.length;s<o;s++)zt(e,t[s],n,r)}else{for(var a in e[Ft])zt(e,a,e[Ft][a]);delete e[Ft]}return this}function qt(e,t,n,r){var i=t+a(n)+(r?"_"+a(r):"");if(e[Ft]&&e[Ft][i])return this;var s=function(t){return n.call(r||e,t||window.event)},o=s;Se&&0===t.indexOf("touch")?Ge(e,t,s,i):!Ce||"dblclick"!==t||!et||Se&&ue?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",s,!!Pe&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(s=function(t){t=t||window.event,$t(e,t)&&o(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",s,!1)):("click"===t&&ie&&(s=function(e){en(e,o)}),e.addEventListener(t,s,!1)):"attachEvent"in e&&e.attachEvent("on"+t,s):et(e,s,i),e[Ft]=e[Ft]||{},e[Ft][i]=s}function zt(e,t,n,r){var i=t+a(n)+(r?"_"+a(r):""),s=e[Ft]&&e[Ft][i];if(!s)return this;Se&&0===t.indexOf("touch")?je(e,t,i):!Ce||"dblclick"!==t||!tt||Se&&ue?"removeEventListener"in e?"mousewheel"===t?e.removeEventListener("onwheel"in e?"wheel":"mousewheel",s,!!Pe&&{passive:!1}):e.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,s,!1):"detachEvent"in e&&e.detachEvent("on"+t,s):tt(e,i),e[Ft][i]=null}function Ut(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,Qt(e),this}function Gt(e){return qt(e,"mousewheel",Ut),this}function jt(e){return Dt(e,"mousedown touchstart dblclick",Ut),qt(e,"click",Kt),this}function Vt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Wt(e){return Vt(e),Ut(e),this}function Ht(e,t){if(!t)return new N(e.clientX,e.clientY);var n=Nt(t),r=n.boundingClientRect;return new N((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Jt=fe&&ue?2*window.devicePixelRatio:ce?window.devicePixelRatio:1;function Xt(e){return ne?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Jt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}var Zt,Yt={};function Kt(e){Yt[e.type]=!0}function Qt(e){var t=Yt[e.type];return Yt[e.type]=!1,t}function $t(e,t){var n=t.relatedTarget;if(!n)return!0;try{while(n&&n!==e)n=n.parentNode}catch(r){return!1}return n!==e}function en(e,t){var n=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,r=Zt&&n-Zt;r&&r>100&&r<500||e.target._simulatedClick&&!e._simulated?Wt(e):(Zt=n,t(e))}var tn=(Object.freeze||Object)({on:Dt,off:Bt,stopPropagation:Ut,disableScrollPropagation:Gt,disableClickPropagation:jt,preventDefault:Vt,stop:Wt,getMousePosition:Ht,getWheelDelta:Xt,fakeStop:Kt,skipped:Qt,isExternalTarget:$t,addListener:Dt,removeListener:Bt}),nn=k.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=At(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Tt(this._el,n),this.fire("step")},_complete:function(){A(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),rn=k.extend({options:{crs:Z,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=f(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(G(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=lt&&_e&&!Ee&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Dt(this._proxy,ut,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,n){if(t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(G(e),t,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n){void 0!==n.animate&&(n.zoom=r({animate:n.animate},n.zoom),n.pan=r({animate:n.animate,duration:n.duration},n.pan));var i=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,n.zoom):this._tryAnimatedPan(e,n.pan);if(i)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(_e?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(_e?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),s=e instanceof N?e:this.latLngToContainerPoint(e),o=s.subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():z(e);var n=D(t.paddingTopLeft||t.padding||[0,0]),r=D(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if(i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i,i===1/0)return{center:e.getCenter(),zoom:i};var s=r.subtract(n).divideBy(2),o=this.project(e.getSouthWest(),i),a=this.project(e.getNorthEast(),i),l=this.unproject(o.add(a).divideBy(2).add(s),i);return{center:l,zoom:i}},fitBounds:function(e,t){if(e=z(e),!e.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=D(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new nn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){_t(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(n=n||{},!1===n.animate||!_e)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),s=this.getSize(),o=this._zoom;e=G(e),t=void 0===t?o:t;var a=Math.max(s.x,s.y),l=a*this.getZoomScale(o,t),u=i.distanceTo(r)||1,c=1.42,h=c*c;function p(e){var t=e?-1:1,n=e?l:a,r=l*l-a*a+t*h*h*u*u,i=2*n*h*u,s=r/i,o=Math.sqrt(s*s+1)-s,c=o<1e-9?-18:Math.log(o);return c}function d(e){return(Math.exp(e)-Math.exp(-e))/2}function f(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return d(e)/f(e)}var y=p(0);function g(e){return a*(f(y)/f(y+c*e))}function _(e){return a*(f(y)*m(y+c*e)-d(y))/h}function v(e){return 1-Math.pow(1-e,1.5)}var b=Date.now(),x=(p(1)-y)/c,w=n.duration?1e3*n.duration:1e3*x*.8;function S(){var n=(Date.now()-b)/w,s=v(n)*x;n<=1?(this._flyToFrame=T(S,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(_(s)/u)),o),this.getScaleZoom(a/g(s),o),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=z(e),e.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,z(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){t=t||{};var n=D(t.paddingTopLeft||t.padding||[0,0]),r=D(t.paddingBottomRight||t.padding||[0,0]),i=this.getCenter(),s=this.project(i),o=this.project(e),a=this.getPixelBounds(),l=a.getSize().divideBy(2),u=B([a.min.add(n),a.max.subtract(r)]);if(!u.contains(o)){this._enforcingBounds=!0;var c=s.subtract(o),h=D(o.x+c.x,o.y+c.y);(o.x<u.min.x||o.x>u.max.x)&&(h.x=s.x-c.x,c.x>0?h.x+=l.x-n.x:h.x-=l.x-r.x),(o.y<u.min.y||o.y>u.max.y)&&(h.y=s.y-c.y,c.y>0?h.y+=l.y-n.y:h.y-=l.y-r.y),this.panTo(this.unproject(h),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=r({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),i=t.divideBy(2).round(),o=n.divideBy(2).round(),a=i.subtract(o);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=r({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=s(this._handleGeolocationResponse,this),n=s(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,n,e):navigator.geolocation.getCurrentPosition(t,n,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=e.coords.latitude,n=e.coords.longitude,r=new U(t,n),i=r.toBounds(2*e.coords.accuracy),s=this._locateOptions;if(s.setView){var o=this.getBoundsZoom(i);this.setView(r,s.maxZoom?Math.min(o,s.maxZoom):o)}var a={latlng:r,bounds:i,timestamp:e.timestamp};for(var l in e.coords)"number"===typeof e.coords[l]&&(a[l]=e.coords[l]);this.fire("locationfound",a)},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(A(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)dt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),r=pt("div",n,t||this._mapPane);return e&&(this._panes[e]=r),r},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),n=this.unproject(e.getTopRight());return new q(t,n)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=z(e),n=D(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),s=this.getMaxZoom(),o=e.getNorthWest(),a=e.getSouthEast(),l=this.getSize().subtract(n),u=B(this.project(a,r),this.project(o,r)).getSize(),c=_e?this.options.zoomSnap:1,h=l.x/u.x,p=l.y/u.y,d=t?Math.max(h,p):Math.min(h,p);return r=this.getScaleZoom(d,r),c&&(r=Math.round(r/(c/100))*(c/100),r=t?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(i,Math.min(s,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new F(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(G(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(D(e),t)},layerPointToLatLng:function(e){var t=D(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(G(e))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(G(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(z(e))},distance:function(e,t){return this.options.crs.distance(G(e),G(t))},containerPointToLayerPoint:function(e){return D(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return D(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(D(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(G(e)))},mouseEventToContainerPoint:function(e){return Ht(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ct(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Dt(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&_e,_t(e,"leaflet-container"+(Ce?" leaflet-touch":"")+(Ae?" leaflet-retina":"")+(te?" leaflet-oldie":"")+(he?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ht(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Tt(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_t(e.markerPane,"leaflet-zoom-hide"),_t(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){Tt(this._mapPane,new N(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r,!1)._move(e,t)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return A(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Tt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?Bt:Dt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),_e&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){A(this._resizeRequest),this._resizeRequest=T((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){var n,r=[],i="mouseout"===t||"mouseover"===t,s=e.target||e.srcElement,o=!1;while(s){if(n=this._targets[a(s)],n&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){o=!0;break}if(n&&n.listens(t,!0)){if(i&&!$t(s,e))break;if(r.push(n),i)break}if(s===this._container)break;s=s.parentNode}return r.length||o||i||!$t(s,e)||(r=[this]),r},_handleDOMEvent:function(e){if(this._loaded&&!Qt(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t&&"keyup"!==t&&"keydown"!==t||Mt(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,n){if("click"===e.type){var i=r({},e);i.type="preclick",this._fireDOMEvent(i,i.type,n)}if(!e._stopped&&(n=(n||[]).concat(this._findEventTargets(e,t)),n.length)){var s=n[0];"contextmenu"===t&&s.listens(t,!0)&&Vt(e);var o={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var a=s.getLatLng&&(!s._radius||s._radius<=10);o.containerPoint=a?this.latLngToContainerPoint(s.getLatLng()):this.mouseEventToContainerPoint(e),o.layerPoint=this.containerPointToLayerPoint(o.containerPoint),o.latlng=a?s.getLatLng():this.layerPointToLatLng(o.layerPoint)}for(var l=0;l<n.length;l++)if(n[l].fire(t,o,!0),o.originalEvent._stopped||!1===n[l].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,t))return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return At(this._mapPane)||new N(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){var n=e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return B([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),s=new F(r.subtract(i),r.add(i)),o=this._getBoundsOffset(s,n,t);return o.round().equals([0,0])?e:this.unproject(r.add(o),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new F(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=B(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),s=r.max.subtract(e.max),o=this._rebound(i.x,-s.x),a=this._rebound(i.y,-s.y);return new N(o,a)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=_e?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=at,n=this._proxy.style[t];Et(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Et(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(T((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,_t(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),T((function(){this._moveEnd(!0)}),this))}});function sn(e,t){return new rn(e,t)}var on=I.extend({options:{position:"topright"},initialize:function(e){f(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return _t(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),an=function(e){return new on(e)};rn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=pt("div",t+"control-container",this._container);function r(r,i){var s=t+r+" "+t+i;e[r+i]=pt("div",s,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)dt(this._controlCorners[e]);dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ln=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return on.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){_t(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(_t(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=pt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),jt(t),Gt(t);var r=this._section=pt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),ie||Dt(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=pt("a",e+"-toggle",t);i.href="#",i.title="Layers",Ce?(Dt(i,"click",Wt),Dt(i,"click",this.expand,this)):Dt(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=pt("div",e+"-base",r),this._separator=pt("div",e+"-separator",r),this._overlaysList=pt("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(s((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ft(this._baseLayersList),ft(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?(t=document.createElement("input"),t.type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(t),t.layerId=a(e.layer),Dt(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var s=document.createElement("div");n.appendChild(s),s.appendChild(t),s.appendChild(i);var o=e.overlay?this._overlaysList:this._baseLayersList;return o.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var s=n.length-1;s>=0;s--)e=n[s],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(s=0;s<i.length;s++)this._map.hasLayer(i[s])&&this._map.removeLayer(i[s]);for(s=0;s<r.length;s++)this._map.hasLayer(r[s])||this._map.addLayer(r[s]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),un=function(e,t,n){return new ln(e,t,n)},cn=on.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=pt("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var s=pt("a",n,r);return s.innerHTML=e,s.href="#",s.title=t,s.setAttribute("role","button"),s.setAttribute("aria-label",t),jt(s),Dt(s,"click",Wt),Dt(s,"click",i,this),Dt(s,"click",this._refocusOnMap,this),s},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";vt(this._zoomInButton,t),vt(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&_t(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&_t(this._zoomInButton,t)}});rn.mergeOptions({zoomControl:!0}),rn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var hn=function(e){return new cn(e)},pn=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=pt("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=pt("div",t,n)),e.imperial&&(this._iScale=pt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}}),dn=function(e){return new pn(e)},fn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){f(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),jt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}}});rn.mergeOptions({attributionControl:!0}),rn.addInitHook((function(){this.options.attributionControl&&(new fn).addTo(this)}));var mn=function(e){return new fn(e)};on.Layers=ln,on.Zoom=cn,on.Scale=pn,on.Attribution=fn,an.layers=un,an.zoom=hn,an.scale=dn,an.attribution=mn;var yn=I.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yn.addTo=function(e,t){return e.addHandler(t,this),this};var gn,_n={Events:O},vn=Ce?"touchstart mousedown":"mousedown",bn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},xn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},wn=k.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){f(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Dt(this._dragStartTarget,vn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wn._dragging===this&&this.finishDrag(),Bt(this._dragStartTarget,vn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!gt(this._element,"leaflet-zoom-anim")&&!(wn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(wn._dragging=this,this._preventOutline&&Mt(this._element),It(),nt(),!this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,n=kt(this._element);this._startPoint=new N(t.clientX,t.clientY),this._parentScale=Nt(n),Dt(document,xn[e.type],this._onMove,this),Dt(document,bn[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new N(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Vt(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=At(this._element).subtract(n),_t(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_t(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,A(this._animRequest),this._lastEvent=e,this._animRequest=T(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Tt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xn)Bt(document,xn[e],this._onMove,this),Bt(document,bn[e],this._onUp,this);Lt(),rt(),this._moved&&this._moving&&(A(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,wn._dragging=!1}});function Sn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Pn(e,n),e=Tn(e,n),e}function Cn(e,t,n){return Math.sqrt(kn(e,t,n,!0))}function En(e,t,n){return kn(e,t,n)}function Tn(e,t){var n=e.length,r=typeof Uint8Array!==void 0+""?Uint8Array:Array,i=new r(n);i[0]=i[n-1]=1,An(e,i,t,0,n-1);var s,o=[];for(s=0;s<n;s++)i[s]&&o.push(e[s]);return o}function An(e,t,n,r,i){var s,o,a,l=0;for(o=r+1;o<=i-1;o++)a=kn(e[o],e[r],e[i],!0),a>l&&(s=o,l=a);l>n&&(t[s]=1,An(e,t,n,r,s),An(e,t,n,s,i))}function Pn(e,t){for(var n=[e[0]],r=1,i=0,s=e.length;r<s;r++)On(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<s-1&&n.push(e[s-1]),n}function In(e,t,n,r,i){var s,o,a,l=r?gn:Mn(e,n),u=Mn(t,n);gn=u;while(1){if(!(l|u))return[e,t];if(l&u)return!1;s=l||u,o=Ln(e,t,s,n,i),a=Mn(o,n),s===l?(e=o,l=a):(t=o,u=a)}}function Ln(e,t,n,r,i){var s,o,a=t.x-e.x,l=t.y-e.y,u=r.min,c=r.max;return 8&n?(s=e.x+a*(c.y-e.y)/l,o=c.y):4&n?(s=e.x+a*(u.y-e.y)/l,o=u.y):2&n?(s=c.x,o=e.y+l*(c.x-e.x)/a):1&n&&(s=u.x,o=e.y+l*(u.x-e.x)/a),new N(s,o,i)}function Mn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function On(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function kn(e,t,n,r){var i,s=t.x,o=t.y,a=n.x-s,l=n.y-o,u=a*a+l*l;return u>0&&(i=((e.x-s)*a+(e.y-o)*l)/u,i>1?(s=n.x,o=n.y):i>0&&(s+=a*i,o+=l*i)),a=e.x-s,l=e.y-o,r?a*a+l*l:new N(s,o)}function Nn(e){return!_(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function Rn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Nn(e)}var Dn=(Object.freeze||Object)({simplify:Sn,pointToSegmentDistance:Cn,closestPointOnSegment:En,clipSegment:In,_getEdgeIntersection:Ln,_getBitCode:Mn,_sqClosestPointOnSegment:kn,isFlat:Nn,_flat:Rn});function Fn(e,t,n){var r,i,s,o,a,l,u,c,h,p=[1,4,2,8];for(i=0,u=e.length;i<u;i++)e[i]._code=Mn(e[i],t);for(o=0;o<4;o++){for(c=p[o],r=[],i=0,u=e.length,s=u-1;i<u;s=i++)a=e[i],l=e[s],a._code&c?l._code&c||(h=Ln(l,a,c,t,n),h._code=Mn(h,t),r.push(h)):(l._code&c&&(h=Ln(l,a,c,t,n),h._code=Mn(h,t),r.push(h)),r.push(a));e=r}return e}var Bn=(Object.freeze||Object)({clipPolygon:Fn}),qn={project:function(e){return new N(e.lng,e.lat)},unproject:function(e){return new U(e.y,e.x)},bounds:new F([-180,-90],[180,90])},zn={R:6378137,R_MINOR:6356752.314245179,bounds:new F([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,s=Math.sqrt(1-i*i),o=s*Math.sin(r),a=Math.tan(Math.PI/4-r/2)/Math.pow((1-o)/(1+o),s/2);return r=-n*Math.log(Math.max(a,1e-10)),new N(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,s=Math.sqrt(1-i*i),o=Math.exp(-e.y/r),a=Math.PI/2-2*Math.atan(o),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)t=s*Math.sin(a),t=Math.pow((1-t)/(1+t),s/2),u=Math.PI/2-2*Math.atan(o*t)-a,a+=u;return new U(a*n,e.x*n/r)}},Un=(Object.freeze||Object)({LonLat:qn,Mercator:zn,SphericalMercator:H}),Gn=r({},V,{code:"EPSG:3395",projection:zn,transformation:function(){var e=.5/(Math.PI*zn.R);return X(e,.5,-e,.5)}()}),jn=r({},V,{code:"EPSG:4326",projection:qn,transformation:X(1/180,1,-1/180,.5)}),Vn=r({},j,{projection:qn,transformation:X(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});j.Earth=V,j.EPSG3395=Gn,j.EPSG3857=Z,j.EPSG900913=Y,j.EPSG4326=jn,j.Simple=Vn;var Wn=k.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});rn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&a(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){e=e?_(e)?e:[e]:[];for(var t=0,n=e.length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hn=Wn.extend({initialize:function(e,t){var n,r;if(f(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)n=this._layers[t],n[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),Jn=function(e,t){return new Hn(e,t)},Xn=Hn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Hn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Hn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new q;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Zn=function(e){return new Xn(e)},Yn=I.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){f(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=D(r),s=D("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),s&&(e.style.marginLeft=-s.x+"px",e.style.marginTop=-s.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return Ae&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Kn(e){return new Yn(e)}var Qn=Yn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return Qn.imagePath||(Qn.imagePath=this._detectIconPath()),(this.options.imagePath||Qn.imagePath)+Yn.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=pt("div","leaflet-default-icon-path",document.body),t=ht(e,"background-image")||ht(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,""),t}}),$n=yn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new wn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_t(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,s=At(t._icon),o=n.getPixelBounds(),a=n.getPixelOrigin(),l=B(o.min._subtract(a).add(i),o.max._subtract(a).subtract(i));if(!l.contains(s)){var u=D((Math.max(l.max.x,s.x)-l.max.x)/(o.max.x-l.max.x)-(Math.min(l.min.x,s.x)-l.min.x)/(o.min.x-l.min.x),(Math.max(l.max.y,s.y)-l.max.y)/(o.max.y-l.max.y)-(Math.min(l.min.y,s.y)-l.min.y)/(o.min.y-l.min.y)).multiplyBy(r);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),Tt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=T(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(A(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=At(t._icon),i=t._map.layerPointToLatLng(r);n&&Tt(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){A(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),er=Wn.extend({options:{icon:new Qn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){f(this,t),this._latlng=G(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=G(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),_t(n,t),e.keyboard&&(n.tabIndex="0"),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=e.icon.createShadow(this._shadow),s=!1;i!==this._shadow&&(this._removeShadow(),s=!0),i&&(_t(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&s&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&dt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Tt(this._icon,e),this._shadow&&Tt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(_t(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$n)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $n(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&wt(this._icon,e),this._shadow&&wt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tr(e,t){return new er(e,t)}var nr=Wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return f(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&e.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),rr=nr.extend({options:{fill:!0,radius:10},initialize:function(e,t){f(this,t),this._latlng=G(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=G(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return nr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new F(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ir(e,t){return new rr(e,t)}var sr=rr.extend({initialize:function(e,t,n){if("number"===typeof t&&(t=r({},n,{radius:t})),f(this,t),this._latlng=G(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new q(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:nr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===V.distance){var i=Math.PI/180,s=this._mRadius/V.R/i,o=n.project([t+s,e]),a=n.project([t-s,e]),l=o.add(a).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(s*i)-Math.sin(t*i)*Math.sin(u*i))/(Math.cos(t*i)*Math.cos(u*i)))/i;(isNaN(c)||0===c)&&(c=s/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-n.project([u,e-c]).x,this._radiusY=l.y-o.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function or(e,t,n){return new sr(e,t,n)}var ar=nr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){f(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,s=kn,o=0,a=this._parts.length;o<a;o++)for(var l=this._parts[o],u=1,c=l.length;u<c;u++){t=l[u-1],n=l[u];var h=s(e,t,n,!0);h<r&&(r=h,i=s(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,s,o,a=this._rings[0],l=a.length;if(!l)return null;for(e=0,t=0;e<l-1;e++)t+=a[e].distanceTo(a[e+1])/2;if(0===t)return this._map.layerPointToLatLng(a[0]);for(e=0,r=0;e<l-1;e++)if(i=a[e],s=a[e+1],n=i.distanceTo(s),r+=n,r>t)return o=(r-t)/n,this._map.layerPointToLatLng([s.x-o*(s.x-i.x),s.y-o*(s.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=G(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new q,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Nn(e),r=0,i=e.length;r<i;r++)n?(t[r]=G(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new N(e,e);this._pxBounds=new F([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)])},_projectLatlngs:function(e,t,n){var r,i,s=e[0]instanceof U,o=e.length;if(s){for(i=[],r=0;r<o;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<o;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,s,o,a,l=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(a=this._rings[t],n=0,s=a.length;n<s-1;n++)o=In(a[n],a[n+1],e,n,!0),o&&(l[r]=l[r]||[],l[r].push(o[0]),o[1]===a[n+1]&&n!==s-2||(l[r].push(o[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Sn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,s,o,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,s=this._parts.length;n<s;n++)for(a=this._parts[n],r=0,o=a.length,i=o-1;r<o;i=r++)if((t||0!==r)&&Cn(e,a[i],a[r])<=l)return!0;return!1}});function lr(e,t){return new ar(e,t)}ar._flat=Rn;var ur=ar.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,s,o,a,l,u=this._rings[0],c=u.length;if(!c)return null;for(s=o=a=0,e=0,t=c-1;e<c;t=e++)n=u[e],r=u[t],i=n.y*r.x-r.y*n.x,o+=(n.x+r.x)*i,a+=(n.y+r.y)*i,s+=3*i;return l=0===s?u[0]:[o/s,a/s],this._map.layerPointToLatLng(l)},_convertLatLngs:function(e){var t=ar.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof U&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){ar.prototype._setLatLngs.call(this,e),Nn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new N(t,t);if(e=new F(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,s=this._rings.length;i<s;i++)r=Fn(this._rings[i],e,!0),r.length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,s,o,a,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,a=this._parts.length;i<a;i++)for(t=this._parts[i],s=0,l=t.length,o=l-1;s<l;o=s++)n=t[s],r=t[o],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(u=!u);return u||ar.prototype._containsPoint.call(this,e,!0)}});function cr(e,t){return new ur(e,t)}var hr=Xn.extend({initialize:function(e,t){f(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=_(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)r=i[t],(r.geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var s=this.options;if(s.filter&&!s.filter(e))return this;var o=pr(e,s);return o?(o.feature=vr(e),o.defaultOptions=o.options,this.resetStyle(o),s.onEachFeature&&s.onEachFeature(e,o),this.addLayer(o)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=r({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function pr(e,t){var n,r,i,s,o="Feature"===e.type?e.geometry:e,a=o?o.coordinates:null,l=[],u=t&&t.pointToLayer,c=t&&t.coordsToLatLng||fr;if(!a&&!o)return null;switch(o.type){case"Point":return n=c(a),dr(u,e,n,t);case"MultiPoint":for(i=0,s=a.length;i<s;i++)n=c(a[i]),l.push(dr(u,e,n,t));return new Xn(l);case"LineString":case"MultiLineString":return r=mr(a,"LineString"===o.type?0:1,c),new ar(r,t);case"Polygon":case"MultiPolygon":return r=mr(a,"Polygon"===o.type?1:2,c),new ur(r,t);case"GeometryCollection":for(i=0,s=o.geometries.length;i<s;i++){var h=pr({geometry:o.geometries[i],type:"Feature",properties:e.properties},t);h&&l.push(h)}return new Xn(l);default:throw new Error("Invalid GeoJSON object.")}}function dr(e,t,n,r){return e?e(t,n):new er(n,r&&r.markersInheritOptions&&r)}function fr(e){return new U(e[1],e[0],e[2])}function mr(e,t,n){for(var r,i=[],s=0,o=e.length;s<o;s++)r=t?mr(e[s],t-1,n):(n||fr)(e[s]),i.push(r);return i}function yr(e,t){return t="number"===typeof t?t:6,void 0!==e.alt?[h(e.lng,t),h(e.lat,t),h(e.alt,t)]:[h(e.lng,t),h(e.lat,t)]}function gr(e,t,n,r){for(var i=[],s=0,o=e.length;s<o;s++)i.push(t?gr(e[s],t-1,n,r):yr(e[s],r));return!t&&n&&i.push(i[0]),i}function _r(e,t){return e.feature?r({},e.feature,{geometry:t}):vr(t)}function vr(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var br={toGeoJSON:function(e){return _r(this,{type:"Point",coordinates:yr(this.getLatLng(),e)})}};function xr(e,t){return new hr(e,t)}er.include(br),sr.include(br),rr.include(br),ar.include({toGeoJSON:function(e){var t=!Nn(this._latlngs),n=gr(this._latlngs,t?1:0,!1,e);return _r(this,{type:(t?"Multi":"")+"LineString",coordinates:n})}}),ur.include({toGeoJSON:function(e){var t=!Nn(this._latlngs),n=t&&!Nn(this._latlngs[0]),r=gr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),_r(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Hn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),_r(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var s=vr(i);"FeatureCollection"===s.type?r.push.apply(r,s.features):r.push(s)}}})),n?_r(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var wr=xr,Sr=Wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=z(t),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_t(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&mt(this._image),this},bringToBack:function(){return this._map&&yt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=z(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:pt("img");_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=s(this.fire,this,"load"),t.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Et(this._image,n,t)},_reset:function(){var e=this._image,t=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Tt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){wt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),Cr=function(e,t,n){return new Sr(e,t,n)},Er=Sr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:pt("video");if(_t(t,"leaflet-image-layer"),this._zoomAnimated&&_t(t,"leaflet-zoom-animated"),this.options.className&&_t(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=s(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],i=0;i<n.length;i++)r.push(n[i].src);this._url=n.length>0?r:[t.src]}else{_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&t.style.hasOwnProperty("objectFit")&&(t.style["objectFit"]="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var o=0;o<this._url.length;o++){var a=pt("source");a.src=this._url[o],t.appendChild(a)}}}});function Tr(e,t,n){return new Er(e,t,n)}var Ar=Sr.extend({_initImage:function(){var e=this._image=this._url;_t(e,"leaflet-image-layer"),this._zoomAnimated&&_t(e,"leaflet-zoom-animated"),this.options.className&&_t(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Pr(e,t,n){return new Ar(e,t,n)}var Ir=Wn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){f(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&wt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&wt(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(wt(this._container,0),this._removeTimeout=setTimeout(s(dt,void 0,this._container),200)):dt(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=G(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&mt(this._container),this},bringToBack:function(){return this._map&&yt(this._container),this},_prepareOpen:function(e,t,n){if(t instanceof Wn||(n=t,t=e),t instanceof Xn)for(var r in e._layers){t=e._layers[r];break}if(!n)if(t.getCenter)n=t.getCenter();else{if(!t.getLatLng)throw new Error("Unable to get source layer LatLng.");n=t.getLatLng()}return this._source=t,this.update(),n},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{while(e.hasChildNodes())e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=D(this.options.offset),n=this._getAnchor();this._zoomAnimated?Tt(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),Lr=Ir.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){Ir.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof nr||this._source.on("preclick",Ut))},onRemove:function(e){Ir.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof nr||this._source.off("preclick",Ut))},getEvents:function(){var e=Ir.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=pt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=pt("div",e+"-content-wrapper",t);if(this._contentNode=pt("div",e+"-content",n),jt(n),Gt(this._contentNode),Dt(n,"contextmenu",Ut),this._tipContainer=pt("div",e+"-tip-container",t),this._tip=pt("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=pt("a",e+"-close-button",t);r.href="#close",r.innerHTML="&#215;",Dt(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,s="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",_t(e,s)):vt(e,s),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Tt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var e=this._map,t=parseInt(ht(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new N(this._containerLeft,-n-this._containerBottom);i._add(At(this._container));var s=e.layerPointToContainerPoint(i),o=D(this.options.autoPanPadding),a=D(this.options.autoPanPaddingTopLeft||o),l=D(this.options.autoPanPaddingBottomRight||o),u=e.getSize(),c=0,h=0;s.x+r+l.x>u.x&&(c=s.x+r-u.x+l.x),s.x-c-a.x<0&&(c=s.x-a.x),s.y+n+l.y>u.y&&(h=s.y+n-u.y+l.y),s.y-h-a.y<0&&(h=s.y-a.y),(c||h)&&e.fire("autopanstart").panBy([c,h])}},_onCloseButtonClick:function(e){this._close(),Wt(e)},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mr=function(e,t){return new Lr(e,t)};rn.mergeOptions({closePopupOnClick:!0}),rn.include({openPopup:function(e,t,n){return e instanceof Lr||(e=new Lr(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),Wn.include({bindPopup:function(e,t){return e instanceof Lr?(f(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new Lr(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){return this._popup&&this._map&&(t=this._popup._prepareOpen(this,e,t),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(Wt(e),t instanceof nr?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Or=Ir.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Ir.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Ir.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Ir.prototype.getEvents.call(this);return Ce&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip",t=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,n=this._container,r=t.latLngToContainerPoint(t.getCenter()),i=t.layerPointToContainerPoint(e),s=this.options.direction,o=n.offsetWidth,a=n.offsetHeight,l=D(this.options.offset),u=this._getAnchor();"top"===s?e=e.add(D(-o/2+l.x,-a+l.y+u.y,!0)):"bottom"===s?e=e.subtract(D(o/2-l.x,-l.y,!0)):"center"===s?e=e.subtract(D(o/2+l.x,a/2-u.y+l.y,!0)):"right"===s||"auto"===s&&i.x<r.x?(s="right",e=e.add(D(l.x+u.x,u.y-a/2+l.y,!0))):(s="left",e=e.subtract(D(o+u.x-l.x,a/2-u.y-l.y,!0))),vt(n,"leaflet-tooltip-right"),vt(n,"leaflet-tooltip-left"),vt(n,"leaflet-tooltip-top"),vt(n,"leaflet-tooltip-bottom"),_t(n,"leaflet-tooltip-"+s),Tt(n,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&wt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),kr=function(e,t){return new Or(e,t)};rn.include({openTooltip:function(e,t,n){return e instanceof Or||(e=new Or(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),Wn.include({bindTooltip:function(e,t){return e instanceof Or?(f(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new Or(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Ce&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){return this._tooltip&&this._map&&(t=this._tooltip._prepareOpen(this,e,t),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(_t(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(vt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Nr=Yn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ft(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=D(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Rr(e){return new Nr(e)}Yn.Default=Qn;var Dr=Wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ve,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){f(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),dt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(mt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof N?e:new N(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,s=n.length;i<s;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!te){wt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var s=Math.min(1,(e-i.loaded)/200);wt(i.el,s),s<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(A(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(dt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||(r=this._levels[e]={},r.el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)dt(this._levels[e].el),this._onRemoveLevel(e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),s=Math.floor(t/2),o=n-1,a=new N(+i,+s);a.z=+o;var l=this._tileCoordsToKey(a),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),o>r&&this._retainParent(i,s,o,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var s=2*t;s<2*t+2;s++){var o=new N(i,s);o.z=n+1;var a=this._tileCoordsToKey(o),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,s,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom)&&(i=void 0);var s=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!s||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();_e?Et(e.el,i,r):Tt(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),s=t.getSize().divideBy(2*r);return new F(i.subtract(s),i.add(s))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),s=i.getCenter(),o=[],a=this.options.keepBuffer,l=new F(i.getBottomLeft().subtract([a,-a]),i.getTopRight().add([a,-a]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new N(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var p=i.min.x;p<=i.max.x;p++){var d=new N(p,h);if(d.z=this._tileZoom,this._isValidTile(d)){var f=this._tiles[this._tileCoordsToKey(d)];f?f.current=!0:o.push(d)}}if(o.sort((function(e,t){return e.distanceTo(s)-t.distanceTo(s)})),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(p=0;p<o.length;p++)this._addTile(o[p],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return z(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n),s=t.unproject(r,e.z),o=t.unproject(i,e.z);return[s,o]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new q(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new N(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(dt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){_t(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,te&&this.options.opacity<1&&wt(e,this.options.opacity),ie&&!se&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),i=this.createTile(this._wrapCoords(e),s(this._tileReady,this,e));this._initTile(i),this.createTile.length<2&&T(s(this._tileReady,this,e,null,i)),Tt(i,n),this._tiles[r]={el:i,coords:e,current:!0},t.appendChild(i),this.fire("tileloadstart",{tile:i,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);n=this._tiles[r],n&&(n.loaded=+new Date,this._map._fadeAnimated?(wt(n.el,0),A(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(_t(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),te||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new N(this._wrapX?u(e.x,this._wrapX):e.x,this._wrapY?u(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new F(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Fr(e){return new Dr(e)}var Br=Dr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,t=f(this,t),t.detectRetina&&Ae&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),ie||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Dt(n,"load",s(this._tileOnLoad,this,t,n)),Dt(n,"error",s(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Ae?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-e.y;this.options.tms&&(t["y"]=n),t["-y"]=n}return g(this._url,r(t,this.options))},_tileOnLoad:function(e,t){te?setTimeout(s(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,n=this.options.zoomReverse,r=this.options.zoomOffset;return n&&(e=t-e),e+r},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=c,t.onerror=c,t.complete||(t.src=b,dt(t),delete this._tiles[e]))},_removeTile:function(e){var t=this._tiles[e];if(t)return ae||t.el.setAttribute("src",b),Dr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==b))return Dr.prototype._tileReady.call(this,e,t,n)}});function qr(e,t){return new Br(e,t)}var zr=Br.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var n=r({},this.defaultWmsParams);for(var i in t)i in this.options||(n[i]=t[i]);t=f(this,t);var s=t.detectRetina&&Ae?2:1,o=this.getTileSize();n.width=o.x*s,n.height=o.y*s,this.wmsParams=n},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Br.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=B(n.project(t[0]),n.project(t[1])),i=r.min,s=r.max,o=(this._wmsVersion>=1.3&&this._crs===jn?[i.y,i.x,s.y,s.x]:[i.x,i.y,s.x,s.y]).join(","),a=Br.prototype.getTileUrl.call(this,e);return a+m(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(e,t){return r(this.wmsParams,e),t||this.redraw(),this}});function Ur(e,t){return new zr(e,t)}Br.WMS=zr,qr.wms=Ur;var Gr=Wn.extend({options:{padding:.1,tolerance:0},initialize:function(e){f(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&_t(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=At(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,t),o=this._map.project(e,t),a=o.subtract(s),l=i.multiplyBy(-n).add(r).add(i).subtract(a);_e?Et(this._container,l,n):Tt(this._container,l)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new F(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jr=Gr.extend({getEvents:function(){var e=Gr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Dt(e,"mousemove",this._onMouseMove,this),Dt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Dt(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){A(this._redrawRequest),delete this._ctx,dt(this._container),Bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;for(var t in this._redrawBounds=null,this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Gr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=Ae?2:1;Tt(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Ae&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Gr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,s,o=e._parts,a=o.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(r=0,i=o[n].length;r<i;r++)s=o[n][r],l[r?"lineTo":"moveTo"](s.x,s.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)t=i.layer,t.options.interactive&&t._containsPoint(r)&&!this._map._draggableMoved(t)&&(n=t);n&&(Kt(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(vt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,i=this._drawFirst;i;i=i.next)n=i.layer,n.options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(_t(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(L.bind((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Vr(e){return Ie?new jr(e):null}var Wr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Hr={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Wr("shape");_t(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Wr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;dt(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Wr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=_(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Wr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){mt(e._container)},_bringToBack:function(e){yt(e._container)}},Jr=Me?Wr:K,Xr=Gr.extend({getEvents:function(){var e=Gr.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=Jr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Jr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){dt(this._container),Bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Gr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Tt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Jr("path");e.options.className&&_t(t,e.options.className),e.options.interactive&&_t(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){dt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Q(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r=Math.max(Math.round(e._radiusY),1)||n,i="a"+n+","+r+" 0 1,0 ",s=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,s)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){mt(e._path)},_bringToBack:function(e){yt(e._path)}});function Zr(e){return Le||Me?new Xr(e):null}Me&&Xr.include(Hr),rn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Vr(e)||Zr(e)}});var Yr=ur.extend({initialize:function(e,t){ur.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=z(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Kr(e,t){return new Yr(e,t)}Xr.create=Jr,Xr.pointsToPath=Q,hr.geometryToLayer=pr,hr.coordsToLatLng=fr,hr.coordsToLatLngs=mr,hr.latLngToCoords=yr,hr.latLngsToCoords=gr,hr.getFeature=_r,hr.asFeature=vr,rn.mergeOptions({boxZoom:!0});var Qr=yn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),nt(),It(),this._startPoint=this._map.mouseEventToContainerPoint(e),Dt(document,{contextmenu:Wt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),_t(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new F(this._point,this._startPoint),n=t.getSize();Tt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(dt(this._box),vt(this._container,"leaflet-crosshair")),rt(),Lt(),Bt(document,{contextmenu:Wt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var t=new q(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});rn.addInitHook("addHandler","boxZoom",Qr),rn.mergeOptions({doubleClickZoom:!0});var $r=yn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});rn.addInitHook("addHandler","doubleClickZoom",$r),rn.mergeOptions({dragging:!0,inertia:!se,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ei=yn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new wn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}_t(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=z(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){while(this._positions.length>1&&e-this._times[0]>50)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,s=(r+t+n)%e-t-n,o=Math.abs(i+n)<Math.abs(s+n)?i:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),s=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,a=i.multiplyBy(o/s),l=a.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=a.multiplyBy(u/l),h=u/(n.inertiaDeceleration*o),p=c.multiplyBy(-h/2).round();p.x||p.y?(p=t._limitOffset(p,t.options.maxBounds),T((function(){t.panBy(p,{duration:h,easeLinearity:o,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});rn.addInitHook("addHandler","dragging",ei),rn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ti=yn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Dt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(t=this._panKeys[n],e.shiftKey&&(t=D(t).multiplyBy(3)),r.panBy(t),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Wt(e)}}});rn.addInitHook("addHandler","keyboard",ti),rn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ni=yn.extend({addHooks:function(){Dt(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Bt(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Xt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),r),Wt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,s=n?Math.ceil(i/n)*n:i,o=e._limitZoom(t+(this._delta>0?s:-s))-t;this._delta=0,this._startTime=null,o&&("center"===e.options.scrollWheelZoom?e.setZoom(t+o):e.setZoomAround(this._lastMousePos,t+o))}});rn.addInitHook("addHandler","scrollWheelZoom",ni),rn.mergeOptions({tap:!0,tapTolerance:15});var ri=yn.extend({addHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(Vt(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],n=t.target;this._startPos=this._newPos=new N(t.clientX,t.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&_t(n,"leaflet-active"),this._holdTimeout=setTimeout(s((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))}),this),1e3),this._simulateEvent("mousedown",t),Dt(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),Bt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&vt(n,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new N(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});Ce&&!Se&&rn.addInitHook("addHandler","tap",ri),rn.mergeOptions({touchZoom:Ce&&!se,bounceAtZoomLimits:!0});var ii=yn.extend({addHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend",this._onTouchEnd,this),Vt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),i=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(i,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&i<1||this._zoom>t.getMaxZoom()&&i>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===i)return}else{var o=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===i&&0===o.x&&0===o.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),A(this._animRequest);var a=s(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(a,this,!0),Vt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,A(this._animRequest),Bt(document,"touchmove",this._onTouchMove),Bt(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});rn.addInitHook("addHandler","touchZoom",ii),rn.BoxZoom=Qr,rn.DoubleClickZoom=$r,rn.Drag=ei,rn.Keyboard=ti,rn.ScrollWheelZoom=ni,rn.Tap=ri,rn.TouchZoom=ii,Object.freeze=n,e.version=t,e.Control=on,e.control=an,e.Browser=ke,e.Evented=k,e.Mixin=_n,e.Util=P,e.Class=I,e.Handler=yn,e.extend=r,e.bind=s,e.stamp=a,e.setOptions=f,e.DomEvent=tn,e.DomUtil=Rt,e.PosAnimation=nn,e.Draggable=wn,e.LineUtil=Dn,e.PolyUtil=Bn,e.Point=N,e.point=D,e.Bounds=F,e.bounds=B,e.Transformation=J,e.transformation=X,e.Projection=Un,e.LatLng=U,e.latLng=G,e.LatLngBounds=q,e.latLngBounds=z,e.CRS=j,e.GeoJSON=hr,e.geoJSON=xr,e.geoJson=wr,e.Layer=Wn,e.LayerGroup=Hn,e.layerGroup=Jn,e.FeatureGroup=Xn,e.featureGroup=Zn,e.ImageOverlay=Sr,e.imageOverlay=Cr,e.VideoOverlay=Er,e.videoOverlay=Tr,e.SVGOverlay=Ar,e.svgOverlay=Pr,e.DivOverlay=Ir,e.Popup=Lr,e.popup=Mr,e.Tooltip=Or,e.tooltip=kr,e.Icon=Yn,e.icon=Kn,e.DivIcon=Nr,e.divIcon=Rr,e.Marker=er,e.marker=tr,e.TileLayer=Br,e.tileLayer=qr,e.GridLayer=Dr,e.gridLayer=Fr,e.SVG=Xr,e.svg=Zr,e.Renderer=Gr,e.Canvas=jr,e.canvas=Vr,e.Path=nr,e.CircleMarker=rr,e.circleMarker=ir,e.Circle=sr,e.circle=or,e.Polyline=ar,e.polyline=lr,e.Polygon=ur,e.polygon=cr,e.Rectangle=Yr,e.rectangle=Kr,e.Map=rn,e.map=sn;var si=window.L;e.noConflict=function(){return window.L=si,this},window.L=e}))},b5a7:function(e,t,n){var r=n("0b07"),i=n("2b3e"),s=r(i,"DataView");e.exports=s},b639:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5c"),i=n("9152"),s=n("e3db");function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=u.prototype):(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?y(e,t,n,r):"string"===typeof t?f(e,t,n):g(e,t)}function h(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t,n,r){return h(t),t<=0?l(e,t):void 0!==n?"string"===typeof r?l(e,t).fill(n,r):l(e,t).fill(n):l(e,t)}function d(e,t){if(h(t),e=l(e,t<0?0:0|_(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|b(t,n);e=l(e,r);var i=e.write(t,n);return i!==r&&(e=e.slice(0,i)),e}function m(e,t){var n=t.length<0?0:0|_(t.length);e=l(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function y(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=u.prototype):e=m(e,t),e}function g(e,t){if(u.isBuffer(t)){var n=0|_(t.length);return e=l(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?l(e,0):m(e,t);if("Buffer"===t.type&&s(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function _(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),u.alloc(+e)}function b(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(r)return Y(e).length;t=(""+t).toLowerCase(),r=!0}}function x(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return F(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return M(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:C(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):C(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,r,i){var s,o=1,a=e.length,l=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,n/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(s=n;s<a;s++)if(u(e,s)===u(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===l)return c*o}else-1!==c&&(s-=s-c),c=-1}else for(n+l>a&&(n=a-l),s=n;s>=0;s--){for(var h=!0,p=0;p<l;p++)if(u(e,s+p)!==u(t,p)){h=!1;break}if(h)return s}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var s=t.length;if(s%2!==0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[n+o]=a}return o}function T(e,t,n,r){return ee(Y(t,e.length-n),e,n,r)}function A(e,t,n,r){return ee(K(t),e,n,r)}function P(e,t,n,r){return A(e,t,n,r)}function I(e,t,n,r){return ee($(t),e,n,r)}function L(e,t,n,r){return ee(Q(t,e.length-n),e,n,r)}function M(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);var r=[],i=t;while(i<n){var s,o,a,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:s=e[i+1],128===(192&s)&&(l=(31&u)<<6|63&s,l>127&&(c=l));break;case 3:s=e[i+1],o=e[i+2],128===(192&s)&&128===(192&o)&&(l=(15&u)<<12|(63&s)<<6|63&o,l>2047&&(l<55296||l>57343)&&(c=l));break;case 4:s=e[i+1],o=e[i+2],a=e[i+3],128===(192&s)&&128===(192&o)&&128===(192&a)&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a,l>65535&&l<1114112&&(c=l))}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return N(r)}t.Buffer=u,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:o(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return p(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):x.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var s=i-r,o=n-t,a=Math.min(s,o),l=this.slice(r,i),c=e.slice(t,n),h=0;h<a;++h)if(l[h]!==c[h]){s=l[h],o=c[h];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return T(this,e,t,n);case"ascii":return A(this,e,t,n);case"latin1":case"binary":return P(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function N(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var n="",r=0;while(r<t)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function F(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=Z(e[s]);return i}function B(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function q(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function z(e,t,n,r,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,s=Math.min(e.length-n,2);i<s;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function G(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,s=Math.min(e.length-n,4);i<s;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function j(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(e,t,n,r,s){return s||j(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function W(e,t,n,r,s){return s||j(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||q(e,t,this.length);var r=this[e],i=1,s=0;while(++s<t&&(i*=256))r+=this[e+s]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||q(e,t,this.length);var r=this[e+--t],i=1;while(t>0&&(i*=256))r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||q(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||q(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||q(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||q(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||q(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||q(e,t,this.length);var r=this[e],i=1,s=0;while(++s<t&&(i*=256))r+=this[e+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||q(e,t,this.length);var r=t,i=1,s=this[e+--r];while(r>0&&(i*=256))s+=this[e+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return t||q(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||q(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||q(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||q(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||q(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||q(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||q(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||q(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||q(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;z(this,e,t,n,i,0)}var s=1,o=0;this[t]=255&e;while(++o<n&&(s*=256))this[t+o]=e/s&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;z(this,e,t,n,i,0)}var s=n-1,o=1;this[t+s]=255&e;while(--s>=0&&(o*=256))this[t+s]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):G(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);z(this,e,t,n,i-1,-i)}var s=0,o=1,a=0;this[t]=255&e;while(++s<n&&(o*=256))e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);z(this,e,t,n,i-1,-i)}var s=n-1,o=1,a=0;this[t+s]=255&e;while(--s>=0&&(o*=256))e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):G(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||z(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return V(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return V(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return W(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return W(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,s=r-n;if(this===e&&n<t&&t<r)for(i=s-1;i>=0;--i)e[i+t]=this[i+n];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(s=t;s<n;++s)this[s]=e;else{var o=u.isBuffer(e)?e:Y(new u(e,r).toString()),a=o.length;for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function J(e){if(e=X(e).replace(H,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function X(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Z(e){return e<16?"0"+e.toString(16):e.toString(16)}function Y(e,t){var n;t=t||1/0;for(var r=e.length,i=null,s=[],o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function K(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Q(e,t){for(var n,r,i,s=[],o=0;o<e.length;++o){if((t-=2)<0)break;n=e.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r)}return s}function $(e){return r.toByteArray(J(e))}function ee(e,t,n,r){for(var i=0;i<r;++i){if(i+n>=t.length||i>=e.length)break;t[i+n]=e[i]}return i}function te(e){return e!==e}}).call(this,n("c8ba"))},b760:function(e,t,n){var r=n("872a"),i=n("9638");function s(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}e.exports=s},b8bb:function(e,t,n){var r=n("4d8b"),i=n("c6cf"),s=i(r);e.exports=s},badf:function(e,t,n){var r=n("642a"),i=n("1838"),s=n("cd9d"),o=n("6747"),a=n("f9ce");function l(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):a(e)}e.exports=l},bbb4:function(e,t,n){var r=n("2ef0"),i=n("9eab");function s(e){e=e||r.identity;var t=function(t){function n(e,n){"function"===typeof e?(n=e,e={}):(e=e||{},n="function"===typeof n?n:null);try{return l(this.transport,t,r.clone(e),n)}catch(o){if("function"!==typeof n){var s=this.transport.defer();return s.reject(o),s.promise}i.nextTick(n,o)}}return t=e(t),r.isPlainObject(t.params)||(t.params={}),t.method||(t.method="GET"),n.spec=t,n};return t.proxy=function(e,t){return function(n,r){return"function"===typeof n?(r=n,n={}):(n=n||{},r="function"===typeof r?r:null),t.transform&&t.transform(n),e.call(this,n,r)}},t}t.makeFactoryWithModifier=s,t.factory=s(),t.proxyFactory=t.factory.proxy,t._resolveUrl=a,t.ApiNamespace=function(){},t.namespaceFactory=function(){function e(e,t){this.transport=e,this.client=t}return e.prototype=new t.ApiNamespace,e};var o={enum:function e(t,n,i){if(r.isString(n)&&n.indexOf(",")>-1&&(n=u(n)),r.isArray(n))return n.map((function(n){return e(t,n,i)})).join(",");for(var s=0;s<t.options.length;s++)if(t.options[s]===String(n))return t.options[s];throw new TypeError("Invalid "+i+": expected "+(t.options.length>1?"one of "+t.options.join(","):t.options[0]))},duration:function(e,t,n){if(i.isNumeric(t)||i.isInterval(t))return t;throw new TypeError("Invalid "+n+": expected a number or interval (an integer followed by one of M, w, d, h, m, s, y or ms).")},list:function(e,t,n){switch(typeof t){case"number":case"boolean":return""+t;case"string":t=u(t);case"object":if(r.isArray(t))return t.join(",");default:throw new TypeError("Invalid "+n+": expected be a comma separated list, array, number or string.")}},boolean:function(e,t){return t=r.isString(t)?t.toLowerCase():t,"no"!==t&&"off"!==t&&!!t},number:function(e,t,n){if(i.isNumeric(t))return 1*t;throw new TypeError("Invalid "+n+": expected a number.")},string:function(e,t,n){switch(typeof t){case"number":case"string":return""+t;default:throw new TypeError("Invalid "+n+": expected a string.")}},time:function(e,t,n){if("string"===typeof t)return t;if(i.isNumeric(t))return""+t;if(t instanceof Date)return""+t.getTime();throw new TypeError("Invalid "+n+": expected some sort of time.")}};function a(e,t){var n,i,s={};if(e.req)for(e.reqParamKeys||(e.reqParamKeys=r.keys(e.req)),n=0;n<e.reqParamKeys.length;n++){if(i=e.reqParamKeys[n],!t.hasOwnProperty(i)||null==t[i])return!1;o[e.req[i].type]?s[i]=o[e.req[i].type](e.req[i],t[i],i):s[i]=t[i]}if(e.opt)for(e.optParamKeys||(e.optParamKeys=r.keys(e.opt)),n=0;n<e.optParamKeys.length;n++)i=e.optParamKeys[n],t[i]?o[e.opt[i].type]||null==t[i]?s[i]=o[e.opt[i].type](e.opt[i],t[i],i):s[i]=t[i]:s[i]=e.opt[i]["default"];return e.template||(e.template=r.template(e.fmt)),e.template(r.transform(s,(function(e,n,r){e[r]=encodeURIComponent(n),delete t[r]}),{}))}function l(e,t,n,s){var l,u={method:t.method},c={};if(t.requestTimeout&&(u.requestTimeout=t.requestTimeout),!n.body&&t.paramAsBody&&("object"===typeof t.paramAsBody?(n.body={},t.paramAsBody.castToArray?n.body[t.paramAsBody.body]=[].concat(n[t.paramAsBody.param]):n.body[t.paramAsBody.body]=n[t.paramAsBody.param],delete n[t.paramAsBody.param]):(n.body=n[t.paramAsBody],delete n[t.paramAsBody])),t.needsBody&&!n.body)throw new TypeError("A request body is required.");if(t.bulkBody&&(u.bulkBody=!0),"HEAD"===t.method&&(u.castExists=!0),t.url)u.path=a(t.url,n);else for(l=0;l<t.urls.length;l++)if(u.path=a(t.urls[l],n),u.path)break;if(!u.path){var h=t.url||t.urls[t.urls.length-1];throw new TypeError("Unable to build a path with those params. Supply at least "+r.keys(h.req).join(", "))}for(var p in t.paramKeys||(t.paramKeys=r.keys(t.params),t.requireParamKeys=r.transform(t.params,(function(e,t,n){t.required&&e.push(n)}),[])),n)if(n.hasOwnProperty(p)&&null!=n[p])switch(p){case"body":case"headers":case"requestTimeout":case"maxRetries":u[p]=n[p];break;case"ignore":u.ignore=r.isArray(n[p])?n[p]:[n[p]];break;case"method":u.method=i.toUpperString(n[p]);break;default:var d=t.params[p];d?(d.name=d.name||p,null!=n[p]&&(o[d.type]?c[d.name]=o[d.type](d,n[p],p):c[d.name]=n[p],d["default"]&&c[d.name]===d["default"]&&delete c[d.name])):c[p]=n[p]}for(l=0;l<t.requireParamKeys.length;l++)if(!c.hasOwnProperty(t.requireParamKeys[l]))throw new TypeError("Missing required parameter "+t.requireParamKeys[l]);return u.query=c,e.request(u,s)}function u(e){return e.split(",").map((function(e){return e.trim()}))}},bbc0:function(e,t,n){var r=n("6044"),i="__lodash_hash_undefined__",s=Object.prototype,o=s.hasOwnProperty;function a(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}e.exports=a},bde6:function(e,t){e.exports=function(e){var t=e[0];return e.push(e.shift()),t}},c05f:function(e,t,n){var r=n("7b97"),i=n("1310");function s(e,t,n,o,a){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:r(e,t,n,o,s,a))}e.exports=s},c0983:function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(e,t){var i=typeof e;return t=null==t?n:t,!!t&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}e.exports=i},c197:function(e,t,n){var r=n("b568"),i=n("6149"),s=n("a6fb");r.choropleth=e.exports=function(e,t){t=t||{},s.defaults(t,{valueProperty:"value",scale:["white","red"],steps:5,mode:"q"});var n=t.style,o=e.features.map("function"===typeof t.valueProperty?t.valueProperty:function(e){return e.properties[t.valueProperty]}),a=i.limits(o,t.mode,t.steps-1),l=t.colors&&t.colors.length===a.length?t.colors:i.scale(t.scale).colors(a.length);return r.geoJson(e,s.extend(t,{limits:a,colors:l,style:function(e){var r,i={};if(r="function"===typeof t.valueProperty?t.valueProperty(e):e.properties[t.valueProperty],!isNaN(r))for(var o=0;o<a.length;o++)if(r<=a[o]){i.fillColor=l[o];break}switch(typeof n){case"function":return s.defaults(i,n(e));case"object":return s.defaults(i,n);default:return i}}}))}},c1c9:function(e,t,n){var r=n("a454"),i=n("f3c1"),s=i(r);e.exports=s},c2b6:function(e,t,n){var r=n("f8af"),i=n("5d89"),s=n("6f6c"),o=n("a2db"),a=n("c8fe"),l="[object Boolean]",u="[object Date]",c="[object Map]",h="[object Number]",p="[object RegExp]",d="[object Set]",f="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",g="[object DataView]",_="[object Float32Array]",v="[object Float64Array]",b="[object Int8Array]",x="[object Int16Array]",w="[object Int32Array]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]";function A(e,t,n){var A=e.constructor;switch(t){case y:return r(e);case l:case u:return new A(+e);case g:return i(e,n);case _:case v:case b:case x:case w:case S:case C:case E:case T:return a(e,n);case c:return new A;case h:case f:return new A(e);case p:return s(e);case d:return new A;case m:return o(e)}}e.exports=A},c30c:function(e,t,n){var r=n("8eeb"),i=n("2ec1"),s=n("9934"),o=i((function(e,t,n,i){r(t,s(t),e,i)}));e.exports=o},c3f4:function(e,t,n){var r=n("5b01"),i=n("7530");function s(e,t){var n=i(e);return null==t?n:r(n,t)}e.exports=s},c3fc:function(e,t,n){var r=n("42a2"),i=n("1310"),s="[object Set]";function o(e){return i(e)&&r(e)==s}e.exports=o},c584:function(e,t){function n(e,t){return e.has(t)}e.exports=n},c674:function(e,t,n){"use strict";function r(e,t){this.x=e,this.y=t}e.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),s=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=s,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e}},c6cf:function(e,t,n){var r=n("4d8c"),i=n("2286"),s=n("c1c9");function o(e){return s(i(e,void 0,r),e+"")}e.exports=o},c869:function(e,t,n){var r=n("0b07"),i=n("2b3e"),s=r(i,"Set");e.exports=s},c87c:function(e,t){var n=Object.prototype,r=n.hasOwnProperty;function i(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}e.exports=i},c8fe:function(e,t,n){var r=n("f8af");function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}e.exports=i},ca7c:function(e,t,n){var r=n("4be8"),i=n("1304");function s(e,t){return e&&r(e,i(t))}e.exports=s},cb5a:function(e,t,n){var r=n("9638");function i(e,t){var n=e.length;while(n--)if(r(e[n][0],t))return n;return-1}e.exports=i},cc45:function(e,t,n){var r=n("1a2d"),i=n("b047"),s=n("99d3"),o=s&&s.isMap,a=o?i(o):r;e.exports=a},cd9d:function(e,t){function n(e){return e}e.exports=n},cdd8:function(e,t,n){e.exports=n("a9b9")},ce86:function(e,t,n){var r=n("9e69"),i=n("7948"),s=n("6747"),o=n("ffd6"),a=1/0,l=r?r.prototype:void 0,u=l?l.toString:void 0;function c(e){if("string"==typeof e)return e;if(s(e))return i(e,c)+"";if(o(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}e.exports=c},cebd:function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}e.exports=n},d02c:function(e,t,n){var r=n("5e2e"),i=n("79bc"),s=n("7b83"),o=200;function a(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<o-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(a)}return n.set(e,t),this.size=n.size,this}e.exports=a},d327:function(e,t){function n(){return[]}e.exports=n},d370:function(e,t,n){var r=n("253c"),i=n("1310"),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},d4f4:function(e,t,n){var r=n("43da"),i="&&",s="||",o="and",a="or",l="!",u="=",c="~",h=l+u,p=l+c,d=">",f=">=",m="<",y="<=",g="*",_=",",v=".",b="(",x=")",w="where",S={pathway:[],groups:{}},C={},E={},T=console.log;function A(e){var t=M(e,w),n=t[0],r=t[1];S.pathway=M(n,_);for(var i=0,s=S.pathway.length;i<s;i++)S.pathway[i]=M(S.pathway[i],v),S.pathway[i][0]==g&&S.pathway[i].shift(),0===S.pathway[i].length&&S.pathway.splice(i,1);var o=-1,a=-1,l=0;while(l<r.length){if(r[l]===b)o=l;else if(r[l]===x&&(a=l,a>o&&-1!==o)){var u="gr_"+(new Date).getTime();S.groups[u]=r.substring(o+1,a),r=r.replace(b+S.groups[u]+x,u),l=-1}l+=1}P(C,r)}function P(e,t){var n=L(t,i),r=L(t,s);if(n!==Number.MAX_VALUE||r!==Number.MAX_VALUE)if(n<r){e.and=e.and||[];var o=M(t,i);e.and.push(o[0]),P(e.and,o[1])}else{e.or=e.or||[];o=M(t,s);e.or.push(o[0]),P(e.or,o[1])}else S.groups[t]?(t=S.groups[t],P(e,t)):(Array.isArray(e)?e.push(t):e.or=[t],I(C.or?C.or:C.and))}function I(e){for(var t in e)if(e.hasOwnProperty(t))if(Array.isArray(e[t]))I(e[t]);else if("string"===typeof e[t])if(O(e[t],h)){var n=M(e[t],h);e[t]={ne:[n[0],n[1]]}}else if(O(e[t],p)){n=M(e[t],p);e[t]={nreq:[n[0],n[1]]}}else if(O(e[t],c)){n=M(e[t],c);e[t]={req:[n[0],n[1]]}}else if(O(e[t],f)){n=M(e[t],f);e[t]={ge:[n[0],n[1]]}}else if(O(e[t],d)){n=M(e[t],d);e[t]={gt:[n[0],n[1]]}}else if(O(e[t],y)){n=M(e[t],y);e[t]={le:[n[0],n[1]]}}else if(O(e[t],m)){n=M(e[t],m);e[t]={lt:[n[0],n[1]]}}else if(O(e[t],u)){n=M(e[t],u);e[t]={eq:[n[0],n[1]]}}}function L(e,t){var n=e.indexOf(t);return-1===n?Number.MAX_VALUE:n}function M(e,t){return e.split(t).map((function(e){return e.trim()}))}function O(e,t){return e.indexOf(t)>-1}function k(e,t){var n=M(t,v),i=e;for(var s in n){if(!i.hasOwnProperty(n[s]))return"";i=i[n[s]]}return i=r.isDate(i)?i.valueOf():r.isDateString(i)?r.parseDateFromString(i):i.toString(),i}function N(e,t){var n=!1;for(var r in e){var i=r===o?R:r===a?N:D;if(n=n||i(e[r],t),E.trace&&T(S.step,"======((( or",e[r],n),n)return n}return n}function R(e,t){var n=!0;for(var r in e){var i=r===o?R:r===a?N:D;if(n=n&&i(e[r],t),E.trace&&T(S.step,"======((( and",e[r],n),!n)return n}return n}function D(e,t){if(S.step+=1,e.or){var n=N(e.or,t);return E.trace&&T(S.step,"OR",e,n),n}if(e.and){n=R(e.and,t);return E.trace&&T(S.step,"AND",e,n),n}if("object"===typeof e)return e.eq?k(t,e.eq[0])===e.eq[1]:e.ne?k(t,e.ne[0])!==e.ne[1]:e.req?O(k(t,e.req[0]),e.req[1]):e.nreq?!O(k(t,e.nreq[0]),e.nreq[1]):e.gt?k(t,e.gt[0])>e.gt[1]:e.ge?k(t,e.ge[0])>=e.ge[1]:e.lt?k(t,e.lt[0])<e.lt[1]:e.le?k(t,e.le[0])<=e.le[1]:D(e,t)}function F(e){var t=[];for(var n in e)D(C,e[n])&&t.push(e[n]);return t}function B(e){return e&&S.pathway.length>0?e.map((function(e){for(var t={},n=0,r=S.pathway.length;n<r;n++){var i=S.pathway[n].join(v);t[i]=k(e,i)}return t})):e}function q(e,t,n){return S={pathway:[],groups:{},step:0},C={},n=n||{trace:!1},E=n,A(t),B(F(e))}"undefined"!=typeof e.exports&&(e.exports=q),"undefined"!=typeof window&&(window.Query=q)},d60a:function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},d612:function(e,t,n){var r=n("7b83"),i=n("7ed2"),s=n("dc0f");function o(e){var t=-1,n=null==e?0:e.length;this.__data__=new r;while(++t<n)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=s,e.exports=o},d6dd:function(e,t,n){e.exports=n("c30c")},d735:function(e,t,n){e.exports=o;var r=n("9eab"),i=n("0074"),s=n("de57").ConnectionFault;function o(e,t){i.call(this,e,t)}r.inherits(o,i),o.prototype.request=function(e,t){var n={url:this.host.makeUrl(e),data:e.body,type:e.method,dataType:"text",headers:this.host.getHeaders(e.headers),done:t},r=jQuery.ajax(n).done((function(e){t(null,e,r.statusCode(),{"content-type":r.getResponseHeader("content-type")})})).fail((function(e,n,i){e&&e.responseText?t(null,e.responseText,r.statusCode(),{"content-type":r.getResponseHeader("content-type")}):t(new s(i&&i.message))}));return function(){r.abort()}}},d7ee:function(e,t,n){var r=n("c3fc"),i=n("b047"),s=n("99d3"),o=s&&s.isSet,a=o?i(o):r;e.exports=a},d871:function(e,t,n){var r,i,s;(function(n,o){i=[t,e],r=o,s="function"===typeof r?r.apply(t,i):r,void 0===s||(e.exports=s)})(0,(function(e,t){"use strict";var n={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function r(){return"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random())}function i(e){try{delete window[e]}catch(t){window[e]=void 0}}function s(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=e,a=t.timeout||n.timeout,l=t.jsonpCallback||n.jsonpCallback,u=void 0;return new Promise((function(n,c){var h=t.jsonpCallbackFunction||r(),p=l+"_"+h;window[h]=function(e){n({ok:!0,json:function(){return Promise.resolve(e)}}),u&&clearTimeout(u),s(p),i(h)},o+=-1===o.indexOf("?")?"?":"&";var d=document.createElement("script");d.setAttribute("src",""+o+l+"="+h),t.charset&&d.setAttribute("charset",t.charset),d.id=p,document.getElementsByTagName("head")[0].appendChild(d),u=setTimeout((function(){c(new Error("JSONP request to "+e+" timed out")),i(h),s(p),window[h]=function(){i(h)}}),a),d.onerror=function(){c(new Error("JSONP request to "+e+" failed")),i(h),s(p),u&&clearTimeout(u)}}))}t.exports=o}))},d972:function(e,t,n){e.exports=i;var r=n("2ef0");function i(){}i.prototype.serialize=function(e,t,n){switch(typeof e){case"string":return e;case"object":if(e)return t||n?JSON.stringify(e,t,n):JSON.stringify(e);default:return}},i.prototype.serialize.contentType="application/json",i.prototype.deserialize=function(e){if("string"===typeof e)try{return JSON.parse(e)}catch(t){}},i.prototype.bulkBody=function(e){var t,n="";if(r.isArray(e))for(t=0;t<e.length;t++)n+=this.serialize(e[t])+"\n";else{if("string"!==typeof e)throw new TypeError("Bulk body should either be an Array of commands/string, or a String");n=e+("\n"===e[e.length-1]?"":"\n")}return n},i.prototype.bulkBody.contentType="application/x-ndjson"},da03:function(e,t,n){var r=n("2b3e"),i=r["__core-js_shared__"];e.exports=i},dc0f:function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},dc1f:function(e,t,n){(function(t){e.exports=u;var r=n("2ef0"),i=n("9eab"),s=n("de57"),o=n("4d67"),a=n("93906"),l=n("7dc3");function u(e){var t=this;e=t._config=e||{};var s="function"===typeof e.log?e.log:n("7d33");e.log=t.log=new s(e);var c=i.funcEnum(e,"connectionPool",u.connectionPools,"main");t.connectionPool=new c(e);var h=i.funcEnum(e,"serializer",u.serializers,"json");t.serializer=new h(e),t.nodesToHostCallback=i.funcEnum(e,"nodesToHostCallback",u.nodesToHostCallbacks,"main"),t.maxRetries=e.hasOwnProperty("maxRetries")?e.maxRetries:3,t.sniffEndpoint=e.hasOwnProperty("sniffEndpoint")?e.sniffEndpoint:"/_nodes/_all/http",t.requestTimeout=e.hasOwnProperty("requestTimeout")?e.requestTimeout:3e4,t.pingTimeout=e.hasOwnProperty("pingTimeout")?e.pingTimeout:3e3,e.hasOwnProperty("defer")&&(t.defer=e.defer);var p=!e.hasOwnProperty("randomizeHosts")||!!e.randomizeHosts;if(e.host&&(e.hosts=e.host),e.hosts){var d=i.createArray(e.hosts,(function(e){if(r.isPlainObject(e)||r.isString(e)||e instanceof o)return e}));if(!d)throw new TypeError("Invalid hosts config. Expected a URL, an array of urls, a host config object, or an array of host config objects.");p&&(d=r.shuffle(d)),t.setHosts(d)}e.hasOwnProperty("sniffedNodesProtocol")?t.sniffedNodesProtocol=e.sniffedNodesProtocol||null:t.sniffedNodesProtocol=l(t.connectionPool.getAllHosts())||null,e.hasOwnProperty("sniffedNodesFilterPath")?t.sniffedNodesFilterPath=e.sniffedNodesFilterPath:t.sniffedNodesFilterPath=["nodes.*.http.publish_address","nodes.*.name","nodes.*.hostname","nodes.*.host","nodes.*.version"].join(","),e.sniffOnStart&&t.sniff(),e.sniffInterval&&t._timeout((function n(){t.sniff(),t._timeout(n,e.sniffInterval)}),e.sniffInterval),e.sniffOnConnectionFault&&a(t)}u.connectionPools={main:n("2035")},u.serializers=n("793d"),u.nodesToHostCallbacks={main:n("72ce")},u.prototype.defer=function(){if("undefined"===typeof Promise)throw new Error("No Promise implementation found. In order for elasticsearch-js to create promises either specify the `defer` configuration or include a global Promise shim");var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},u.prototype.request=function(e,n){var o,a,l,u,c,h=this,p=this.maxRetries,d=this.requestTimeout,f=!1,m=e.body,y=e.headers?r.transform(e.headers,(function(e,t,n){e[String(n).toLowerCase()]=t})):{};if(h.log.debug("starting request",e),"function"===typeof n?(t.domain&&(n=t.domain.bind(n)),u={abort:S}):(c=this.defer(),u=c.promise,u.abort=S),m&&"GET"===e.method)return i.nextTick(w,new TypeError('Body can not be sent with method "GET"')),u;if(m){var g=h.serializer,_=g[e.bulkBody?"bulkBody":"serialize"];m=_.call(g,m),y["content-type"]||(y["content-type"]=_.contentType)}e.hasOwnProperty("maxRetries")&&(p=e.maxRetries),e.hasOwnProperty("requestTimeout")&&(d=e.requestTimeout);const v="/"===e.path&&"HEAD"===e.method;if(v){const t=e.hasOwnProperty("requestTimeout")&&e.requestTimeout;d=t||this.pingTimeout}function b(t,n){f||(t?w(t):n?(o=n,a=o.request(e.req,x)):(h.log.warning("No living connections"),w(new s.NoConnections)))}function x(t,n,r,i){if(!f){if(a=void 0,t instanceof s.RequestTypeError)return h.log.error("Connection refused to execute the request",t),void w(t,n,r,i);if(t){o.setStatus("dead");var l=t.message||"";l="\n"+e.req.method+" "+o.host.makeUrl(e.req)+(l.length?" => ":"")+l,p?(p--,h.log.error("Request error, retrying"+l),h.connectionPool.select(b)):(h.log.error("Request complete with error"+l),w(new s.ConnectionFault(t)))}else h.log.debug("Request complete"),w(void 0,n,r,i)}}function w(t,i,o,a){if(!f){var u;h._timeout(l);var p=!a||a["content-type"]&&~a["content-type"].indexOf("application/json");if(!t&&i&&(p?(u=h.serializer.deserialize(i),null==u&&(t=new s.Serialization,u=i)):u=i),(!t||t instanceof s.Serialization)&&(o<200||o>=300)&&(!e.ignore||!r.includes(e.ignore,o))){var d=r.pick(e.req,["path","query","body"]);d.statusCode=o,d.response=i,401===o&&a&&a["www-authenticate"]&&(d.wwwAuthenticateDirective=a["www-authenticate"]),t=s[o]?new s[o](u&&u.error,d):new s.Generic("unknown error",d)}e.castExists&&(t&&t instanceof s.NotFound?(u=!1,t=void 0):u=!t),"function"===typeof n?n(t||void 0,u,o):t?(t.body=u,t.status=o,c.reject(t)):c.resolve(u)}}function S(){f||(f=!0,p=0,h._timeout(l),"function"===typeof a&&a())}return e.req={method:e.method,path:e.path||"/",query:e.query,body:m,headers:y},d&&d!==1/0&&(l=this._timeout((function(){w(new s.RequestTimeout("Request Timeout after "+d+"ms")),S()}),d)),o?b(void 0,o):h.connectionPool.select(b),u},u.prototype._timeout=function(e,t){if(!this.closed){var n,i=this._timers||(this._timers=[]);if("function"!==typeof e&&(n=e,e=void 0),e)return n=setTimeout((function(){r.pull(i,n),e()}),t),i.push(n),n;if(n){clearTimeout(n);var s=this._timers.indexOf(n);-1!==s&&this._timers.splice(s,1)}}},u.prototype.sniff=function(e){var t=this,n=this.nodesToHostCallback,i=this.log,s=this.sniffedNodesProtocol,o=this.sniffedNodesFilterPath;e="function"===typeof e?e:r.noop,this.request({path:this.sniffEndpoint,query:{filter_path:o},method:"GET"},(function(o,a,l){if(!o&&a&&a.nodes){var u;try{u=n(a.nodes)}catch(c){return void i.error(new Error("Unable to convert node list from "+t.sniffEndpoint+" to hosts durring sniff. Encountered error:\n"+(c.stack||c.message)))}r.forEach(u,(function(e){s&&(e.protocol=s)})),t.setHosts(u)}e(o,a,l)}))},u.prototype.setHosts=function(e){var t=this._config;this.connectionPool.setHosts(r.map(e,(function(e){return e instanceof o?e:new o(e,t)})))},u.prototype.close=function(){this.log.close(),this.closed=!0,r.each(this._timers,clearTimeout),this._timers=null,this.connectionPool.close()}}).call(this,n("4362"))},dc57:function(e,t){var n=Function.prototype,r=n.toString;function i(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}e.exports=i},dc6a:function(e,t){e.exports=function(e){return e[Math.floor(Math.random()*e.length)]}},dcbe:function(e,t,n){var r=n("30c9"),i=n("1310");function s(e){return i(e)&&r(e)}e.exports=s},dce5:function(e,t,n){var r=n("32b3"),i=n("8eeb"),s=n("2ec1"),o=n("30c9"),a=n("eac5"),l=n("ec69"),u=Object.prototype,c=u.hasOwnProperty,h=s((function(e,t){if(a(t)||o(t))i(t,l(t),e);else for(var n in t)c.call(t,n)&&r(e,n,t[n])}));e.exports=h},dd65:function(e,t,n){var r=n("badf"),i=n("a0ac"),s=n("77c1");function o(e,t){return s(e,i(r(t)))}e.exports=o},de57:function(e,t,n){var r=n("2ef0"),i=n("9eab"),s=e.exports,o="function"===typeof Error.captureStackTrace,a=!!(new Error).stack;function l(e,t,n){this.message=e,Error.call(this,this.message),o?Error.captureStackTrace(this,t):this.stack=a?(new Error).stack:"",n&&(r.assign(this,n),this.toString=function(){return e+" :: "+JSON.stringify(n)},this.toJSON=function(){return r.assign({msg:e},n)})}s._Abstract=l,i.inherits(l,Error),s.ConnectionFault=function(e){l.call(this,e||"Connection Failure",s.ConnectionFault)},i.inherits(s.ConnectionFault,l),s.NoConnections=function(e){l.call(this,e||"No Living connections",s.NoConnections)},i.inherits(s.NoConnections,l),s.Generic=function(e,t){l.call(this,e||"Generic Error",s.Generic,t)},i.inherits(s.Generic,l),s.RequestTimeout=function(e){l.call(this,e||"Request Timeout",s.RequestTimeout)},i.inherits(s.RequestTimeout,l),s.Serialization=function(e){l.call(this,e||"Unable to parse/serialize body",s.Serialization)},i.inherits(s.Serialization,l),s.RequestTypeError=function(e){l.call(this,"Cross-domain AJAX requests "+e+" are not supported",s.RequestTypeError)},i.inherits(s.RequestTypeError,l);var u=[[300,"Multiple Choices"],[301,"Moved Permanently"],[302,"Found"],[303,"See Other"],[304,"Not Modified"],[305,"Use Proxy"],[307,"Temporary Redirect"],[308,"Permanent Redirect"],[400,"Bad Request"],[401,"Authentication Exception"],[402,"Payment Required"],[403,["Authorization Exception","Forbidden"]],[404,"Not Found"],[405,"Method Not Allowed"],[406,"Not Acceptable"],[407,"Proxy Authentication Required"],[408,"Request Timeout"],[409,"Conflict"],[410,"Gone"],[411,"Length Required"],[412,"Precondition Failed"],[413,"Request Entity Too Large"],[414,"Request URIToo Long"],[415,"Unsupported Media Type"],[416,"Requested Range Not Satisfiable"],[417,"Expectation Failed"],[418,"Im ATeapot"],[421,"Too Many Connections From This IP"],[426,"Upgrade Required"],[429,"Too Many Requests"],[450,"Blocked By Windows Parental Controls"],[494,"Request Header Too Large"],[497,"HTTPTo HTTPS"],[499,"Client Closed Request"],[500,"Internal Server Error"],[501,"Not Implemented"],[502,"Bad Gateway"],[503,"Service Unavailable"],[504,"Gateway Timeout"],[505,"HTTPVersion Not Supported"],[506,"Variant Also Negotiates"],[510,"Not Extended"]];function c(e){const t=[];return function e(n){if("object"!==typeof n)return JSON.stringify(n);if(t.indexOf(n)>-1)return"[circular]";t.push(n);try{return"{ "+r.map(n,(function(t,n){return n+"="+e(t)})).join(" & ")+" }"}finally{t.pop()}}(e)}r.each(u,(function(e){var t=e[0],n=e[1],o=[].concat(n,t),a=o[0],u=i.studlyCase(a);function h(e,n){this.status=t,this.displayName=u;var i=null;return r.isPlainObject(e)&&(i=e,e=null),i?(e=[].concat(i.root_cause||[]).reduce((function(e,t){e&&(e+=" (and) "),e+="["+t.type+"] "+t.reason;var n=r.omit(t,["type","reason"]);return r.size(n)&&(e+=", with "+c(n)),e}),""),e||(i.type&&(e+="["+i.type+"] "),i.reason&&(e+=i.reason)),l.call(this,e||a,h,n),this):(l.call(this,e||a,h,n),this)}o=r.uniq(o.concat(u)),i.inherits(h,l),o.forEach((function(e){s[e]=h}))}))},e031:function(e,t,n){var r=n("f909"),i=n("1a8c");function s(e,t,n,o,a,l){return i(e)&&i(t)&&(l.set(t,e),r(e,t,void 0,s,l),l["delete"](t)),e}e.exports=s},e099:function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===typeof e?s(o(e),(function(o){var a=encodeURIComponent(r(o))+n;return i(e[o])?s(e[o],(function(e){return a+encodeURIComponent(r(e))})).join(t):a+encodeURIComponent(r(e[o]))})).join(t):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},e0e7b:function(e,t,n){var r=n("60ed");function i(e){return r(e)?void 0:e}e.exports=i},e24b:function(e,t,n){var r=n("49f4"),i=n("1efc"),s=n("bbc0"),o=n("7a48"),a=n("2524");function l(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype["delete"]=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l},e2c0:function(e,t,n){var r=n("e2e4"),i=n("d370"),s=n("6747"),o=n("c0983"),a=n("b218"),l=n("f4d6");function u(e,t,n){t=r(t,e);var u=-1,c=t.length,h=!1;while(++u<c){var p=l(t[u]);if(!(h=null!=e&&n(e,p)))break;e=e[p]}return h||++u!=c?h:(c=null==e?0:e.length,!!c&&a(c)&&o(p,c)&&(s(e)||i(e)))}e.exports=u},e2e4:function(e,t,n){var r=n("6747"),i=n("f608"),s=n("18d8"),o=n("76dd");function a(e,t){return r(e)?e:i(e,t)?[e]:s(o(e))}e.exports=a},e380:function(e,t,n){var r=n("7b83"),i="Expected a function";function s(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(s.Cache||r),n}s.Cache=r,e.exports=s},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},e3f8:function(e,t,n){var r=n("656b");function i(e){return function(t){return r(t,e)}}e.exports=i},e5383:function(e,t,n){(function(e){var r=n("2b3e"),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===i,a=o?r.Buffer:void 0,l=a?a.allocUnsafe:void 0;function u(e,t){if(t)return e.slice();var n=e.length,r=l?l(n):new e.constructor(n);return e.copy(r),r}e.exports=u}).call(this,n("62e4")(e))},e539:function(e,t,n){e.exports=o;var r=n("9eab"),i=n("0074"),s=n("de57").ConnectionFault;function o(e,t){i.call(this,e,t);var n=this;t.$injector.invoke(["$http","$q",function(e,t){n.$q=t,n.$http=e}])}r.inherits(o,i),o.prototype.request=function(e,t){var n=this.$q.defer();return this.$http({method:e.method,url:this.host.makeUrl(e),data:e.body,cache:!1,headers:this.host.getHeaders(e.headers),transformRequest:[],transformResponse:[],timeout:n.promise}).then((function(e){t(null,e.data,e.status,e.headers())}),(function(e){e.status?t(null,e.data,e.status,e.headers()):t(new s(e.message))})),function(){n.resolve()}}},e759:function(e,t,n){var r=n("badf"),i=n("43ad"),s=Object.prototype,o=s.hasOwnProperty,a=s.toString,l=i((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=a.call(t)),o.call(e,t)?e[t].push(n):e[t]=[n]}),r);e.exports=l},e901:function(e,t,n){(function(t){"use strict";if(t.__disableNativeFetch||!t.fetch){a.prototype.append=function(e,t){e=s(e),t=o(t);var n=this.map[e];n||(n=[],this.map[e]=n),n.push(t)},a.prototype["delete"]=function(e){delete this.map[s(e)]},a.prototype.get=function(e){var t=this.map[s(e)];return t?t[0]:null},a.prototype.getAll=function(e){return this.map[s(e)]||[]},a.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},a.prototype.set=function(e,t){this.map[s(e)]=[o(t)]},a.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach((function(n){this.map[n].forEach((function(r){e.call(t,r,n,this)}),this)}),this)};var n={blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t},r=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},p.call(f.prototype),p.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var i=[301,302,303,307,308];g.redirect=function(e,t){if(-1===i.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},t.Headers=a,t.Request=f,t.Response=g,t.fetch=function(e,t){return new Promise((function(r,i){var s;s=f.prototype.isPrototypeOf(e)&&!t?e:new f(e,t);var o=new XMLHttpRequest;function a(){return"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0}var l=!1;function u(){if(4===o.readyState){var e=1223===o.status?204:o.status;if(e<100||e>599){if(l)return;return l=!0,void i(new TypeError("Network request failed"))}var t={status:e,statusText:o.statusText,headers:y(o),url:a()},n="response"in o?o.response:o.responseText;l||(l=!0,r(new g(n,t)))}}o.onreadystatechange=u,o.onload=u,o.onerror=function(){l||(l=!0,i(new TypeError("Network request failed")))},o.open(s.method,s.url,!0);try{"include"===s.credentials&&("withCredentials"in o?o.withCredentials=!0:console&&console.warn&&console.warn("withCredentials is not supported, you can ignore this warning"))}catch(c){console&&console.warn&&console.warn("set withCredentials error:"+c)}"responseType"in o&&n.blob&&(o.responseType="blob"),s.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),o.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))},t.fetch.polyfill=!0,e.exports&&(e.exports=t.fetch)}function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!==typeof e&&(e=String(e)),e}function a(e){this.map={},e instanceof a?e.forEach((function(e,t){this.append(t,e)}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function u(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function c(e){var t=new FileReader;return t.readAsArrayBuffer(e),u(t)}function h(e,t){var n=new FileReader,r=t.headers.map["content-type"]?t.headers.map["content-type"].toString():"",i=/charset\=[0-9a-zA-Z\-\_]*;?/,s=e.type.match(i)||r.match(i),o=[e];return s&&o.push(s[0].replace(/^charset\=/,"").replace(/;$/,"")),n.readAsText.apply(n,o),u(n)}function p(){return this.bodyUsed=!1,this._initBody=function(e,t){if(this._bodyInit=e,"string"===typeof e)this._bodyText=e;else if(n.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e,this._options=t;else if(n.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!n.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText=""},n.blob?(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(c)},this.text=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return h(this._bodyBlob,this._options);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=l(this);return e||Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return r.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(f.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new a(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n,t)}function m(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function y(e){var t=new a,n=e.getAllResponseHeaders().trim().split("\n");return n.forEach((function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)})),t}function g(e,t){t||(t={}),this._initBody(e,t),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof a?t.headers:new a(t.headers),this.url=t.url||""}})("undefined"!==typeof self?self:this)},e95e:function(e,t,n){var r=n("bbb4").makeFactoryWithModifier((function(e){return n("2ef0").merge(e,{params:{filterPath:{type:"list",name:"filter_path"}}})})),i=n("bbb4").namespaceFactory,s=e.exports={};s._namespaces=["cat","cluster","indices","ingest","nodes","snapshot","tasks"],s.bulk=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},type:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/<%=type%>/_bulk",req:{index:{type:"string"},type:{type:"string"}}},{fmt:"/<%=index%>/_bulk",req:{index:{type:"string"}}},{fmt:"/_bulk"}],needBody:!0,bulkBody:!0,method:"POST"}),s.cat=i(),s.cat.prototype.aliases=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/aliases/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_cat/aliases"}]}),s.cat.prototype.allocation=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/allocation/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cat/allocation"}]}),s.cat.prototype.count=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/count/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/count"}]}),s.cat.prototype.fielddata=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},fields:{type:"list"}},urls:[{fmt:"/_cat/fielddata/<%=fields%>",req:{fields:{type:"list"}}},{fmt:"/_cat/fielddata"}]}),s.cat.prototype.health=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},ts:{type:"boolean",default:!0},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/health"}}),s.cat.prototype.help=r({params:{help:{type:"boolean",default:!1},s:{type:"list"}},url:{fmt:"/_cat"}}),s.cat.prototype.indices=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","m","g"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},health:{type:"enum",default:null,options:["green","yellow","red"]},help:{type:"boolean",default:!1},pri:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"}},urls:[{fmt:"/_cat/indices/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/indices"}]}),s.cat.prototype.master=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/master"}}),s.cat.prototype.nodeattrs=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodeattrs"}}),s.cat.prototype.nodes=r({params:{format:{type:"string"},fullId:{type:"boolean",name:"full_id"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/nodes"}}),s.cat.prototype.pendingTasks=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/pending_tasks"}}),s.cat.prototype.plugins=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/plugins"}}),s.cat.prototype.recovery=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/recovery/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/recovery"}]}),s.cat.prototype.repositories=r({params:{format:{type:"string"},local:{type:"boolean",default:!1},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/repositories"}}),s.cat.prototype.segments=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/segments/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/segments"}]}),s.cat.prototype.shards=r({params:{format:{type:"string"},bytes:{type:"enum",options:["b","k","kb","m","mb","g","gb","t","tb","p","pb"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/shards/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cat/shards"}]}),s.cat.prototype.snapshots=r({params:{format:{type:"string"},ignoreUnavailable:{type:"boolean",default:!1,name:"ignore_unavailable"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/snapshots/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_cat/snapshots"}]}),s.cat.prototype.tasks=r({params:{format:{type:"string"},nodeId:{type:"list",name:"node_id"},actions:{type:"list"},detailed:{type:"boolean"},parentTask:{type:"number",name:"parent_task"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},url:{fmt:"/_cat/tasks"}}),s.cat.prototype.templates=r({params:{format:{type:"string"},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/templates/<%=name%>",req:{name:{type:"string"}}},{fmt:"/_cat/templates"}]}),s.cat.prototype.threadPool=r({params:{format:{type:"string"},size:{type:"enum",options:["","k","m","g","t","p"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},h:{type:"list"},help:{type:"boolean",default:!1},s:{type:"list"},v:{type:"boolean",default:!1}},urls:[{fmt:"/_cat/thread_pool/<%=threadPoolPatterns%>",req:{threadPoolPatterns:{type:"list"}}},{fmt:"/_cat/thread_pool"}]}),s.clearScroll=r({url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"DELETE"}),s.cluster=i(),s.cluster.prototype.allocationExplain=r({params:{includeYesDecisions:{type:"boolean",name:"include_yes_decisions"},includeDiskInfo:{type:"boolean",name:"include_disk_info"}},url:{fmt:"/_cluster/allocation/explain"},method:"POST"}),s.cluster.prototype.getSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/_cluster/settings"}}),s.cluster.prototype.health=r({params:{expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},level:{type:"enum",default:"cluster",options:["cluster","indices","shards"]},local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForNodes:{type:"string",name:"wait_for_nodes"},waitForEvents:{type:"enum",options:["immediate","urgent","high","normal","low","languid"],name:"wait_for_events"},waitForNoRelocatingShards:{type:"boolean",name:"wait_for_no_relocating_shards"},waitForNoInitializingShards:{type:"boolean",name:"wait_for_no_initializing_shards"},waitForStatus:{type:"enum",default:null,options:["green","yellow","red"],name:"wait_for_status"}},urls:[{fmt:"/_cluster/health/<%=index%>",req:{index:{type:"list"}}},{fmt:"/_cluster/health"}]}),s.cluster.prototype.pendingTasks=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_cluster/pending_tasks"}}),s.cluster.prototype.putSettings=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/settings"},needBody:!0,method:"PUT"}),s.cluster.prototype.remoteInfo=r({url:{fmt:"/_remote/info"}}),s.cluster.prototype.reroute=r({params:{dryRun:{type:"boolean",name:"dry_run"},explain:{type:"boolean"},retryFailed:{type:"boolean",name:"retry_failed"},metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","master_node","version"]},masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_cluster/reroute"},method:"POST"}),s.cluster.prototype.state=r({params:{local:{type:"boolean"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"},waitForMetadataVersion:{type:"number",name:"wait_for_metadata_version"},waitForTimeout:{type:"time",name:"wait_for_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/_cluster/state/<%=metric%>/<%=index%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]},index:{type:"list"}}},{fmt:"/_cluster/state/<%=metric%>",req:{metric:{type:"list",options:["_all","blocks","metadata","nodes","routing_table","routing_nodes","master_node","version"]}}},{fmt:"/_cluster/state"}]}),s.cluster.prototype.stats=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_cluster/stats/nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_cluster/stats"}]}),s.count=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},minScore:{type:"number",name:"min_score"},preference:{type:"string"},routing:{type:"list"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},terminateAfter:{type:"number",name:"terminate_after"}},urls:[{fmt:"/<%=index%>/_count",req:{index:{type:"list"}}},{fmt:"/_count"}],method:"POST"}),s.create=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},pipeline:{type:"string"}},url:{fmt:"/<%=index%>/_create/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s["delete"]=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"DELETE"}),s.deleteByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_delete_by_query",req:{index:{type:"list"}}},needBody:!0,method:"POST"}),s.deleteByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_delete_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.deleteScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.exists=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.existsSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"HEAD"}),s.explain=r({params:{analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},analyzer:{type:"string"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},storedFields:{type:"list",name:"stored_fields"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},url:{fmt:"/<%=index%>/_explain/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},method:"POST"}),s.fieldCaps=r({params:{fields:{type:"list"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},includeUnmapped:{type:"boolean",default:!1,name:"include_unmapped"}},urls:[{fmt:"/<%=index%>/_field_caps",req:{index:{type:"list"}}},{fmt:"/_field_caps"}],method:"POST"}),s.get=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.getScript=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}}),s.getSource=r({params:{preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},url:{fmt:"/<%=index%>/_source/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}}}),s.index=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},opType:{type:"enum",default:"index",options:["index","create"],name:"op_type"},refresh:{type:"enum",options:["true","false","wait_for",""]},routing:{type:"string"},timeout:{type:"time"},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"},pipeline:{type:"string"}},urls:[{fmt:"/<%=index%>/_doc/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_doc",req:{index:{type:"string"}}}],needBody:!0,method:"POST"}),s.indices=i(),s.indices.prototype.analyze=r({params:{index:{type:"string"}},urls:[{fmt:"/<%=index%>/_analyze",req:{index:{type:"string"}}},{fmt:"/_analyze"}],method:"POST"}),s.indices.prototype.clearCache=r({params:{fielddata:{type:"boolean"},fields:{type:"list"},query:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},index:{type:"list"},request:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_cache/clear",req:{index:{type:"list"}}},{fmt:"/_cache/clear"}],method:"POST"}),s.indices.prototype.clone=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_clone/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.close=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_close",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.create=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"string"}}},method:"PUT"}),s.indices.prototype["delete"]=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},method:"DELETE"}),s.indices.prototype.deleteTemplate=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},method:"DELETE"}),s.indices.prototype.exists=r({params:{local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}}],method:"HEAD"}),s.indices.prototype.existsTemplate=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},method:"HEAD"}),s.indices.prototype.existsType=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},url:{fmt:"/<%=index%>/_mapping/<%=type%>",req:{index:{type:"list"},type:{type:"list"}}},method:"HEAD"}),s.indices.prototype.flush=r({params:{force:{type:"boolean"},waitIfOngoing:{type:"boolean",name:"wait_if_ongoing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush",req:{index:{type:"list"}}},{fmt:"/_flush"}],method:"POST"}),s.indices.prototype.flushSynced=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_flush/synced",req:{index:{type:"list"}}},{fmt:"/_flush/synced"}],method:"POST"}),s.indices.prototype.forcemerge=r({params:{flush:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},maxNumSegments:{type:"number",name:"max_num_segments"},onlyExpungeDeletes:{type:"boolean",name:"only_expunge_deletes"}},urls:[{fmt:"/<%=index%>/_forcemerge",req:{index:{type:"list"}}},{fmt:"/_forcemerge"}],method:"POST"}),s.indices.prototype.get=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>",req:{index:{type:"list"}}}}),s.indices.prototype.getAlias=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"all",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/_alias/<%=name%>",req:{name:{type:"list"}}},{fmt:"/<%=index%>/_alias",req:{index:{type:"list"}}},{fmt:"/_alias"}]}),s.indices.prototype.getFieldMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},includeDefaults:{type:"boolean",name:"include_defaults"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping/field/<%=fields%>",req:{index:{type:"list"},fields:{type:"list"}}},{fmt:"/_mapping/field/<%=fields%>",req:{fields:{type:"list"}}}]}),s.indices.prototype.getMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},{fmt:"/_mapping"}]}),s.indices.prototype.getSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:["open","closed"],options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"},local:{type:"boolean"},includeDefaults:{type:"boolean",default:!1,name:"include_defaults"}},urls:[{fmt:"/<%=index%>/_settings/<%=name%>",req:{index:{type:"list"},name:{type:"list"}}},{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_settings"}]}),s.indices.prototype.getTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},flatSettings:{type:"boolean",name:"flat_settings"},masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_template/<%=name%>",req:{name:{type:"list"}}},{fmt:"/_template"}]}),s.indices.prototype.getUpgrade=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}]}),s.indices.prototype.open=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"closed",options:["open","closed","none","all"],name:"expand_wildcards"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_open",req:{index:{type:"list"}}},method:"POST"}),s.indices.prototype.putAlias=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/<%=index%>/_alias/<%=name%>",req:{index:{type:"list"},name:{type:"string"}}},method:"PUT"}),s.indices.prototype.putMapping=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},url:{fmt:"/<%=index%>/_mapping",req:{index:{type:"list"}}},needBody:!0,method:"PUT"}),s.indices.prototype.putSettings=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},preserveExisting:{type:"boolean",name:"preserve_existing"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},flatSettings:{type:"boolean",name:"flat_settings"}},urls:[{fmt:"/<%=index%>/_settings",req:{index:{type:"list"}}},{fmt:"/_settings"}],needBody:!0,method:"PUT"}),s.indices.prototype.putTemplate=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},order:{type:"number"},create:{type:"boolean",default:!1},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},flatSettings:{type:"boolean",name:"flat_settings"}},url:{fmt:"/_template/<%=name%>",req:{name:{type:"string"}}},needBody:!0,method:"PUT"}),s.indices.prototype.recovery=r({params:{detailed:{type:"boolean",default:!1},activeOnly:{type:"boolean",default:!1,name:"active_only"}},urls:[{fmt:"/<%=index%>/_recovery",req:{index:{type:"list"}}},{fmt:"/_recovery"}]}),s.indices.prototype.refresh=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_refresh",req:{index:{type:"list"}}},{fmt:"/_refresh"}],method:"POST"}),s.indices.prototype.rollover=r({params:{includeTypeName:{type:"boolean",name:"include_type_name"},timeout:{type:"time"},dryRun:{type:"boolean",name:"dry_run"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},urls:[{fmt:"/<%=alias%>/_rollover/<%=newIndex%>",req:{alias:{type:"string"},newIndex:{type:"string"}}},{fmt:"/<%=alias%>/_rollover",req:{alias:{type:"string"}}}],method:"POST"}),s.indices.prototype.segments=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},verbose:{type:"boolean",default:!1}},urls:[{fmt:"/<%=index%>/_segments",req:{index:{type:"list"}}},{fmt:"/_segments"}]}),s.indices.prototype.shardStores=r({params:{status:{type:"list",options:["green","yellow","red","all"]},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_shard_stores",req:{index:{type:"list"}}},{fmt:"/_shard_stores"}]}),s.indices.prototype.shrink=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_shrink/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.split=r({params:{copySettings:{type:"boolean",name:"copy_settings"},timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"}},url:{fmt:"/<%=index%>/_split/<%=target%>",req:{index:{type:"string"},target:{type:"string"}}},method:"POST"}),s.indices.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"list"},level:{type:"enum",default:"indices",options:["cluster","indices","shards"]},types:{type:"list"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"},includeUnloadedSegments:{type:"boolean",default:!1,name:"include_unloaded_segments"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},forbidClosedIndices:{type:"boolean",default:!0,name:"forbid_closed_indices"}},urls:[{fmt:"/<%=index%>/_stats/<%=metric%>",req:{index:{type:"list"},metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_stats/<%=metric%>",req:{metric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/<%=index%>/_stats",req:{index:{type:"list"}}},{fmt:"/_stats"}]}),s.indices.prototype.updateAliases=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_aliases"},needBody:!0,method:"POST"}),s.indices.prototype.upgrade=r({params:{allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},onlyAncientSegments:{type:"boolean",name:"only_ancient_segments"}},urls:[{fmt:"/<%=index%>/_upgrade",req:{index:{type:"list"}}},{fmt:"/_upgrade"}],method:"POST"}),s.indices.prototype.validateQuery=r({params:{explain:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},q:{type:"string"},analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},lenient:{type:"boolean"},rewrite:{type:"boolean"},allShards:{type:"boolean",name:"all_shards"}},urls:[{fmt:"/<%=index%>/_validate/query",req:{index:{type:"list"}}},{fmt:"/_validate/query"}],method:"POST"}),s.info=r({url:{fmt:"/"}}),s.ingest=i(),s.ingest.prototype.deletePipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},method:"DELETE"}),s.ingest.prototype.getPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},urls:[{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline"}]}),s.ingest.prototype.processorGrok=r({url:{fmt:"/_ingest/processor/grok"}}),s.ingest.prototype.putPipeline=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_ingest/pipeline/<%=id%>",req:{id:{type:"string"}}},needBody:!0,method:"PUT"}),s.ingest.prototype.simulate=r({params:{verbose:{type:"boolean",default:!1}},urls:[{fmt:"/_ingest/pipeline/<%=id%>/_simulate",req:{id:{type:"string"}}},{fmt:"/_ingest/pipeline/_simulate"}],needBody:!0,method:"POST"}),s.mget=r({params:{storedFields:{type:"list",name:"stored_fields"},preference:{type:"string"},realtime:{type:"boolean"},refresh:{type:"boolean"},routing:{type:"string"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"}},urls:[{fmt:"/<%=index%>/_mget",req:{index:{type:"string"}}},{fmt:"/_mget"}],needBody:!0,method:"POST"}),s.msearch=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},typedKeys:{type:"boolean",name:"typed_keys"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch",req:{index:{type:"list"}}},{fmt:"/_msearch"}],needBody:!0,bulkBody:!0,method:"POST"}),s.msearchTemplate=r({params:{searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},typedKeys:{type:"boolean",name:"typed_keys"},maxConcurrentSearches:{type:"number",name:"max_concurrent_searches"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_msearch/template",req:{index:{type:"list"}}},{fmt:"/_msearch/template"}],needBody:!0,bulkBody:!0,method:"POST"}),s.mtermvectors=r({params:{ids:{type:"list",required:!1},termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_mtermvectors",req:{index:{type:"string"}}},{fmt:"/_mtermvectors"}],method:"POST"}),s.nodes=i(),s.nodes.prototype.hotThreads=r({params:{interval:{type:"time"},snapshots:{type:"number"},threads:{type:"number"},ignoreIdleThreads:{type:"boolean",name:"ignore_idle_threads"},type:{type:"enum",options:["cpu","wait","block"]},timeout:{type:"time"}},url:{}}),s.nodes.prototype.info=r({params:{flatSettings:{type:"boolean",name:"flat_settings"},timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes/<%=nodeId%>",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/<%=metric%>",req:{metric:{type:"list",options:["settings","os","process","jvm","thread_pool","transport","http","plugins","ingest"]}}},{fmt:"/_nodes"}]}),s.nodes.prototype.reloadSecureSettings=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/reload_secure_settings",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/reload_secure_settings"}],method:"POST"}),s.nodes.prototype.stats=r({params:{completionFields:{type:"list",name:"completion_fields"},fielddataFields:{type:"list",name:"fielddata_fields"},fields:{type:"list"},groups:{type:"boolean"},level:{type:"enum",default:"node",options:["indices","node","shards"]},types:{type:"list"},timeout:{type:"time"},includeSegmentFileSizes:{type:"boolean",default:!1,name:"include_segment_file_sizes"}},urls:[{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>/<%=indexMetric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats/<%=metric%>/<%=indexMetric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]},indexMetric:{type:"list",options:["_all","completion","docs","fielddata","query_cache","flush","get","indexing","merge","request_cache","refresh","search","segments","store","warmer","suggest"]}}},{fmt:"/_nodes/<%=nodeId%>/stats",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/stats/<%=metric%>",req:{metric:{type:"list",options:["_all","breaker","fs","http","indices","jvm","os","process","thread_pool","transport","discovery"]}}},{fmt:"/_nodes/stats"}]}),s.nodes.prototype.usage=r({params:{timeout:{type:"time"}},urls:[{fmt:"/_nodes/<%=nodeId%>/usage/<%=metric%>",req:{nodeId:{type:"list"},metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/<%=nodeId%>/usage",req:{nodeId:{type:"list"}}},{fmt:"/_nodes/usage/<%=metric%>",req:{metric:{type:"list",options:["_all","rest_actions"]}}},{fmt:"/_nodes/usage"}]}),s.ping=r({url:{fmt:"/"},method:"HEAD"}),s.putScript=r({params:{timeout:{type:"time"},masterTimeout:{type:"time",name:"master_timeout"},context:{type:"string"}},urls:[{fmt:"/_scripts/<%=id%>/<%=context%>",req:{id:{type:"string"},context:{type:"string"}}},{fmt:"/_scripts/<%=id%>",req:{id:{type:"string"}}}],needBody:!0,method:"PUT"}),s.rankEval=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_rank_eval",req:{index:{type:"list"}}},{fmt:"/_rank_eval"}],needBody:!0,method:"POST"}),s.reindex=r({params:{refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},scroll:{type:"time",default:"5m"},slices:{type:"number",default:1},maxDocs:{type:"number",name:"max_docs"}},url:{fmt:"/_reindex"},needBody:!0,method:"POST"}),s.reindexRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_reindex/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"}),s.renderSearchTemplate=r({urls:[{fmt:"/_render/template/<%=id%>",req:{id:{type:"string"}}},{fmt:"/_render/template"}],method:"POST"}),s.scriptsPainlessExecute=r({url:{fmt:"/_scripts/painless/_execute"},method:"POST"}),s.scroll=r({params:{scroll:{type:"time"},scrollId:{type:"string",name:"scroll_id"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},url:{fmt:"/_search/scroll"},paramAsBody:{param:"scrollId",body:"scroll_id"},method:"POST"}),s.search=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},explain:{type:"boolean"},storedFields:{type:"list",name:"stored_fields"},docvalueFields:{type:"list",name:"docvalue_fields"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},size:{type:"number"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},suggestField:{type:"string",name:"suggest_field"},suggestMode:{type:"enum",default:"missing",options:["missing","popular","always"],name:"suggest_mode"},suggestSize:{type:"number",name:"suggest_size"},suggestText:{type:"string",name:"suggest_text"},timeout:{type:"time"},trackScores:{type:"boolean",name:"track_scores"},trackTotalHits:{type:"boolean",name:"track_total_hits"},allowPartialSearchResults:{type:"boolean",default:!0,name:"allow_partial_search_results"},typedKeys:{type:"boolean",name:"typed_keys"},version:{type:"boolean"},seqNoPrimaryTerm:{type:"boolean",name:"seq_no_primary_term"},requestCache:{type:"boolean",name:"request_cache"},batchedReduceSize:{type:"number",default:512,name:"batched_reduce_size"},maxConcurrentShardRequests:{type:"number",default:5,name:"max_concurrent_shard_requests"},preFilterShardSize:{type:"number",default:128,name:"pre_filter_shard_size"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"}},urls:[{fmt:"/<%=index%>/_search",req:{index:{type:"list"}}},{fmt:"/_search"}],method:"POST"}),s.searchShards=r({params:{preference:{type:"string"},routing:{type:"string"},local:{type:"boolean"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"}},urls:[{fmt:"/<%=index%>/_search_shards",req:{index:{type:"list"}}},{fmt:"/_search_shards"}],method:"POST"}),s.searchTemplate=r({params:{ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},ignoreThrottled:{type:"boolean",name:"ignore_throttled"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},preference:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","query_and_fetch","dfs_query_then_fetch","dfs_query_and_fetch"],name:"search_type"},explain:{type:"boolean"},profile:{type:"boolean"},typedKeys:{type:"boolean",name:"typed_keys"},restTotalHitsAsInt:{type:"boolean",default:!1,name:"rest_total_hits_as_int"},ccsMinimizeRoundtrips:{type:"boolean",default:"true",name:"ccs_minimize_roundtrips"}},urls:[{fmt:"/<%=index%>/_search/template",req:{index:{type:"list"}}},{fmt:"/_search/template"}],needBody:!0,method:"POST"}),s.snapshot=i(),s.snapshot.prototype.create=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.createRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"},verify:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"string"}}},needBody:!0,method:"POST"}),s.snapshot.prototype["delete"]=r({params:{masterTimeout:{type:"time",name:"master_timeout"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"DELETE"}),s.snapshot.prototype.deleteRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},method:"DELETE"}),s.snapshot.prototype.get=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},verbose:{type:"boolean"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>",req:{repository:{type:"string"},snapshot:{type:"list"}}}}),s.snapshot.prototype.getRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},local:{type:"boolean"}},urls:[{fmt:"/_snapshot/<%=repository%>",req:{repository:{type:"list"}}},{fmt:"/_snapshot"}]}),s.snapshot.prototype.restore=r({params:{masterTimeout:{type:"time",name:"master_timeout"},waitForCompletion:{type:"boolean",default:!1,name:"wait_for_completion"}},url:{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_restore",req:{repository:{type:"string"},snapshot:{type:"string"}}},method:"POST"}),s.snapshot.prototype.status=r({params:{masterTimeout:{type:"time",name:"master_timeout"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"}},urls:[{fmt:"/_snapshot/<%=repository%>/<%=snapshot%>/_status",req:{repository:{type:"string"},snapshot:{type:"list"}}},{fmt:"/_snapshot/<%=repository%>/_status",req:{repository:{type:"string"}}},{fmt:"/_snapshot/_status"}]}),s.snapshot.prototype.verifyRepository=r({params:{masterTimeout:{type:"time",name:"master_timeout"},timeout:{type:"time"}},url:{fmt:"/_snapshot/<%=repository%>/_verify",req:{repository:{type:"string"}}},method:"POST"}),s.tasks=i(),s.tasks.prototype.cancel=r({params:{nodes:{type:"list"},actions:{type:"list"},parentTaskId:{type:"string",name:"parent_task_id"}},urls:[{fmt:"/_tasks/<%=taskId%>/_cancel",req:{taskId:{type:"string"}}},{fmt:"/_tasks/_cancel"}],method:"POST"}),s.tasks.prototype.get=r({params:{waitForCompletion:{type:"boolean",name:"wait_for_completion"},timeout:{type:"time"}},url:{fmt:"/_tasks/<%=taskId%>",req:{taskId:{type:"string"}}}}),s.tasks.prototype.list=r({params:{nodes:{type:"list"},actions:{type:"list"},detailed:{type:"boolean"},parentTaskId:{type:"string",name:"parent_task_id"},waitForCompletion:{type:"boolean",name:"wait_for_completion"},groupBy:{type:"enum",default:"nodes",options:["nodes","parents","none"],name:"group_by"},timeout:{type:"time"}},url:{fmt:"/_tasks"}}),s.termvectors=r({params:{termStatistics:{type:"boolean",default:!1,required:!1,name:"term_statistics"},fieldStatistics:{type:"boolean",default:!0,required:!1,name:"field_statistics"},fields:{type:"list",required:!1},offsets:{type:"boolean",default:!0,required:!1},positions:{type:"boolean",default:!0,required:!1},payloads:{type:"boolean",default:!0,required:!1},preference:{type:"string",required:!1},routing:{type:"string",required:!1},realtime:{type:"boolean",required:!1},version:{type:"number"},versionType:{type:"enum",options:["internal","external","external_gte","force"],name:"version_type"}},urls:[{fmt:"/<%=index%>/_termvectors/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},{fmt:"/<%=index%>/_termvectors",req:{index:{type:"string"}}}],method:"POST"}),s.update=r({params:{waitForActiveShards:{type:"string",name:"wait_for_active_shards"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},lang:{type:"string"},refresh:{type:"enum",options:["true","false","wait_for",""]},retryOnConflict:{type:"number",name:"retry_on_conflict"},routing:{type:"string"},timeout:{type:"time"},ifSeqNo:{type:"number",name:"if_seq_no"},ifPrimaryTerm:{type:"number",name:"if_primary_term"}},url:{fmt:"/<%=index%>/_update/<%=id%>",req:{index:{type:"string"},id:{type:"string"}}},needBody:!0,method:"POST"}),s.updateByQuery=r({params:{analyzer:{type:"string"},analyzeWildcard:{type:"boolean",name:"analyze_wildcard"},defaultOperator:{type:"enum",default:"OR",options:["AND","OR"],name:"default_operator"},df:{type:"string"},from:{type:"number"},ignoreUnavailable:{type:"boolean",name:"ignore_unavailable"},allowNoIndices:{type:"boolean",name:"allow_no_indices"},conflicts:{type:"enum",default:"abort",options:["abort","proceed"]},expandWildcards:{type:"enum",default:"open",options:["open","closed","none","all"],name:"expand_wildcards"},lenient:{type:"boolean"},pipeline:{type:"string"},preference:{type:"string"},q:{type:"string"},routing:{type:"list"},scroll:{type:"time"},searchType:{type:"enum",options:["query_then_fetch","dfs_query_then_fetch"],name:"search_type"},searchTimeout:{type:"time",name:"search_timeout"},size:{type:"number"},maxDocs:{type:"number",name:"max_docs"},sort:{type:"list"},_source:{type:"list"},_sourceExcludes:{type:"list",name:"_source_excludes"},_sourceIncludes:{type:"list",name:"_source_includes"},terminateAfter:{type:"number",name:"terminate_after"},stats:{type:"list"},version:{type:"boolean"},versionType:{type:"boolean",name:"version_type"},requestCache:{type:"boolean",name:"request_cache"},refresh:{type:"boolean"},timeout:{type:"time",default:"1m"},waitForActiveShards:{type:"string",name:"wait_for_active_shards"},scrollSize:{type:"number",name:"scroll_size"},waitForCompletion:{type:"boolean",default:!0,name:"wait_for_completion"},requestsPerSecond:{type:"number",default:0,name:"requests_per_second"},slices:{type:"number",default:1}},url:{fmt:"/<%=index%>/_update_by_query",req:{index:{type:"list"}}},method:"POST"}),s.updateByQueryRethrottle=r({params:{requestsPerSecond:{type:"number",required:!0,name:"requests_per_second"}},url:{fmt:"/_update_by_query/<%=taskId%>/_rethrottle",req:{taskId:{type:"string"}}},method:"POST"})},e9d1:function(e,t,n){var r=n("a78b"),i=n("1304");function s(e,t,n,s){return s="function"==typeof s?s:void 0,null==e?e:r(e,t,i(n),s)}e.exports=s},eac5:function(e,t){var n=Object.prototype;function r(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||n;return e===r}e.exports=r},ec47:function(e,t,n){var r=n("a3fd"),i=n("42a2"),s=n("edfa"),o=n("cebd"),a="[object Map]",l="[object Set]";function u(e){return function(t){var n=i(t);return n==a?s(t):n==l?o(t):r(t,e(t))}}e.exports=u},ec69:function(e,t,n){var r=n("6fcd"),i=n("03dd"),s=n("30c9");function o(e){return s(e)?r(e):i(e)}e.exports=o},ec8c:function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},edfa:function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}e.exports=n},ee45:function(e,t,n){var r=n("a78b"),i=n("1304");function s(e,t,n){return null==e?e:r(e,t,i(n))}e.exports=s},ef5d:function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},efb6:function(e,t,n){var r=n("5e2e");function i(){this.__data__=new r,this.size=0}e.exports=i},efd0:function(e,t,n){"use strict";var r=n("f84f"),i=n.n(r);i.a},f3c1:function(e,t){var n=800,r=16,i=Date.now;function s(e){var t=0,s=0;return function(){var o=i(),a=r-(o-s);if(s=o,a>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}e.exports=s},f4d6:function(e,t,n){var r=n("ffd6"),i=1/0;function s(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}e.exports=s},f542:function(e,t,n){var r=n("ec47"),i=n("ec69"),s=r(i);e.exports=s},f608:function(e,t,n){var r=n("6747"),i=n("ffd6"),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function a(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!s.test(e)||null!=t&&e in Object(t))}e.exports=a},f631:function(e,t,n){(function(e){(function(e,n){n(t)})(0,(function(t){"use strict";var n="2.0.56",r=function(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)},i=function(e){var t=window.devicePixelRatio||1;e.canvas.width=e.canvas.width*t,e.canvas.height=e.canvas.height*t,e.canvas.style.width=e.canvas.width/t+"px",e.canvas.style.height=e.canvas.height/t+"px",e.scale(t,t)};function s(){this._subscribers={}}s.prototype.on=function(e,t){var n=this._subscribers[e];n||(n=[],this._subscribers[e]=n),n.push({callback:t})},s.prototype.off=function(e,t){var n=this._subscribers[e];if(n)for(var r=0;r<n.length;r++)n[r].callback==t&&(n.splice(r,1),r--)},s.prototype._trigger=function(e,t,n){if("*"==e)throw new Error("Cannot trigger event *");var r=[];e in this._subscribers&&(r=r.concat(this._subscribers[e])),"*"in this._subscribers&&(r=r.concat(this._subscribers["*"]));for(var i=0,s=r.length;i<s;i++){var o=r[i];o.callback&&o.callback(e,t,n||null)}};var o={municipalities:[{n:"",g:"116.395645,39.929986|12"},{n:"",g:"121.487899,31.249162|12"},{n:"",g:"117.210813,39.14393|12"},{n:"",g:"106.530635,29.544606|12"}],provinces:[{n:"",g:"117.216005,31.859252|8",cities:[{n:"",g:"117.282699,31.866942|12"},{n:"",g:"117.058739,30.537898|13"},{n:"",g:"117.35708,32.929499|13"},{n:"",g:"115.787928,33.871211|13"},{n:"",g:"117.88049,31.608733|13"},{n:"",g:"117.494477,30.660019|14"},{n:"",g:"118.32457,32.317351|13"},{n:"",g:"115.820932,32.901211|13"},{n:"",g:"116.791447,33.960023|13"},{n:"",g:"117.018639,32.642812|13"},{n:"",g:"118.29357,29.734435|13"},{n:"",g:"116.505253,31.755558|13"},{n:"",g:"118.515882,31.688528|13"},{n:"",g:"116.988692,33.636772|13"},{n:"",g:"117.819429,30.94093|14"},{n:"",g:"118.384108,31.36602|12"},{n:"",g:"118.752096,30.951642|13"}]},{n:"",g:"117.984943,26.050118|8",cities:[{n:"",g:"119.330221,26.047125|12"},{n:"",g:"117.017997,25.078685|13"},{n:"",g:"118.181883,26.643626|13"},{n:"",g:"119.542082,26.656527|14"},{n:"",g:"119.077731,25.44845|13"},{n:"",g:"118.600362,24.901652|12"},{n:"",g:"117.642194,26.270835|14"},{n:"",g:"118.103886,24.489231|12"},{n:"",g:"117.676205,24.517065|12"}]},{n:"",g:"102.457625,38.103267|6",cities:[{n:"",g:"103.823305,36.064226|12"},{n:"",g:"104.171241,36.546682|13"},{n:"",g:"104.626638,35.586056|13"},{n:"",g:"102.917442,34.992211|14"},{n:"",g:"98.281635,39.802397|13"},{n:"",g:"102.208126,38.516072|13"},{n:"",g:"98.508415,39.741474|13"},{n:"",g:"103.215249,35.598514|13"},{n:"",g:"104.934573,33.39448|14"},{n:"",g:"106.688911,35.55011|13"},{n:"",g:"107.644227,35.726801|13"},{n:"",g:"105.736932,34.584319|13"},{n:"",g:"102.640147,37.933172|13"},{n:"",g:"100.459892,38.93932|13"}]},{n:"",g:"113.394818,23.408004|8",cities:[{n:"",g:"113.30765,23.120049|12"},{n:"",g:"116.630076,23.661812|13"},{n:"",g:"113.763434,23.043024|12"},{n:"",g:"113.134026,23.035095|13"},{n:"",g:"114.713721,23.757251|12"},{n:"",g:"114.410658,23.11354|12"},{n:"",g:"113.078125,22.575117|13"},{n:"",g:"116.379501,23.547999|13"},{n:"",g:"110.931245,21.668226|13"},{n:"",g:"116.126403,24.304571|13"},{n:"",g:"113.040773,23.698469|13"},{n:"",g:"116.72865,23.383908|13"},{n:"",g:"115.372924,22.778731|14"},{n:"",g:"113.594461,24.80296|13"},{n:"",g:"114.025974,22.546054|12"},{n:"",g:"111.97701,21.871517|14"},{n:"",g:"112.050946,22.937976|13"},{n:"",g:"110.365067,21.257463|13"},{n:"",g:"112.479653,23.078663|13"},{n:"",g:"113.42206,22.545178|12"},{n:"",g:"113.562447,22.256915|13"}]},{n:"",g:"108.924274,23.552255|7",cities:[{n:"",g:"108.297234,22.806493|12"},{n:"",g:"106.631821,23.901512|13"},{n:"",g:"109.122628,21.472718|13"},{n:"",g:"107.357322,22.415455|14"},{n:"",g:"108.351791,21.617398|15"},{n:"",g:"110.26092,25.262901|12"},{n:"",g:"109.613708,23.103373|13"},{n:"",g:"108.069948,24.699521|14"},{n:"",g:"111.552594,24.411054|14"},{n:"",g:"109.231817,23.741166|14"},{n:"",g:"109.422402,24.329053|12"},{n:"",g:"108.638798,21.97335|13"},{n:"",g:"111.305472,23.485395|13"},{n:"",g:"110.151676,22.643974|14"}]},{n:"",g:"106.734996,26.902826|8",cities:[{n:"",g:"106.709177,26.629907|12"},{n:"",g:"105.92827,26.228595|13"},{n:"",g:"105.300492,27.302612|14"},{n:"",g:"104.852087,26.591866|13"},{n:"",g:"109.196161,27.726271|14"},{n:"",g:"106.93126,27.699961|13"},{n:"",g:"104.900558,25.095148|11"},{n:"",g:"107.985353,26.583992|11"},{n:"",g:"107.523205,26.264536|11"}]},{n:"",g:"109.733755,19.180501|9",cities:[{n:"",g:"110.330802,20.022071|13"},{n:"",g:"109.358586,19.216056|12"},{n:"",g:"109.656113,18.597592|12"},{n:"",g:"109.0113,19.222483|12"},{n:"",g:"109.413973,19.571153|13"},{n:"",g:"109.996736,19.693135|13"},{n:"",g:"108.85101,18.998161|13"},{n:"",g:"110.32009,19.490991|13"},{n:"",g:"110.414359,19.21483|13"},{n:"",g:"109.861849,19.039771|12"},{n:"",g:"109.062698,18.658614|12"},{n:"",g:"109.724101,19.805922|13"},{n:"",g:"109.948661,18.575985|12"},{n:"",g:"109.522771,18.257776|12"},{n:"",g:"110.063364,19.347749|13"},{n:"",g:"110.292505,18.839886|13"},{n:"",g:"110.780909,19.750947|13"},{n:"",g:"109.51775,18.831306|13"}]},{n:"",g:"115.661434,38.61384|7",cities:[{n:"",g:"114.522082,38.048958|12"},{n:"",g:"115.49481,38.886565|13"},{n:"",g:"116.863806,38.297615|13"},{n:"",g:"117.933822,40.992521|14"},{n:"",g:"114.482694,36.609308|13"},{n:"",g:"115.686229,37.746929|13"},{n:"",g:"116.703602,39.518611|13"},{n:"",g:"119.604368,39.945462|12"},{n:"",g:"118.183451,39.650531|13"},{n:"",g:"114.520487,37.069531|13"},{n:"",g:"114.893782,40.811188|13"}]},{n:"",g:"113.486804,34.157184|7",cities:[{n:"",g:"113.649644,34.75661|12"},{n:"",g:"114.351807,36.110267|12"},{n:"",g:"114.29777,35.755426|13"},{n:"",g:"113.211836,35.234608|13"},{n:"",g:"114.351642,34.801854|13"},{n:"",g:"112.447525,34.657368|12"},{n:"",g:"114.046061,33.576279|13"},{n:"",g:"112.542842,33.01142|13"},{n:"",g:"113.300849,33.745301|13"},{n:"",g:"115.026627,35.753298|12"},{n:"",g:"111.181262,34.78332|13"},{n:"",g:"115.641886,34.438589|13"},{n:"",g:"113.91269,35.307258|13"},{n:"",g:"114.085491,32.128582|13"},{n:"",g:"113.835312,34.02674|13"},{n:"",g:"114.654102,33.623741|13"},{n:"",g:"114.049154,32.983158|13"}]},{n:"",g:"128.047414,47.356592|6",cities:[{n:"",g:"126.657717,45.773225|12"},{n:"",g:"125.02184,46.596709|12"},{n:"",g:"124.196104,51.991789|10"},{n:"",g:"130.292472,47.338666|13"},{n:"",g:"127.50083,50.25069|14"},{n:"",g:"130.941767,45.32154|13"},{n:"",g:"130.284735,46.81378|12"},{n:"",g:"129.608035,44.588521|13"},{n:"",g:"131.019048,45.775005|14"},{n:"",g:"123.987289,47.3477|13"},{n:"",g:"131.171402,46.655102|13"},{n:"",g:"126.989095,46.646064|13"},{n:"",g:"128.910766,47.734685|14"}]},{n:"",g:"112.410562,31.209316|8",cities:[{n:"",g:"114.3162,30.581084|12"},{n:"",g:"114.895594,30.384439|14"},{n:"",g:"109.517433,30.308978|14"},{n:"",g:"114.906618,30.446109|14"},{n:"",g:"115.050683,30.216127|13"},{n:"",g:"112.21733,31.042611|13"},{n:"",g:"112.241866,30.332591|12"},{n:"",g:"112.768768,30.343116|13"},{n:"",g:"110.487231,31.595768|13"},{n:"",g:"110.801229,32.636994|13"},{n:"",g:"113.379358,31.717858|13"},{n:"",g:"113.12623,30.649047|13"},{n:"",g:"113.387448,30.293966|13"},{n:"",g:"114.300061,29.880657|13"},{n:"",g:"112.176326,32.094934|12"},{n:"",g:"113.935734,30.927955|13"},{n:"",g:"111.310981,30.732758|13"}]},{n:"",g:"111.720664,27.695864|7",cities:[{n:"",g:"112.979353,28.213478|12"},{n:"",g:"111.653718,29.012149|12"},{n:"",g:"113.037704,25.782264|13"},{n:"",g:"112.583819,26.898164|13"},{n:"",g:"109.986959,27.557483|13"},{n:"",g:"111.996396,27.741073|13"},{n:"",g:"111.461525,27.236811|13"},{n:"",g:"112.935556,27.835095|13"},{n:"",g:"109.745746,28.317951|14"},{n:"",g:"112.366547,28.588088|13"},{n:"",g:"111.614648,26.435972|13"},{n:"",g:"113.146196,29.378007|13"},{n:"",g:"110.48162,29.124889|13"},{n:"",g:"113.131695,27.827433|13"}]},{n:"",g:"119.368489,33.013797|8",cities:[{n:"",g:"118.778074,32.057236|12"},{n:"",g:"119.981861,31.771397|12"},{n:"",g:"119.030186,33.606513|12"},{n:"",g:"119.173872,34.601549|12"},{n:"",g:"120.873801,32.014665|12"},{n:"",g:"120.619907,31.317987|12"},{n:"",g:"118.296893,33.95205|13"},{n:"",g:"119.919606,32.476053|13"},{n:"",g:"120.305456,31.570037|12"},{n:"",g:"117.188107,34.271553|12"},{n:"",g:"120.148872,33.379862|12"},{n:"",g:"119.427778,32.408505|13"},{n:"",g:"119.455835,32.204409|13"}]},{n:"",g:"115.676082,27.757258|7",cities:[{n:"",g:"115.893528,28.689578|12"},{n:"",g:"116.360919,27.954545|13"},{n:"",g:"114.935909,25.845296|13"},{n:"",g:"114.992039,27.113848|13"},{n:"",g:"117.186523,29.303563|12"},{n:"",g:"115.999848,29.71964|13"},{n:"",g:"113.859917,27.639544|13"},{n:"",g:"117.955464,28.457623|13"},{n:"",g:"114.947117,27.822322|13"},{n:"",g:"114.400039,27.81113|13"},{n:"",g:"117.03545,28.24131|13"}]},{n:"",g:"126.262876,43.678846|7",cities:[{n:"",g:"125.313642,43.898338|12"},{n:"",g:"122.840777,45.621086|13"},{n:"",g:"126.435798,41.945859|13"},{n:"",g:"126.564544,43.871988|12"},{n:"",g:"125.133686,42.923303|13"},{n:"",g:"124.391382,43.175525|12"},{n:"",g:"124.832995,45.136049|13"},{n:"",g:"125.94265,41.736397|13"},{n:"",g:"129.485902,42.896414|13"}]},{n:"",g:"122.753592,41.6216|8",cities:[{n:"",g:"123.432791,41.808645|12"},{n:"",g:"123.007763,41.118744|13"},{n:"",g:"123.778062,41.325838|12"},{n:"",g:"120.446163,41.571828|13"},{n:"",g:"121.593478,38.94871|12"},{n:"",g:"124.338543,40.129023|12"},{n:"",g:"123.92982,41.877304|12"},{n:"",g:"121.660822,42.01925|14"},{n:"",g:"120.860758,40.74303|13"},{n:"",g:"121.147749,41.130879|13"},{n:"",g:"123.172451,41.273339|14"},{n:"",g:"122.073228,41.141248|13"},{n:"",g:"123.85485,42.299757|13"},{n:"",g:"122.233391,40.668651|13"}]},{n:"",g:"114.415868,43.468238|5",cities:[{n:"",g:"111.660351,40.828319|12"},{n:"",g:"105.695683,38.843075|14"},{n:"",g:"109.846239,40.647119|12"},{n:"",g:"107.423807,40.76918|12"},{n:"",g:"118.930761,42.297112|12"},{n:"",g:"109.993706,39.81649|12"},{n:"",g:"119.760822,49.201636|12"},{n:"",g:"122.260363,43.633756|12"},{n:"",g:"106.831999,39.683177|13"},{n:"",g:"113.112846,41.022363|12"},{n:"",g:"116.02734,43.939705|11"},{n:"",g:"122.048167,46.083757|11"}]},{n:"",g:"106.155481,37.321323|8",cities:[{n:"",g:"106.206479,38.502621|12"},{n:"",g:"106.285268,36.021523|13"},{n:"",g:"106.379337,39.020223|13"},{n:"",g:"106.208254,37.993561|14"},{n:"",g:"105.196754,37.521124|14"}]},{n:"",g:"96.202544,35.499761|7",cities:[{n:"",g:"101.767921,36.640739|12"},{n:"",g:"100.223723,34.480485|11"},{n:"",g:"102.085207,36.51761|11"},{n:"",g:"100.879802,36.960654|11"},{n:"",g:"100.624066,36.284364|11"},{n:"",g:"97.342625,37.373799|11"},{n:"",g:"102.0076,35.522852|11"},{n:"",g:"97.013316,33.00624|14"}]},{n:"",g:"118.527663,36.09929|8",cities:[{n:"",g:"117.024967,36.682785|12"},{n:"",g:"117.968292,37.405314|12"},{n:"",g:"118.583926,37.487121|12"},{n:"",g:"116.328161,37.460826|12"},{n:"",g:"115.46336,35.26244|13"},{n:"",g:"116.600798,35.402122|13"},{n:"",g:"117.684667,36.233654|13"},{n:"",g:"115.986869,36.455829|12"},{n:"",g:"118.340768,35.072409|12"},{n:"",g:"120.384428,36.105215|12"},{n:"",g:"119.50718,35.420225|12"},{n:"",g:"117.089415,36.188078|13"},{n:"",g:"122.093958,37.528787|13"},{n:"",g:"119.142634,36.716115|12"},{n:"",g:"121.309555,37.536562|12"},{n:"",g:"117.279305,34.807883|13"},{n:"",g:"118.059134,36.804685|12"}]},{n:"",g:"112.515496,37.866566|7",cities:[{n:"",g:"112.550864,37.890277|12"},{n:"",g:"113.120292,36.201664|12"},{n:"",g:"113.290509,40.113744|12"},{n:"",g:"112.867333,35.499834|13"},{n:"",g:"112.738514,37.693362|13"},{n:"",g:"111.538788,36.099745|13"},{n:"",g:"111.143157,37.527316|14"},{n:"",g:"112.479928,39.337672|13"},{n:"",g:"112.727939,38.461031|12"},{n:"",g:"113.569238,37.869529|13"},{n:"",g:"111.006854,35.038859|13"}]},{n:"",g:"109.503789,35.860026|7",cities:[{n:"",g:"108.953098,34.2778|12"},{n:"",g:"109.038045,32.70437|13"},{n:"",g:"107.170645,34.364081|12"},{n:"",g:"107.045478,33.081569|13"},{n:"",g:"109.934208,33.873907|13"},{n:"",g:"108.968067,34.908368|13"},{n:"",g:"109.483933,34.502358|13"},{n:"",g:"108.707509,34.345373|13"},{n:"",g:"109.50051,36.60332|13"},{n:"",g:"109.745926,38.279439|12"}]},{n:"",g:"102.89916,30.367481|7",cities:[{n:"",g:"104.067923,30.679943|12"},{n:"",g:"102.228565,31.905763|15"},{n:"",g:"106.757916,31.869189|14"},{n:"",g:"107.494973,31.214199|14"},{n:"",g:"104.402398,31.13114|13"},{n:"",g:"101.969232,30.055144|15"},{n:"",g:"106.63572,30.463984|13"},{n:"",g:"105.819687,32.44104|13"},{n:"",g:"103.760824,29.600958|13"},{n:"",g:"102.259591,27.892393|14"},{n:"",g:"105.44397,28.89593|14"},{n:"",g:"106.105554,30.800965|13"},{n:"",g:"103.84143,30.061115|13"},{n:"",g:"104.705519,31.504701|12"},{n:"",g:"105.073056,29.599462|13"},{n:"",g:"101.722423,26.587571|14"},{n:"",g:"105.564888,30.557491|12"},{n:"",g:"103.009356,29.999716|13"},{n:"",g:"104.633019,28.769675|13"},{n:"",g:"104.63593,30.132191|13"},{n:"",g:"104.776071,29.359157|13"}]},{n:"",g:"89.137982,31.367315|6",cities:[{n:"",g:"91.111891,29.662557|13"},{n:"",g:"81.107669,30.404557|11"},{n:"",g:"97.185582,31.140576|15"},{n:"",g:"94.349985,29.666941|11"},{n:"",g:"92.067018,31.48068|14"},{n:"",g:"88.891486,29.269023|14"},{n:"",g:"91.750644,29.229027|11"}]},{n:"",g:"85.614899,42.127001|6",cities:[{n:"",g:"87.564988,43.84038|12"},{n:"",g:"81.291737,40.61568|13"},{n:"",g:"80.269846,41.171731|12"},{n:"",g:"88.137915,47.839744|13"},{n:"",g:"86.121688,41.771362|12"},{n:"",g:"82.052436,44.913651|11"},{n:"",g:"87.296038,44.007058|13"},{n:"",g:"93.528355,42.858596|13"},{n:"",g:"79.930239,37.116774|13"},{n:"",g:"75.992973,39.470627|12"},{n:"",g:"84.88118,45.594331|13"},{n:"",g:"76.137564,39.750346|11"},{n:"",g:"86.041865,44.308259|13"},{n:"",g:"82.974881,46.758684|12"},{n:"",g:"79.198155,39.889223|13"},{n:"",g:"89.181595,42.96047|13"},{n:"",g:"87.565449,44.368899|13"},{n:"",g:"81.297854,43.922248|11"}]},{n:"",g:"101.592952,24.864213|7",cities:[{n:"",g:"102.714601,25.049153|12"},{n:"",g:"99.177996,25.120489|13"},{n:"",g:"101.529382,25.066356|13"},{n:"",g:"100.223675,25.5969|14"},{n:"",g:"98.589434,24.44124|14"},{n:"",g:"99.713682,27.831029|14"},{n:"",g:"103.384065,23.367718|11"},{n:"",g:"100.229628,26.875351|13"},{n:"",g:"100.092613,23.887806|14"},{n:"",g:"98.859932,25.860677|14"},{n:"",g:"100.980058,22.788778|14"},{n:"",g:"103.782539,25.520758|12"},{n:"",g:"103.725021,27.340633|13"},{n:"",g:"104.089112,23.401781|14"},{n:"",g:"100.803038,22.009433|13"},{n:"",g:"102.545068,24.370447|13"}]},{n:"",g:"119.957202,29.159494|8",cities:[{n:"",g:"120.219375,30.259244|12"},{n:"",g:"120.137243,30.877925|12"},{n:"",g:"120.760428,30.773992|13"},{n:"",g:"119.652576,29.102899|12"},{n:"",g:"119.929576,28.4563|13"},{n:"",g:"121.579006,29.885259|12"},{n:"",g:"118.875842,28.95691|12"},{n:"",g:"120.592467,30.002365|13"},{n:"",g:"121.440613,28.668283|13"},{n:"",g:"120.690635,28.002838|12"},{n:"",g:"122.169872,30.03601|13"}]}],other:[{n:"",g:"114.186124,22.293586|11"},{n:"",g:"113.557519,22.204118|13"},{n:"",g:"120.961454,23.80406|8"}]};function a(e){var t=e.split("|");return t[0]=t[0].split(","),{lng:parseFloat(t[0][0]),lat:parseFloat(t[0][1])}}var l={getProvinceNameByCityName:function(e){for(var t=o.provinces,n=0;n<t.length;n++)for(var r=t[n].n,i=t[n].cities,s=0;s<i.length;s++)if(i[s].n==e)return r;return null},getCenterByCityName:function(e){e=e.replace("","");for(var t=0;t<o.municipalities.length;t++)if(o.municipalities[t].n==e)return a(o.municipalities[t].g);for(t=0;t<o.other.length;t++)if(o.other[t].n==e)return a(o.other[t].g);var n=o.provinces;for(t=0;t<n.length;t++){if(n[t].n==e)return a(n[t].g);for(var r=n[t].cities,i=0;i<r.length;i++)if(r[i].n==e)return a(r[i].g)}return null}},u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},p=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};function f(e,t){s.bind(this)(),this._options=t||{},this._data=[],e&&this.add(e)}function m(e,t,n){var r=60*n+30,i=Math.PI/180*r;return[e.x+t*Math.cos(i),e.y+t*Math.sin(i)]}function y(e,t,n,r){for(var i=0;i<6;i++){var s=m({x:t,y:n},r,i);e.lineTo(s[0],s[1])}}f.prototype=s.prototype,f.prototype.add=function(e,t){if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)if(e[n]){if(e[n].time&&14==e[n].time.length&&"20"==e[n].time.substr(0,2)){var i=e[n].time;e[n].time=new Date(i.substr(0,4)+"-"+i.substr(4,2)+"-"+i.substr(6,2)+" "+i.substr(8,2)+":"+i.substr(10,2)+":"+i.substr(12,2)).getTime()}this._data.push(e[n])}}else{if(!(e instanceof Object))throw new Error("Unknown dataType");this._data.push(e)}this._dataCache=JSON.parse(JSON.stringify(this._data))},f.prototype.reset=function(){this._data=JSON.parse(JSON.stringify(this._dataCache))},f.prototype.get=function(e){e=e||{};new Date;var t=this._data;new Date;if(e.filter){for(var n=[],r=0;r<t.length;r++)e.filter(t[r])&&n.push(t[r]);t=n}return e.transferCoordinate&&(t=this.transferCoordinate(t,e.transferCoordinate,e.fromColumn,e.toColumn)),t},f.prototype.set=function(e){this._set(e),this._trigger("change")},f.prototype._set=function(e){this.clear(),this.add(e)},f.prototype.clear=function(e){this._data=[]},f.prototype.remove=function(e){},f.prototype.update=function(e,t){for(var n=this._data,r=0;r<n.length;r++)if(t){var i=!0;for(var s in t)n[r][s]!=t[s]&&(i=!1);i&&e&&e(n[r])}else e&&e(n[r]);this._dataCache=JSON.parse(JSON.stringify(this._data)),this._trigger("change")},f.prototype.transferCoordinate=function(e,t,n,r){r=r||"_coordinates",n=n||"coordinates";for(var i=0;i<e.length;i++){var s=e[i].geometry,o=s[n];switch(s.type){case"Point":s[r]=t(o);break;case"LineString":for(var a=[],l=0;l<o.length;l++)a.push(t(o[l]));s[r]=a;break;case"MultiLineString":case"Polygon":a=h(o);s[r]=a;break;case"MultiPolygon":a=[];for(var u=0;u<o.length;u++){var c=o[u];c=h(c);a.push(c)}s[r]=a;break}}function h(e){for(var n=[],r=0;r<e.length;r++){for(var i=e[r],s=[],o=0;o<i.length;o++)s.push(t(i[o]));n.push(s)}return n}return e},f.prototype.initGeometry=function(e){e?this._data.forEach((function(t){t.geometry=e(t)})):this._data.forEach((function(e){if(!e.geometry)if(e.lng&&e.lat)e.geometry={type:"Point",coordinates:[e.lng,e.lat]};else if(e.city){var t=l.getCenterByCityName(e.city);t&&(e.geometry={type:"Point",coordinates:[t.lng,t.lat]})}}))},f.prototype.getMax=function(e){var t=this._data;if(t&&!(t.length<=0)){for(var n=parseFloat(t[0][e]),r=1;r<t.length;r++){var i=parseFloat(t[r][e]);i>n&&(n=i)}return n}},f.prototype.getSum=function(e){var t=this._data;if(t&&!(t.length<=0)){for(var n=0,r=0;r<t.length;r++)t[r][e]&&(n+=parseFloat(t[r][e]));return n}},f.prototype.getMin=function(e){var t=this._data;if(t&&!(t.length<=0)){for(var n=parseFloat(t[0][e]),r=1;r<t.length;r++){var i=parseFloat(t[r][e]);i<n&&(n=i)}return n}},f.prototype.getUnique=function(e){var t=this._data;if(t&&!(t.length<=0)){for(var n={},r=1;r<t.length;r++)n[t[r][e]]=!0;t=[];for(var i in n)t.push(i);return t}};var g={drawDataSet:function(e,t,n){for(var r=t instanceof f?t.get():t,i=0,s=r.length;i<s;i++){var o=r[i];this.draw(e,o,n)}},draw:function(e,t,n){var r=t.geometry.type,i=t.geometry._coordinates||t.geometry.coordinates,s=t.symbol||n.symbol||"circle";switch(r){case"Point":var o=t._size||t.size||n._size||n.size||5;"circle"===s?("Point"===n.bigData&&e.moveTo(i[0],i[1]),e.arc(i[0],i[1],o,0,2*Math.PI)):"rect"===s?e.rect(i[0]-o/2,i[1]-o/2,o,o):"honeycomb"===s&&y(e,i[0],i[1],o);break;case"LineString":this.drawLineString(e,i);break;case"MultiLineString":for(var a=0;a<i.length;a++){var l=i[a];this.drawLineString(e,l)}break;case"Polygon":this.drawPolygon(e,i);break;case"MultiPolygon":for(a=0;a<i.length;a++){var u=i[a];if(this.drawPolygon(e,u),n.multiPolygonDraw){var c=n.multiPolygonDraw();if(c)return c}}break;default:console.error("type"+r+"is not support now!");break}},drawLineString:function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0],i=t[n][1];0==n?e.moveTo(r,i):e.lineTo(r,i)}},drawPolygon:function(e,t){e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];e.moveTo(r[0][0],r[0][1]);for(var i=1;i<r.length;i++)e.lineTo(r[i][0],r[i][1]);e.lineTo(r[0][0],r[0][1]),e.closePath()}}},_={draw:function(e,t,n){var r=t instanceof f?t.get():t;for(var i in e.save(),n)e[i]=n[i];if(n.bigData){e.save(),e.beginPath();for(var s=0,o=r.length;s<o;s++){var a=r[s];g.draw(e,a,n)}var l=n.bigData;"Point"==l||"Polygon"==l||"MultiPolygon"==l?(e.fill(),e.lineDash&&e.setLineDash(e.lineDash),a.lineDash&&e.setLineDash(a.lineDash),(a.strokeStyle||n.strokeStyle)&&n.lineWidth&&e.stroke()):"LineString"!=l&&"MultiLineString"!=l||e.stroke(),e.restore()}else for(s=0,o=r.length;s<o;s++){a=r[s];e.save(),(a.fillStyle||a._fillStyle)&&(e.fillStyle=a.fillStyle||a._fillStyle),(a.strokeStyle||a._strokeStyle)&&(e.strokeStyle=a.strokeStyle||a._strokeStyle),e.lineDash&&e.setLineDash(e.lineDash),a.lineDash&&e.setLineDash(a.lineDash);l=a.geometry.type;e.beginPath(),n.multiPolygonDraw=function(){e.fill(),(a.strokeStyle||n.strokeStyle)&&n.lineWidth&&e.stroke()},g.draw(e,a,n),"Point"==l||"Polygon"==l||"MultiPolygon"==l?(e.fill(),(a.strokeStyle||n.strokeStyle)&&n.lineWidth&&e.stroke()):"LineString"!=l&&"MultiLineString"!=l||((a.lineWidth||a._lineWidth)&&(e.lineWidth=a.lineWidth||a._lineWidth),e.stroke()),e.restore()}e.restore()}};function v(e,t){if("undefined"===typeof document);else{var n=document.createElement("canvas");e&&(n.width=e),t&&(n.height=t)}return n}function b(e){e=e||{},this.gradient=e.gradient||{.25:"rgba(0, 0, 255, 1)",.55:"rgba(0, 255, 0, 1)",.85:"rgba(255, 255, 0, 1)",1:"rgba(255, 0, 0, 1)"},this.maxSize=e.maxSize||35,this.minSize=e.minSize||0,this.max=e.max||100,this.min=e.min||0,this.initPalette()}b.prototype.setMax=function(e){this.max=e||100},b.prototype.setMin=function(e){this.min=e||0},b.prototype.setMaxSize=function(e){this.maxSize=e||35},b.prototype.setMinSize=function(e){this.minSize=e||0},b.prototype.initPalette=function(){var e=this.gradient,t=new v(256,1),n=this.paletteCtx=t.getContext("2d"),r=n.createLinearGradient(0,0,256,1);for(var i in e)r.addColorStop(parseFloat(i),e[i]);n.fillStyle=r,n.fillRect(0,0,256,1)},b.prototype.getColor=function(e){var t=this.getImageData(e);return"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]/256+")"},b.prototype.getImageData=function(e){var t=this.paletteCtx.getImageData(0,0,256,1).data;if(void 0===e)return t;var n=this.max,r=this.min;e>n&&(e=n),e<r&&(e=r);var i=4*Math.floor((e-r)/(n-r)*255);return[t[i],t[i+1],t[i+2],t[i+3]]},b.prototype.getSize=function(e){var t=0,n=this.max,r=this.min,i=this.maxSize,s=this.minSize;return e>n&&(e=n),e<r&&(e=r),n>r?(t=s+(e-r)/(n-r)*(i-s),t):i},b.prototype.getLegend=function(e){var t=this.gradient,n=e.width||20,r=e.height||180,i=new v(n,r),s=i.getContext("2d"),o=s.createLinearGradient(0,r,0,0);for(var a in t)o.addColorStop(parseFloat(a),t[a]);return s.fillStyle=o,s.fillRect(0,0,n,r),i};var x="undefined"===typeof window?{}:window,w=x.devicePixelRatio||1;function S(e){var t=e/2,n=e+t,r=1e4,i=new v(2*n,2*n),s=i.getContext("2d");return s.shadowBlur=t,s.shadowColor="black",s.shadowOffsetX=s.shadowOffsetY=r,s.beginPath(),s.arc(n-r,n-r,e,0,2*Math.PI,!0),s.closePath(),s.fill(),i}function C(e,t,n){var r=E(n),i=T(n),s=r-i,o=n.range||null,a=0,l=1024;o&&2===o.length&&(a=(o[0]-i)/s*1024),o&&2===o.length&&(l=(o[1]-i)/s*1024);for(var u,c=n.maxOpacity||.8,h=n.minOpacity||0,p=(o=n.range,3),d=e.length;p<d;p+=4)u=4*e[p],e[p]/256>c&&(e[p]=256*c),e[p]/256<h&&(e[p]=256*h),u&&u>=a&&u<=l?(e[p-3]=t[u],e[p-2]=t[u+1],e[p-1]=t[u+2]):e[p]=0}function E(e){var t=e.max||100;return t}function T(e){var t=e.min||0;return t}function A(e,t,n){var r=E(n),i=T(n),s=n._size;void 0==s&&(s=n.size,void 0==s&&(s=13));var o=new b({gradient:n.gradient,max:r,min:i}),a=S(s),l=a.width/2,u=a.height/2,c=t,h={};for(var p in c.forEach((function(e,t){var n=void 0===e.count?1:e.count,i=Math.min(1,n/r).toFixed(2);h[i]=h[i]||[],h[i].push(e)})),h)if(!isNaN(p)){var d=h[p];e.beginPath(),n.withoutAlpha||(e.globalAlpha=p),e.strokeStyle=o.getColor(p*r),d.forEach((function(t,i){if(t.geometry){var s=t.geometry._coordinates||t.geometry.coordinates,o=t.geometry.type;if("Point"===o){var c=void 0===t.count?1:t.count;e.globalAlpha=c/r,e.drawImage(a,s[0]-l,s[1]-u)}else if("LineString"===o){c=void 0===t.count?1:t.count;e.globalAlpha=c/r,e.beginPath(),g.draw(e,t,n),e.stroke()}}}))}}function I(e,t,n){if(!(e.canvas.width<=0||e.canvas.height<=0)){var r=n.strength||.3;e.strokeStyle="rgba(0,0,0,"+r+")";var i=new v(e.canvas.width,e.canvas.height),s=i.getContext("2d");s.scale(w,w),n=n||{};var o=t instanceof f?t.get():t;e.save();var a=new b({gradient:n.gradient});if(A(s,o,n),!n.absolute){var l=s.getImageData(0,0,e.canvas.width,e.canvas.height);C(l.data,a.getImageData(),n),e.putImageData(l,0,0),e.restore()}a=null,i=null}}var M={draw:I},O={draw:function(e,t,n){e.save();var r=t instanceof f?t.get():t,i={},s=n._size||n.size||50,o=!("enableCluster"in n)||n.enableCluster,a=n.offset||{x:0,y:0},l=new b({min:n.min||0,max:n.max||100,gradient:n.gradient});if(o){for(var u=0;u<r.length;u++){p=r[u].geometry._coordinates||r[u].geometry.coordinates,d=Math.floor((p[0]-a.x)/s)+","+Math.floor((p[1]-a.y)/s);i[d]||(i[d]=0),i[d]+=~~(r[u].count||1)}for(var c in i)c=c.split(","),e.beginPath(),e.rect(c[0]*s+.5+a.x,c[1]*s+.5+a.y,s,s),e.fillStyle=l.getColor(i[c]),e.fill(),n.strokeStyle&&n.lineWidth&&e.stroke()}else{for(var h=0;h<r.length;h++){var p=r[h].geometry._coordinates||r[h].geometry.coordinates,d=p.join(",");i[d]=r[h].count||1}for(var m in i)m=m.split(","),e.beginPath(),e.rect(+m[0]-s/2,+m[1]-s/2,s,s),e.fillStyle=l.getColor(i[m]),e.fill(),n.strokeStyle&&n.lineWidth&&e.stroke()}if(n.label&&!1!==n.label.show)for(var d in e.fillStyle=n.label.fillStyle||"white",n.label.font&&(e.font=n.label.font),n.label.shadowColor&&(e.shadowColor=n.label.shadowColor),n.label.shadowBlur&&(e.shadowBlur=n.label.shadowBlur),i){d=d.split(",");var y=i[d],g=e.measureText(y).width;o?e.fillText(y,d[0]*s+.5+a.x+s/2-g/2,d[1]*s+.5+a.y+s/2+5):e.fillText(y,+d[0]-g/2,+d[1]+5)}e.restore()}};function k(e,t,n){var r=60*n+30,i=Math.PI/180*r;return[e.x+t*Math.cos(i),e.y+t*Math.sin(i)]}var N={draw:function(e,t,n){e.save();var r=t instanceof f?t.get():t;for(var i in n)e[i]=n[i];var s=n.offset||{x:10,y:10},o=n._size||n.size||40;o=o/2/Math.sin(Math.PI/3);for(var a=2*o*Math.sin(Math.PI/3),l=1.5*o,u={},c=0;c<r.length;c++){var h=r[c].geometry._coordinates||r[c].geometry.coordinates,p=(h[1]-s.y)/l,d=Math.round(p),m=(h[0]-s.x)/a-(1&d?.5:0),y=Math.round(m),g=p-d;if(3*Math.abs(g)>1){var _=m-y,v=y+(m<y?-1:1)/2,x=d+(p<d?-1:1),w=m-v,S=p-x;_*_+g*g>w*w+S*S&&(y=v+(1&d?1:-1)/2,d=x)}var C=y+"-"+d,E=u[C];E?E.push(r[c]):(E=u[C]=[r[c]],E.i=y,E.j=d,E.x=(y+(1&d?.5:0))*a,E.y=d*l)}var T=new b({max:n.max||100,maxSize:o,gradient:n.gradient});for(var i in u){var A=u[i];e.beginPath();for(var P=0;P<6;P++){var I=k({x:A.x+s.x,y:A.y+s.y},o,P);e.lineTo(I[0],I[1])}e.closePath();var L=0;for(c=0;c<A.length;c++)L+=A[c].count||1;A.count=L,e.fillStyle=T.getColor(L),e.fill(),n.strokeStyle&&n.lineWidth&&e.stroke()}if(n.label&&!1!==n.label.show)for(var i in e.fillStyle=n.label.fillStyle||"white",n.label.font&&(e.font=n.label.font),n.label.shadowColor&&(e.shadowColor=n.label.shadowColor),n.label.shadowBlur&&(e.shadowBlur=n.label.shadowBlur),u){A=u[i];var M=A.count;M=M<0?M.toFixed(2):~~M;var O=e.measureText(M).width;e.fillText(M,A.x+s.x-O/2,A.y+s.y+5)}e.restore()}};function R(e,t,n){var r=e.createShader(n);return e.shaderSource(r,t),e.compileShader(r),r}function D(e,t,n){var r=R(e,t,e.VERTEX_SHADER),i=R(e,n,e.FRAGMENT_SHADER),s=e.createProgram();return e.attachShader(s,r),e.attachShader(s,i),e.linkProgram(s),e.useProgram(s),s}function F(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=1,t.height=1,n.fillStyle=e,n.fillRect(0,0,1,1),n.getImageData(0,0,1,1).data}var B=["attribute vec4 a_Position;","void main() {","gl_Position = a_Position;","gl_PointSize = 30.0;","}"].join(""),q=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join("");function z(e,t,n){if(t){var r=D(e,B,q);e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE),e.clear(e.COLOR_BUFFER_BIT);var i=e.canvas.width/2,s=e.canvas.height/2,o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o);var a=e.getAttribLocation(r,"a_Position");e.vertexAttribPointer(a,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a);var l=e.getUniformLocation(r,"u_FragColor"),u=F(n.strokeStyle||"red");e.uniform4f(l,u[0]/255,u[1]/255,u[2]/255,u[3]/255),e.lineWidth(n.lineWidth||1);for(var c=0,h=t.length;c<h;c++){for(var p=t[c].geometry._coordinates,d=[],f=0;f<p.length;f++){var m=p[f],y=(m[0]-i)/i,g=(s-m[1])/s;d.push(y,g)}var _=new Float32Array(d);e.bufferData(e.ARRAY_BUFFER,_,e.STATIC_DRAW),e.drawArrays(e.LINE_STRIP,0,p.length)}}}var U={draw:z},G=["attribute vec4 a_Position;","attribute float a_PointSize;","void main() {","gl_Position = a_Position;","gl_PointSize = a_PointSize;","}"].join(""),j=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join("");function V(e,t,n){if(t){var r=D(e,G,j),i=e.getAttribLocation(r,"a_Position"),s=e.getAttribLocation(r,"a_PointSize"),o=e.getUniformLocation(r,"u_FragColor");e.clear(e.COLOR_BUFFER_BIT);for(var a=e.canvas.width/2,l=e.canvas.height/2,u=[],c=0,h=0;h<t.length;h++){var p=t[h].geometry._coordinates,d=(p[0]-a)/a,f=(l-p[1])/l;d<-1||d>1||f<-1||f>1||(u.push(d,f),c++)}var m=new Float32Array(u),y=c,g=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,g),e.bufferData(e.ARRAY_BUFFER,m,e.STATIC_DRAW),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(i),e.vertexAttrib1f(s,n._size);var _=F(n.fillStyle||"red");e.uniform4f(o,_[0]/255,_[1]/255,_[2]/255,_[3]/255),e.drawArrays(e.POINTS,0,y)}}var W={draw:V};function H(e,t,n){n=n||2;var r,i,s,o,a,l,u,c=t&&t.length,h=c?t[0]*n:e.length,p=J(e,0,h,n,!0),d=[];if(!p)return d;if(c&&(p=ee(e,t,p,n)),e.length>80*n){r=s=e[0],i=o=e[1];for(var f=n;f<h;f+=n)a=e[f],l=e[f+1],a<r&&(r=a),l<i&&(i=l),a>s&&(s=a),l>o&&(o=l);u=Math.max(s-r,o-i)}return Z(p,d,n,r,i,u),d}function J(e,t,n,r,i){var s,o;if(i===be(e,t,n,r)>0)for(s=t;s<n;s+=r)o=ge(s,e[s],e[s+1],o);else for(s=n-r;s>=t;s-=r)o=ge(s,e[s],e[s+1],o);return o&&he(o,o.next)&&(_e(o),o=o.next),o}function X(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!he(r,r.next)&&0!==ce(r.prev,r,r.next))r=r.next;else{if(_e(r),r=t=r.prev,r===r.next)return null;n=!0}}while(n||r!==t);return t}function Z(e,t,n,r,i,s,o){if(e){!o&&s&&ie(e,r,i,s);var a,l,u=e;while(e.prev!==e.next)if(a=e.prev,l=e.next,s?K(e,r,i,s):Y(e))t.push(a.i/n),t.push(e.i/n),t.push(l.i/n),_e(e),e=l.next,u=l.next;else if(e=l,e===u){o?1===o?(e=Q(e,t,n),Z(e,t,n,r,i,s,2)):2===o&&$(e,t,n,r,i,s):Z(X(e),t,n,r,i,s,1);break}}}function Y(e){var t=e.prev,n=e,r=e.next;if(ce(t,n,r)>=0)return!1;var i=e.next.next;while(i!==e.prev){if(le(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&ce(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function K(e,t,n,r){var i=e.prev,s=e,o=e.next;if(ce(i,s,o)>=0)return!1;var a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,u=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,c=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,h=oe(a,l,t,n,r),p=oe(u,c,t,n,r),d=e.nextZ;while(d&&d.z<=p){if(d!==e.prev&&d!==e.next&&le(i.x,i.y,s.x,s.y,o.x,o.y,d.x,d.y)&&ce(d.prev,d,d.next)>=0)return!1;d=d.nextZ}d=e.prevZ;while(d&&d.z>=h){if(d!==e.prev&&d!==e.next&&le(i.x,i.y,s.x,s.y,o.x,o.y,d.x,d.y)&&ce(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function Q(e,t,n){var r=e;do{var i=r.prev,s=r.next.next;!he(i,s)&&pe(i,r,r.next,s)&&fe(i,s)&&fe(s,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(s.i/n),_e(r),_e(r.next),r=e=s),r=r.next}while(r!==e);return r}function $(e,t,n,r,i,s){var o=e;do{var a=o.next.next;while(a!==o.prev){if(o.i!==a.i&&ue(o,a)){var l=ye(o,a);return o=X(o,o.next),l=X(l,l.next),Z(o,t,n,r,i,s),void Z(l,t,n,r,i,s)}a=a.next}o=o.next}while(o!==e)}function ee(e,t,n,r){var i,s,o,a,l,u=[];for(i=0,s=t.length;i<s;i++)o=t[i]*r,a=i<s-1?t[i+1]*r:e.length,l=J(e,o,a,r,!1),l===l.next&&(l.steiner=!0),u.push(ae(l));for(u.sort(te),i=0;i<u.length;i++)ne(u[i],n),n=X(n,n.next);return n}function te(e,t){return e.x-t.x}function ne(e,t){if(t=re(e,t),t){var n=ye(t,e);X(n,n.next)}}function re(e,t){var n,r=t,i=e.x,s=e.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>o){if(o=a,a===i){if(s===r.y)return r;if(s===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n.prev;var l,u=n,c=n.x,h=n.y,p=1/0;r=n.next;while(r!==u)i>=r.x&&r.x>=c&&le(s<h?i:o,s,c,h,s<h?o:i,s,r.x,r.y)&&(l=Math.abs(s-r.y)/(i-r.x),(l<p||l===p&&r.x>n.x)&&fe(r,e)&&(n=r,p=l)),r=r.next;return n}function ie(e,t,n,r){var i=e;do{null===i.z&&(i.z=oe(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,se(i)}function se(e){var t,n,r,i,s,o,a,l,u=1;do{n=e,e=null,s=null,o=0;while(n){for(o++,r=n,a=0,t=0;t<u;t++)if(a++,r=r.nextZ,!r)break;l=u;while(a>0||l>0&&r)0===a?(i=r,r=r.nextZ,l--):0!==l&&r?n.z<=r.z?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--):(i=n,n=n.nextZ,a--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return e}function oe(e,t,n,r,i){return e=32767*(e-n)/i,t=32767*(t-r)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function ae(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function le(e,t,n,r,i,s,o,a){return(i-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(r-a)-(n-o)*(t-a)>=0&&(n-o)*(s-a)-(i-o)*(r-a)>=0}function ue(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!de(e,t)&&fe(e,t)&&fe(t,e)&&me(e,t)}function ce(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function he(e,t){return e.x===t.x&&e.y===t.y}function pe(e,t,n,r){return!!(he(e,t)&&he(n,r)||he(e,r)&&he(n,t))||ce(e,t,n)>0!==ce(e,t,r)>0&&ce(n,r,e)>0!==ce(n,r,t)>0}function de(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&pe(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function fe(e,t){return ce(e.prev,e,e.next)<0?ce(e,t,e.next)>=0&&ce(e,e.prev,t)>=0:ce(e,t,e.prev)<0||ce(e,e.next,t)<0}function me(e,t){var n=e,r=!1,i=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!==n.next.y>s&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function ye(e,t){var n=new ve(e.i,e.x,e.y),r=new ve(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function ge(e,t,n,r){var i=new ve(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function _e(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ve(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function be(e,t,n,r){for(var i=0,s=t,o=n-r;s<n;s+=r)i+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return i}H.deviation=function(e,t,n,r){var i=t&&t.length,s=i?t[0]*n:e.length,o=Math.abs(be(e,0,s,n));if(i)for(var a=0,l=t.length;a<l;a++){var u=t[a]*n,c=a<l-1?t[a+1]*n:e.length;o-=Math.abs(be(e,u,c,n))}var h=0;for(a=0;a<r.length;a+=3){var p=r[a]*n,d=r[a+1]*n,f=r[a+2]*n;h+=Math.abs((e[p]-e[f])*(e[d+1]-e[p+1])-(e[p]-e[d])*(e[f+1]-e[p+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},H.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var s=0;s<e[i].length;s++)for(var o=0;o<t;o++)n.vertices.push(e[i][s][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};var xe=["attribute vec4 a_Position;","void main() {","gl_Position = a_Position;","gl_PointSize = 30.0;","}"].join(""),we=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join("");function Se(e,t,n){if(t){e.clear(e.COLOR_BUFFER_BIT),e.viewport(0,0,e.canvas.width,e.canvas.height);var r=D(e,xe,we);e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE);var i=e.canvas.width/2,s=e.canvas.height/2;e.bindBuffer(e.ARRAY_BUFFER,e.createBuffer()),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,e.createBuffer());var o=e.getAttribLocation(r,"a_Position");e.vertexAttribPointer(o,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(o);var a=e.getUniformLocation(r,"u_FragColor"),l=F(n.fillStyle||"red");e.uniform4f(a,l[0]/255,l[1]/255,l[2]/255,l[3]/255),e.lineWidth(n.lineWidth||1);for(var u=[],c=[],h=65536,p=0,d=0,f=t.length;d<f;d++){var m=H.flatten(t[d].geometry._coordinates||t[d].geometry.coordinates),y=m.vertices;p=u.length/2;for(var g=0;g<y.length;g+=2)y[g]=(y[g]-i)/i,y[g+1]=(s-y[g+1])/s;(u.length+y.length)/2>h&&(e.bufferData(e.ARRAY_BUFFER,new Float32Array(u),e.STATIC_DRAW),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),e.STATIC_DRAW),e.drawElements(e.TRIANGLES,c.length,e.UNSIGNED_SHORT,0),u.length=0,c.length=0,p=0);for(g=0;g<y.length;g++)u.push(y[g]);var _=H(y,m.holes,m.dimensions);for(g=0;g<_.length;g++)c.push(_[g]+p)}e.bufferData(e.ARRAY_BUFFER,new Float32Array(u),e.STATIC_DRAW),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),e.STATIC_DRAW),e.drawElements(e.TRIANGLES,c.length,e.UNSIGNED_SHORT,0),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}}var Ce={draw:Se},Ee={draw:function(e,t,n){var r=t instanceof f?t.get():t;r.length>0&&("LineString"==r[0].geometry.type?U.draw(e,r,n):"Polygon"==r[0].geometry.type||"MultiPolygon"==r[0].geometry.type?Ce.draw(e,r,n):W.draw(e,r,n))}};function Te(e,t){t=t||{};for(var n=[],r=0;r<e.length-1;r++){var i=Ae(e[r],e[r+1],t.count);i&&i.length>0&&(n=n.concat(i))}return n}function Ae(e,t,n){if(!e||!t)return null;var r,i,s,o,a,l,u=function(e){return 1-2*e+e*e},c=function(e){return 2*e-2*e*e},h=function(e){return e*e},p=[],d=(n=n||40,0),f=0;if("undefined"!=typeof t){var m=parseFloat(e.lat),y=parseFloat(t.lat),g=parseFloat(e.lng),_=parseFloat(t.lng);for(_>g&&parseFloat(_-g)>180&&g<0&&(g=parseFloat(360+g),_=parseFloat(360+_)),0,l=0,y==m?(r=0,i=g-_):_==g?(r=Math.PI/2,i=m-y):(r=Math.atan((y-m)/(_-g)),i=(y-m)/Math.sin(r)),0==l&&(l=r+Math.PI/5),s=i/2,a=s*Math.cos(l)+g,o=s*Math.sin(l)+m,d=0;d<n+1;d++){var v=g*u(f)+a*c(f)+_*h(f),b=m*u(f)+o*c(f)+y*h(f),x=e.lng,w=t.lng;p.push([x<0&&w>0?v-360:v,b]),f+=1/n}return p}"undefined"!=typeof p&&(p=[])}var Pe={getPoints:Te},Ie=function(){var e={},t=[],n=[],r=[],i=.1,s=.1,o=1,a=2,l=6,u=70,c=.6666667,h=.6,p=1e-8;function d(e,t){return e.x*t.x+e.y*t.y}function f(t){return{x:e[t.target].x-e[t.source].x,y:e[t.target].y-e[t.source].y}}function m(t){return Math.sqrt(Math.pow(e[t.source].x-e[t.target].x,2)+Math.pow(e[t.source].y-e[t.target].y,2))}function y(e){return Math.sqrt(Math.pow(e.source.x-e.target.x,2)+Math.pow(e.source.y-e.target.y,2))}function g(t){var n=(e[t.source].x+e[t.target].x)/2,r=(e[t.source].y+e[t.target].y)/2;return{x:n,y:r}}function _(e){for(var t=0,n=1;n<r[e].length;n++){var i=v(r[e][n],r[e][n-1]);t+=i}return t}function v(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function b(e,t){var n=Math.sqrt((t.target.x-t.source.x)*(t.target.x-t.source.x)+(t.target.y-t.source.y)*(t.target.y-t.source.y)),r=((t.source.y-e.y)*(t.source.y-t.target.y)-(t.source.x-e.x)*(t.target.x-t.source.x))/(n*n);return{x:t.source.x+r*(t.target.x-t.source.x),y:t.source.y+r*(t.target.y-t.source.y)}}function x(){for(var n=0;n<t.length;n++)1==o?r[n]=[]:(r[n]=[],r[n].push(e[t[n].source]),r[n].push(e[t[n].target]))}function w(){for(var e=0;e<t.length;e++)n[e]=[]}function S(t){for(var n=[],r=0;r<t.length;r++)e[t[r].source].x!=e[t[r].target].x&&e[t[r].source].y!=e[t[r].target].y&&n.push(t[r]);return n}function C(e,t,n){var i=r[e][t-1],s=r[e][t+1],o=r[e][t],a=i.x-o.x+s.x-o.x,l=i.y-o.y+s.y-o.y;return a*=n,l*=n,{x:a,y:l}}function E(e,t,i){for(var s={x:0,y:0},o=n[e],a=0;a<o.length;a++){var l={x:r[o[a]][t].x-r[e][t].x,y:r[o[a]][t].y-r[e][t].y};if(Math.abs(l.x)>p||Math.abs(l.y)>p){var u=1/Math.pow(y({source:r[o[a]][t],target:r[e][t]}),1);s.x+=l.x*u,s.y+=l.y*u}}return s}function T(e,n,r){for(var s=i/(m(t[e])*(n+1)),o=[{x:0,y:0}],a=1;a<n+1;a++){var l={x:0,y:0},u=C(e,a,s),c=E(e,a,r);l.x=r*(u.x+c.x),l.y=r*(u.y+c.y),o.push(l)}return o.push({x:0,y:0}),o}function A(n){for(var i=0;i<t.length;i++)if(1==n)r[i].push(e[t[i].source]),r[i].push(g(t[i])),r[i].push(e[t[i].target]);else{var s=_(i),o=s/(n+1),a=o,l=[];l.push(e[t[i].source]);for(var u=1;u<r[i].length;u++){var c=v(r[i][u],r[i][u-1]);while(c>a){var h=a/c,p=r[i][u-1].x,d=r[i][u-1].y;p+=h*(r[i][u].x-r[i][u-1].x),d+=h*(r[i][u].y-r[i][u-1].y),l.push({x:p,y:d}),c-=a,a=o}a-=c}l.push(e[t[i].target]),r[i]=l}}function I(e,t){var n=Math.abs(d(f(e),f(t))/(m(e)*m(t)));return n}function L(e,t){var n=(m(e)+m(t))/2,r=2/(n/Math.min(m(e),m(t))+Math.max(m(e),m(t))/n);return r}function M(t,n){var r=(m(t)+m(n))/2,i={x:(e[t.source].x+e[t.target].x)/2,y:(e[t.source].y+e[t.target].y)/2},s={x:(e[n.source].x+e[n.target].x)/2,y:(e[n.source].y+e[n.target].y)/2},o=r/(r+v(i,s));return o}function O(t,n){var r=b(e[n.source],{source:e[t.source],target:e[t.target]}),i=b(e[n.target],{source:e[t.source],target:e[t.target]}),s={x:(r.x+i.x)/2,y:(r.y+i.y)/2},o={x:(e[t.source].x+e[t.target].x)/2,y:(e[t.source].y+e[t.target].y)/2},a=Math.max(0,1-2*v(o,s)/v(r,i));return a}function k(e,t){return Math.min(O(e,t),O(t,e))}function N(e,t){var n=I(e,t)*L(e,t)*M(e,t)*k(e,t);return n}function R(e,t){return N(e,t)>=h}function D(){for(var e=0;e<t.length-1;e++)for(var r=e+1;r<t.length;r++)e!=r&&R(t[e],t[r])&&(n[e].push(r),n[r].push(e))}var F=function(){var e=s,n=u,i=o;x(),w(),A(i),D();for(var a=0;a<l;a++){for(var h=0;h<n;h++){for(var p=[],d=0;d<t.length;d++)p[d]=T(d,i,e);for(var f=0;f<t.length;f++)for(var m=0;m<i+1;m++)r[f][m].x+=p[f][m].x,r[f][m].y+=p[f][m].y}e/=2,i*=2,n*=c,A(i)}return r};return F.nodes=function(t){return 0==arguments.length?e:(e=t,F)},F.edges=function(e){return 0==arguments.length?t:(t=S(e),F)},F.bundling_stiffness=function(e){return 0==arguments.length?i:(i=e,F)},F.step_size=function(e){return 0==arguments.length?s:(s=e,F)},F.cycles=function(e){return 0==arguments.length?l:(l=e,F)},F.iterations=function(e){return 0==arguments.length?u:(u=e,F)},F.iterations_rate=function(e){return 0==arguments.length?c:(c=e,F)},F.subdivision_points_seed=function(e){return 0==arguments.length?P:(P=e,F)},F.subdivision_rate=function(e){return 0==arguments.length?a:(a=e,F)},F.compatbility_threshold=function(e){return 0==arguments.length?compatbility_threshold:(h=e,F)},F};function Le(e){this.splitList=e||{other:1}}function Me(e){this.splitList=e||[{start:0,value:"red"}]}Le.prototype.get=function(e){var t=this.splitList,n=t["other"];for(var r in t)if(e==r){n=t[r];break}return n},Le.prototype.generateByDataSet=function(e,t){var n=t||["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],r=e.get();this.splitList={};for(var i=0,s=0;s<r.length;s++)if(void 0===this.splitList[r[s].count]&&(this.splitList[r[s].count]=n[i],i++),i>=n.length-1)break;this.splitList["other"]=n[n.length-1]},Le.prototype.getLegend=function(e){var t=this.splitList,n=document.createElement("div");n.style.cssText="background:#fff; padding: 5px; border: 1px solid #ccc;";var r="";for(var i in t)r+='<div style="line-height: 19px;" value="'+i+'"><span style="vertical-align: -2px; display: inline-block; width: 30px;height: 19px;background:'+t[i]+';"></span><span style="margin-left: 3px;">'+i+"<span></div>";return n.innerHTML=r,n},Me.prototype.get=function(e){for(var t=this.splitList,n=!1,r=0;r<t.length;r++)if((void 0===t[r].start||void 0!==t[r].start&&e>=t[r].start)&&(void 0===t[r].end||void 0!==t[r].end&&e<t[r].end)){n=t[r].value;break}return n},Me.prototype.generateByDataSet=function(e){var t=e.getMin("count"),n=e.getMax("count");this.generateByMinMax(t,n)},Me.prototype.generateByMinMax=function(e,t){var n=["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],r=Number((t-e)/7);t=Number(t);var i=Number(e);this.splitList=[];var s=0;while(i<t)this.splitList.push({start:i,end:i+r,value:n[s]}),s++,i+=r},Me.prototype.getLegend=function(e){this.splitList};var Oe=function(){function e(t,n,r){if(u(this,e),!t||!n)return console.warn("id  type "),!1;if("baidu"==n){if(!BMap)return console.warn("JS API"),!1}else console.warn("");this.type=n;var i=r&&r.center?r.center:[106.962497,38.208726],s=r&&r.zoom?r.zoom:5,o=this.map=new BMap.Map(t,{enableMapClick:!1});o.centerAndZoom(new BMap.Point(i[0],i[1]),s),o.enableScrollWheelZoom(!0),o.setMapStyle({style:"light"})}return c(e,[{key:"addLayer",value:function(e,t){if("baidu"==this.type)return new mapv.baiduMapLayer(this.map,dataSet,t)}},{key:"getMap",value:function(){return this.map}}]),e}();function ke(e){this.options=e||{},this.paneName=this.options.paneName||"mapPane",this.context=this.options.context||"2d",this.zIndex=this.options.zIndex||0,this.mixBlendMode=this.options.mixBlendMode||null,this.enableMassClear=this.options.enableMassClear,this._map=e.map,this._lastDrawTime=null,this.show()}var Ne="undefined"===typeof window?{}:window,Re=Ne.BMap||Ne.BMapGL;Re&&(ke.prototype=new Re.Overlay,ke.prototype.initialize=function(e){this._map=e;var t=this.canvas=document.createElement("canvas");t.style.cssText="position:absolute;left:0;top:0;z-index:"+this.zIndex+";user-select:none;",t.style.mixBlendMode=this.mixBlendMode,this.adjustSize();var n=e.getPanes()[this.paneName];n||(n=e.getPanes().floatShadow),n.appendChild(t);var r=this;return e.addEventListener("resize",(function(){r.adjustSize(),r._draw()})),e.addEventListener("update",(function(){r._draw()})),this.options.updateImmediate&&setTimeout((function(){r._draw()}),100),this.canvas},ke.prototype.adjustSize=function(){var e=this._map.getSize(),t=this.canvas,n=this.devicePixelRatio=Ne.devicePixelRatio||1;t.width=e.width*n,t.height=e.height*n,"2d"==this.context&&t.getContext(this.context).scale(n,n),t.style.width=e.width+"px",t.style.height=e.height+"px"},ke.prototype.draw=function(){var e=this;this.options.updateImmediate?e._draw():(clearTimeout(e.timeoutID),e.timeoutID=setTimeout((function(){e._draw()}),15))},ke.prototype._draw=function(){var e=this._map,t=e.getSize(),n=e.getCenter();if(n){var r=e.pointToOverlayPixel(n);this.canvas.style.left=r.x-t.width/2+"px",this.canvas.style.top=r.y-t.height/2+"px",this.dispatchEvent("draw"),this.options.update&&this.options.update.call(this)}},ke.prototype.getContainer=function(){return this.canvas},ke.prototype.show=function(){this.canvas||this._map.addOverlay(this),this.canvas.style.display="block"},ke.prototype.hide=function(){this.canvas.style.display="none"},ke.prototype.setZIndex=function(e){this.zIndex=e,this.canvas.style.zIndex=this.zIndex},ke.prototype.getZIndex=function(){return this.zIndex});var De=De||function(){var e=[];return{getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},update:function(t,n){if(0===e.length)return!1;var r=0;t=void 0!==t?t:De.now();while(r<e.length)e[r].update(t)||n?r++:e.splice(r,1);return!0}}}();function Fe(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=360*Math.atan(r/n)/(2*Math.PI);return t[0]<e[0]&&(i+=180),i}"undefined"===typeof window&&"undefined"!==typeof e?De.now=function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?De.now=window.performance.now.bind(window.performance):void 0!==Date.now?De.now=Date.now:De.now=function(){return(new Date).getTime()},De.Tween=function(e){var t,n=e,r={},i={},s={},o=1e3,a=0,l=!1,u=!1,c=!1,h=0,p=null,d=De.Easing.Linear.None,f=De.Interpolation.Linear,m=[],y=null,g=!1,_=null,v=null,b=null;this.to=function(e,t){return i=e,void 0!==t&&(o=t),this},this.start=function(e){for(var t in De.add(this),u=!0,g=!1,p=void 0!==e?e:De.now(),p+=h,i){if(i[t]instanceof Array){if(0===i[t].length)continue;i[t]=[n[t]].concat(i[t])}void 0!==n[t]&&(r[t]=n[t],r[t]instanceof Array===!1&&(r[t]*=1),s[t]=r[t]||0)}return this},this.stop=function(){return u?(De.remove(this),u=!1,null!==b&&b.call(n,n),this.stopChainedTweens(),this):this},this.end=function(){return this.update(p+o),this},this.stopChainedTweens=function(){for(var e=0,t=m.length;e<t;e++)m[e].stop()},this.delay=function(e){return h=e,this},this.repeat=function(e){return a=e,this},this.repeatDelay=function(e){return t=e,this},this.yoyo=function(e){return l=e,this},this.easing=function(e){return d=e,this},this.interpolation=function(e){return f=e,this},this.chain=function(){return m=arguments,this},this.onStart=function(e){return y=e,this},this.onUpdate=function(e){return _=e,this},this.onComplete=function(e){return v=e,this},this.onStop=function(e){return b=e,this},this.update=function(e){var u,b,x;if(e<p)return!0;for(u in!1===g&&(null!==y&&y.call(n,n),g=!0),b=(e-p)/o,b=b>1?1:b,x=d(b),i)if(void 0!==r[u]){var w=r[u]||0,S=i[u];S instanceof Array?n[u]=f(S,x):("string"===typeof S&&(S="+"===S.charAt(0)||"-"===S.charAt(0)?w+parseFloat(S):parseFloat(S)),"number"===typeof S&&(n[u]=w+(S-w)*x))}if(null!==_&&_.call(n,x),1===b){if(a>0){for(u in isFinite(a)&&a--,s){if("string"===typeof i[u]&&(s[u]=s[u]+parseFloat(i[u])),l){var C=s[u];s[u]=i[u],i[u]=C}r[u]=s[u]}return l&&(c=!c),p=void 0!==t?e+t:e+h,!0}null!==v&&v.call(n,n);for(var E=0,T=m.length;E<T;E++)m[E].start(p+o);return!1}return!0}},De.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-De.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*De.Easing.Bounce.In(2*e):.5*De.Easing.Bounce.Out(2*e-1)+.5}}},De.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),s=De.Interpolation.Utils.Linear;return t<0?s(e[0],e[1],r):t>1?s(e[n],e[n-1],n-r):s(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,s=De.Interpolation.Utils.Bernstein,o=0;o<=r;o++)n+=i(1-t,r-o)*i(t,o)*e[o]*s(r,o);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),s=De.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),s(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(s(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(s(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):s(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=De.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var s=.5*(n-e),o=.5*(r-t),a=i*i,l=i*a;return(2*t-2*n+s+o)*l+(-3*t+3*n-2*s-o)*a+s*i+t}}};var Be={},qe={draw:function(e,t,n){var r="http://huiyan.baidu.com/github/tools/gis-drawing/static/images/direction.png";n.arrow&&n.arrow.url&&(r=n.arrow.url),Be[r]||(Be[r]=null);var i=Be[r];if(!i){var s=Array.prototype.slice.call(arguments),o=new Image;return o.onload=function(){Be[r]=o,qe.draw.apply(null,s)},void(o.src=r)}var a=t instanceof f?t.get():t;for(var l in e.save(),n)e[l]=n[l];for(var u=[],c=null,h=0,p=a.length;h<p;h++){var d=a[h];e.save(),(d.fillStyle||d._fillStyle)&&(e.fillStyle=d.fillStyle||d._fillStyle),(d.strokeStyle||d._strokeStyle)&&(e.strokeStyle=d.strokeStyle||d._strokeStyle);var m=d.geometry.type;if(e.beginPath(),"LineString"===m)for(var y=d.geometry._coordinates||d.geometry.coordinates,g=void 0!==n.arrow.interval?n.arrow.interval:1,_=0;_<y.length;_+=g)if(y[_]&&y[_+1]){var v=y[_];if(c&&ze(v,c)<30)continue;e.save();var b=Fe(y[_],y[_+1]);e.translate(v[0],v[1]),e.rotate(b*Math.PI/180),e.drawImage(i,-i.width/2/2,-i.height/2/2,i.width/2,i.height/2),e.restore(),u.push(v),c=v}e.restore()}e.restore()}};function ze(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}var Ue={draw:function(e,t,n){var i=t instanceof f?t.get():t;e.save(),e.fillStyle=n.fillStyle||"rgba(0, 0, 0, 0.5)",e.fillRect(0,0,e.canvas.width,e.canvas.height),n.multiPolygonDraw=function(){e.save(),e.clip(),r(e),e.restore()};for(var s=0,o=i.length;s<o;s++)e.beginPath(),g.drawDataSet(e,[i[s]],n),e.save(),e.clip(),r(e),e.restore();e.restore()}},Ge={draw:function(e,t,n){e.save();for(var r,i,s=t instanceof f?t.get():t,o=0;o<s.length;o++){var a=s[o];a.properties&&a.properties.cluster&&(void 0===r&&(r=a.properties.point_count),void 0===i&&(i=a.properties.point_count),r=Math.max(r,a.properties.point_count),i=Math.min(i,a.properties.point_count))}var l=new b({min:i,max:r,minSize:n.minSize||8,maxSize:n.maxSize||30,gradient:n.gradient});for(o=0;o<s.length;o++){a=s[o];var u=s[o].geometry._coordinates||s[o].geometry.coordinates;if(e.beginPath(),a.properties&&a.properties.cluster){if(e.arc(u[0],u[1],l.getSize(a.properties.point_count),0,2*Math.PI),e.fillStyle=l.getColor(a.properties.point_count),e.fill(),n.label&&!1!==n.label.show){e.fillStyle=n.label.fillStyle||"white",n.label.font&&(e.font=n.label.font),n.label.shadowColor&&(e.shadowColor=n.label.shadowColor),n.label.shadowBlur&&(e.shadowBlur=n.label.shadowBlur);var c=a.properties.point_count,h=e.measureText(c).width;e.fillText(c,u[0]+.5-h/2,u[1]+.5+3)}}else e.arc(u[0],u[1],n.size||5,0,2*Math.PI),e.fillStyle=n.fillStyle||"red",e.fill()}e.restore()}},je={draw:function(e,t,n){var r=t instanceof f?t.get():t;for(var i in e.save(),n)e[i]=n[i];var s=[],o=n._size||n.size;o?e.font="bold "+o+"px Arial":o=12;var a=n.textKey||"text";if(n.textAlign||(e.textAlign="center"),n.textBaseline||(e.textBaseline="middle"),n.avoid)for(var l=0,u=r.length;l<u;l++){var c=r[l].offset||n.offset||{x:0,y:0},h=r[l].geometry._coordinates||r[l].geometry.coordinates,p=h[0]+c.x,d=h[1]+c.y,m=r[l][a],y=e.measureText(m).width,g=p-y/2,_=d-o/2,v={sw:{x:g,y:_+o},ne:{x:g+y,y:_}};Ve(s,v)||(s.push(v),g+=y/2,_+=o/2,e.fillText(m,g,_))}else for(l=0,u=r.length;l<u;l++){c=r[l].offset||n.offset||{x:0,y:0},h=r[l].geometry._coordinates||r[l].geometry.coordinates,p=h[0]+c.x,d=h[1]+c.y,m=r[l][a];e.fillText(m,p,d)}e.restore()}};function Ve(e,t){for(var n=0;n<e.length;n++)if(We(e[n],t))return!0;return!1}function We(e,t){var n=Math.min(e.ne.x,t.ne.x),r=Math.min(e.sw.y,t.sw.y),i=Math.max(e.sw.x,t.sw.x),s=Math.max(e.ne.y,t.ne.y);return n>i&&r>s}var He={draw:function(e,t,n){var r=t instanceof f?t.get():t;e.fillStyle="white",e.textAlign="center",e.textBaseline="middle";for(var i=n.offset||{x:0,y:0},s=0,o=r.length;s<o;s++)if(r[s].geometry){var a=r[s].deg||n.deg,l=r[s].icon||n.icon,u=r[s].geometry._coordinates||r[s].geometry.coordinates,c=u[0],h=u[1];a&&(e.save(),e.translate(c,h),e.rotate(a*Math.PI/180),e.translate(-c,-h));var p=n._width||n.width||l.width,d=n._height||n.height||l.height;c=c-p/2+i.x,h=h-d/2+i.y,n.sx&&n.sy&&n.swidth&&n.sheight&&n.width&&n.height?e.drawImage(l,n.sx,n.sy,n.swidth,n.sheight,c,h,p,d):n.width&&n.height?e.drawImage(l,c,h,p,d):e.drawImage(l,c,h),a&&e.restore()}}};function Je(e,t,n,r,i,s){if(!(i-r<=n)){var o=r+i>>1;Xe(e,t,o,r,i,s%2),Je(e,t,n,r,o-1,s+1),Je(e,t,n,o+1,i,s+1)}}function Xe(e,t,n,r,i,s){while(i>r){if(i-r>600){var o=i-r+1,a=n-r+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(a-o/2<0?-1:1),h=Math.max(r,Math.floor(n-a*u/o+c)),p=Math.min(i,Math.floor(n+(o-a)*u/o+c));Xe(e,t,n,h,p,s)}var d=t[2*n+s],f=r,m=i;Ze(e,t,r,n),t[2*i+s]>d&&Ze(e,t,r,i);while(f<m){Ze(e,t,f,m),f++,m--;while(t[2*f+s]<d)f++;while(t[2*m+s]>d)m--}t[2*r+s]===d?Ze(e,t,r,m):(m++,Ze(e,t,m,i)),m<=n&&(r=m+1),n<=m&&(i=m-1)}}function Ze(e,t,n,r){Ye(e,n,r),Ye(t,2*n,2*r),Ye(t,2*n+1,2*r+1)}function Ye(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Ke(e,t,n,r,i,s,o){var a,l,u=[0,e.length-1,0],c=[];while(u.length){var h=u.pop(),p=u.pop(),d=u.pop();if(p-d<=o)for(var f=d;f<=p;f++)a=t[2*f],l=t[2*f+1],a>=n&&a<=i&&l>=r&&l<=s&&c.push(e[f]);else{var m=Math.floor((d+p)/2);a=t[2*m],l=t[2*m+1],a>=n&&a<=i&&l>=r&&l<=s&&c.push(e[m]);var y=(h+1)%2;(0===h?n<=a:r<=l)&&(u.push(d),u.push(m-1),u.push(y)),(0===h?i>=a:s>=l)&&(u.push(m+1),u.push(p),u.push(y))}}return c}function Qe(e,t,n,r,i,s){var o=[0,e.length-1,0],a=[],l=i*i;while(o.length){var u=o.pop(),c=o.pop(),h=o.pop();if(c-h<=s)for(var p=h;p<=c;p++)$e(t[2*p],t[2*p+1],n,r)<=l&&a.push(e[p]);else{var d=Math.floor((h+c)/2),f=t[2*d],m=t[2*d+1];$e(f,m,n,r)<=l&&a.push(e[d]);var y=(u+1)%2;(0===u?n-i<=f:r-i<=m)&&(o.push(h),o.push(d-1),o.push(y)),(0===u?n+i>=f:r+i>=m)&&(o.push(d+1),o.push(c),o.push(y))}}return a}function $e(e,t,n,r){var i=e-n,s=t-r;return i*i+s*s}var et=function(e){return e[0]},tt=function(e){return e[1]},nt=function(e,t,n,r,i){void 0===t&&(t=et),void 0===n&&(n=tt),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=e;for(var s=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new s(e.length),a=this.coords=new i(2*e.length),l=0;l<e.length;l++)o[l]=l,a[2*l]=t(e[l]),a[2*l+1]=n(e[l]);Je(o,a,r,0,o.length-1,0)};nt.prototype.range=function(e,t,n,r){return Ke(this.ids,this.coords,e,t,n,r,this.nodeSize)},nt.prototype.within=function(e,t,n){return Qe(this.ids,this.coords,e,t,n,this.nodeSize)};var rt={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,map:function(e){return e}},it=function(e){this.options=dt(Object.create(rt),e),this.trees=new Array(this.options.maxZoom+1)};function st(e,t,n,r,i){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function ot(e,t){var n=e.geometry.coordinates,r=n[0],i=n[1];return{x:ut(r),y:ct(i),zoom:1/0,index:t,parentId:-1}}function at(e){return{type:"Feature",id:e.id,properties:lt(e),geometry:{type:"Point",coordinates:[ht(e.x),pt(e.y)]}}}function lt(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return dt(dt({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function ut(e){return e/360+.5}function ct(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ht(e){return 360*(e-.5)}function pt(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function dt(e,t){for(var n in t)e[n]=t[n];return e}function ft(e){return e.x}function mt(e){return e.y}function yt(e){requestAnimationFrame(yt),De.update(e)}it.prototype.load=function(e){var t=this.options,n=(t.log,t.minZoom),r=t.maxZoom,i=t.nodeSize;e.length;this.points=e;for(var s=[],o=0;o<e.length;o++)e[o].geometry&&s.push(ot(e[o],o));this.trees[r+1]=new nt(s,ft,mt,i,Float32Array);for(var a=r;a>=n;a--){Date.now();s=this._cluster(s,a),this.trees[a]=new nt(s,ft,mt,i,Float32Array)}return this},it.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,s],t),a=this.getClusters([-180,r,i,s],t);return o.concat(a)}for(var l=this.trees[this._limitZoom(t)],u=l.range(ut(n),ct(s),ut(i),ct(r)),c=[],h=0,p=u;h<p.length;h+=1){var d=p[h],f=l.points[d];c.push(f.numPoints?at(f):this.points[f.index])}return c},it.prototype.getChildren=function(e){var t=e>>5,n=e%32,r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var s=i.points[t];if(!s)throw new Error(r);for(var o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=i.within(s.x,s.y,o),l=[],u=0,c=a;u<c.length;u+=1){var h=c[u],p=i.points[h];p.parentId===e&&l.push(p.numPoints?at(p):this.points[p.index])}if(0===l.length)throw new Error(r);return l},it.prototype.getLeaves=function(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r},it.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),s=this.options,o=s.extent,a=s.radius,l=a/o,u=(n-l)/i,c=(n+1+l)/i,h={features:[]};return this._addTileFeatures(r.range((t-l)/i,u,(t+1+l)/i,c),r.points,t,n,i,h),0===t&&this._addTileFeatures(r.range(1-l/i,u,1,c),r.points,i,n,i,h),t===i-1&&this._addTileFeatures(r.range(0,u,l/i,c),r.points,-1,n,i,h),h.features.length?h:null},it.prototype.getClusterExpansionZoom=function(e){var t=e%32-1;while(t<=this.options.maxZoom){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},it.prototype._appendLeaves=function(e,t,n,r,i){for(var s=this.getChildren(t),o=0,a=s;o<a.length;o+=1){var l=a[o],u=l.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,n,r,i):i<r?i++:e.push(l),e.length===n)break}return i},it.prototype._addTileFeatures=function(e,t,n,r,i,s){for(var o=0,a=e;o<a.length;o+=1){var l=a[o],u=t[l],c={type:1,geometry:[[Math.round(this.options.extent*(u.x*i-n)),Math.round(this.options.extent*(u.y*i-r))]],tags:u.numPoints?lt(u):this.points[u.index].properties},h=u.numPoints?u.id:this.points[u.index].id;void 0!==h&&(c.id=h),s.features.push(c)}},it.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},it.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.radius,s=r.extent,o=r.reduce,a=i/(s*Math.pow(2,t)),l=0;l<e.length;l++){var u=e[l];if(!(u.zoom<=t)){u.zoom=t;for(var c=this.trees[t+1],h=c.within(u.x,u.y,a),p=u.numPoints||1,d=u.x*p,f=u.y*p,m=o&&p>1?this._map(u,!0):null,y=(l<<5)+(t+1),g=0,_=h;g<_.length;g+=1){var v=_[g],b=c.points[v];if(!(b.zoom<=t)){b.zoom=t;var x=b.numPoints||1;d+=b.x*x,f+=b.y*x,p+=x,b.parentId=y,o&&(m||(m=this._map(u,!0)),o(m,this._map(b)))}}1===p?n.push(u):(u.parentId=y,n.push(st(d/p,f/p,y,p,m)))}}return n},it.prototype._map=function(e,t){if(e.numPoints)return t?dt({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?dt({},r):r},"undefined"!==typeof window&&requestAnimationFrame(yt);var gt=function(){function e(t,n,r){u(this,e),n instanceof f||(n=new f(n)),this.dataSet=n,this.map=t,"cluster"!==r.draw||this.supercluster||(this.supercluster=new it({maxZoom:r.maxZoom||19,radius:r.clusterRadius||100}),this.supercluster.load(n.get()),this.clusterDataSet=new f)}return c(e,[{key:"getDefaultContextConfig",value:function(){return{globalAlpha:1,globalCompositeOperation:"source-over",imageSmoothingEnabled:!0,strokeStyle:"#000000",fillStyle:"#000000",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0)",lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,lineDashOffset:0,font:"10px sans-serif",textAlign:"start",textBaseline:"alphabetic"}}},{key:"initDataRange",value:function(e){var t=this;if(t.intensity=new b({maxSize:t.options.maxSize,minSize:t.options.minSize,gradient:t.options.gradient,max:t.options.max||this.dataSet.getMax("count")}),t.category=new Le(t.options.splitList),t.choropleth=new Me(t.options.splitList),void 0===t.options.splitList&&t.category.generateByDataSet(this.dataSet,t.options.color),void 0===t.options.splitList){var n=t.options.min||this.dataSet.getMin("count"),r=t.options.max||this.dataSet.getMax("count");t.choropleth.generateByMinMax(n,r)}}},{key:"getLegend",value:function(e){this.options.draw;var t=this;return"intensity"==t.options.draw||"heatmap"==t.options.draw?this.intensity.getLegend(e):"category"==t.options.draw?this.category.getLegend(e):void 0}},{key:"processData",value:function(e){var t=this,n=t.options.draw;if("bubble"==n||"intensity"==n||"category"==n||"choropleth"==n||"simple"==n)for(var r=0;r<e.length;r++){var i=e[r];"bubble"==t.options.draw?e[r]._size=t.intensity.getSize(i.count):e[r]._size=void 0;var s="_fillStyle";"LineString"!==e[r].geometry.type&&"stroke"!==t.options.styleType||(s="_strokeStyle"),"intensity"==t.options.draw?e[r][s]=t.intensity.getColor(i.count):"category"==t.options.draw?e[r][s]=t.category.get(i.count):"choropleth"==t.options.draw&&(e[r][s]=t.choropleth.get(i.count))}}},{key:"isEnabledTime",value:function(){var e=this.options.animation,t=e&&!(!1===e.enabled);return t}},{key:"argCheck",value:function(e){"heatmap"==e.draw&&e.strokeStyle&&console.warn("[heatmap] options.strokeStyle is discard, pleause use options.strength [eg: options.strength = 0.1]")}},{key:"drawContext",value:function(e,t,n,r){var i=this;switch(i.options.draw){case"heatmap":M.draw(e,t,i.options);break;case"grid":case"cluster":case"honeycomb":i.options.offset={x:r.x,y:r.y},"grid"===i.options.draw?O.draw(e,t,i.options):"cluster"===i.options.draw?Ge.draw(e,t,i.options):N.draw(e,t,i.options);break;case"text":je.draw(e,t,i.options);break;case"icon":He.draw(e,t,i.options);break;case"clip":Ue.draw(e,t,i.options);break;default:"webgl"==i.options.context?Ee.draw(i.canvasLayer.canvas.getContext("webgl"),t,i.options):_.draw(e,t,i.options)}i.options.arrow&&!1!==i.options.arrow.show&&qe.draw(e,t,i.options)}},{key:"isPointInPath",value:function(e,t){var n;e=this.canvasLayer.canvas.getContext(this.context);n="cluster"===this.options.draw?this.clusterDataSet.get():this.dataSet.get();for(var r=0;r<n.length;r++){e.beginPath();var i=this.options,s=t.x*this.canvasLayer.devicePixelRatio,o=t.y*this.canvasLayer.devicePixelRatio;i.multiPolygonDraw=function(){if(e.isPointInPath(s,o))return n[r]},g.draw(e,n[r],i);var a=n[r].geometry&&n[r].geometry.type;if(a.indexOf("LineString")>-1){if(e.isPointInStroke&&e.isPointInStroke(s,o))return n[r]}else if(e.isPointInPath(s,o))return n[r]}}},{key:"clickEvent",value:function(e,t){if(this.options.methods){var n=this.isPointInPath(this.getContext(),e);n?this.options.methods.click(n,t):this.options.methods.click(null,t)}}},{key:"mousemoveEvent",value:function(e,t){if(this.options.methods){var n=this.isPointInPath(this.getContext(),e);n?this.options.methods.mousemove(n,t):this.options.methods.mousemove(null,t)}}},{key:"tapEvent",value:function(e,t){if(this.options.methods){var n=this.isPointInPath(this.getContext(),e);n?this.options.methods.tap(n,t):this.options.methods.tap(null,t)}}},{key:"update",value:function(e,t){var n=this,r=e.options,i=n.options;for(var s in r)i[s]=r[s];n.init(i),!1!==t&&n.draw()}},{key:"setOptions",value:function(e){var t=this;t.dataSet.reset(),t.init(e),t.draw()}},{key:"set",value:function(e){var t=this,n=this.getContext(),r=this.getDefaultContextConfig();for(var i in r)n[i]=r[i];t.init(e.options),t.draw()}},{key:"destroy",value:function(){this.unbindEvent(),this.hide()}},{key:"initAnimator",value:function(){var e=this,t=e.options.animation;if("time"==e.options.draw||e.isEnabledTime()){t.stepsRange||(t.stepsRange={start:this.dataSet.getMin("time")||0,end:this.dataSet.getMax("time")||0}),this.steps={step:t.stepsRange.start},e.animator=new De.Tween(this.steps).onUpdate((function(){e._canvasUpdate(this.step)})).repeat(1/0),this.addAnimatorEvent();var n=1e3*t.duration||5e3;e.animator.to({step:t.stepsRange.end},n),e.animator.start()}else e.animator&&e.animator.stop()}},{key:"addAnimatorEvent",value:function(){}},{key:"animatorMovestartEvent",value:function(){var e=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=e.stepsRange.start,this.animator.stop())}},{key:"animatorMoveendEvent",value:function(){this.isEnabledTime()&&this.animator&&this.animator.start()}}]),e}(),_t="undefined"===typeof window?{}:window,vt=_t.BMap||_t.BMapGL,bt=function(e){function t(e,n,r){u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));i.map=e,i.options=r||{},i.dataSet=n;var s=new ke({map:e,zIndex:i.options.zIndex,update:i._canvasUpdate.bind(i)});i.init(i.options),i.canvasLayer=s,i.transferToMercator();var o=i;return n.on("change",(function(){o.transferToMercator(),s.draw()})),i.ctx=s.canvas.getContext("2d"),i.start(),i}return p(t,e),c(t,[{key:"draw",value:function(){this.canvasLayer.draw()}},{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),t.options.max&&this.intensity.setMax(t.options.max),t.options.min&&this.intensity.setMin(t.options.min),this.initAnimator()}},{key:"transferToMercator",value:function(){var e,t=this.map,n=t.getMapType();if(e=n.getProjection?n.getProjection():{lngLatToPoint:function(e){var n=t.lnglatToMercator(e.lng,e.lat);return{x:n[0],y:n[1]}}},"bd09mc"!==this.options.coordType){var r=this.dataSet.get();r=this.dataSet.transferCoordinate(r,(function(t){var n=e.lngLatToPoint({lng:t[0],lat:t[1]});return[n.x,n.y]}),"coordinates","coordinates_mercator"),this.dataSet._set(r)}}},{key:"_canvasUpdate",value:function(){var e=this.ctx;if(e){var t,n,i,s=this.map;s.getMapType().getProjection?(t=s.getMapType().getProjection(),n=t.lngLatToPoint(s.getCenter())):(n={x:s.getCenter().lng,y:s.getCenter().lat},n.x>-180&&n.x<180&&(n=s.lnglatToMercator(n.x,n.y),n={x:n[0],y:n[1]}),t={lngLatToPoint:function(e){var t=s.lnglatToMercator(e.lng,e.lat);return{x:t[0],y:t[1]}}}),i=t.getZoomUnits?t.getZoomUnits(s.getZoom()):Math.pow(2,18-s.getZoom());var o=new vt.Pixel(n.x-s.getSize().width/2*i,n.y+s.getSize().height/2*i);r(e);var a={fromColumn:"bd09mc"==this.options.coordType?"coordinates":"coordinates_mercator",transferCoordinate:function(e){if(e){var t=(e[0]-o.x)/i,n=(o.y-e[1])/i;return[t,n]}}};this.data=this.dataSet.get(a),this.processData(this.data),this.drawAnimation()}}},{key:"drawAnimation",value:function(){var e=this.ctx,t=this.data;if(t){e.save(),e.globalCompositeOperation="destination-out",e.fillStyle="rgba(0, 0, 0, .1)",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.restore(),e.save(),this.options.shadowColor&&(e.shadowColor=this.options.shadowColor),this.options.shadowBlur&&(e.shadowBlur=this.options.shadowBlur),this.options.globalAlpha&&(e.globalAlpha=this.options.globalAlpha),this.options.globalCompositeOperation&&(e.globalCompositeOperation=this.options.globalCompositeOperation);for(var n=this.options,r=0;r<t.length;r++)if("Point"===t[r].geometry.type){e.beginPath();var i=t[r].size||this.options.size,s=t[r].minSize||this.options.minSize||0;void 0===t[r]._size&&(t[r]._size=s),e.arc(t[r].geometry._coordinates[0],t[r].geometry._coordinates[1],t[r]._size,0,2*Math.PI,!0),e.closePath(),t[r]._size++,t[r]._size>i&&(t[r]._size=s),e.lineWidth=1,e.strokeStyle=t[r].strokeStyle||t[r]._strokeStyle||n.strokeStyle||"yellow",e.stroke();var o=t[r].fillStyle||t[r]._fillStyle||n.fillStyle;o&&(e.fillStyle=o,e.fill())}else if("LineString"===t[r].geometry.type){e.beginPath();var a=t[r].size||this.options.size||5;s=t[r].minSize||this.options.minSize||0;void 0===t[r]._index&&(t[r]._index=0);var l=t[r]._index;e.arc(t[r].geometry._coordinates[l][0],t[r].geometry._coordinates[l][1],a,0,2*Math.PI,!0),e.closePath(),t[r]._index++,t[r]._index>=t[r].geometry._coordinates.length&&(t[r]._index=0);var u=t[r].strokeStyle||n.strokeStyle;o=t[r].fillStyle||n.fillStyle||"yellow";e.fillStyle=o,e.fill(),u&&n.lineWidth&&(e.lineWidth=n.lineWidth||1,e.strokeStyle=u,e.stroke())}e.restore()}}},{key:"animate",value:function(){this.drawAnimation();var e=this.options.animateTime||100;this.timeout=setTimeout(this.animate.bind(this),e)}},{key:"start",value:function(){this.stop(),this.animate()}},{key:"stop",value:function(){clearTimeout(this.timeout)}},{key:"unbindEvent",value:function(){}},{key:"hide",value:function(){this.canvasLayer.hide(),this.stop()}},{key:"show",value:function(){this.start()}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"destroy",value:function(){this.stop(),this.unbindEvent(),this.clearData(),this.map.removeOverlay(this.canvasLayer),this.canvasLayer=null}}]),t}(gt),xt="undefined"===typeof window?{}:window,wt=xt.BMap||xt.BMapGL,St=function(e){function t(e,n,r){u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r)),s=i;r=r||{},i.clickEvent=i.clickEvent.bind(i),i.mousemoveEvent=i.mousemoveEvent.bind(i),i.tapEvent=i.tapEvent.bind(i),s.init(r),s.argCheck(r),s.transferToMercator();var o=i.canvasLayer=new ke({map:e,context:i.context,updateImmediate:r.updateImmediate,paneName:r.paneName,mixBlendMode:r.mixBlendMode,enableMassClear:r.enableMassClear,zIndex:r.zIndex,update:function(){s._canvasUpdate()}});return n.on("change",(function(){s.transferToMercator(),o.draw()})),i}return p(t,e),c(t,[{key:"clickEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,n,e)}},{key:"mousemoveEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"tapEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"tapEvent",this).call(this,n,e)}},{key:"bindEvent",value:function(e){this.unbindEvent();var t=this.map,n=0,r=this;this.options.methods&&(this.options.methods.click&&(t.setDefaultCursor("default"),t.addEventListener("click",this.clickEvent)),this.options.methods.mousemove&&t.addEventListener("mousemove",this.mousemoveEvent),"ontouchend"in window.document&&this.options.methods.tap&&(t.addEventListener("touchstart",(function(e){n=new Date})),t.addEventListener("touchend",(function(e){new Date-n<300&&r.tapEvent(e)}))))}},{key:"unbindEvent",value:function(e){var t=this.map;this.options.methods&&(this.options.methods.click&&t.removeEventListener("click",this.clickEvent),this.options.methods.mousemove&&t.removeEventListener("mousemove",this.mousemoveEvent))}},{key:"transferToMercator",value:function(e){e||(e=this.dataSet);var t,n=this.map,r=n.getMapType();if(t=r.getProjection?r.getProjection():{lngLatToPoint:function(e){var t=n.lnglatToMercator(e.lng,e.lat);return{x:t[0],y:t[1]}}},"bd09mc"!==this.options.coordType){var i=e.get();i=e.transferCoordinate(i,(function(e){if(e[0]<-180||e[0]>180||e[1]<-90||e[1]>90)return e;var n=t.lngLatToPoint({lng:e[0],lat:e[1]});return[n.x,n.y]}),"coordinates","coordinates_mercator"),e._set(i)}}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"_canvasUpdate",value:function(e){if(this.canvasLayer){var t,n,i,s=this,o=s.options.animation,a=this.canvasLayer._map;a.getMapType().getProjection?(t=a.getMapType().getProjection(),n=t.lngLatToPoint(a.getCenter())):(n={x:a.getCenter().lng,y:a.getCenter().lat},n.x>-180&&n.x<180&&(n=a.lnglatToMercator(n.x,n.y),n={x:n[0],y:n[1]}),t={lngLatToPoint:function(e){var t=a.lnglatToMercator(e.lng,e.lat);return{x:t[0],y:t[1]}}}),i=t.getZoomUnits?t.getZoomUnits(a.getZoom()):Math.pow(2,18-a.getZoom());var l=new wt.Pixel(n.x-a.getSize().width/2*i,n.y+a.getSize().height/2*i),u=this.getContext();if(s.isEnabledTime()){if(void 0===e)return void r(u);"2d"==this.context&&(u.save(),u.globalCompositeOperation="destination-out",u.fillStyle="rgba(0, 0, 0, .1)",u.fillRect(0,0,u.canvas.width,u.canvas.height),u.restore())}else r(u);if("2d"==this.context)for(var c in s.options)u[c]=s.options[c];else u.clear(u.COLOR_BUFFER_BIT);if(!(s.options.minZoom&&a.getZoom()<s.options.minZoom||s.options.maxZoom&&a.getZoom()>s.options.maxZoom)){var h=1;"2d"!=this.context&&(h=this.canvasLayer.devicePixelRatio);var p,d={fromColumn:"bd09mc"==s.options.coordType?"coordinates":"coordinates_mercator",transferCoordinate:function(e){var t=(e[0]-l.x)/i*h,n=(l.y-e[1])/i*h;return[t,n]}};if(void 0!==e&&(d.filter=function(t){var n=o.trails||10;return!!(e&&t.time>e-n&&t.time<e)}),"cluster"===s.options.draw){var f=this.map.getBounds(),m=f.getNorthEast(),y=f.getSouthWest(),g=this.supercluster.getClusters([y.lng,y.lat,m.lng,m.lat],this.getZoom());this.clusterDataSet.set(g),this.transferToMercator(this.clusterDataSet),p=this.clusterDataSet.get(d)}else p=s.dataSet.get(d);this.processData(p);var _=a.pointToPixel(new wt.Point(0,0));"m"==s.options.unit?(s.options.size&&(s.options._size=s.options.size/i),s.options.width&&(s.options._width=s.options.width/i),s.options.height&&(s.options._height=s.options.height/i)):(s.options._size=s.options.size,s.options._height=s.options.height,s.options._width=s.options.width),this.drawContext(u,p,s.options,_),s.options.updateCallback&&s.options.updateCallback(e)}}}},{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),t.options.max&&this.intensity.setMax(t.options.max),t.options.min&&this.intensity.setMin(t.options.min),this.initAnimator(),this.bindEvent()}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"addAnimatorEvent",value:function(){this.map.addEventListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addEventListener("moveend",this.animatorMoveendEvent.bind(this))}},{key:"show",value:function(){this.map.addOverlay(this.canvasLayer)}},{key:"hide",value:function(){this.map.removeOverlay(this.canvasLayer)}},{key:"draw",value:function(){this.canvasLayer&&this.canvasLayer.draw()}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"destroy",value:function(){this.unbindEvent(),this.clearData(),this.map.removeOverlay(this.canvasLayer),this.canvasLayer=null}}]),t}(gt);function Ct(e){this.isAdded_=!1,this.isAnimated_=!1,this.paneName_=Ct.DEFAULT_PANE_NAME_,this.updateHandler_=null,this.resizeHandler_=null,this.topLeft_=null,this.centerListener_=null,this.resizeListener_=null,this.needsResize_=!0,this.requestAnimationFrameId_=null;var t=document.createElement("canvas");function n(e,t){return function(){t.apply(e)}}t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.pointerEvents="none",this.canvas=t,this.canvasCssWidth_=300,this.canvasCssHeight_=150,this.resolutionScale_=1,this.repositionFunction_=n(this,this.repositionCanvas_),this.resizeFunction_=n(this,this.resize_),this.requestUpdateFunction_=n(this,this.update_),e&&this.setOptions(e)}var Et="undefined"===typeof window?{}:window;Et.google&&Et.google.maps&&(Ct.prototype=new google.maps.OverlayView,Ct.DEFAULT_PANE_NAME_="overlayLayer",Ct.CSS_TRANSFORM_=function(){for(var e=document.createElement("div"),t=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],n=0;n<t.length;n++){var r=t[n];if(void 0!==e.style[r])return r}return t[0]}(),Ct.prototype.requestAnimFrame_=Et.requestAnimationFrame||Et.webkitRequestAnimationFrame||Et.mozRequestAnimationFrame||Et.oRequestAnimationFrame||Et.msRequestAnimationFrame||function(e){return Et.setTimeout(e,1e3/60)},Ct.prototype.cancelAnimFrame_=Et.cancelAnimationFrame||Et.webkitCancelAnimationFrame||Et.mozCancelAnimationFrame||Et.oCancelAnimationFrame||Et.msCancelAnimationFrame||function(e){},Ct.prototype.setOptions=function(e){void 0!==e.animate&&this.setAnimate(e.animate),void 0!==e.paneName&&this.setPaneName(e.paneName),void 0!==e.updateHandler&&this.setUpdateHandler(e.updateHandler),void 0!==e.resizeHandler&&this.setResizeHandler(e.resizeHandler),void 0!==e.resolutionScale&&this.setResolutionScale(e.resolutionScale),void 0!==e.map&&this.setMap(e.map)},Ct.prototype.setAnimate=function(e){this.isAnimated_=!!e,this.isAnimated_&&this.scheduleUpdate()},Ct.prototype.isAnimated=function(){return this.isAnimated_},Ct.prototype.setPaneName=function(e){this.paneName_=e,this.setPane_()},Ct.prototype.getPaneName=function(){return this.paneName_},Ct.prototype.setPane_=function(){if(this.isAdded_){var e=this.getPanes();if(!e[this.paneName_])throw new Error('"'+this.paneName_+'" is not a valid MapPane name.');e[this.paneName_].appendChild(this.canvas)}},Ct.prototype.setResizeHandler=function(e){this.resizeHandler_=e},Ct.prototype.setResolutionScale=function(e){"number"===typeof e&&(this.resolutionScale_=e,this.resize_())},Ct.prototype.setUpdateHandler=function(e){this.updateHandler_=e},Ct.prototype.onAdd=function(){this.isAdded_||(this.isAdded_=!0,this.setPane_(),this.resizeListener_=google.maps.event.addListener(this.getMap(),"resize",this.resizeFunction_),this.centerListener_=google.maps.event.addListener(this.getMap(),"center_changed",this.repositionFunction_),this.resize_(),this.repositionCanvas_())},Ct.prototype.onRemove=function(){this.isAdded_&&(this.isAdded_=!1,this.topLeft_=null,this.canvas.parentElement.removeChild(this.canvas),this.centerListener_&&(google.maps.event.removeListener(this.centerListener_),this.centerListener_=null),this.resizeListener_&&(google.maps.event.removeListener(this.resizeListener_),this.resizeListener_=null),this.requestAnimationFrameId_&&(this.cancelAnimFrame_.call(Et,this.requestAnimationFrameId_),this.requestAnimationFrameId_=null))},Ct.prototype.resize_=function(){if(this.isAdded_){var e=this.getMap(),t=e.getDiv().offsetWidth,n=e.getDiv().offsetHeight,r=t*this.resolutionScale_,i=n*this.resolutionScale_,s=this.canvas.width,o=this.canvas.height;s===r&&o===i||(this.canvas.width=r,this.canvas.height=i,this.needsResize_=!0,this.scheduleUpdate()),this.canvasCssWidth_===t&&this.canvasCssHeight_===n||(this.canvasCssWidth_=t,this.canvasCssHeight_=n,this.canvas.style.width=t+"px",this.canvas.style.height=n+"px")}},Ct.prototype.draw=function(){this.repositionCanvas_()},Ct.prototype.repositionCanvas_=function(){var e=this.getMap(),t=e.getBounds().getNorthEast().lat(),n=e.getCenter(),r=Math.pow(2,e.getZoom()),i=n.lng()-180*this.canvasCssWidth_/(256*r);this.topLeft_=new google.maps.LatLng(t,i);var s=this.getProjection(),o=s.fromLatLngToDivPixel(n),a=-Math.round(this.canvasCssWidth_/2-o.x),l=-Math.round(this.canvasCssHeight_/2-o.y);this.canvas.style[Ct.CSS_TRANSFORM_]="translate("+a+"px,"+l+"px)",this.scheduleUpdate()},Ct.prototype.update_=function(){this.requestAnimationFrameId_=null,this.isAdded_&&(this.isAnimated_&&this.scheduleUpdate(),this.needsResize_&&this.resizeHandler_&&(this.needsResize_=!1,this.resizeHandler_()),this.updateHandler_&&this.updateHandler_())},Ct.prototype.getTopLeft=function(){return this.topLeft_},Ct.prototype.scheduleUpdate=function(){this.isAdded_&&!this.requestAnimationFrameId_&&(this.requestAnimationFrameId_=this.requestAnimFrame_.call(Et,this.requestUpdateFunction_))});var Tt=function(e){function t(e,n,r){u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r)),s=i;r=r||{},s.init(r),s.argCheck(r);var o={map:e,animate:!1,updateHandler:function(){s._canvasUpdate()},resolutionScale:resolutionScale};i.canvasLayer=new Ct(o);return i.clickEvent=i.clickEvent.bind(i),i.mousemoveEvent=i.mousemoveEvent.bind(i),i.bindEvent(),i}return p(t,e),c(t,[{key:"clickEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,n,e)}},{key:"mousemoveEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"bindEvent",value:function(e){var t=this.map;this.options.methods&&(this.options.methods.click&&(t.setDefaultCursor("default"),t.addListener("click",this.clickEvent)),this.options.methods.mousemove&&t.addListener("mousemove",this.mousemoveEvent))}},{key:"unbindEvent",value:function(e){var t=this.map;this.options.methods&&(this.options.methods.click&&t.removeListener("click",this.clickEvent),this.options.methods.mousemove&&t.removeListener("mousemove",this.mousemoveEvent))}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"_canvasUpdate",value:function(e){if(this.canvasLayer){var t=this,n=t.options.animation,i=this.getContext();if(t.isEnabledTime()){if(void 0===e)return void r(i);"2d"==this.context&&(i.save(),i.globalCompositeOperation="destination-out",i.fillStyle="rgba(0, 0, 0, .1)",i.fillRect(0,0,i.canvas.width,i.canvas.height),i.restore())}else r(i);if("2d"==this.context)for(var s in t.options)i[s]=t.options[s];else i.clear(i.COLOR_BUFFER_BIT);if(!(t.options.minZoom&&a.getZoom()<t.options.minZoom||t.options.maxZoom&&a.getZoom()>t.options.maxZoom)){var o=1;"2d"!=this.context&&(o=this.canvasLayer.devicePixelRatio);var a=this.map,l=a.getProjection(),u=(o=Math.pow(2,a.zoom)*resolutionScale,l.fromLatLngToPoint(this.canvasLayer.getTopLeft())),c={transferCoordinate:function(e){var t=new google.maps.LatLng(e[1],e[0]),n=l.fromLatLngToPoint(t),r={x:(n.x-u.x)*o,y:(n.y-u.y)*o};return[r.x,r.y]}};void 0!==e&&(c.filter=function(t){var r=n.trails||10;return!!(e&&t.time>e-r&&t.time<e)});var h=t.dataSet.get(c);this.processData(h);var p=new google.maps.LatLng(0,0),d=l.fromLatLngToPoint(p),m={x:(d.x-u.x)*o,y:(d.y-u.y)*o};"m"==t.options.unit&&t.options.size?t.options._size=t.options.size/zoomUnit:t.options._size=t.options.size,this.drawContext(i,new f(h),t.options,m),t.options.updateCallback&&t.options.updateCallback(e)}}}},{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){this.map.addListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addListener("moveend",this.animatorMoveendEvent.bind(this))}},{key:"show",value:function(){this.map.addOverlay(this.canvasLayer)}},{key:"hide",value:function(){this.map.removeOverlay(this.canvasLayer)}},{key:"draw",value:function(){self.canvasLayer.draw()}}]),t}(gt),At=void 0;if("undefined"!==typeof maptalks){At=function(e){function t(e,n,r){u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return i.options_=r,i.dataSet=n,i._initBaseLayer(r),i}return p(t,e),c(t,[{key:"_initBaseLayer",value:function(e){var t=this,n=this.baseLayer=new gt(null,this.dataSet,e);t.init(e),n.argCheck(e)}},{key:"clickEvent",value:function(e){if(this.baseLayer){var t=e.containerPoint;this.baseLayer.clickEvent(t,e.domEvent)}}},{key:"mousemoveEvent",value:function(e){if(this.baseLayer){var t=e.containerPoint;this.baseLayer.mousemoveEvent(t,e.domEvent)}}},{key:"getEvents",value:function(){return{click:this.clickEvent,mousemove:this.mousemoveEvent}}},{key:"init",value:function(e){var t=this.baseLayer;t.options=e,t.initDataRange(e),t.context=t.options.context||"2d",t.initAnimator()}},{key:"addAnimatorEvent",value:function(){this.map.addListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addListener("moveend",this.animatorMoveendEvent.bind(this))}}]),t}(maptalks.Layer);var Pt=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),c(t,[{key:"needToRedraw",value:function(){var e=this.layer.baseLayer;return!!e.isEnabledTime()||h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"needToRedraw",this).call(this)}},{key:"draw",value:function(){var e=this.layer.baseLayer;this.canvas&&e.isEnabledTime()&&!this._shouldClear||(this.prepareCanvas(),this._shouldClear=!1),this._update(this.gl||this.context,this._mapvFrameTime),delete this._mapvFrameTime,this.completeRender()}},{key:"drawOnInteracting",value:function(){this.draw(),this._shouldClear=!1}},{key:"onSkipDrawOnInteracting",value:function(){this._shouldClear=!0}},{key:"_canvasUpdate",value:function(e){this.setToRedraw(),this._mapvFrameTime=e}},{key:"_update",value:function(e,t){if(this.canvas){var n=this.layer.baseLayer,i=n.options.animation,s=this.getMap();if(n.isEnabledTime()){if(void 0===t)return void r(e);"2d"==n.context&&(e.save(),e.globalCompositeOperation="destination-out",e.fillStyle="rgba(0, 0, 0, .1)",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.restore())}else r(e);if("2d"==n.context)for(var o in n.options)e[o]=n.options[o];else e.clear(e.COLOR_BUFFER_BIT);var a=1;"2d"===n.context&&"heatmap"!==n.options.draw&&(a=n.canvasLayer.devicePixelRatio);var l=new maptalks.Coordinate(0,0),u={fromColumn:"bd09mc"===n.options.coordType?"coordinates_mercator":"coordinates",transferCoordinate:function(e){l.x=e[0],l.y=e[1];var t=s.coordToContainerPoint(l)._multi(a).toArray();return t}};void 0!==t&&(u.filter=function(e){var n=i.trails||10;return!!(t&&e.time>t-n&&e.time<t)});var c=n.dataSet.get(u);n.processData(c),"m"==n.options.unit?(n.options.size&&(n.options._size=n.options.size/zoomUnit),n.options.width&&(n.options._width=n.options.width/zoomUnit),n.options.height&&(n.options._height=n.options.height/zoomUnit)):(n.options._size=n.options.size,n.options._height=n.options.height,n.options._width=n.options.width);var h=new maptalks.Point(0,0),p=s._pointToContainerPoint(h)._multi(a);n.drawContext(e,c,n.options,p),n.options.updateCallback&&n.options.updateCallback(t)}}},{key:"createCanvas",value:function(){if(!this.canvas){var e=this.getMap(),t=e.getSize(),n=maptalks.Browser.retina?2:1,r=n*t.width,i=n*t.height;this.canvas=maptalks.Canvas.createCanvas(r,i,e.CanvasClass);var s=this.layer.baseLayer.context;if("2d"===s)this.context=this.canvas.getContext("2d"),this.layer.options["globalCompositeOperation"]&&(this.context.globalCompositeOperation=this.layer.options["globalCompositeOperation"]);else{var o={alpha:!0,preserveDrawingBuffer:!0,antialias:!1};this.gl=this.canvas.getContext("webgl",o)}this.onCanvasCreate(),this._bindToMapv(),this.layer.fire("canvascreate",{context:this.context,gl:this.gl})}}},{key:"_bindToMapv",value:function(){var e=this.layer.baseLayer;this.devicePixelRatio=maptalks.Browser.retina?2:1,e.canvasLayer=this,e._canvasUpdate=this._canvasUpdate.bind(this),e.getContext=function(){var e=self.getRenderer();return e.gl||e.context}}}]),t}(maptalks.renderer.CanvasRenderer);At.registerRenderer("canvas",Pt)}var It,Lt=At,Mt=function(e,t,n){if("undefined"!==typeof document){var r=document.createElement("canvas");return r.width=e,r.height=t,r}return new n(e,t)},Ot=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1],r=arguments[2];u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i.options=r,i.canvasLayer={canvas:null,devicePixelRatio:window.devicePixelRatio},i.layer_=null,i.initDataRange(r),i.initAnimator(),i.onEvents(),e.on("complete",(function(){this.init(e,r),this.argCheck(r)}),i),i}return p(t,e),c(t,[{key:"init",value:function(e,t){if(!e)throw new Error("not map object");this.map=e,this.context=this.options.context||"2d",this.getCanvasLayer()}},{key:"_canvasUpdate",value:function(e){this.render(this.canvasLayer.canvas,e)}},{key:"render",value:function(e,t){if(e){var n=this.map,i=e.getContext(this.context),s=this.options.animation;if(this.isEnabledTime()){if(void 0===t)return r(i),this;"2d"===this.context&&(i.save(),i.globalCompositeOperation="destination-out",i.fillStyle="rgba(0, 0, 0, .1)",i.fillRect(0,0,i.canvas.width,i.canvas.height),i.restore())}else r(i);if("2d"===this.context)for(var o in this.options)i[o]=this.options[o];else i.clear(i.COLOR_BUFFER_BIT);var a={transferCoordinate:function(e){var t=n.lngLatToContainer(new AMap.LngLat(e[0],e[1]));return[t["x"],t["y"]]}};void 0!==t&&(a.filter=function(e){var n=s.trails||10;return!!(t&&e.time>t-n&&e.time<t)});var l=this.dataSet.get(a);return this.processData(l),"m"===this.options.unit?(this.options.size&&(this.options._size=this.options.size/zoomUnit),this.options.width&&(this.options._width=this.options.width/zoomUnit),this.options.height&&(this.options._height=this.options.height/zoomUnit)):(this.options._size=this.options.size,this.options._height=this.options.height,this.options._width=this.options.width),this.drawContext(i,new f(l),this.options,{x:0,y:0}),this.options.updateCallback&&this.options.updateCallback(t),this}}},{key:"getCanvasLayer",value:function(){if(!this.canvasLayer.canvas&&!this.layer_){var e=this.canvasFunction(),t=this.map.getBounds();this.layer_=new AMap.CanvasLayer({canvas:e,bounds:this.options.bounds||t,zooms:this.options.zooms||[0,22]}),this.layer_.setMap(this.map),this.map.on("mapmove",this.canvasFunction,this),this.map.on("zoomchange",this.canvasFunction,this)}}},{key:"canvasFunction",value:function(){var e=[this.map.getSize().width,this.map.getSize().height],t=e[0],n=e[1];if(this.canvasLayer.canvas){this.canvasLayer.canvas.width=t,this.canvasLayer.canvas.height=n;var r=this.map.getBounds();this.layer_&&this.layer_.setBounds(this.options.bounds||r)}else this.canvasLayer.canvas=Mt(t,n);return this.render(this.canvasLayer.canvas),this.canvasLayer.canvas}},{key:"removeLayer",value:function(){this.map&&(this.unEvents(),this.map.removeLayer(this.layer_),delete this.map,delete this.layer_,delete this.canvasLayer.canvas)}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"clickEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,n,e)}},{key:"mousemoveEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"addAnimatorEvent",value:function(){this.map.on("movestart",this.animatorMovestartEvent,this),this.map.on("moveend",this.animatorMoveendEvent,this)}},{key:"onEvents",value:function(){var e=this.map;this.unEvents(),this.options.methods&&(this.options.methods.click&&e.on("click",this.clickEvent,this),this.options.methods.mousemove&&e.on("mousemove",this.mousemoveEvent,this))}},{key:"unEvents",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.off("click",this.clickEvent,this),this.options.methods.mousemove&&e.off("mousemove",this.mousemoveEvent,this))}}]),t}(gt),kt=function(e,t){if("undefined"!==typeof document){var n=document.createElement("canvas");return n.width=e,n.height=t,n}},Nt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1],r=arguments[2];u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i.options=r,i.canvasLayer={canvas:null,devicePixelRatio:window.devicePixelRatio},i.layer_=null,i.previousCursor_=void 0,i.init(e,r),i.argCheck(r),i}return p(t,e),c(t,[{key:"init",value:function(e,t){if(!(e&&e instanceof ol.Map))throw new Error("not map object");this.$Map=e,this.context=this.options.context||"2d",this.getCanvasLayer(),this.initDataRange(t),this.initAnimator(),this.onEvents()}},{key:"_canvasUpdate",value:function(e){this.render(this.canvasLayer.canvas,e)}},{key:"render",value:function(e,t){var n=this.$Map,i=e.getContext(this.context),s=this.options.animation,o=this.options.hasOwnProperty("projection")?this.options.projection:"EPSG:4326";if(this.isEnabledTime()){if(void 0===t)return r(i),this;"2d"===this.context&&(i.save(),i.globalCompositeOperation="destination-out",i.fillStyle="rgba(0, 0, 0, .1)",i.fillRect(0,0,i.canvas.width,i.canvas.height),i.restore())}else r(i);if("2d"===this.context)for(var a in this.options)i[a]=this.options[a];else i.clear(i.COLOR_BUFFER_BIT);var l={transferCoordinate:function(e){return n.getPixelFromCoordinate(ol.proj.transform(e,o,"EPSG:4326"))}};void 0!==t&&(l.filter=function(e){var n=s.trails||10;return!!(t&&e.time>t-n&&e.time<t)});var u=this.dataSet.get(l);return this.processData(u),"m"===this.options.unit?(this.options.size&&(this.options._size=this.options.size/zoomUnit),this.options.width&&(this.options._width=this.options.width/zoomUnit),this.options.height&&(this.options._height=this.options.height/zoomUnit)):(this.options._size=this.options.size,this.options._height=this.options.height,this.options._width=this.options.width),this.drawContext(i,new f(u),this.options,{x:0,y:0}),this.options.updateCallback&&this.options.updateCallback(t),this}},{key:"getCanvasLayer",value:function(){if(!this.canvasLayer.canvas&&!this.layer_){var e=this.getMapExtent();this.layer_=new ol.layer.Image({layerName:this.options.layerName,minResolution:this.options.minResolution,maxResolution:this.options.maxResolution,zIndex:this.options.zIndex,extent:e,source:new ol.source.ImageCanvas({canvasFunction:this.canvasFunction.bind(this),projection:this.options.hasOwnProperty("projection")?this.options.projection:"EPSG:4326",ratio:this.options.hasOwnProperty("ratio")?this.options.ratio:1})}),this.$Map.addLayer(this.layer_),this.$Map.un("precompose",this.reRender,this),this.$Map.on("precompose",this.reRender,this)}}},{key:"reRender",value:function(){if(this.layer_){var e=this.getMapExtent();this.layer_.setExtent(e)}}},{key:"canvasFunction",value:function(e,t,n,r,i){return this.canvasLayer.canvas?(this.canvasLayer.canvas.width=r[0],this.canvasLayer.canvas.height=r[1]):this.canvasLayer.canvas=kt(r[0],r[1]),this.render(this.canvasLayer.canvas),this.canvasLayer.canvas}},{key:"getMapExtent",value:function(){var e=this.$Map.getSize();return this.$Map.getView().calculateExtent(e)}},{key:"addTo",value:function(e){this.init(e,this.options)}},{key:"removeLayer",value:function(){this.$Map&&(this.unEvents(),this.$Map.un("precompose",this.reRender,this),this.$Map.removeLayer(this.layer_),delete this.$Map,delete this.layer_,delete this.canvasLayer.canvas)}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"clickEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,{x:n[0],y:n[1]},e)}},{key:"mousemoveEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,{x:n[0],y:n[1]},e)}},{key:"addAnimatorEvent",value:function(){this.$Map.on("movestart",this.animatorMovestartEvent,this),this.$Map.on("moveend",this.animatorMoveendEvent,this)}},{key:"onEvents",value:function(){var e=this.$Map;this.unEvents(),this.options.methods&&(this.options.methods.click&&e.on("click",this.clickEvent,this),this.options.methods.mousemove&&e.on("pointermove",this.mousemoveEvent,this))}},{key:"unEvents",value:function(){var e=this.$Map;this.options.methods&&(this.options.methods.click&&e.un("click",this.clickEvent,this),this.options.methods.pointermove&&e.un("pointermove",this.mousemoveEvent,this))}},{key:"setDefaultCursor",value:function(e,t){if(this.$Map){var n=this.$Map.getTargetElement();t?n.style.cursor!==e&&(this.previousCursor_=n.style.cursor,n.style.cursor=e):void 0!==this.previousCursor_&&(n.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}}}]),t}(gt),Rt=function(e){function t(e,n,r,i){u(this,t);var s=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,i));if(!gt)return d(s);var o=s;return i=i||{},o.init(i),o.argCheck(i),s.canvasLayer=n,s.clickEvent=s.clickEvent.bind(s),s.mousemoveEvent=s.mousemoveEvent.bind(s),s._moveStartEvent=s.moveStartEvent.bind(s),s._moveEndEvent=s.moveEndEvent.bind(s),s._zoomStartEvent=s.zoomStartEvent.bind(s),s.bindEvent(),s}return p(t,e),c(t,[{key:"clickEvent",value:function(e){var n=this.map.containerPointToLayerPoint([0,0]),r=this.devicePixelRatio=this.canvasLayer.devicePixelRatio=window.devicePixelRatio,i=e.layerPoint;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,L.point((i.x-n.x)/r,(i.y-n.y)/r),e)}},{key:"mousemoveEvent",value:function(e){var n=e.layerPoint;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"bindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.on("click",this.clickEvent),this.options.methods.mousemove&&e.on("mousemove",this.mousemoveEvent)),this.map.on("movestart",this._moveStartEvent),this.map.on("moveend",this._moveEndEvent),this.map.on("zoomstart",this._zoomStartEvent)}},{key:"destroy",value:function(){this.unbindEvent(),this.clearData(),this.animator&&this.animator.stop(),this.animator=null,this.canvasLayer=null}},{key:"unbindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.off("click",this.clickEvent),this.options.methods.mousemove&&e.off("mousemove",this.mousemoveEvent)),this.map.off("movestart",this._moveStartEvent),this.map.off("moveend",this._moveEndEvent),this.map.off("zoomstart",this._zoomStartEvent)}},{key:"getContext",value:function(){return this.canvasLayer.getCanvas().getContext(this.context)}},{key:"addData",value:function(e,t){var n=e;e&&e.get&&(n=e.get()),this.dataSet.add(n),this.update({options:t})}},{key:"update",value:function(e){var n=e||{},r=n.data;r&&r.get&&(r=r.get()),void 0!=r&&this.dataSet.set(r),h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,{options:n.options})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(e){if(this.dataSet){var t=this.dataSet.get({filter:function(t){return null==e||"function"!==typeof e||!e(t)}});this.dataSet.set(t),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"_canvasUpdate",value:function(e){if(this.canvasLayer){var t=this,n=t.options.animation,r=this.getContext(),i=this.map;if(t.isEnabledTime()){if(void 0===e)return void this.clear(r);"2d"===this.context&&(r.save(),r.globalCompositeOperation="destination-out",r.fillStyle="rgba(0, 0, 0, .1)",r.fillRect(0,0,r.canvas.width,r.canvas.height),r.restore())}else this.clear(r);if("2d"===this.context)for(var s in t.options)r[s]=t.options[s];else r.clear(r.COLOR_BUFFER_BIT);if(!(t.options.minZoom&&i.getZoom()<t.options.minZoom||t.options.maxZoom&&i.getZoom()>t.options.maxZoom)){var o=i.getBounds(),a=o.getEast()-o.getWest(),l=o.getNorth()-o.getSouth(),u=i.getSize(),c=a/u.x,h=l/u.y,p=this.canvasLayer.getTopLeft(),d=i.latLngToContainerPoint(p),f={transferCoordinate:function(e){var n;n="2d"===t.context?i.latLngToContainerPoint(L.latLng(e[1],e[0])):{x:(e[0]-p.lng)/c,y:(p.lat-e[1])/h};var r={x:n.x-d.x,y:n.y-d.y};return[r.x,r.y]}};void 0!==e&&(f.filter=function(t){var r=n.trails||10;return e&&t.time>e-r&&t.time<e});var m=t.dataSet.get(f);this.processData(m),t.options._size=t.options.size;var y=i.latLngToContainerPoint(L.latLng(0,0)),g={x:y.x-d.x,y:y.y-d.y};this.drawContext(r,m,t.options,g),t.options.updateCallback&&t.options.updateCallback(e)}}}},{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){}},{key:"moveStartEvent",value:function(){var e=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=e.stepsRange.start,this._hide())}},{key:"moveEndEvent",value:function(){this.canvasLayer.draw(),this._show()}},{key:"zoomStartEvent",value:function(){this._hide()}},{key:"clear",value:function(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)}},{key:"_hide",value:function(){this.canvasLayer.canvas.style.display="none"}},{key:"_show",value:function(){this.canvasLayer.canvas.style.display="block"}},{key:"draw",value:function(){this.canvasLayer.draw()}}]),t}(gt);if("undefined"!==typeof L){var Dt=L.Layer.extend({options:{attributionPrefix:null,attribution:""},initialize:function(e,t,n){n=n||{},this.dataSet=e||{},this.mapVOptions=t||{},this.render=this.render.bind(this),L.Util.setOptions(this,n),this.options.attributionPrefix&&(this.options.attribution=this.options.attributionPrefix+this.options.attribution),this.canvas=this._createCanvas(),L.stamp(this)},onAdd:function(e){this._map=e;var t=this.getPane(),n=this.container=L.DomUtil.create("div","leaflet-layer leaflet-zoom-animated",t);n.appendChild(this.canvas);var r=e.getSize();n.style.width=r.x+"px",n.style.height=r.y+"px",this.renderer=new Rt(e,this,this.dataSet,this.mapVOptions),this.draw(),this.fire("loaded")},onRemove:function(){L.DomUtil.remove(this.container),this.renderer.destroy()},addData:function(e,t){this.renderer.addData(e,t)},update:function(e){this.renderer.update(e)},getData:function(){return this.renderer&&(this.dataSet=this.renderer.getData()),this.dataSet},removeData:function(e){this.renderer&&this.renderer.removeData(e)},clearData:function(){this.renderer.clearData()},draw:function(){return this._reset()},setZIndex:function(e){this.canvas.style.zIndex=e},render:function(){this.renderer._canvasUpdate()},getCanvas:function(){return this.canvas},getContainer:function(){return this.container},getTopLeft:function(){var e,t=this._map;if(t){var n=t.getBounds();e=n.getNorthWest()}return e},_createCanvas:function(){var e=document.createElement("canvas");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=this.options.zIndex||600;var t="undefined"===typeof window?{}:window,n=this.devicePixelRatio=t.devicePixelRatio;return this.mapVOptions.context&&"2d"!==this.mapVOptions.context||e.getContext("2d").scale(n,n),e},_resize:function(){var e=this.canvas;if(e){var t=this._map,n=t.getSize();e.width=n.x,e.height=n.y,e.style.width=n.x+"px",e.style.height=n.y+"px";var r=t.getBounds(),i=t.latLngToLayerPoint(r.getNorthWest());L.DomUtil.setPosition(e,i)}},_reset:function(){this._resize(),this._render()},redraw:function(){this._resize(),this._render()},_render:function(){this.render()}});It=function(e,t,n){return new Dt(e,t,n)}}var Ft,Bt=It,qt=function(e){function t(e,n,r,i){u(this,t);var s=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return gt?(s.map=e,s.scene=e.scene,s.dataSet=n,r=r||{},s.init(r),s.argCheck(r),s.initDevicePixelRatio(),s.canvasLayer=i,s.stopAniamation=!1,s.animation=r.animation,s.clickEvent=s.clickEvent.bind(s),s.mousemoveEvent=s.mousemoveEvent.bind(s),s.bindEvent(),s):d(s)}return p(t,e),c(t,[{key:"initDevicePixelRatio",value:function(){this.devicePixelRatio=window.devicePixelRatio||1}},{key:"clickEvent",value:function(e){var n=e.point;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,n,e)}},{key:"mousemoveEvent",value:function(e){var n=e.point;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"addAnimatorEvent",value:function(){}},{key:"animatorMovestartEvent",value:function(){var e=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=e.stepsRange.start)}},{key:"animatorMoveendEvent",value:function(){this.isEnabledTime()&&this.animator}},{key:"bindEvent",value:function(){this.map,this.options.methods&&(this.options.methods.click,this.options.methods.mousemove)}},{key:"unbindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.off("click",this.clickEvent),this.options.methods.mousemove&&e.off("mousemove",this.mousemoveEvent))}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"init",value:function(e){this.options=e,this.initDataRange(e),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.initAnimator()}},{key:"_canvasUpdate",value:function(e){this.map;var t=this.scene;if(this.canvasLayer&&!this.stopAniamation){var n=this.options.animation,r=this.getContext();if(this.isEnabledTime()){if(void 0===e)return void this.clear(r);"2d"===this.context&&(r.save(),r.globalCompositeOperation="destination-out",r.fillStyle="rgba(0, 0, 0, .1)",r.fillRect(0,0,r.canvas.width,r.canvas.height),r.restore())}else this.clear(r);if("2d"===this.context)for(var i in this.options)r[i]=this.options[i];else r.clear(r.COLOR_BUFFER_BIT);var s={transferCoordinate:function(e){var n=Cesium.Cartesian3.fromDegrees(e[0],e[1]),r=Cesium.SceneTransforms.wgs84ToWindowCoordinates(t,n);return void 0==r?[-1,-1]:[r.x,r.y]}};void 0!==e&&(s.filter=function(t){var r=n.trails||10;return!!(e&&t.time>e-r&&t.time<e)});var o=this.dataSet.get(s);this.processData(o),"m"==this.options.unit&&this.options.size,this.options._size=this.options.size;var a=Cesium.SceneTransforms.wgs84ToWindowCoordinates(t,Cesium.Cartesian3.fromDegrees(0,0));this.drawContext(r,new f(o),this.options,a),this.options.updateCallback&&this.options.updateCallback(e)}}},{key:"updateData",value:function(e,n){var r=e;r&&r.get&&(r=r.get()),void 0!=r&&this.dataSet.set(r),h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,{options:n})}},{key:"addData",value:function(e,t){var n=e;e&&e.get&&(n=e.get()),this.dataSet.add(n),this.update({options:t})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(e){if(this.dataSet){var t=this.dataSet.get({filter:function(t){return null==e||"function"!=typeof e||!e(t)}});this.dataSet.set(t),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"draw",value:function(){this.canvasLayer.draw()}},{key:"clear",value:function(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)}}]),t}(gt);if("undefined"!==typeof Cesium){var zt=0,Ut=(Cesium,function(){function e(t,n,r,i){if(u(this,e),this.map=t,this.scene=t.scene,this.mapvBaseLayer=new qt(t,n,r,this),this.mapVOptions=r,this.initDevicePixelRatio(),this.canvas=this._createCanvas(),this.render=this.render.bind(this),i)this.container=i;else{var s=t.container.querySelector(".cesium-viewer-cesiumWidgetContainer");this.container=s||t.container}this.addInnerContainer(),this.bindEvent(),this._reset()}return c(e,[{key:"initDevicePixelRatio",value:function(){this.devicePixelRatio=window.devicePixelRatio||1}},{key:"addInnerContainer",value:function(){this.container.appendChild(this.canvas)}},{key:"bindEvent",value:function(){var e=this;this.innerMoveStart=this.moveStartEvent.bind(this),this.innerMoveEnd=this.moveEndEvent.bind(this),this.scene.camera.moveStart.addEventListener(this.innerMoveStart,this),this.scene.camera.moveEnd.addEventListener(this.innerMoveEnd,this);var t=new Cesium.ScreenSpaceEventHandler(this.scene.canvas);t.setInputAction((function(t){e.innerMoveEnd()}),Cesium.ScreenSpaceEventType.LEFT_UP),t.setInputAction((function(t){e.innerMoveEnd()}),Cesium.ScreenSpaceEventType.MIDDLE_UP),this.handler=t}},{key:"unbindEvent",value:function(){this.scene.camera.moveStart.removeEventListener(this.innerMoveStart,this),this.scene.camera.moveEnd.removeEventListener(this.innerMoveEnd,this),this.scene.postRender.removeEventListener(this._reset,this),this.handler&&(this.handler.destroy(),this.handler=null)}},{key:"moveStartEvent",value:function(){this.mapvBaseLayer&&(this.mapvBaseLayer.animatorMovestartEvent(),this.scene.postRender.addEventListener(this._reset,this))}},{key:"moveEndEvent",value:function(){this.mapvBaseLayer&&(this.scene.postRender.removeEventListener(this._reset,this),this.mapvBaseLayer.animatorMoveendEvent(),this._reset())}},{key:"zoomStartEvent",value:function(){this._unvisiable()}},{key:"zoomEndEvent",value:function(){this._unvisiable()}},{key:"addData",value:function(e,t){void 0!=this.mapvBaseLayer&&this.mapvBaseLayer.addData(e,t)}},{key:"updateData",value:function(e,t){void 0!=this.mapvBaseLayer&&this.mapvBaseLayer.updateData(e,t)}},{key:"getData",value:function(){return this.mapvBaseLayer&&(this.dataSet=this.mapvBaseLayer.getData()),this.dataSet}},{key:"removeData",value:function(e){void 0!=this.mapvBaseLayer&&this.mapvBaseLayer&&this.mapvBaseLayer.removeData(e)}},{key:"removeAllData",value:function(){void 0!=this.mapvBaseLayer&&this.mapvBaseLayer.clearData()}},{key:"_visiable",value:function(){return this.canvas.style.display="block",this}},{key:"_unvisiable",value:function(){return this.canvas.style.display="none",this}},{key:"_createCanvas",value:function(){var e=document.createElement("canvas");e.id=this.mapVOptions.layerid||"mapv"+zt++,e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=this.mapVOptions.zIndex||0,e.width=parseInt(this.map.canvas.width),e.height=parseInt(this.map.canvas.height),e.style.width=this.map.canvas.style.width,e.style.height=this.map.canvas.style.height;var t=this.devicePixelRatio;return"2d"==this.mapVOptions.context&&e.getContext(this.mapVOptions.context).scale(t,t),e}},{key:"_reset",value:function(){this.resizeCanvas(),this.fixPosition(),this.onResize(),this.render()}},{key:"draw",value:function(){this._reset()}},{key:"show",value:function(){this._visiable()}},{key:"hide",value:function(){this._unvisiable()}},{key:"destroy",value:function(){this.remove()}},{key:"remove",value:function(){void 0!=this.mapvBaseLayer&&(this.removeAllData(),this.mapvBaseLayer.clear(this.mapvBaseLayer.getContext()),this.mapvBaseLayer=void 0,this.canvas.parentElement.removeChild(this.canvas))}},{key:"update",value:function(e){void 0!=e&&this.updateData(e.data,e.options)}},{key:"resizeCanvas",value:function(){if(void 0!=this.canvas&&null!=this.canvas){var e=this.canvas;e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.width=parseInt(this.map.canvas.width),e.height=parseInt(this.map.canvas.height),e.style.width=this.map.canvas.style.width,e.style.height=this.map.canvas.style.height}}},{key:"fixPosition",value:function(){}},{key:"onResize",value:function(){}},{key:"render",value:function(){void 0!=this.mapvBaseLayer&&this.mapvBaseLayer._canvasUpdate()}}]),e}());Ft=function(e,t,n,r){return new Ut(e,t,n,r)}}var Gt=Ft,jt={getDataSet:function(e){var t=[],n=e.features;if(n)for(var r=0;r<n.length;r++){var i=n[r],s=i.geometry,o=i.properties,a={};for(var l in o)a[l]=o[l];a.geometry=s,t.push(a)}return new f(t)}},Vt={CSVToArray:function(e,t){t=t||",";var n=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),r=[[]],i=null;while(i=n.exec(e)){var s,o=i[1];o.length&&o!==t&&r.push([]),s=i[2]?i[2].replace(new RegExp('""',"g"),'"'):i[3],r[r.length-1].push(s)}return r},getDataSet:function(e,t){for(var n=this.CSVToArray(e,t||","),r=[],i=n[0],s=1;s<n.length-1;s++){for(var o=n[s],a={},l=0;l<o.length;l++){var u=o[l];"geometry"==i[l]&&(u=JSON.parse(u)),a[i[l]]=u}r.push(a)}return new f(r)}};t.version=n,t.canvasClear=r,t.canvasResolutionScale=i,t.canvasDrawSimple=_,t.canvasDrawHeatmap=M,t.canvasDrawGrid=O,t.canvasDrawHoneycomb=N,t.webglDrawSimple=Ee,t.webglDrawPoint=W,t.webglDrawLine=U,t.webglDrawPolygon=Ce,t.utilCityCenter=l,t.utilCurve=Pe,t.utilForceEdgeBundling=Ie,t.utilDataRangeIntensity=b,t.utilDataRangeCategory=Le,t.utilDataRangeChoropleth=Me,t.Map=Oe,t.baiduMapCanvasLayer=ke,t.baiduMapAnimationLayer=bt,t.baiduMapLayer=St,t.googleMapCanvasLayer=Ct,t.googleMapLayer=Tt,t.MaptalksLayer=Lt,t.AMapLayer=Ot,t.OpenlayersLayer=Nt,t.leafletMapLayer=Bt,t.cesiumMapLayer=Gt,t.DataSet=f,t.geojson=jt,t.csv=Vt,Object.defineProperty(t,"__esModule",{value:!0})}))}).call(this,n("4362"))},f6af:function(e,t,n){},f84f:function(e,t,n){},f8af:function(e,t,n){var r=n("2474");function i(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}e.exports=i},f909:function(e,t,n){var r=n("7e64"),i=n("b760"),s=n("72af"),o=n("4f50"),a=n("1a8c"),l=n("9934"),u=n("8adb");function c(e,t,n,h,p){e!==t&&s(t,(function(s,l){if(p||(p=new r),a(s))o(e,t,l,n,c,h,p);else{var d=h?h(u(e,l),s,l+"",e,t,p):void 0;void 0===d&&(d=s),i(e,l,d)}}),l)}e.exports=c},f94d:function(e,t,n){function r(){throw new Error('Looks like you are expecting the previous "elasticsearch" module. It is now the "es" module. To create a client with this module use `new es.Client(params)`.')}r.Client=n("26fa"),r.ConnectionPool=n("2035"),r.Transport=n("dc1f"),r.errors=n("de57"),e.exports=r},f9ce:function(e,t,n){var r=n("ef5d"),i=n("e3f8"),s=n("f608"),o=n("f4d6");function a(e){return s(e)?r(o(e)):i(e)}e.exports=a},fa21:function(e,t,n){var r=n("7530"),i=n("2dcb"),s=n("eac5");function o(e){return"function"!=typeof e.constructor||s(e)?{}:r(i(e))}e.exports=o},faa1:function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,s=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function o(e){console&&console.warn&&console.warn(e)}r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function l(){l.init.call(this)}e.exports=l,e.exports.once=b,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function p(e,t,n,r){var i,s,a;if(c(n),s=e._events,void 0===s?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),a=s[t]),void 0===a)a=s[t]=n,++e._eventsCount;else if("function"===typeof a?a=s[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=h(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,o(l)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function m(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?v(i):g(i,i.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function _(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function v(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function b(e,t){return new Promise((function(n,r){function i(){void 0!==s&&e.removeListener("error",s),n([].slice.call(arguments))}var s;"error"!==t&&(s=function(n){e.removeListener(t,i),r(n)},e.once("error",s)),e.once(t,i)}))}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return h(this)},l.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=i[e];if(void 0===l)return!1;if("function"===typeof l)s(l,this,t);else{var u=l.length,c=g(l,u);for(n=0;n<u;++n)s(c[n],this,t)}return!0},l.prototype.addListener=function(e,t){return p(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return p(this,e,t,!0)},l.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},l.prototype.removeListener=function(e,t){var n,r,i,s,o;if(c(t),r=this._events,void 0===r)return this;if(n=r[e],void 0===n)return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():_(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)i=s[r],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},l.prototype.listeners=function(e){return m(this,e,!0)},l.prototype.rawListeners=function(e){return m(this,e,!1)},l.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},l.prototype.listenerCount=y,l.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},fb15:function(e,t,n){var r=n("9eab"),i=n("d972");function s(){}r.inherits(s,i),s.prototype.encode=function(e){switch(typeof e){case"string":return e;case"object":if(e)return angular.toJson(e);default:return}},e.exports=s},fb25:function(e,t,n){var r=n("afb9"),i=n("ec69");function s(e){return null==e?[]:r(e,i(e))}e.exports=s},fba5:function(e,t,n){var r=n("cb5a");function i(e){return r(this.__data__,e)>-1}e.exports=i},fdf9:function(e,t,n){(function(e){(function(e,n){n(t)})(0,(function(t){"use strict";var n="2.0.57",r=function(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)},i=function(e){var t=window.devicePixelRatio||1;e.canvas.width=e.canvas.width*t,e.canvas.height=e.canvas.height*t,e.canvas.style.width=e.canvas.width/t+"px",e.canvas.style.height=e.canvas.height/t+"px",e.scale(t,t)};function s(){this._subscribers={}}s.prototype.on=function(e,t){var n=this._subscribers[e];n||(n=[],this._subscribers[e]=n),n.push({callback:t})},s.prototype.off=function(e,t){var n=this._subscribers[e];if(n)for(var r=0;r<n.length;r++)n[r].callback==t&&(n.splice(r,1),r--)},s.prototype._trigger=function(e,t,n){if("*"==e)throw new Error("Cannot trigger event *");var r=[];e in this._subscribers&&(r=r.concat(this._subscribers[e])),"*"in this._subscribers&&(r=r.concat(this._subscribers["*"]));for(var i=0,s=r.length;i<s;i++){var o=r[i];o.callback&&o.callback(e,t,n||null)}};var o={municipalities:[{n:"",g:"116.395645,39.929986|12"},{n:"",g:"121.487899,31.249162|12"},{n:"",g:"117.210813,39.14393|12"},{n:"",g:"106.530635,29.544606|12"}],provinces:[{n:"",g:"117.216005,31.859252|8",cities:[{n:"",g:"117.282699,31.866942|12"},{n:"",g:"117.058739,30.537898|13"},{n:"",g:"117.35708,32.929499|13"},{n:"",g:"115.787928,33.871211|13"},{n:"",g:"117.88049,31.608733|13"},{n:"",g:"117.494477,30.660019|14"},{n:"",g:"118.32457,32.317351|13"},{n:"",g:"115.820932,32.901211|13"},{n:"",g:"116.791447,33.960023|13"},{n:"",g:"117.018639,32.642812|13"},{n:"",g:"118.29357,29.734435|13"},{n:"",g:"116.505253,31.755558|13"},{n:"",g:"118.515882,31.688528|13"},{n:"",g:"116.988692,33.636772|13"},{n:"",g:"117.819429,30.94093|14"},{n:"",g:"118.384108,31.36602|12"},{n:"",g:"118.752096,30.951642|13"}]},{n:"",g:"117.984943,26.050118|8",cities:[{n:"",g:"119.330221,26.047125|12"},{n:"",g:"117.017997,25.078685|13"},{n:"",g:"118.181883,26.643626|13"},{n:"",g:"119.542082,26.656527|14"},{n:"",g:"119.077731,25.44845|13"},{n:"",g:"118.600362,24.901652|12"},{n:"",g:"117.642194,26.270835|14"},{n:"",g:"118.103886,24.489231|12"},{n:"",g:"117.676205,24.517065|12"}]},{n:"",g:"102.457625,38.103267|6",cities:[{n:"",g:"103.823305,36.064226|12"},{n:"",g:"104.171241,36.546682|13"},{n:"",g:"104.626638,35.586056|13"},{n:"",g:"102.917442,34.992211|14"},{n:"",g:"98.281635,39.802397|13"},{n:"",g:"102.208126,38.516072|13"},{n:"",g:"98.508415,39.741474|13"},{n:"",g:"103.215249,35.598514|13"},{n:"",g:"104.934573,33.39448|14"},{n:"",g:"106.688911,35.55011|13"},{n:"",g:"107.644227,35.726801|13"},{n:"",g:"105.736932,34.584319|13"},{n:"",g:"102.640147,37.933172|13"},{n:"",g:"100.459892,38.93932|13"}]},{n:"",g:"113.394818,23.408004|8",cities:[{n:"",g:"113.30765,23.120049|12"},{n:"",g:"116.630076,23.661812|13"},{n:"",g:"113.763434,23.043024|12"},{n:"",g:"113.134026,23.035095|13"},{n:"",g:"114.713721,23.757251|12"},{n:"",g:"114.410658,23.11354|12"},{n:"",g:"113.078125,22.575117|13"},{n:"",g:"116.379501,23.547999|13"},{n:"",g:"110.931245,21.668226|13"},{n:"",g:"116.126403,24.304571|13"},{n:"",g:"113.040773,23.698469|13"},{n:"",g:"116.72865,23.383908|13"},{n:"",g:"115.372924,22.778731|14"},{n:"",g:"113.594461,24.80296|13"},{n:"",g:"114.025974,22.546054|12"},{n:"",g:"111.97701,21.871517|14"},{n:"",g:"112.050946,22.937976|13"},{n:"",g:"110.365067,21.257463|13"},{n:"",g:"112.479653,23.078663|13"},{n:"",g:"113.42206,22.545178|12"},{n:"",g:"113.562447,22.256915|13"}]},{n:"",g:"108.924274,23.552255|7",cities:[{n:"",g:"108.297234,22.806493|12"},{n:"",g:"106.631821,23.901512|13"},{n:"",g:"109.122628,21.472718|13"},{n:"",g:"107.357322,22.415455|14"},{n:"",g:"108.351791,21.617398|15"},{n:"",g:"110.26092,25.262901|12"},{n:"",g:"109.613708,23.103373|13"},{n:"",g:"108.069948,24.699521|14"},{n:"",g:"111.552594,24.411054|14"},{n:"",g:"109.231817,23.741166|14"},{n:"",g:"109.422402,24.329053|12"},{n:"",g:"108.638798,21.97335|13"},{n:"",g:"111.305472,23.485395|13"},{n:"",g:"110.151676,22.643974|14"}]},{n:"",g:"106.734996,26.902826|8",cities:[{n:"",g:"106.709177,26.629907|12"},{n:"",g:"105.92827,26.228595|13"},{n:"",g:"105.300492,27.302612|14"},{n:"",g:"104.852087,26.591866|13"},{n:"",g:"109.196161,27.726271|14"},{n:"",g:"106.93126,27.699961|13"},{n:"",g:"104.900558,25.095148|11"},{n:"",g:"107.985353,26.583992|11"},{n:"",g:"107.523205,26.264536|11"}]},{n:"",g:"109.733755,19.180501|9",cities:[{n:"",g:"110.330802,20.022071|13"},{n:"",g:"109.358586,19.216056|12"},{n:"",g:"109.656113,18.597592|12"},{n:"",g:"109.0113,19.222483|12"},{n:"",g:"109.413973,19.571153|13"},{n:"",g:"109.996736,19.693135|13"},{n:"",g:"108.85101,18.998161|13"},{n:"",g:"110.32009,19.490991|13"},{n:"",g:"110.414359,19.21483|13"},{n:"",g:"109.861849,19.039771|12"},{n:"",g:"109.062698,18.658614|12"},{n:"",g:"109.724101,19.805922|13"},{n:"",g:"109.948661,18.575985|12"},{n:"",g:"109.522771,18.257776|12"},{n:"",g:"110.063364,19.347749|13"},{n:"",g:"110.292505,18.839886|13"},{n:"",g:"110.780909,19.750947|13"},{n:"",g:"109.51775,18.831306|13"}]},{n:"",g:"115.661434,38.61384|7",cities:[{n:"",g:"114.522082,38.048958|12"},{n:"",g:"115.49481,38.886565|13"},{n:"",g:"116.863806,38.297615|13"},{n:"",g:"117.933822,40.992521|14"},{n:"",g:"114.482694,36.609308|13"},{n:"",g:"115.686229,37.746929|13"},{n:"",g:"116.703602,39.518611|13"},{n:"",g:"119.604368,39.945462|12"},{n:"",g:"118.183451,39.650531|13"},{n:"",g:"114.520487,37.069531|13"},{n:"",g:"114.893782,40.811188|13"}]},{n:"",g:"113.486804,34.157184|7",cities:[{n:"",g:"113.649644,34.75661|12"},{n:"",g:"114.351807,36.110267|12"},{n:"",g:"114.29777,35.755426|13"},{n:"",g:"113.211836,35.234608|13"},{n:"",g:"114.351642,34.801854|13"},{n:"",g:"112.447525,34.657368|12"},{n:"",g:"114.046061,33.576279|13"},{n:"",g:"112.542842,33.01142|13"},{n:"",g:"113.300849,33.745301|13"},{n:"",g:"115.026627,35.753298|12"},{n:"",g:"111.181262,34.78332|13"},{n:"",g:"115.641886,34.438589|13"},{n:"",g:"113.91269,35.307258|13"},{n:"",g:"114.085491,32.128582|13"},{n:"",g:"113.835312,34.02674|13"},{n:"",g:"114.654102,33.623741|13"},{n:"",g:"114.049154,32.983158|13"}]},{n:"",g:"128.047414,47.356592|6",cities:[{n:"",g:"126.657717,45.773225|12"},{n:"",g:"125.02184,46.596709|12"},{n:"",g:"124.196104,51.991789|10"},{n:"",g:"130.292472,47.338666|13"},{n:"",g:"127.50083,50.25069|14"},{n:"",g:"130.941767,45.32154|13"},{n:"",g:"130.284735,46.81378|12"},{n:"",g:"129.608035,44.588521|13"},{n:"",g:"131.019048,45.775005|14"},{n:"",g:"123.987289,47.3477|13"},{n:"",g:"131.171402,46.655102|13"},{n:"",g:"126.989095,46.646064|13"},{n:"",g:"128.910766,47.734685|14"}]},{n:"",g:"112.410562,31.209316|8",cities:[{n:"",g:"114.3162,30.581084|12"},{n:"",g:"114.895594,30.384439|14"},{n:"",g:"109.517433,30.308978|14"},{n:"",g:"114.906618,30.446109|14"},{n:"",g:"115.050683,30.216127|13"},{n:"",g:"112.21733,31.042611|13"},{n:"",g:"112.241866,30.332591|12"},{n:"",g:"112.768768,30.343116|13"},{n:"",g:"110.487231,31.595768|13"},{n:"",g:"110.801229,32.636994|13"},{n:"",g:"113.379358,31.717858|13"},{n:"",g:"113.12623,30.649047|13"},{n:"",g:"113.387448,30.293966|13"},{n:"",g:"114.300061,29.880657|13"},{n:"",g:"112.176326,32.094934|12"},{n:"",g:"113.935734,30.927955|13"},{n:"",g:"111.310981,30.732758|13"}]},{n:"",g:"111.720664,27.695864|7",cities:[{n:"",g:"112.979353,28.213478|12"},{n:"",g:"111.653718,29.012149|12"},{n:"",g:"113.037704,25.782264|13"},{n:"",g:"112.583819,26.898164|13"},{n:"",g:"109.986959,27.557483|13"},{n:"",g:"111.996396,27.741073|13"},{n:"",g:"111.461525,27.236811|13"},{n:"",g:"112.935556,27.835095|13"},{n:"",g:"109.745746,28.317951|14"},{n:"",g:"112.366547,28.588088|13"},{n:"",g:"111.614648,26.435972|13"},{n:"",g:"113.146196,29.378007|13"},{n:"",g:"110.48162,29.124889|13"},{n:"",g:"113.131695,27.827433|13"}]},{n:"",g:"119.368489,33.013797|8",cities:[{n:"",g:"118.778074,32.057236|12"},{n:"",g:"119.981861,31.771397|12"},{n:"",g:"119.030186,33.606513|12"},{n:"",g:"119.173872,34.601549|12"},{n:"",g:"120.873801,32.014665|12"},{n:"",g:"120.619907,31.317987|12"},{n:"",g:"118.296893,33.95205|13"},{n:"",g:"119.919606,32.476053|13"},{n:"",g:"120.305456,31.570037|12"},{n:"",g:"117.188107,34.271553|12"},{n:"",g:"120.148872,33.379862|12"},{n:"",g:"119.427778,32.408505|13"},{n:"",g:"119.455835,32.204409|13"}]},{n:"",g:"115.676082,27.757258|7",cities:[{n:"",g:"115.893528,28.689578|12"},{n:"",g:"116.360919,27.954545|13"},{n:"",g:"114.935909,25.845296|13"},{n:"",g:"114.992039,27.113848|13"},{n:"",g:"117.186523,29.303563|12"},{n:"",g:"115.999848,29.71964|13"},{n:"",g:"113.859917,27.639544|13"},{n:"",g:"117.955464,28.457623|13"},{n:"",g:"114.947117,27.822322|13"},{n:"",g:"114.400039,27.81113|13"},{n:"",g:"117.03545,28.24131|13"}]},{n:"",g:"126.262876,43.678846|7",cities:[{n:"",g:"125.313642,43.898338|12"},{n:"",g:"122.840777,45.621086|13"},{n:"",g:"126.435798,41.945859|13"},{n:"",g:"126.564544,43.871988|12"},{n:"",g:"125.133686,42.923303|13"},{n:"",g:"124.391382,43.175525|12"},{n:"",g:"124.832995,45.136049|13"},{n:"",g:"125.94265,41.736397|13"},{n:"",g:"129.485902,42.896414|13"}]},{n:"",g:"122.753592,41.6216|8",cities:[{n:"",g:"123.432791,41.808645|12"},{n:"",g:"123.007763,41.118744|13"},{n:"",g:"123.778062,41.325838|12"},{n:"",g:"120.446163,41.571828|13"},{n:"",g:"121.593478,38.94871|12"},{n:"",g:"124.338543,40.129023|12"},{n:"",g:"123.92982,41.877304|12"},{n:"",g:"121.660822,42.01925|14"},{n:"",g:"120.860758,40.74303|13"},{n:"",g:"121.147749,41.130879|13"},{n:"",g:"123.172451,41.273339|14"},{n:"",g:"122.073228,41.141248|13"},{n:"",g:"123.85485,42.299757|13"},{n:"",g:"122.233391,40.668651|13"}]},{n:"",g:"114.415868,43.468238|5",cities:[{n:"",g:"111.660351,40.828319|12"},{n:"",g:"105.695683,38.843075|14"},{n:"",g:"109.846239,40.647119|12"},{n:"",g:"107.423807,40.76918|12"},{n:"",g:"118.930761,42.297112|12"},{n:"",g:"109.993706,39.81649|12"},{n:"",g:"119.760822,49.201636|12"},{n:"",g:"122.260363,43.633756|12"},{n:"",g:"106.831999,39.683177|13"},{n:"",g:"113.112846,41.022363|12"},{n:"",g:"116.02734,43.939705|11"},{n:"",g:"122.048167,46.083757|11"}]},{n:"",g:"106.155481,37.321323|8",cities:[{n:"",g:"106.206479,38.502621|12"},{n:"",g:"106.285268,36.021523|13"},{n:"",g:"106.379337,39.020223|13"},{n:"",g:"106.208254,37.993561|14"},{n:"",g:"105.196754,37.521124|14"}]},{n:"",g:"96.202544,35.499761|7",cities:[{n:"",g:"101.767921,36.640739|12"},{n:"",g:"100.223723,34.480485|11"},{n:"",g:"102.085207,36.51761|11"},{n:"",g:"100.879802,36.960654|11"},{n:"",g:"100.624066,36.284364|11"},{n:"",g:"97.342625,37.373799|11"},{n:"",g:"102.0076,35.522852|11"},{n:"",g:"97.013316,33.00624|14"}]},{n:"",g:"118.527663,36.09929|8",cities:[{n:"",g:"117.024967,36.682785|12"},{n:"",g:"117.968292,37.405314|12"},{n:"",g:"118.583926,37.487121|12"},{n:"",g:"116.328161,37.460826|12"},{n:"",g:"115.46336,35.26244|13"},{n:"",g:"116.600798,35.402122|13"},{n:"",g:"117.684667,36.233654|13"},{n:"",g:"115.986869,36.455829|12"},{n:"",g:"118.340768,35.072409|12"},{n:"",g:"120.384428,36.105215|12"},{n:"",g:"119.50718,35.420225|12"},{n:"",g:"117.089415,36.188078|13"},{n:"",g:"122.093958,37.528787|13"},{n:"",g:"119.142634,36.716115|12"},{n:"",g:"121.309555,37.536562|12"},{n:"",g:"117.279305,34.807883|13"},{n:"",g:"118.059134,36.804685|12"}]},{n:"",g:"112.515496,37.866566|7",cities:[{n:"",g:"112.550864,37.890277|12"},{n:"",g:"113.120292,36.201664|12"},{n:"",g:"113.290509,40.113744|12"},{n:"",g:"112.867333,35.499834|13"},{n:"",g:"112.738514,37.693362|13"},{n:"",g:"111.538788,36.099745|13"},{n:"",g:"111.143157,37.527316|14"},{n:"",g:"112.479928,39.337672|13"},{n:"",g:"112.727939,38.461031|12"},{n:"",g:"113.569238,37.869529|13"},{n:"",g:"111.006854,35.038859|13"}]},{n:"",g:"109.503789,35.860026|7",cities:[{n:"",g:"108.953098,34.2778|12"},{n:"",g:"109.038045,32.70437|13"},{n:"",g:"107.170645,34.364081|12"},{n:"",g:"107.045478,33.081569|13"},{n:"",g:"109.934208,33.873907|13"},{n:"",g:"108.968067,34.908368|13"},{n:"",g:"109.483933,34.502358|13"},{n:"",g:"108.707509,34.345373|13"},{n:"",g:"109.50051,36.60332|13"},{n:"",g:"109.745926,38.279439|12"}]},{n:"",g:"102.89916,30.367481|7",cities:[{n:"",g:"104.067923,30.679943|12"},{n:"",g:"102.228565,31.905763|15"},{n:"",g:"106.757916,31.869189|14"},{n:"",g:"107.494973,31.214199|14"},{n:"",g:"104.402398,31.13114|13"},{n:"",g:"101.969232,30.055144|15"},{n:"",g:"106.63572,30.463984|13"},{n:"",g:"105.819687,32.44104|13"},{n:"",g:"103.760824,29.600958|13"},{n:"",g:"102.259591,27.892393|14"},{n:"",g:"105.44397,28.89593|14"},{n:"",g:"106.105554,30.800965|13"},{n:"",g:"103.84143,30.061115|13"},{n:"",g:"104.705519,31.504701|12"},{n:"",g:"105.073056,29.599462|13"},{n:"",g:"101.722423,26.587571|14"},{n:"",g:"105.564888,30.557491|12"},{n:"",g:"103.009356,29.999716|13"},{n:"",g:"104.633019,28.769675|13"},{n:"",g:"104.63593,30.132191|13"},{n:"",g:"104.776071,29.359157|13"}]},{n:"",g:"89.137982,31.367315|6",cities:[{n:"",g:"91.111891,29.662557|13"},{n:"",g:"81.107669,30.404557|11"},{n:"",g:"97.185582,31.140576|15"},{n:"",g:"94.349985,29.666941|11"},{n:"",g:"92.067018,31.48068|14"},{n:"",g:"88.891486,29.269023|14"},{n:"",g:"91.750644,29.229027|11"}]},{n:"",g:"85.614899,42.127001|6",cities:[{n:"",g:"87.564988,43.84038|12"},{n:"",g:"81.291737,40.61568|13"},{n:"",g:"80.269846,41.171731|12"},{n:"",g:"88.137915,47.839744|13"},{n:"",g:"86.121688,41.771362|12"},{n:"",g:"82.052436,44.913651|11"},{n:"",g:"87.296038,44.007058|13"},{n:"",g:"93.528355,42.858596|13"},{n:"",g:"79.930239,37.116774|13"},{n:"",g:"75.992973,39.470627|12"},{n:"",g:"84.88118,45.594331|13"},{n:"",g:"76.137564,39.750346|11"},{n:"",g:"86.041865,44.308259|13"},{n:"",g:"82.974881,46.758684|12"},{n:"",g:"79.198155,39.889223|13"},{n:"",g:"89.181595,42.96047|13"},{n:"",g:"87.565449,44.368899|13"},{n:"",g:"81.297854,43.922248|11"}]},{n:"",g:"101.592952,24.864213|7",cities:[{n:"",g:"102.714601,25.049153|12"},{n:"",g:"99.177996,25.120489|13"},{n:"",g:"101.529382,25.066356|13"},{n:"",g:"100.223675,25.5969|14"},{n:"",g:"98.589434,24.44124|14"},{n:"",g:"99.713682,27.831029|14"},{n:"",g:"103.384065,23.367718|11"},{n:"",g:"100.229628,26.875351|13"},{n:"",g:"100.092613,23.887806|14"},{n:"",g:"98.859932,25.860677|14"},{n:"",g:"100.980058,22.788778|14"},{n:"",g:"103.782539,25.520758|12"},{n:"",g:"103.725021,27.340633|13"},{n:"",g:"104.089112,23.401781|14"},{n:"",g:"100.803038,22.009433|13"},{n:"",g:"102.545068,24.370447|13"}]},{n:"",g:"119.957202,29.159494|8",cities:[{n:"",g:"120.219375,30.259244|12"},{n:"",g:"120.137243,30.877925|12"},{n:"",g:"120.760428,30.773992|13"},{n:"",g:"119.652576,29.102899|12"},{n:"",g:"119.929576,28.4563|13"},{n:"",g:"121.579006,29.885259|12"},{n:"",g:"118.875842,28.95691|12"},{n:"",g:"120.592467,30.002365|13"},{n:"",g:"121.440613,28.668283|13"},{n:"",g:"120.690635,28.002838|12"},{n:"",g:"122.169872,30.03601|13"}]}],other:[{n:"",g:"114.186124,22.293586|11"},{n:"",g:"113.557519,22.204118|13"},{n:"",g:"120.961454,23.80406|8"}]};function a(e){var t=e.split("|");return t[0]=t[0].split(","),{lng:parseFloat(t[0][0]),lat:parseFloat(t[0][1])}}var l={getProvinceNameByCityName:function(e){for(var t=o.provinces,n=0;n<t.length;n++)for(var r=t[n].n,i=t[n].cities,s=0;s<i.length;s++)if(i[s].n==e)return r;return null},getCenterByCityName:function(e){e=e.replace("","");for(var t=0;t<o.municipalities.length;t++)if(o.municipalities[t].n==e)return a(o.municipalities[t].g);for(t=0;t<o.other.length;t++)if(o.other[t].n==e)return a(o.other[t].g);var n=o.provinces;for(t=0;t<n.length;t++){if(n[t].n==e)return a(n[t].g);for(var r=n[t].cities,i=0;i<r.length;i++)if(r[i].n==e)return a(r[i].g)}return null}},u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},p=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};function f(e,t){s.bind(this)(),this._options=t||{},this._data=[],e&&this.add(e)}function m(e,t,n){var r=60*n+30,i=Math.PI/180*r;return[e.x+t*Math.cos(i),e.y+t*Math.sin(i)]}function y(e,t,n,r){for(var i=0;i<6;i++){var s=m({x:t,y:n},r,i);e.lineTo(s[0],s[1])}}f.prototype=Object.create(s.prototype),f.prototype.add=function(e,t){if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)if(e[n]){if(e[n].time&&14==e[n].time.length&&"20"==e[n].time.substr(0,2)){var i=e[n].time;e[n].time=new Date(i.substr(0,4)+"-"+i.substr(4,2)+"-"+i.substr(6,2)+" "+i.substr(8,2)+":"+i.substr(10,2)+":"+i.substr(12,2)).getTime()}this._data.push(e[n])}}else{if(!(e instanceof Object))throw new Error("Unknown dataType");this._data.push(e)}this._dataCache=JSON.parse(JSON.stringify(this._data))},f.prototype.reset=function(){this._data=JSON.parse(JSON.stringify(this._dataCache))},f.prototype.get=function(e){e=e||{};new Date;var t=this._data;new Date;if(e.filter){for(var n=[],r=0;r<t.length;r++)e.filter(t[r])&&n.push(t[r]);t=n}return e.transferCoordinate&&(t=this.transferCoordinate(t,e.transferCoordinate,e.fromColumn,e.toColumn)),t},f.prototype.set=function(e){this._set(e),this._trigger("change")},f.prototype._set=function(e){this.clear(),this.add(e)},f.prototype.clear=function(e){this._data=[]},f.prototype.remove=function(e){},f.prototype.update=function(e,t){for(var n=this._data,r=0;r<n.length;r++)if(t){var i=!0;for(var s in t)n[r][s]!=t[s]&&(i=!1);i&&e&&e(n[r])}else e&&e(n[r]);this._dataCache=JSON.parse(JSON.stringify(this._data)),this._trigger("change")},f.prototype.transferCoordinate=function(e,t,n,r){r=r||"_coordinates",n=n||"coordinates";for(var i=0;i<e.length;i++){var s=e[i].geometry,o=s[n];switch(s.type){case"Point":s[r]=t(o);break;case"LineString":for(var a=[],l=0;l<o.length;l++)a.push(t(o[l]));s[r]=a;break;case"MultiLineString":case"Polygon":a=h(o);s[r]=a;break;case"MultiPolygon":a=[];for(var u=0;u<o.length;u++){var c=o[u];c=h(c);a.push(c)}s[r]=a;break}}function h(e){for(var n=[],r=0;r<e.length;r++){for(var i=e[r],s=[],o=0;o<i.length;o++)s.push(t(i[o]));n.push(s)}return n}return e},f.prototype.initGeometry=function(e){e?this._data.forEach((function(t){t.geometry=e(t)})):this._data.forEach((function(e){if(!e.geometry)if(e.lng&&e.lat)e.geometry={type:"Point",coordinates:[e.lng,e.lat]};else if(e.city){var t=l.getCenterByCityName(e.city);t&&(e.geometry={type:"Point",coordinates:[t.lng,t.lat]})}}))},f.prototype.getMax=function(e){var t=this._data;if(t&&!(t.length<=0)){for(var n=parseFloat(t[0][e]),r=1;r<t.length;r++){var i=parseFloat(t[r][e]);i>n&&(n=i)}return n}},f.prototype.getSum=function(e){var t=this._data;if(t&&!(t.length<=0)){for(var n=0,r=0;r<t.length;r++)t[r][e]&&(n+=parseFloat(t[r][e]));return n}},f.prototype.getMin=function(e){var t=this._data;if(t&&!(t.length<=0)){for(var n=parseFloat(t[0][e]),r=1;r<t.length;r++){var i=parseFloat(t[r][e]);i<n&&(n=i)}return n}},f.prototype.getUnique=function(e){var t=this._data;if(t&&!(t.length<=0)){for(var n={},r=1;r<t.length;r++)n[t[r][e]]=!0;t=[];for(var i in n)t.push(i);return t}};var g={drawDataSet:function(e,t,n){for(var r=t instanceof f?t.get():t,i=0,s=r.length;i<s;i++){var o=r[i];this.draw(e,o,n)}},draw:function(e,t,n){var r=t.geometry.type,i=t.geometry._coordinates||t.geometry.coordinates,s=t.symbol||n.symbol||"circle";switch(r){case"Point":var o=t._size||t.size||n._size||n.size||5;"circle"===s?("Point"===n.bigData&&e.moveTo(i[0],i[1]),e.arc(i[0],i[1],o,0,2*Math.PI)):"rect"===s?e.rect(i[0]-o/2,i[1]-o/2,o,o):"honeycomb"===s&&y(e,i[0],i[1],o);break;case"LineString":this.drawLineString(e,i);break;case"MultiLineString":for(var a=0;a<i.length;a++){var l=i[a];this.drawLineString(e,l)}break;case"Polygon":this.drawPolygon(e,i);break;case"MultiPolygon":for(a=0;a<i.length;a++){var u=i[a];if(this.drawPolygon(e,u),n.multiPolygonDraw){var c=n.multiPolygonDraw();if(c)return c}}break;default:console.error("type"+r+"is not support now!");break}},drawLineString:function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0],i=t[n][1];0==n?e.moveTo(r,i):e.lineTo(r,i)}},drawPolygon:function(e,t){e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];e.moveTo(r[0][0],r[0][1]);for(var i=1;i<r.length;i++)e.lineTo(r[i][0],r[i][1]);e.lineTo(r[0][0],r[0][1]),e.closePath()}}},_={draw:function(e,t,n){var r=t instanceof f?t.get():t;for(var i in e.save(),n)e[i]=n[i];if(n.bigData){e.save(),e.beginPath();for(var s=0,o=r.length;s<o;s++){var a=r[s];g.draw(e,a,n)}var l=n.bigData;"Point"==l||"Polygon"==l||"MultiPolygon"==l?(e.fill(),e.lineDash&&e.setLineDash(e.lineDash),a.lineDash&&e.setLineDash(a.lineDash),(a.strokeStyle||n.strokeStyle)&&n.lineWidth&&e.stroke()):"LineString"!=l&&"MultiLineString"!=l||e.stroke(),e.restore()}else for(s=0,o=r.length;s<o;s++){a=r[s];e.save(),(a.fillStyle||a._fillStyle)&&(e.fillStyle=a.fillStyle||a._fillStyle),(a.strokeStyle||a._strokeStyle)&&(e.strokeStyle=a.strokeStyle||a._strokeStyle),e.lineDash&&e.setLineDash(e.lineDash),a.lineDash&&e.setLineDash(a.lineDash);l=a.geometry.type;e.beginPath(),n.multiPolygonDraw=function(){e.fill(),(a.strokeStyle||n.strokeStyle)&&n.lineWidth&&e.stroke()},g.draw(e,a,n),"Point"==l||"Polygon"==l||"MultiPolygon"==l?(e.fill(),(a.strokeStyle||n.strokeStyle)&&n.lineWidth&&e.stroke()):"LineString"!=l&&"MultiLineString"!=l||((a.lineWidth||a._lineWidth)&&(e.lineWidth=a.lineWidth||a._lineWidth),e.stroke()),e.restore()}e.restore()}};function v(e,t){if("undefined"===typeof document);else{var n=document.createElement("canvas");e&&(n.width=e),t&&(n.height=t)}return n}function b(e){e=e||{},this.gradient=e.gradient||{.25:"rgba(0, 0, 255, 1)",.55:"rgba(0, 255, 0, 1)",.85:"rgba(255, 255, 0, 1)",1:"rgba(255, 0, 0, 1)"},this.maxSize=e.maxSize||35,this.minSize=e.minSize||0,this.max=e.max||100,this.min=e.min||0,this.initPalette()}b.prototype.setMax=function(e){this.max=e||100},b.prototype.setMin=function(e){this.min=e||0},b.prototype.setMaxSize=function(e){this.maxSize=e||35},b.prototype.setMinSize=function(e){this.minSize=e||0},b.prototype.initPalette=function(){var e=this.gradient,t=new v(256,1),n=this.paletteCtx=t.getContext("2d"),r=n.createLinearGradient(0,0,256,1);for(var i in e)r.addColorStop(parseFloat(i),e[i]);n.fillStyle=r,n.fillRect(0,0,256,1)},b.prototype.getColor=function(e){var t=this.getImageData(e);return"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]/256+")"},b.prototype.getImageData=function(e){var t=this.paletteCtx.getImageData(0,0,256,1).data;if(void 0===e)return t;var n=this.max,r=this.min;e>n&&(e=n),e<r&&(e=r);var i=4*Math.floor((e-r)/(n-r)*255);return[t[i],t[i+1],t[i+2],t[i+3]]},b.prototype.getSize=function(e){var t=0,n=this.max,r=this.min,i=this.maxSize,s=this.minSize;return e>n&&(e=n),e<r&&(e=r),n>r?(t=s+(e-r)/(n-r)*(i-s),t):i},b.prototype.getLegend=function(e){var t=this.gradient,n=e.width||20,r=e.height||180,i=new v(n,r),s=i.getContext("2d"),o=s.createLinearGradient(0,r,0,0);for(var a in t)o.addColorStop(parseFloat(a),t[a]);return s.fillStyle=o,s.fillRect(0,0,n,r),i};var x="undefined"===typeof window?{}:window,w=x.devicePixelRatio||1;function S(e){var t=e/2,n=e+t,r=1e4,i=new v(2*n,2*n),s=i.getContext("2d");return s.shadowBlur=t,s.shadowColor="black",s.shadowOffsetX=s.shadowOffsetY=r,s.beginPath(),s.arc(n-r,n-r,e,0,2*Math.PI,!0),s.closePath(),s.fill(),i}function C(e,t,n){var r=E(n),i=T(n),s=r-i,o=n.range||null,a=0,l=1024;o&&2===o.length&&(a=(o[0]-i)/s*1024),o&&2===o.length&&(l=(o[1]-i)/s*1024);for(var u,c=n.maxOpacity||.8,h=n.minOpacity||0,p=(o=n.range,3),d=e.length;p<d;p+=4)u=4*e[p],e[p]/256>c&&(e[p]=256*c),e[p]/256<h&&(e[p]=256*h),u&&u>=a&&u<=l?(e[p-3]=t[u],e[p-2]=t[u+1],e[p-1]=t[u+2]):e[p]=0}function E(e){var t=e.max||100;return t}function T(e){var t=e.min||0;return t}function A(e,t,n){var r=E(n),i=T(n),s=n._size;void 0==s&&(s=n.size,void 0==s&&(s=13));var o=new b({gradient:n.gradient,max:r,min:i}),a=S(s),l=a.width/2,u=a.height/2,c=t,h={};for(var p in c.forEach((function(e,t){var n=void 0===e.count?1:e.count,i=Math.min(1,n/r).toFixed(2);h[i]=h[i]||[],h[i].push(e)})),h)if(!isNaN(p)){var d=h[p];e.beginPath(),n.withoutAlpha||(e.globalAlpha=p),e.strokeStyle=o.getColor(p*r),d.forEach((function(t,i){if(t.geometry){var s=t.geometry._coordinates||t.geometry.coordinates,o=t.geometry.type;if("Point"===o){var c=void 0===t.count?1:t.count;e.globalAlpha=c/r,e.drawImage(a,s[0]-l,s[1]-u)}else if("LineString"===o){c=void 0===t.count?1:t.count;e.globalAlpha=c/r,e.beginPath(),g.draw(e,t,n),e.stroke()}}}))}}function I(e,t,n){if(!(e.canvas.width<=0||e.canvas.height<=0)){var r=n.strength||.3;e.strokeStyle="rgba(0,0,0,"+r+")";var i=new v(e.canvas.width,e.canvas.height),s=i.getContext("2d");s.scale(w,w),n=n||{};var o=t instanceof f?t.get():t;e.save();var a=new b({gradient:n.gradient});if(A(s,o,n),!n.absolute){var l=s.getImageData(0,0,e.canvas.width,e.canvas.height);C(l.data,a.getImageData(),n),e.putImageData(l,0,0),e.restore()}a=null,i=null}}var M={draw:I},O={draw:function(e,t,n){e.save();var r=t instanceof f?t.get():t,i={},s=n._size||n.size||50,o=!("enableCluster"in n)||n.enableCluster,a=n.offset||{x:0,y:0},l=new b({min:n.min||0,max:n.max||100,gradient:n.gradient});if(o){for(var u=0;u<r.length;u++){p=r[u].geometry._coordinates||r[u].geometry.coordinates,d=Math.floor((p[0]-a.x)/s)+","+Math.floor((p[1]-a.y)/s);i[d]||(i[d]=0),i[d]+=~~(r[u].count||1)}for(var c in i)c=c.split(","),e.beginPath(),e.rect(c[0]*s+.5+a.x,c[1]*s+.5+a.y,s,s),e.fillStyle=l.getColor(i[c]),e.fill(),n.strokeStyle&&n.lineWidth&&e.stroke()}else{for(var h=0;h<r.length;h++){var p=r[h].geometry._coordinates||r[h].geometry.coordinates,d=p.join(",");i[d]=r[h].count||1}for(var m in i)m=m.split(","),e.beginPath(),e.rect(+m[0]-s/2,+m[1]-s/2,s,s),e.fillStyle=l.getColor(i[m]),e.fill(),n.strokeStyle&&n.lineWidth&&e.stroke()}if(n.label&&!1!==n.label.show)for(var d in e.fillStyle=n.label.fillStyle||"white",n.label.font&&(e.font=n.label.font),n.label.shadowColor&&(e.shadowColor=n.label.shadowColor),n.label.shadowBlur&&(e.shadowBlur=n.label.shadowBlur),i){d=d.split(",");var y=i[d],g=e.measureText(y).width;o?e.fillText(y,d[0]*s+.5+a.x+s/2-g/2,d[1]*s+.5+a.y+s/2+5):e.fillText(y,+d[0]-g/2,+d[1]+5)}e.restore()}};function k(e,t,n){var r=60*n+30,i=Math.PI/180*r;return[e.x+t*Math.cos(i),e.y+t*Math.sin(i)]}var N={draw:function(e,t,n){e.save();var r=t instanceof f?t.get():t;for(var i in n)e[i]=n[i];var s=n.offset||{x:10,y:10},o=n._size||n.size||40;o=o/2/Math.sin(Math.PI/3);for(var a=2*o*Math.sin(Math.PI/3),l=1.5*o,u={},c=0;c<r.length;c++){var h=r[c].geometry._coordinates||r[c].geometry.coordinates,p=(h[1]-s.y)/l,d=Math.round(p),m=(h[0]-s.x)/a-(1&d?.5:0),y=Math.round(m),g=p-d;if(3*Math.abs(g)>1){var _=m-y,v=y+(m<y?-1:1)/2,x=d+(p<d?-1:1),w=m-v,S=p-x;_*_+g*g>w*w+S*S&&(y=v+(1&d?1:-1)/2,d=x)}var C=y+"-"+d,E=u[C];E?E.push(r[c]):(E=u[C]=[r[c]],E.i=y,E.j=d,E.x=(y+(1&d?.5:0))*a,E.y=d*l)}var T=new b({max:n.max||100,maxSize:o,gradient:n.gradient});for(var i in u){var A=u[i];e.beginPath();for(var P=0;P<6;P++){var I=k({x:A.x+s.x,y:A.y+s.y},o,P);e.lineTo(I[0],I[1])}e.closePath();var L=0;for(c=0;c<A.length;c++)L+=A[c].count||1;A.count=L,e.fillStyle=T.getColor(L),e.fill(),n.strokeStyle&&n.lineWidth&&e.stroke()}if(n.label&&!1!==n.label.show)for(var i in e.fillStyle=n.label.fillStyle||"white",n.label.font&&(e.font=n.label.font),n.label.shadowColor&&(e.shadowColor=n.label.shadowColor),n.label.shadowBlur&&(e.shadowBlur=n.label.shadowBlur),u){A=u[i];var M=A.count;M=M<0?M.toFixed(2):~~M;var O=e.measureText(M).width;e.fillText(M,A.x+s.x-O/2,A.y+s.y+5)}e.restore()}};function R(e,t,n){var r=e.createShader(n);return e.shaderSource(r,t),e.compileShader(r),r}function D(e,t,n){var r=R(e,t,e.VERTEX_SHADER),i=R(e,n,e.FRAGMENT_SHADER),s=e.createProgram();return e.attachShader(s,r),e.attachShader(s,i),e.linkProgram(s),e.useProgram(s),s}function F(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=1,t.height=1,n.fillStyle=e,n.fillRect(0,0,1,1),n.getImageData(0,0,1,1).data}var B=["attribute vec4 a_Position;","void main() {","gl_Position = a_Position;","gl_PointSize = 30.0;","}"].join(""),q=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join("");function z(e,t,n){if(t){var r=D(e,B,q);e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE),e.clear(e.COLOR_BUFFER_BIT);var i=e.canvas.width/2,s=e.canvas.height/2,o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o);var a=e.getAttribLocation(r,"a_Position");e.vertexAttribPointer(a,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a);var l=e.getUniformLocation(r,"u_FragColor"),u=F(n.strokeStyle||"red");e.uniform4f(l,u[0]/255,u[1]/255,u[2]/255,u[3]/255),e.lineWidth(n.lineWidth||1);for(var c=0,h=t.length;c<h;c++){for(var p=t[c].geometry._coordinates,d=[],f=0;f<p.length;f++){var m=p[f],y=(m[0]-i)/i,g=(s-m[1])/s;d.push(y,g)}var _=new Float32Array(d);e.bufferData(e.ARRAY_BUFFER,_,e.STATIC_DRAW),e.drawArrays(e.LINE_STRIP,0,p.length)}}}var U={draw:z},G=["attribute vec4 a_Position;","attribute float a_PointSize;","void main() {","gl_Position = a_Position;","gl_PointSize = a_PointSize;","}"].join(""),j=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join("");function V(e,t,n){if(t){var r=D(e,G,j),i=e.getAttribLocation(r,"a_Position"),s=e.getAttribLocation(r,"a_PointSize"),o=e.getUniformLocation(r,"u_FragColor");e.clear(e.COLOR_BUFFER_BIT);for(var a=e.canvas.width/2,l=e.canvas.height/2,u=[],c=0,h=0;h<t.length;h++){var p=t[h].geometry._coordinates,d=(p[0]-a)/a,f=(l-p[1])/l;d<-1||d>1||f<-1||f>1||(u.push(d,f),c++)}var m=new Float32Array(u),y=c,g=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,g),e.bufferData(e.ARRAY_BUFFER,m,e.STATIC_DRAW),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(i),e.vertexAttrib1f(s,n._size);var _=F(n.fillStyle||"red");e.uniform4f(o,_[0]/255,_[1]/255,_[2]/255,_[3]/255),e.drawArrays(e.POINTS,0,y)}}var W={draw:V};function H(e,t,n){n=n||2;var r,i,s,o,a,l,u,c=t&&t.length,h=c?t[0]*n:e.length,p=J(e,0,h,n,!0),d=[];if(!p)return d;if(c&&(p=ee(e,t,p,n)),e.length>80*n){r=s=e[0],i=o=e[1];for(var f=n;f<h;f+=n)a=e[f],l=e[f+1],a<r&&(r=a),l<i&&(i=l),a>s&&(s=a),l>o&&(o=l);u=Math.max(s-r,o-i)}return Z(p,d,n,r,i,u),d}function J(e,t,n,r,i){var s,o;if(i===be(e,t,n,r)>0)for(s=t;s<n;s+=r)o=ge(s,e[s],e[s+1],o);else for(s=n-r;s>=t;s-=r)o=ge(s,e[s],e[s+1],o);return o&&he(o,o.next)&&(_e(o),o=o.next),o}function X(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!he(r,r.next)&&0!==ce(r.prev,r,r.next))r=r.next;else{if(_e(r),r=t=r.prev,r===r.next)return null;n=!0}}while(n||r!==t);return t}function Z(e,t,n,r,i,s,o){if(e){!o&&s&&ie(e,r,i,s);var a,l,u=e;while(e.prev!==e.next)if(a=e.prev,l=e.next,s?K(e,r,i,s):Y(e))t.push(a.i/n),t.push(e.i/n),t.push(l.i/n),_e(e),e=l.next,u=l.next;else if(e=l,e===u){o?1===o?(e=Q(e,t,n),Z(e,t,n,r,i,s,2)):2===o&&$(e,t,n,r,i,s):Z(X(e),t,n,r,i,s,1);break}}}function Y(e){var t=e.prev,n=e,r=e.next;if(ce(t,n,r)>=0)return!1;var i=e.next.next;while(i!==e.prev){if(le(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&ce(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function K(e,t,n,r){var i=e.prev,s=e,o=e.next;if(ce(i,s,o)>=0)return!1;var a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,u=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,c=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,h=oe(a,l,t,n,r),p=oe(u,c,t,n,r),d=e.nextZ;while(d&&d.z<=p){if(d!==e.prev&&d!==e.next&&le(i.x,i.y,s.x,s.y,o.x,o.y,d.x,d.y)&&ce(d.prev,d,d.next)>=0)return!1;d=d.nextZ}d=e.prevZ;while(d&&d.z>=h){if(d!==e.prev&&d!==e.next&&le(i.x,i.y,s.x,s.y,o.x,o.y,d.x,d.y)&&ce(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function Q(e,t,n){var r=e;do{var i=r.prev,s=r.next.next;!he(i,s)&&pe(i,r,r.next,s)&&fe(i,s)&&fe(s,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(s.i/n),_e(r),_e(r.next),r=e=s),r=r.next}while(r!==e);return r}function $(e,t,n,r,i,s){var o=e;do{var a=o.next.next;while(a!==o.prev){if(o.i!==a.i&&ue(o,a)){var l=ye(o,a);return o=X(o,o.next),l=X(l,l.next),Z(o,t,n,r,i,s),void Z(l,t,n,r,i,s)}a=a.next}o=o.next}while(o!==e)}function ee(e,t,n,r){var i,s,o,a,l,u=[];for(i=0,s=t.length;i<s;i++)o=t[i]*r,a=i<s-1?t[i+1]*r:e.length,l=J(e,o,a,r,!1),l===l.next&&(l.steiner=!0),u.push(ae(l));for(u.sort(te),i=0;i<u.length;i++)ne(u[i],n),n=X(n,n.next);return n}function te(e,t){return e.x-t.x}function ne(e,t){if(t=re(e,t),t){var n=ye(t,e);X(n,n.next)}}function re(e,t){var n,r=t,i=e.x,s=e.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>o){if(o=a,a===i){if(s===r.y)return r;if(s===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n.prev;var l,u=n,c=n.x,h=n.y,p=1/0;r=n.next;while(r!==u)i>=r.x&&r.x>=c&&le(s<h?i:o,s,c,h,s<h?o:i,s,r.x,r.y)&&(l=Math.abs(s-r.y)/(i-r.x),(l<p||l===p&&r.x>n.x)&&fe(r,e)&&(n=r,p=l)),r=r.next;return n}function ie(e,t,n,r){var i=e;do{null===i.z&&(i.z=oe(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,se(i)}function se(e){var t,n,r,i,s,o,a,l,u=1;do{n=e,e=null,s=null,o=0;while(n){for(o++,r=n,a=0,t=0;t<u;t++)if(a++,r=r.nextZ,!r)break;l=u;while(a>0||l>0&&r)0===a?(i=r,r=r.nextZ,l--):0!==l&&r?n.z<=r.z?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--):(i=n,n=n.nextZ,a--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return e}function oe(e,t,n,r,i){return e=32767*(e-n)/i,t=32767*(t-r)/i,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function ae(e){var t=e,n=e;do{t.x<n.x&&(n=t),t=t.next}while(t!==e);return n}function le(e,t,n,r,i,s,o,a){return(i-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(r-a)-(n-o)*(t-a)>=0&&(n-o)*(s-a)-(i-o)*(r-a)>=0}function ue(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!de(e,t)&&fe(e,t)&&fe(t,e)&&me(e,t)}function ce(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function he(e,t){return e.x===t.x&&e.y===t.y}function pe(e,t,n,r){return!!(he(e,t)&&he(n,r)||he(e,r)&&he(n,t))||ce(e,t,n)>0!==ce(e,t,r)>0&&ce(n,r,e)>0!==ce(n,r,t)>0}function de(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&pe(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function fe(e,t){return ce(e.prev,e,e.next)<0?ce(e,t,e.next)>=0&&ce(e,e.prev,t)>=0:ce(e,t,e.prev)<0||ce(e,e.next,t)<0}function me(e,t){var n=e,r=!1,i=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!==n.next.y>s&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}function ye(e,t){var n=new ve(e.i,e.x,e.y),r=new ve(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function ge(e,t,n,r){var i=new ve(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function _e(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ve(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function be(e,t,n,r){for(var i=0,s=t,o=n-r;s<n;s+=r)i+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return i}H.deviation=function(e,t,n,r){var i=t&&t.length,s=i?t[0]*n:e.length,o=Math.abs(be(e,0,s,n));if(i)for(var a=0,l=t.length;a<l;a++){var u=t[a]*n,c=a<l-1?t[a+1]*n:e.length;o-=Math.abs(be(e,u,c,n))}var h=0;for(a=0;a<r.length;a+=3){var p=r[a]*n,d=r[a+1]*n,f=r[a+2]*n;h+=Math.abs((e[p]-e[f])*(e[d+1]-e[p+1])-(e[p]-e[d])*(e[f+1]-e[p+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},H.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var s=0;s<e[i].length;s++)for(var o=0;o<t;o++)n.vertices.push(e[i][s][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n};var xe=["attribute vec4 a_Position;","void main() {","gl_Position = a_Position;","gl_PointSize = 30.0;","}"].join(""),we=["precision mediump float;","uniform vec4 u_FragColor;","void main() {","gl_FragColor = u_FragColor;","}"].join("");function Se(e,t,n){if(t){e.clear(e.COLOR_BUFFER_BIT),e.viewport(0,0,e.canvas.width,e.canvas.height);var r=D(e,xe,we);e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE);var i=e.canvas.width/2,s=e.canvas.height/2;e.bindBuffer(e.ARRAY_BUFFER,e.createBuffer()),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,e.createBuffer());var o=e.getAttribLocation(r,"a_Position");e.vertexAttribPointer(o,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(o);var a=e.getUniformLocation(r,"u_FragColor"),l=F(n.fillStyle||"red");e.uniform4f(a,l[0]/255,l[1]/255,l[2]/255,l[3]/255),e.lineWidth(n.lineWidth||1);for(var u=[],c=[],h=65536,p=0,d=0,f=t.length;d<f;d++){var m=H.flatten(t[d].geometry._coordinates||t[d].geometry.coordinates),y=m.vertices;p=u.length/2;for(var g=0;g<y.length;g+=2)y[g]=(y[g]-i)/i,y[g+1]=(s-y[g+1])/s;(u.length+y.length)/2>h&&(e.bufferData(e.ARRAY_BUFFER,new Float32Array(u),e.STATIC_DRAW),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),e.STATIC_DRAW),e.drawElements(e.TRIANGLES,c.length,e.UNSIGNED_SHORT,0),u.length=0,c.length=0,p=0);for(g=0;g<y.length;g++)u.push(y[g]);var _=H(y,m.holes,m.dimensions);for(g=0;g<_.length;g++)c.push(_[g]+p)}e.bufferData(e.ARRAY_BUFFER,new Float32Array(u),e.STATIC_DRAW),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(c),e.STATIC_DRAW),e.drawElements(e.TRIANGLES,c.length,e.UNSIGNED_SHORT,0),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)}}var Ce={draw:Se},Ee={draw:function(e,t,n){var r=t instanceof f?t.get():t;r.length>0&&("LineString"==r[0].geometry.type?U.draw(e,r,n):"Polygon"==r[0].geometry.type||"MultiPolygon"==r[0].geometry.type?Ce.draw(e,r,n):W.draw(e,r,n))}};function Te(e,t){t=t||{};for(var n=[],r=0;r<e.length-1;r++){var i=Ae(e[r],e[r+1],t.count);i&&i.length>0&&(n=n.concat(i))}return n}function Ae(e,t,n){if(!e||!t)return null;var r,i,s,o,a,l,u=function(e){return 1-2*e+e*e},c=function(e){return 2*e-2*e*e},h=function(e){return e*e},p=[],d=(n=n||40,0),f=0;if("undefined"!=typeof t){var m=parseFloat(e.lat),y=parseFloat(t.lat),g=parseFloat(e.lng),_=parseFloat(t.lng);for(_>g&&parseFloat(_-g)>180&&g<0&&(g=parseFloat(360+g),_=parseFloat(360+_)),0,l=0,y==m?(r=0,i=g-_):_==g?(r=Math.PI/2,i=m-y):(r=Math.atan((y-m)/(_-g)),i=(y-m)/Math.sin(r)),0==l&&(l=r+Math.PI/5),s=i/2,a=s*Math.cos(l)+g,o=s*Math.sin(l)+m,d=0;d<n+1;d++){var v=g*u(f)+a*c(f)+_*h(f),b=m*u(f)+o*c(f)+y*h(f),x=e.lng,w=t.lng;p.push([x<0&&w>0?v-360:v,b]),f+=1/n}return p}"undefined"!=typeof p&&(p=[])}var Pe={getPoints:Te},Ie=function(){var e={},t=[],n=[],r=[],i=.1,s=.1,o=1,a=2,l=6,u=70,c=.6666667,h=.6,p=1e-8;function d(e,t){return e.x*t.x+e.y*t.y}function f(t){return{x:e[t.target].x-e[t.source].x,y:e[t.target].y-e[t.source].y}}function m(t){return Math.sqrt(Math.pow(e[t.source].x-e[t.target].x,2)+Math.pow(e[t.source].y-e[t.target].y,2))}function y(e){return Math.sqrt(Math.pow(e.source.x-e.target.x,2)+Math.pow(e.source.y-e.target.y,2))}function g(t){var n=(e[t.source].x+e[t.target].x)/2,r=(e[t.source].y+e[t.target].y)/2;return{x:n,y:r}}function _(e){for(var t=0,n=1;n<r[e].length;n++){var i=v(r[e][n],r[e][n-1]);t+=i}return t}function v(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function b(e,t){var n=Math.sqrt((t.target.x-t.source.x)*(t.target.x-t.source.x)+(t.target.y-t.source.y)*(t.target.y-t.source.y)),r=((t.source.y-e.y)*(t.source.y-t.target.y)-(t.source.x-e.x)*(t.target.x-t.source.x))/(n*n);return{x:t.source.x+r*(t.target.x-t.source.x),y:t.source.y+r*(t.target.y-t.source.y)}}function x(){for(var n=0;n<t.length;n++)1==o?r[n]=[]:(r[n]=[],r[n].push(e[t[n].source]),r[n].push(e[t[n].target]))}function w(){for(var e=0;e<t.length;e++)n[e]=[]}function S(t){for(var n=[],r=0;r<t.length;r++)e[t[r].source].x!=e[t[r].target].x&&e[t[r].source].y!=e[t[r].target].y&&n.push(t[r]);return n}function C(e,t,n){var i=r[e][t-1],s=r[e][t+1],o=r[e][t],a=i.x-o.x+s.x-o.x,l=i.y-o.y+s.y-o.y;return a*=n,l*=n,{x:a,y:l}}function E(e,t,i){for(var s={x:0,y:0},o=n[e],a=0;a<o.length;a++){var l={x:r[o[a]][t].x-r[e][t].x,y:r[o[a]][t].y-r[e][t].y};if(Math.abs(l.x)>p||Math.abs(l.y)>p){var u=1/Math.pow(y({source:r[o[a]][t],target:r[e][t]}),1);s.x+=l.x*u,s.y+=l.y*u}}return s}function T(e,n,r){for(var s=i/(m(t[e])*(n+1)),o=[{x:0,y:0}],a=1;a<n+1;a++){var l={x:0,y:0},u=C(e,a,s),c=E(e,a,r);l.x=r*(u.x+c.x),l.y=r*(u.y+c.y),o.push(l)}return o.push({x:0,y:0}),o}function A(n){for(var i=0;i<t.length;i++)if(1==n)r[i].push(e[t[i].source]),r[i].push(g(t[i])),r[i].push(e[t[i].target]);else{var s=_(i),o=s/(n+1),a=o,l=[];l.push(e[t[i].source]);for(var u=1;u<r[i].length;u++){var c=v(r[i][u],r[i][u-1]);while(c>a){var h=a/c,p=r[i][u-1].x,d=r[i][u-1].y;p+=h*(r[i][u].x-r[i][u-1].x),d+=h*(r[i][u].y-r[i][u-1].y),l.push({x:p,y:d}),c-=a,a=o}a-=c}l.push(e[t[i].target]),r[i]=l}}function I(e,t){var n=Math.abs(d(f(e),f(t))/(m(e)*m(t)));return n}function L(e,t){var n=(m(e)+m(t))/2,r=2/(n/Math.min(m(e),m(t))+Math.max(m(e),m(t))/n);return r}function M(t,n){var r=(m(t)+m(n))/2,i={x:(e[t.source].x+e[t.target].x)/2,y:(e[t.source].y+e[t.target].y)/2},s={x:(e[n.source].x+e[n.target].x)/2,y:(e[n.source].y+e[n.target].y)/2},o=r/(r+v(i,s));return o}function O(t,n){var r=b(e[n.source],{source:e[t.source],target:e[t.target]}),i=b(e[n.target],{source:e[t.source],target:e[t.target]}),s={x:(r.x+i.x)/2,y:(r.y+i.y)/2},o={x:(e[t.source].x+e[t.target].x)/2,y:(e[t.source].y+e[t.target].y)/2},a=Math.max(0,1-2*v(o,s)/v(r,i));return a}function k(e,t){return Math.min(O(e,t),O(t,e))}function N(e,t){var n=I(e,t)*L(e,t)*M(e,t)*k(e,t);return n}function R(e,t){return N(e,t)>=h}function D(){for(var e=0;e<t.length-1;e++)for(var r=e+1;r<t.length;r++)e!=r&&R(t[e],t[r])&&(n[e].push(r),n[r].push(e))}var F=function(){var e=s,n=u,i=o;x(),w(),A(i),D();for(var a=0;a<l;a++){for(var h=0;h<n;h++){for(var p=[],d=0;d<t.length;d++)p[d]=T(d,i,e);for(var f=0;f<t.length;f++)for(var m=0;m<i+1;m++)r[f][m].x+=p[f][m].x,r[f][m].y+=p[f][m].y}e/=2,i*=2,n*=c,A(i)}return r};return F.nodes=function(t){return 0==arguments.length?e:(e=t,F)},F.edges=function(e){return 0==arguments.length?t:(t=S(e),F)},F.bundling_stiffness=function(e){return 0==arguments.length?i:(i=e,F)},F.step_size=function(e){return 0==arguments.length?s:(s=e,F)},F.cycles=function(e){return 0==arguments.length?l:(l=e,F)},F.iterations=function(e){return 0==arguments.length?u:(u=e,F)},F.iterations_rate=function(e){return 0==arguments.length?c:(c=e,F)},F.subdivision_points_seed=function(e){return 0==arguments.length?P:(P=e,F)},F.subdivision_rate=function(e){return 0==arguments.length?a:(a=e,F)},F.compatbility_threshold=function(e){return 0==arguments.length?compatbility_threshold:(h=e,F)},F};function Le(e){this.splitList=e||{other:1}}function Me(e){this.splitList=e||[{start:0,value:"red"}]}Le.prototype.get=function(e){var t=this.splitList,n=t["other"];for(var r in t)if(e==r){n=t[r];break}return n},Le.prototype.generateByDataSet=function(e,t){var n=t||["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],r=e.get();this.splitList={};for(var i=0,s=0;s<r.length;s++)if(void 0===this.splitList[r[s].count]&&(this.splitList[r[s].count]=n[i],i++),i>=n.length-1)break;this.splitList["other"]=n[n.length-1]},Le.prototype.getLegend=function(e){var t=this.splitList,n=document.createElement("div");n.style.cssText="background:#fff; padding: 5px; border: 1px solid #ccc;";var r="";for(var i in t)r+='<div style="line-height: 19px;" value="'+i+'"><span style="vertical-align: -2px; display: inline-block; width: 30px;height: 19px;background:'+t[i]+';"></span><span style="margin-left: 3px;">'+i+"<span></div>";return n.innerHTML=r,n},Me.prototype.get=function(e){for(var t=this.splitList,n=!1,r=0;r<t.length;r++)if((void 0===t[r].start||void 0!==t[r].start&&e>=t[r].start)&&(void 0===t[r].end||void 0!==t[r].end&&e<t[r].end)){n=t[r].value;break}return n},Me.prototype.generateByDataSet=function(e){var t=e.getMin("count"),n=e.getMax("count");this.generateByMinMax(t,n)},Me.prototype.generateByMinMax=function(e,t){var n=["rgba(255, 255, 0, 0.8)","rgba(253, 98, 104, 0.8)","rgba(255, 146, 149, 0.8)","rgba(255, 241, 193, 0.8)","rgba(110, 176, 253, 0.8)","rgba(52, 139, 251, 0.8)","rgba(17, 102, 252, 0.8)"],r=Number((t-e)/7);t=Number(t);var i=Number(e);this.splitList=[];var s=0;while(i<t)this.splitList.push({start:i,end:i+r,value:n[s]}),s++,i+=r},Me.prototype.getLegend=function(e){this.splitList};var Oe=function(){function e(t,n,r){if(u(this,e),!t||!n)return console.warn("id  type "),!1;if("baidu"==n){if(!BMap)return console.warn("JS API"),!1}else console.warn("");this.type=n;var i=r&&r.center?r.center:[106.962497,38.208726],s=r&&r.zoom?r.zoom:5,o=this.map=new BMap.Map(t,{enableMapClick:!1});o.centerAndZoom(new BMap.Point(i[0],i[1]),s),o.enableScrollWheelZoom(!0),o.setMapStyle({style:"light"})}return c(e,[{key:"addLayer",value:function(e,t){if("baidu"==this.type)return new mapv.baiduMapLayer(this.map,dataSet,t)}},{key:"getMap",value:function(){return this.map}}]),e}();function ke(e){this.options=e||{},this.paneName=this.options.paneName||"mapPane",this.context=this.options.context||"2d",this.zIndex=this.options.zIndex||0,this.mixBlendMode=this.options.mixBlendMode||null,this.enableMassClear=this.options.enableMassClear,this._map=e.map,this._lastDrawTime=null,this.show()}var Ne="undefined"===typeof window?{}:window,Re=Ne.BMap||Ne.BMapGL;Re&&(ke.prototype=new Re.Overlay,ke.prototype.initialize=function(e){this._map=e;var t=this.canvas=document.createElement("canvas");t.style.cssText="position:absolute;left:0;top:0;z-index:"+this.zIndex+";user-select:none;",t.style.mixBlendMode=this.mixBlendMode,this.adjustSize();var n=e.getPanes()[this.paneName];n||(n=e.getPanes().floatShadow),n.appendChild(t);var r=this;return e.addEventListener("resize",(function(){r.adjustSize(),r._draw()})),e.addEventListener("update",(function(){r._draw()})),this.options.updateImmediate&&setTimeout((function(){r._draw()}),100),this.canvas},ke.prototype.adjustSize=function(){var e=this._map.getSize(),t=this.canvas,n=this.devicePixelRatio=Ne.devicePixelRatio||1;t.width=e.width*n,t.height=e.height*n,"2d"==this.context&&t.getContext(this.context).scale(n,n),t.style.width=e.width+"px",t.style.height=e.height+"px"},ke.prototype.draw=function(){var e=this;this.options.updateImmediate?e._draw():(clearTimeout(e.timeoutID),e.timeoutID=setTimeout((function(){e._draw()}),15))},ke.prototype._draw=function(){var e=this._map,t=e.getSize(),n=e.getCenter();if(n){var r=e.pointToOverlayPixel(n);this.canvas.style.left=r.x-t.width/2+"px",this.canvas.style.top=r.y-t.height/2+"px",this.dispatchEvent("draw"),this.options.update&&this.options.update.call(this)}},ke.prototype.getContainer=function(){return this.canvas},ke.prototype.show=function(){this.canvas||this._map.addOverlay(this),this.canvas.style.display="block"},ke.prototype.hide=function(){this.canvas.style.display="none"},ke.prototype.setZIndex=function(e){this.zIndex=e,this.canvas.style.zIndex=this.zIndex},ke.prototype.getZIndex=function(){return this.zIndex});var De=De||function(){var e=[];return{getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},update:function(t,n){if(0===e.length)return!1;var r=0;t=void 0!==t?t:De.now();while(r<e.length)e[r].update(t)||n?r++:e.splice(r,1);return!0}}}();function Fe(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=360*Math.atan(r/n)/(2*Math.PI);return t[0]<e[0]&&(i+=180),i}"undefined"===typeof window&&"undefined"!==typeof e?De.now=function(){var t=e.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!==typeof window&&void 0!==window.performance&&void 0!==window.performance.now?De.now=window.performance.now.bind(window.performance):void 0!==Date.now?De.now=Date.now:De.now=function(){return(new Date).getTime()},De.Tween=function(e){var t,n=e,r={},i={},s={},o=1e3,a=0,l=!1,u=!1,c=!1,h=0,p=null,d=De.Easing.Linear.None,f=De.Interpolation.Linear,m=[],y=null,g=!1,_=null,v=null,b=null;this.to=function(e,t){return i=e,void 0!==t&&(o=t),this},this.start=function(e){for(var t in De.add(this),u=!0,g=!1,p=void 0!==e?e:De.now(),p+=h,i){if(i[t]instanceof Array){if(0===i[t].length)continue;i[t]=[n[t]].concat(i[t])}void 0!==n[t]&&(r[t]=n[t],r[t]instanceof Array===!1&&(r[t]*=1),s[t]=r[t]||0)}return this},this.stop=function(){return u?(De.remove(this),u=!1,null!==b&&b.call(n,n),this.stopChainedTweens(),this):this},this.end=function(){return this.update(p+o),this},this.stopChainedTweens=function(){for(var e=0,t=m.length;e<t;e++)m[e].stop()},this.delay=function(e){return h=e,this},this.repeat=function(e){return a=e,this},this.repeatDelay=function(e){return t=e,this},this.yoyo=function(e){return l=e,this},this.easing=function(e){return d=e,this},this.interpolation=function(e){return f=e,this},this.chain=function(){return m=arguments,this},this.onStart=function(e){return y=e,this},this.onUpdate=function(e){return _=e,this},this.onComplete=function(e){return v=e,this},this.onStop=function(e){return b=e,this},this.update=function(e){var u,b,x;if(e<p)return!0;for(u in!1===g&&(null!==y&&y.call(n,n),g=!0),b=(e-p)/o,b=b>1?1:b,x=d(b),i)if(void 0!==r[u]){var w=r[u]||0,S=i[u];S instanceof Array?n[u]=f(S,x):("string"===typeof S&&(S="+"===S.charAt(0)||"-"===S.charAt(0)?w+parseFloat(S):parseFloat(S)),"number"===typeof S&&(n[u]=w+(S-w)*x))}if(null!==_&&_.call(n,x),1===b){if(a>0){for(u in isFinite(a)&&a--,s){if("string"===typeof i[u]&&(s[u]=s[u]+parseFloat(i[u])),l){var C=s[u];s[u]=i[u],i[u]=C}r[u]=s[u]}return l&&(c=!c),p=void 0!==t?e+t:e+h,!0}null!==v&&v.call(n,n);for(var E=0,T=m.length;E<T;E++)m[E].start(p+o);return!1}return!0}},De.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-De.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*De.Easing.Bounce.In(2*e):.5*De.Easing.Bounce.Out(2*e-1)+.5}}},De.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),s=De.Interpolation.Utils.Linear;return t<0?s(e[0],e[1],r):t>1?s(e[n],e[n-1],n-r):s(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,s=De.Interpolation.Utils.Bernstein,o=0;o<=r;o++)n+=i(1-t,r-o)*i(t,o)*e[o]*s(r,o);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),s=De.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),s(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(s(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(s(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):s(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=De.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var s=.5*(n-e),o=.5*(r-t),a=i*i,l=i*a;return(2*t-2*n+s+o)*l+(-3*t+3*n-2*s-o)*a+s*i+t}}};var Be={},qe={draw:function(e,t,n){var r="http://huiyan.baidu.com/github/tools/gis-drawing/static/images/direction.png";n.arrow&&n.arrow.url&&(r=n.arrow.url),Be[r]||(Be[r]=null);var i=Be[r];if(!i){var s=Array.prototype.slice.call(arguments),o=new Image;return o.onload=function(){Be[r]=o,qe.draw.apply(null,s)},void(o.src=r)}var a=t instanceof f?t.get():t;for(var l in e.save(),n)e[l]=n[l];for(var u=[],c=null,h=0,p=a.length;h<p;h++){var d=a[h];e.save(),(d.fillStyle||d._fillStyle)&&(e.fillStyle=d.fillStyle||d._fillStyle),(d.strokeStyle||d._strokeStyle)&&(e.strokeStyle=d.strokeStyle||d._strokeStyle);var m=d.geometry.type;if(e.beginPath(),"LineString"===m)for(var y=d.geometry._coordinates||d.geometry.coordinates,g=void 0!==n.arrow.interval?n.arrow.interval:1,_=0;_<y.length;_+=g)if(y[_]&&y[_+1]){var v=y[_];if(c&&ze(v,c)<30)continue;e.save();var b=Fe(y[_],y[_+1]);e.translate(v[0],v[1]),e.rotate(b*Math.PI/180),e.drawImage(i,-i.width/2/2,-i.height/2/2,i.width/2,i.height/2),e.restore(),u.push(v),c=v}e.restore()}e.restore()}};function ze(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}var Ue={draw:function(e,t,n){var i=t instanceof f?t.get():t;e.save(),e.fillStyle=n.fillStyle||"rgba(0, 0, 0, 0.5)",e.fillRect(0,0,e.canvas.width,e.canvas.height),n.multiPolygonDraw=function(){e.save(),e.clip(),r(e),e.restore()};for(var s=0,o=i.length;s<o;s++)e.beginPath(),g.drawDataSet(e,[i[s]],n),e.save(),e.clip(),r(e),e.restore();e.restore()}},Ge={draw:function(e,t,n){e.save();for(var r,i,s=t instanceof f?t.get():t,o=0;o<s.length;o++){var a=s[o];a.properties&&a.properties.cluster&&(void 0===r&&(r=a.properties.point_count),void 0===i&&(i=a.properties.point_count),r=Math.max(r,a.properties.point_count),i=Math.min(i,a.properties.point_count))}var l=new b({min:i,max:r,minSize:n.minSize||8,maxSize:n.maxSize||30,gradient:n.gradient});for(o=0;o<s.length;o++){a=s[o];var u=s[o].geometry._coordinates||s[o].geometry.coordinates;if(e.beginPath(),a.properties&&a.properties.cluster){if(e.arc(u[0],u[1],l.getSize(a.properties.point_count),0,2*Math.PI),e.fillStyle=l.getColor(a.properties.point_count),e.fill(),n.label&&!1!==n.label.show){e.fillStyle=n.label.fillStyle||"white",n.label.font&&(e.font=n.label.font),n.label.shadowColor&&(e.shadowColor=n.label.shadowColor),n.label.shadowBlur&&(e.shadowBlur=n.label.shadowBlur);var c=a.properties.point_count,h=e.measureText(c).width;e.fillText(c,u[0]+.5-h/2,u[1]+.5+3)}}else e.arc(u[0],u[1],n.size||5,0,2*Math.PI),e.fillStyle=n.fillStyle||"red",e.fill()}e.restore()}},je={draw:function(e,t,n){var r=t instanceof f?t.get():t;for(var i in e.save(),n)e[i]=n[i];var s=[],o=n._size||n.size;o?e.font="bold "+o+"px Arial":o=12;var a=n.textKey||"text";if(n.textAlign||(e.textAlign="center"),n.textBaseline||(e.textBaseline="middle"),n.avoid)for(var l=0,u=r.length;l<u;l++){var c=r[l].offset||n.offset||{x:0,y:0},h=r[l].geometry._coordinates||r[l].geometry.coordinates,p=h[0]+c.x,d=h[1]+c.y,m=r[l][a],y=e.measureText(m).width,g=p-y/2,_=d-o/2,v={sw:{x:g,y:_+o},ne:{x:g+y,y:_}};Ve(s,v)||(s.push(v),g+=y/2,_+=o/2,e.fillText(m,g,_))}else for(l=0,u=r.length;l<u;l++){c=r[l].offset||n.offset||{x:0,y:0},h=r[l].geometry._coordinates||r[l].geometry.coordinates,p=h[0]+c.x,d=h[1]+c.y,m=r[l][a];e.fillText(m,p,d)}e.restore()}};function Ve(e,t){for(var n=0;n<e.length;n++)if(We(e[n],t))return!0;return!1}function We(e,t){var n=Math.min(e.ne.x,t.ne.x),r=Math.min(e.sw.y,t.sw.y),i=Math.max(e.sw.x,t.sw.x),s=Math.max(e.ne.y,t.ne.y);return n>i&&r>s}var He={draw:function(e,t,n){var r=t instanceof f?t.get():t;e.fillStyle="white",e.textAlign="center",e.textBaseline="middle";for(var i=n.offset||{x:0,y:0},s=0,o=r.length;s<o;s++)if(r[s].geometry){var a=r[s].deg||n.deg,l=r[s].icon||n.icon,u=r[s].geometry._coordinates||r[s].geometry.coordinates,c=u[0],h=u[1];a&&(e.save(),e.translate(c,h),e.rotate(a*Math.PI/180),e.translate(-c,-h));var p=n._width||n.width||l.width,d=n._height||n.height||l.height;c=c-p/2+i.x,h=h-d/2+i.y,n.sx&&n.sy&&n.swidth&&n.sheight&&n.width&&n.height?e.drawImage(l,n.sx,n.sy,n.swidth,n.sheight,c,h,p,d):n.width&&n.height?e.drawImage(l,c,h,p,d):e.drawImage(l,c,h),a&&e.restore()}}};function Je(e,t,n,r,i,s){if(!(i-r<=n)){var o=r+i>>1;Xe(e,t,o,r,i,s%2),Je(e,t,n,r,o-1,s+1),Je(e,t,n,o+1,i,s+1)}}function Xe(e,t,n,r,i,s){while(i>r){if(i-r>600){var o=i-r+1,a=n-r+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(a-o/2<0?-1:1),h=Math.max(r,Math.floor(n-a*u/o+c)),p=Math.min(i,Math.floor(n+(o-a)*u/o+c));Xe(e,t,n,h,p,s)}var d=t[2*n+s],f=r,m=i;Ze(e,t,r,n),t[2*i+s]>d&&Ze(e,t,r,i);while(f<m){Ze(e,t,f,m),f++,m--;while(t[2*f+s]<d)f++;while(t[2*m+s]>d)m--}t[2*r+s]===d?Ze(e,t,r,m):(m++,Ze(e,t,m,i)),m<=n&&(r=m+1),n<=m&&(i=m-1)}}function Ze(e,t,n,r){Ye(e,n,r),Ye(t,2*n,2*r),Ye(t,2*n+1,2*r+1)}function Ye(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Ke(e,t,n,r,i,s,o){var a,l,u=[0,e.length-1,0],c=[];while(u.length){var h=u.pop(),p=u.pop(),d=u.pop();if(p-d<=o)for(var f=d;f<=p;f++)a=t[2*f],l=t[2*f+1],a>=n&&a<=i&&l>=r&&l<=s&&c.push(e[f]);else{var m=Math.floor((d+p)/2);a=t[2*m],l=t[2*m+1],a>=n&&a<=i&&l>=r&&l<=s&&c.push(e[m]);var y=(h+1)%2;(0===h?n<=a:r<=l)&&(u.push(d),u.push(m-1),u.push(y)),(0===h?i>=a:s>=l)&&(u.push(m+1),u.push(p),u.push(y))}}return c}function Qe(e,t,n,r,i,s){var o=[0,e.length-1,0],a=[],l=i*i;while(o.length){var u=o.pop(),c=o.pop(),h=o.pop();if(c-h<=s)for(var p=h;p<=c;p++)$e(t[2*p],t[2*p+1],n,r)<=l&&a.push(e[p]);else{var d=Math.floor((h+c)/2),f=t[2*d],m=t[2*d+1];$e(f,m,n,r)<=l&&a.push(e[d]);var y=(u+1)%2;(0===u?n-i<=f:r-i<=m)&&(o.push(h),o.push(d-1),o.push(y)),(0===u?n+i>=f:r+i>=m)&&(o.push(d+1),o.push(c),o.push(y))}}return a}function $e(e,t,n,r){var i=e-n,s=t-r;return i*i+s*s}var et=function(e){return e[0]},tt=function(e){return e[1]},nt=function(e,t,n,r,i){void 0===t&&(t=et),void 0===n&&(n=tt),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=e;for(var s=e.length<65536?Uint16Array:Uint32Array,o=this.ids=new s(e.length),a=this.coords=new i(2*e.length),l=0;l<e.length;l++)o[l]=l,a[2*l]=t(e[l]),a[2*l+1]=n(e[l]);Je(o,a,r,0,o.length-1,0)};nt.prototype.range=function(e,t,n,r){return Ke(this.ids,this.coords,e,t,n,r,this.nodeSize)},nt.prototype.within=function(e,t,n){return Qe(this.ids,this.coords,e,t,n,this.nodeSize)};var rt={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,map:function(e){return e}},it=function(e){this.options=dt(Object.create(rt),e),this.trees=new Array(this.options.maxZoom+1)};function st(e,t,n,r,i){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function ot(e,t){var n=e.geometry.coordinates,r=n[0],i=n[1];return{x:ut(r),y:ct(i),zoom:1/0,index:t,parentId:-1}}function at(e){return{type:"Feature",id:e.id,properties:lt(e),geometry:{type:"Point",coordinates:[ht(e.x),pt(e.y)]}}}function lt(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return dt(dt({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function ut(e){return e/360+.5}function ct(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ht(e){return 360*(e-.5)}function pt(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function dt(e,t){for(var n in t)e[n]=t[n];return e}function ft(e){return e.x}function mt(e){return e.y}function yt(e){requestAnimationFrame(yt),De.update(e)}it.prototype.load=function(e){var t=this.options,n=(t.log,t.minZoom),r=t.maxZoom,i=t.nodeSize;e.length;this.points=e;for(var s=[],o=0;o<e.length;o++)e[o].geometry&&s.push(ot(e[o],o));this.trees[r+1]=new nt(s,ft,mt,i,Float32Array);for(var a=r;a>=n;a--){Date.now();s=this._cluster(s,a),this.trees[a]=new nt(s,ft,mt,i,Float32Array)}return this},it.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=180===e[2]?180:((e[2]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,s],t),a=this.getClusters([-180,r,i,s],t);return o.concat(a)}for(var l=this.trees[this._limitZoom(t)],u=l.range(ut(n),ct(s),ut(i),ct(r)),c=[],h=0,p=u;h<p.length;h+=1){var d=p[h],f=l.points[d];c.push(f.numPoints?at(f):this.points[f.index])}return c},it.prototype.getChildren=function(e){var t=e>>5,n=e%32,r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var s=i.points[t];if(!s)throw new Error(r);for(var o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=i.within(s.x,s.y,o),l=[],u=0,c=a;u<c.length;u+=1){var h=c[u],p=i.points[h];p.parentId===e&&l.push(p.numPoints?at(p):this.points[p.index])}if(0===l.length)throw new Error(r);return l},it.prototype.getLeaves=function(e,t,n){t=t||10,n=n||0;var r=[];return this._appendLeaves(r,e,t,n,0),r},it.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),s=this.options,o=s.extent,a=s.radius,l=a/o,u=(n-l)/i,c=(n+1+l)/i,h={features:[]};return this._addTileFeatures(r.range((t-l)/i,u,(t+1+l)/i,c),r.points,t,n,i,h),0===t&&this._addTileFeatures(r.range(1-l/i,u,1,c),r.points,i,n,i,h),t===i-1&&this._addTileFeatures(r.range(0,u,l/i,c),r.points,-1,n,i,h),h.features.length?h:null},it.prototype.getClusterExpansionZoom=function(e){var t=e%32-1;while(t<=this.options.maxZoom){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},it.prototype._appendLeaves=function(e,t,n,r,i){for(var s=this.getChildren(t),o=0,a=s;o<a.length;o+=1){var l=a[o],u=l.properties;if(u&&u.cluster?i+u.point_count<=r?i+=u.point_count:i=this._appendLeaves(e,u.cluster_id,n,r,i):i<r?i++:e.push(l),e.length===n)break}return i},it.prototype._addTileFeatures=function(e,t,n,r,i,s){for(var o=0,a=e;o<a.length;o+=1){var l=a[o],u=t[l],c={type:1,geometry:[[Math.round(this.options.extent*(u.x*i-n)),Math.round(this.options.extent*(u.y*i-r))]],tags:u.numPoints?lt(u):this.points[u.index].properties},h=u.numPoints?u.id:this.points[u.index].id;void 0!==h&&(c.id=h),s.features.push(c)}},it.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},it.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.radius,s=r.extent,o=r.reduce,a=i/(s*Math.pow(2,t)),l=0;l<e.length;l++){var u=e[l];if(!(u.zoom<=t)){u.zoom=t;for(var c=this.trees[t+1],h=c.within(u.x,u.y,a),p=u.numPoints||1,d=u.x*p,f=u.y*p,m=o&&p>1?this._map(u,!0):null,y=(l<<5)+(t+1),g=0,_=h;g<_.length;g+=1){var v=_[g],b=c.points[v];if(!(b.zoom<=t)){b.zoom=t;var x=b.numPoints||1;d+=b.x*x,f+=b.y*x,p+=x,b.parentId=y,o&&(m||(m=this._map(u,!0)),o(m,this._map(b)))}}1===p?n.push(u):(u.parentId=y,n.push(st(d/p,f/p,y,p,m)))}}return n},it.prototype._map=function(e,t){if(e.numPoints)return t?dt({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?dt({},r):r},"undefined"!==typeof window&&requestAnimationFrame(yt);var gt=function(){function e(t,n,r){u(this,e),n instanceof f||(n=new f(n)),this.dataSet=n,this.map=t,"cluster"!==r.draw||this.supercluster||(this.supercluster=new it({maxZoom:r.maxZoom||19,radius:r.clusterRadius||100}),this.supercluster.load(n.get()),this.clusterDataSet=new f)}return c(e,[{key:"getDefaultContextConfig",value:function(){return{globalAlpha:1,globalCompositeOperation:"source-over",imageSmoothingEnabled:!0,strokeStyle:"#000000",fillStyle:"#000000",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0)",lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,lineDashOffset:0,font:"10px sans-serif",textAlign:"start",textBaseline:"alphabetic"}}},{key:"initDataRange",value:function(e){var t=this;if(t.intensity=new b({maxSize:t.options.maxSize,minSize:t.options.minSize,gradient:t.options.gradient,max:t.options.max||this.dataSet.getMax("count")}),t.category=new Le(t.options.splitList),t.choropleth=new Me(t.options.splitList),void 0===t.options.splitList&&t.category.generateByDataSet(this.dataSet,t.options.color),void 0===t.options.splitList){var n=t.options.min||this.dataSet.getMin("count"),r=t.options.max||this.dataSet.getMax("count");t.choropleth.generateByMinMax(n,r)}}},{key:"getLegend",value:function(e){this.options.draw;var t=this;return"intensity"==t.options.draw||"heatmap"==t.options.draw?this.intensity.getLegend(e):"category"==t.options.draw?this.category.getLegend(e):void 0}},{key:"processData",value:function(e){var t=this,n=t.options.draw;if("bubble"==n||"intensity"==n||"category"==n||"choropleth"==n||"simple"==n)for(var r=0;r<e.length;r++){var i=e[r];"bubble"==t.options.draw?e[r]._size=t.intensity.getSize(i.count):e[r]._size=void 0;var s="_fillStyle";"LineString"!==e[r].geometry.type&&"stroke"!==t.options.styleType||(s="_strokeStyle"),"intensity"==t.options.draw?e[r][s]=t.intensity.getColor(i.count):"category"==t.options.draw?e[r][s]=t.category.get(i.count):"choropleth"==t.options.draw&&(e[r][s]=t.choropleth.get(i.count))}}},{key:"isEnabledTime",value:function(){var e=this.options.animation,t=e&&!(!1===e.enabled);return t}},{key:"argCheck",value:function(e){"heatmap"==e.draw&&e.strokeStyle&&console.warn("[heatmap] options.strokeStyle is discard, pleause use options.strength [eg: options.strength = 0.1]")}},{key:"drawContext",value:function(e,t,n,r){var i=this;switch(i.options.draw){case"heatmap":M.draw(e,t,i.options);break;case"grid":case"cluster":case"honeycomb":i.options.offset={x:r.x,y:r.y},"grid"===i.options.draw?O.draw(e,t,i.options):"cluster"===i.options.draw?Ge.draw(e,t,i.options):N.draw(e,t,i.options);break;case"text":je.draw(e,t,i.options);break;case"icon":He.draw(e,t,i.options);break;case"clip":Ue.draw(e,t,i.options);break;default:"webgl"==i.options.context?Ee.draw(i.canvasLayer.canvas.getContext("webgl"),t,i.options):_.draw(e,t,i.options)}i.options.arrow&&!1!==i.options.arrow.show&&qe.draw(e,t,i.options)}},{key:"isPointInPath",value:function(e,t){var n;e=this.canvasLayer.canvas.getContext(this.context);n="cluster"===this.options.draw?this.clusterDataSet.get():this.dataSet.get();for(var r=0;r<n.length;r++){e.beginPath();var i=this.options,s=t.x*this.canvasLayer.devicePixelRatio,o=t.y*this.canvasLayer.devicePixelRatio;i.multiPolygonDraw=function(){if(e.isPointInPath(s,o))return n[r]},g.draw(e,n[r],i);var a=n[r].geometry&&n[r].geometry.type;if(a.indexOf("LineString")>-1){if(e.isPointInStroke&&e.isPointInStroke(s,o))return n[r]}else if(e.isPointInPath(s,o))return n[r]}}},{key:"clickEvent",value:function(e,t){if(this.options.methods){var n=this.isPointInPath(this.getContext(),e);n?this.options.methods.click(n,t):this.options.methods.click(null,t)}}},{key:"mousemoveEvent",value:function(e,t){if(this.options.methods){var n=this.isPointInPath(this.getContext(),e);n?this.options.methods.mousemove(n,t):this.options.methods.mousemove(null,t)}}},{key:"tapEvent",value:function(e,t){if(this.options.methods){var n=this.isPointInPath(this.getContext(),e);n?this.options.methods.tap(n,t):this.options.methods.tap(null,t)}}},{key:"update",value:function(e,t){var n=this,r=e.options,i=n.options;for(var s in r)i[s]=r[s];n.init(i),!1!==t&&n.draw()}},{key:"setOptions",value:function(e){var t=this;t.dataSet.reset(),t.init(e),t.draw()}},{key:"set",value:function(e){var t=this,n=this.getContext(),r=this.getDefaultContextConfig();for(var i in r)n[i]=r[i];t.init(e.options),t.draw()}},{key:"destroy",value:function(){this.unbindEvent(),this.hide()}},{key:"initAnimator",value:function(){var e=this,t=e.options.animation;if("time"==e.options.draw||e.isEnabledTime()){t.stepsRange||(t.stepsRange={start:this.dataSet.getMin("time")||0,end:this.dataSet.getMax("time")||0}),this.steps={step:t.stepsRange.start},e.animator=new De.Tween(this.steps).onUpdate((function(){e._canvasUpdate(this.step)})).repeat(1/0),this.addAnimatorEvent();var n=1e3*t.duration||5e3;e.animator.to({step:t.stepsRange.end},n),e.animator.start()}else e.animator&&e.animator.stop()}},{key:"addAnimatorEvent",value:function(){}},{key:"animatorMovestartEvent",value:function(){var e=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=e.stepsRange.start,this.animator.stop())}},{key:"animatorMoveendEvent",value:function(){this.isEnabledTime()&&this.animator&&this.animator.start()}}]),e}(),_t="undefined"===typeof window?{}:window,vt=_t.BMap||_t.BMapGL,bt=function(e){function t(e,n,r){u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));i.map=e,i.options=r||{},i.dataSet=n;var s=new ke({map:e,zIndex:i.options.zIndex,update:i._canvasUpdate.bind(i)});i.init(i.options),i.canvasLayer=s,i.transferToMercator();var o=i;return n.on("change",(function(){o.transferToMercator(),s.draw()})),i.ctx=s.canvas.getContext("2d"),i.start(),i}return p(t,e),c(t,[{key:"draw",value:function(){this.canvasLayer.draw()}},{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),t.options.max&&this.intensity.setMax(t.options.max),t.options.min&&this.intensity.setMin(t.options.min),this.initAnimator()}},{key:"transferToMercator",value:function(){var e,t=this.map,n=t.getMapType();if(e=n.getProjection?n.getProjection():{lngLatToPoint:function(e){var n=t.lnglatToMercator(e.lng,e.lat);return{x:n[0],y:n[1]}}},"bd09mc"!==this.options.coordType){var r=this.dataSet.get();r=this.dataSet.transferCoordinate(r,(function(t){var n=e.lngLatToPoint({lng:t[0],lat:t[1]});return[n.x,n.y]}),"coordinates","coordinates_mercator"),this.dataSet._set(r)}}},{key:"_canvasUpdate",value:function(){var e=this.ctx;if(e){var t,n,i,s=this.map;s.getMapType().getProjection?(t=s.getMapType().getProjection(),n=t.lngLatToPoint(s.getCenter())):(n={x:s.getCenter().lng,y:s.getCenter().lat},n.x>-180&&n.x<180&&(n=s.lnglatToMercator(n.x,n.y),n={x:n[0],y:n[1]}),t={lngLatToPoint:function(e){var t=s.lnglatToMercator(e.lng,e.lat);return{x:t[0],y:t[1]}}}),i=t.getZoomUnits?t.getZoomUnits(s.getZoom()):Math.pow(2,18-s.getZoom());var o=new vt.Pixel(n.x-s.getSize().width/2*i,n.y+s.getSize().height/2*i);r(e);var a={fromColumn:"bd09mc"==this.options.coordType?"coordinates":"coordinates_mercator",transferCoordinate:function(e){if(e){var t=(e[0]-o.x)/i,n=(o.y-e[1])/i;return[t,n]}}};this.data=this.dataSet.get(a),this.processData(this.data),this.drawAnimation()}}},{key:"drawAnimation",value:function(){var e=this.ctx,t=this.data;if(t){e.save(),e.globalCompositeOperation="destination-out",e.fillStyle="rgba(0, 0, 0, .1)",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.restore(),e.save(),this.options.shadowColor&&(e.shadowColor=this.options.shadowColor),this.options.shadowBlur&&(e.shadowBlur=this.options.shadowBlur),this.options.globalAlpha&&(e.globalAlpha=this.options.globalAlpha),this.options.globalCompositeOperation&&(e.globalCompositeOperation=this.options.globalCompositeOperation);for(var n=this.options,r=0;r<t.length;r++)if("Point"===t[r].geometry.type){e.beginPath();var i=t[r].size||this.options.size,s=t[r].minSize||this.options.minSize||0;void 0===t[r]._size&&(t[r]._size=s),e.arc(t[r].geometry._coordinates[0],t[r].geometry._coordinates[1],t[r]._size,0,2*Math.PI,!0),e.closePath(),t[r]._size++,t[r]._size>i&&(t[r]._size=s),e.lineWidth=1,e.strokeStyle=t[r].strokeStyle||t[r]._strokeStyle||n.strokeStyle||"yellow",e.stroke();var o=t[r].fillStyle||t[r]._fillStyle||n.fillStyle;o&&(e.fillStyle=o,e.fill())}else if("LineString"===t[r].geometry.type){e.beginPath();var a=t[r].size||this.options.size||5;s=t[r].minSize||this.options.minSize||0;void 0===t[r]._index&&(t[r]._index=0);var l=t[r]._index;e.arc(t[r].geometry._coordinates[l][0],t[r].geometry._coordinates[l][1],a,0,2*Math.PI,!0),e.closePath(),t[r]._index++,t[r]._index>=t[r].geometry._coordinates.length&&(t[r]._index=0);var u=t[r].strokeStyle||n.strokeStyle;o=t[r].fillStyle||n.fillStyle||"yellow";e.fillStyle=o,e.fill(),u&&n.lineWidth&&(e.lineWidth=n.lineWidth||1,e.strokeStyle=u,e.stroke())}e.restore()}}},{key:"animate",value:function(){this.drawAnimation();var e=this.options.animateTime||100;this.timeout=setTimeout(this.animate.bind(this),e)}},{key:"start",value:function(){this.stop(),this.animate()}},{key:"stop",value:function(){clearTimeout(this.timeout)}},{key:"unbindEvent",value:function(){}},{key:"hide",value:function(){this.canvasLayer.hide(),this.stop()}},{key:"show",value:function(){this.start()}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"destroy",value:function(){this.stop(),this.unbindEvent(),this.clearData(),this.map.removeOverlay(this.canvasLayer),this.canvasLayer=null}}]),t}(gt),xt="undefined"===typeof window?{}:window,wt=xt.BMap||xt.BMapGL,St=function(e){function t(e,n,r){u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r)),s=i;r=r||{},i.clickEvent=i.clickEvent.bind(i),i.mousemoveEvent=i.mousemoveEvent.bind(i),i.tapEvent=i.tapEvent.bind(i),s.init(r),s.argCheck(r),s.transferToMercator();var o=i.canvasLayer=new ke({map:e,context:i.context,updateImmediate:r.updateImmediate,paneName:r.paneName,mixBlendMode:r.mixBlendMode,enableMassClear:r.enableMassClear,zIndex:r.zIndex,update:function(){s._canvasUpdate()}});return n.on("change",(function(){s.transferToMercator(),o.draw()})),i}return p(t,e),c(t,[{key:"clickEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,n,e)}},{key:"mousemoveEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"tapEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"tapEvent",this).call(this,n,e)}},{key:"bindEvent",value:function(e){this.unbindEvent();var t=this.map,n=0,r=this;this.options.methods&&(this.options.methods.click&&(t.setDefaultCursor("default"),t.addEventListener("click",this.clickEvent)),this.options.methods.mousemove&&t.addEventListener("mousemove",this.mousemoveEvent),"ontouchend"in window.document&&this.options.methods.tap&&(t.addEventListener("touchstart",(function(e){n=new Date})),t.addEventListener("touchend",(function(e){new Date-n<300&&r.tapEvent(e)}))))}},{key:"unbindEvent",value:function(e){var t=this.map;this.options.methods&&(this.options.methods.click&&t.removeEventListener("click",this.clickEvent),this.options.methods.mousemove&&t.removeEventListener("mousemove",this.mousemoveEvent))}},{key:"transferToMercator",value:function(e){e||(e=this.dataSet);var t,n=this.map,r=n.getMapType();if(t=r.getProjection?r.getProjection():{lngLatToPoint:function(e){var t=n.lnglatToMercator(e.lng,e.lat);return{x:t[0],y:t[1]}}},"bd09mc"!==this.options.coordType){var i=e.get();i=e.transferCoordinate(i,(function(e){if(e[0]<-180||e[0]>180||e[1]<-90||e[1]>90)return e;var n=t.lngLatToPoint({lng:e[0],lat:e[1]});return[n.x,n.y]}),"coordinates","coordinates_mercator"),e._set(i)}}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"_canvasUpdate",value:function(e){if(this.canvasLayer){var t,n,i,s=this,o=s.options.animation,a=this.canvasLayer._map;a.getMapType().getProjection?(t=a.getMapType().getProjection(),n=t.lngLatToPoint(a.getCenter())):(n={x:a.getCenter().lng,y:a.getCenter().lat},n.x>-180&&n.x<180&&(n=a.lnglatToMercator(n.x,n.y),n={x:n[0],y:n[1]}),t={lngLatToPoint:function(e){var t=a.lnglatToMercator(e.lng,e.lat);return{x:t[0],y:t[1]}}}),i=t.getZoomUnits?t.getZoomUnits(a.getZoom()):Math.pow(2,18-a.getZoom());var l=new wt.Pixel(n.x-a.getSize().width/2*i,n.y+a.getSize().height/2*i),u=this.getContext();if(s.isEnabledTime()){if(void 0===e)return void r(u);"2d"==this.context&&(u.save(),u.globalCompositeOperation="destination-out",u.fillStyle="rgba(0, 0, 0, .1)",u.fillRect(0,0,u.canvas.width,u.canvas.height),u.restore())}else r(u);if("2d"==this.context)for(var c in s.options)u[c]=s.options[c];else u.clear(u.COLOR_BUFFER_BIT);if(!(s.options.minZoom&&a.getZoom()<s.options.minZoom||s.options.maxZoom&&a.getZoom()>s.options.maxZoom)){var h=1;"2d"!=this.context&&(h=this.canvasLayer.devicePixelRatio);var p,d={fromColumn:"bd09mc"==s.options.coordType?"coordinates":"coordinates_mercator",transferCoordinate:function(e){var t=(e[0]-l.x)/i*h,n=(l.y-e[1])/i*h;return[t,n]}};if(void 0!==e&&(d.filter=function(t){var n=o.trails||10;return!!(e&&t.time>e-n&&t.time<e)}),"cluster"===s.options.draw){var f=this.map.getBounds(),m=f.getNorthEast(),y=f.getSouthWest(),g=this.supercluster.getClusters([y.lng,y.lat,m.lng,m.lat],this.getZoom());this.clusterDataSet.set(g),this.transferToMercator(this.clusterDataSet),p=this.clusterDataSet.get(d)}else p=s.dataSet.get(d);this.processData(p);var _=a.pointToPixel(new wt.Point(0,0));"m"==s.options.unit?(s.options.size&&(s.options._size=s.options.size/i),s.options.width&&(s.options._width=s.options.width/i),s.options.height&&(s.options._height=s.options.height/i)):(s.options._size=s.options.size,s.options._height=s.options.height,s.options._width=s.options.width),this.drawContext(u,p,s.options,_),s.options.updateCallback&&s.options.updateCallback(e)}}}},{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),t.options.max&&this.intensity.setMax(t.options.max),t.options.min&&this.intensity.setMin(t.options.min),this.initAnimator(),this.bindEvent()}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"addAnimatorEvent",value:function(){this.map.addEventListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addEventListener("moveend",this.animatorMoveendEvent.bind(this))}},{key:"show",value:function(){this.map.addOverlay(this.canvasLayer),this.bindEvent()}},{key:"hide",value:function(){this.unbindEvent(),this.map.removeOverlay(this.canvasLayer)}},{key:"draw",value:function(){this.canvasLayer&&this.canvasLayer.draw()}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"destroy",value:function(){this.unbindEvent(),this.clearData(),this.map.removeOverlay(this.canvasLayer),this.canvasLayer=null}}]),t}(gt);function Ct(e){this.isAdded_=!1,this.isAnimated_=!1,this.paneName_=Ct.DEFAULT_PANE_NAME_,this.updateHandler_=null,this.resizeHandler_=null,this.topLeft_=null,this.centerListener_=null,this.resizeListener_=null,this.needsResize_=!0,this.requestAnimationFrameId_=null;var t=document.createElement("canvas");function n(e,t){return function(){t.apply(e)}}t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.pointerEvents="none",this.canvas=t,this.canvasCssWidth_=300,this.canvasCssHeight_=150,this.resolutionScale_=1,this.repositionFunction_=n(this,this.repositionCanvas_),this.resizeFunction_=n(this,this.resize_),this.requestUpdateFunction_=n(this,this.update_),e&&this.setOptions(e)}var Et="undefined"===typeof window?{}:window;Et.google&&Et.google.maps&&(Ct.prototype=new google.maps.OverlayView,Ct.DEFAULT_PANE_NAME_="overlayLayer",Ct.CSS_TRANSFORM_=function(){for(var e=document.createElement("div"),t=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],n=0;n<t.length;n++){var r=t[n];if(void 0!==e.style[r])return r}return t[0]}(),Ct.prototype.requestAnimFrame_=Et.requestAnimationFrame||Et.webkitRequestAnimationFrame||Et.mozRequestAnimationFrame||Et.oRequestAnimationFrame||Et.msRequestAnimationFrame||function(e){return Et.setTimeout(e,1e3/60)},Ct.prototype.cancelAnimFrame_=Et.cancelAnimationFrame||Et.webkitCancelAnimationFrame||Et.mozCancelAnimationFrame||Et.oCancelAnimationFrame||Et.msCancelAnimationFrame||function(e){},Ct.prototype.setOptions=function(e){void 0!==e.animate&&this.setAnimate(e.animate),void 0!==e.paneName&&this.setPaneName(e.paneName),void 0!==e.updateHandler&&this.setUpdateHandler(e.updateHandler),void 0!==e.resizeHandler&&this.setResizeHandler(e.resizeHandler),void 0!==e.resolutionScale&&this.setResolutionScale(e.resolutionScale),void 0!==e.map&&this.setMap(e.map)},Ct.prototype.setAnimate=function(e){this.isAnimated_=!!e,this.isAnimated_&&this.scheduleUpdate()},Ct.prototype.isAnimated=function(){return this.isAnimated_},Ct.prototype.setPaneName=function(e){this.paneName_=e,this.setPane_()},Ct.prototype.getPaneName=function(){return this.paneName_},Ct.prototype.setPane_=function(){if(this.isAdded_){var e=this.getPanes();if(!e[this.paneName_])throw new Error('"'+this.paneName_+'" is not a valid MapPane name.');e[this.paneName_].appendChild(this.canvas)}},Ct.prototype.setResizeHandler=function(e){this.resizeHandler_=e},Ct.prototype.setResolutionScale=function(e){"number"===typeof e&&(this.resolutionScale_=e,this.resize_())},Ct.prototype.setUpdateHandler=function(e){this.updateHandler_=e},Ct.prototype.onAdd=function(){this.isAdded_||(this.isAdded_=!0,this.setPane_(),this.resizeListener_=google.maps.event.addListener(this.getMap(),"resize",this.resizeFunction_),this.centerListener_=google.maps.event.addListener(this.getMap(),"center_changed",this.repositionFunction_),this.resize_(),this.repositionCanvas_())},Ct.prototype.onRemove=function(){this.isAdded_&&(this.isAdded_=!1,this.topLeft_=null,this.canvas.parentElement.removeChild(this.canvas),this.centerListener_&&(google.maps.event.removeListener(this.centerListener_),this.centerListener_=null),this.resizeListener_&&(google.maps.event.removeListener(this.resizeListener_),this.resizeListener_=null),this.requestAnimationFrameId_&&(this.cancelAnimFrame_.call(Et,this.requestAnimationFrameId_),this.requestAnimationFrameId_=null))},Ct.prototype.resize_=function(){if(this.isAdded_){var e=this.getMap(),t=e.getDiv().offsetWidth,n=e.getDiv().offsetHeight,r=t*this.resolutionScale_,i=n*this.resolutionScale_,s=this.canvas.width,o=this.canvas.height;s===r&&o===i||(this.canvas.width=r,this.canvas.height=i,this.needsResize_=!0,this.scheduleUpdate()),this.canvasCssWidth_===t&&this.canvasCssHeight_===n||(this.canvasCssWidth_=t,this.canvasCssHeight_=n,this.canvas.style.width=t+"px",this.canvas.style.height=n+"px")}},Ct.prototype.draw=function(){this.repositionCanvas_()},Ct.prototype.repositionCanvas_=function(){var e=this.getMap(),t=e.getBounds().getNorthEast().lat(),n=e.getCenter(),r=Math.pow(2,e.getZoom()),i=n.lng()-180*this.canvasCssWidth_/(256*r);this.topLeft_=new google.maps.LatLng(t,i);var s=this.getProjection(),o=s.fromLatLngToDivPixel(n),a=-Math.round(this.canvasCssWidth_/2-o.x),l=-Math.round(this.canvasCssHeight_/2-o.y);this.canvas.style[Ct.CSS_TRANSFORM_]="translate("+a+"px,"+l+"px)",this.scheduleUpdate()},Ct.prototype.update_=function(){this.requestAnimationFrameId_=null,this.isAdded_&&(this.isAnimated_&&this.scheduleUpdate(),this.needsResize_&&this.resizeHandler_&&(this.needsResize_=!1,this.resizeHandler_()),this.updateHandler_&&this.updateHandler_())},Ct.prototype.getTopLeft=function(){return this.topLeft_},Ct.prototype.scheduleUpdate=function(){this.isAdded_&&!this.requestAnimationFrameId_&&(this.requestAnimationFrameId_=this.requestAnimFrame_.call(Et,this.requestUpdateFunction_))});var Tt=function(e){function t(e,n,r){u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r)),s=i;r=r||{},s.init(r),s.argCheck(r);var o={map:e,animate:!1,updateHandler:function(){s._canvasUpdate()},resolutionScale:resolutionScale};i.canvasLayer=new Ct(o);return i.clickEvent=i.clickEvent.bind(i),i.mousemoveEvent=i.mousemoveEvent.bind(i),i.bindEvent(),i}return p(t,e),c(t,[{key:"clickEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,n,e)}},{key:"mousemoveEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"bindEvent",value:function(e){var t=this.map;this.options.methods&&(this.options.methods.click&&(t.setDefaultCursor("default"),t.addListener("click",this.clickEvent)),this.options.methods.mousemove&&t.addListener("mousemove",this.mousemoveEvent))}},{key:"unbindEvent",value:function(e){var t=this.map;this.options.methods&&(this.options.methods.click&&t.removeListener("click",this.clickEvent),this.options.methods.mousemove&&t.removeListener("mousemove",this.mousemoveEvent))}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"_canvasUpdate",value:function(e){if(this.canvasLayer){var t=this,n=t.options.animation,i=this.getContext();if(t.isEnabledTime()){if(void 0===e)return void r(i);"2d"==this.context&&(i.save(),i.globalCompositeOperation="destination-out",i.fillStyle="rgba(0, 0, 0, .1)",i.fillRect(0,0,i.canvas.width,i.canvas.height),i.restore())}else r(i);if("2d"==this.context)for(var s in t.options)i[s]=t.options[s];else i.clear(i.COLOR_BUFFER_BIT);if(!(t.options.minZoom&&a.getZoom()<t.options.minZoom||t.options.maxZoom&&a.getZoom()>t.options.maxZoom)){var o=1;"2d"!=this.context&&(o=this.canvasLayer.devicePixelRatio);var a=this.map,l=a.getProjection(),u=(o=Math.pow(2,a.zoom)*resolutionScale,l.fromLatLngToPoint(this.canvasLayer.getTopLeft())),c={transferCoordinate:function(e){var t=new google.maps.LatLng(e[1],e[0]),n=l.fromLatLngToPoint(t),r={x:(n.x-u.x)*o,y:(n.y-u.y)*o};return[r.x,r.y]}};void 0!==e&&(c.filter=function(t){var r=n.trails||10;return!!(e&&t.time>e-r&&t.time<e)});var h=t.dataSet.get(c);this.processData(h);var p=new google.maps.LatLng(0,0),d=l.fromLatLngToPoint(p),m={x:(d.x-u.x)*o,y:(d.y-u.y)*o};"m"==t.options.unit&&t.options.size?t.options._size=t.options.size/zoomUnit:t.options._size=t.options.size,this.drawContext(i,new f(h),t.options,m),t.options.updateCallback&&t.options.updateCallback(e)}}}},{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){this.map.addListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addListener("moveend",this.animatorMoveendEvent.bind(this))}},{key:"show",value:function(){this.map.addOverlay(this.canvasLayer)}},{key:"hide",value:function(){this.map.removeOverlay(this.canvasLayer)}},{key:"draw",value:function(){self.canvasLayer.draw()}}]),t}(gt),At=void 0;if("undefined"!==typeof maptalks){At=function(e){function t(e,n,r){u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return i.options_=r,i.dataSet=n,i._initBaseLayer(r),i}return p(t,e),c(t,[{key:"_initBaseLayer",value:function(e){var t=this,n=this.baseLayer=new gt(null,this.dataSet,e);t.init(e),n.argCheck(e)}},{key:"clickEvent",value:function(e){if(this.baseLayer){var t=e.containerPoint;this.baseLayer.clickEvent(t,e.domEvent)}}},{key:"mousemoveEvent",value:function(e){if(this.baseLayer){var t=e.containerPoint;this.baseLayer.mousemoveEvent(t,e.domEvent)}}},{key:"getEvents",value:function(){return{click:this.clickEvent,mousemove:this.mousemoveEvent}}},{key:"init",value:function(e){var t=this.baseLayer;t.options=e,t.initDataRange(e),t.context=t.options.context||"2d",t.initAnimator()}},{key:"addAnimatorEvent",value:function(){this.map.addListener("movestart",this.animatorMovestartEvent.bind(this)),this.map.addListener("moveend",this.animatorMoveendEvent.bind(this))}}]),t}(maptalks.Layer);var Pt=function(e){function t(){return u(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),c(t,[{key:"needToRedraw",value:function(){var e=this.layer.baseLayer;return!!e.isEnabledTime()||h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"needToRedraw",this).call(this)}},{key:"draw",value:function(){var e=this.layer.baseLayer;this.canvas&&e.isEnabledTime()&&!this._shouldClear||(this.prepareCanvas(),this._shouldClear=!1),this._update(this.gl||this.context,this._mapvFrameTime),delete this._mapvFrameTime,this.completeRender()}},{key:"drawOnInteracting",value:function(){this.draw(),this._shouldClear=!1}},{key:"onSkipDrawOnInteracting",value:function(){this._shouldClear=!0}},{key:"_canvasUpdate",value:function(e){this.setToRedraw(),this._mapvFrameTime=e}},{key:"_update",value:function(e,t){if(this.canvas){var n=this.layer.baseLayer,i=n.options.animation,s=this.getMap();if(n.isEnabledTime()){if(void 0===t)return void r(e);"2d"==n.context&&(e.save(),e.globalCompositeOperation="destination-out",e.fillStyle="rgba(0, 0, 0, .1)",e.fillRect(0,0,e.canvas.width,e.canvas.height),e.restore())}else r(e);if("2d"==n.context)for(var o in n.options)e[o]=n.options[o];else e.clear(e.COLOR_BUFFER_BIT);var a=1,l=new maptalks.Coordinate(0,0),u={fromColumn:"bd09mc"===n.options.coordType?"coordinates_mercator":"coordinates",transferCoordinate:function(e){l.x=e[0],l.y=e[1];var t=s.coordToContainerPoint(l)._multi(a).toArray();return t}};void 0!==t&&(u.filter=function(e){var n=i.trails||10;return!!(t&&e.time>t-n&&e.time<t)});var c=n.dataSet.get(u);n.processData(c),"m"==n.options.unit?(n.options.size&&(n.options._size=n.options.size/zoomUnit),n.options.width&&(n.options._width=n.options.width/zoomUnit),n.options.height&&(n.options._height=n.options.height/zoomUnit)):(n.options._size=n.options.size,n.options._height=n.options.height,n.options._width=n.options.width);var h=new maptalks.Point(0,0),p=s._pointToContainerPoint(h)._multi(a);n.drawContext(e,c,n.options,p),n.options.updateCallback&&n.options.updateCallback(t)}}},{key:"createCanvas",value:function(){if(!this.canvas){var e=this.getMap(),t=e.getSize(),n=e.getDevicePixelRatio?e.getDevicePixelRatio():maptalks.Browser.retina?2:1,r=n*t.width,i=n*t.height;this.canvas=maptalks.Canvas.createCanvas(r,i,e.CanvasClass);var s=this.layer.baseLayer.context;if("2d"===s)this.context=this.canvas.getContext("2d"),this.layer.options["globalCompositeOperation"]&&(this.context.globalCompositeOperation=this.layer.options["globalCompositeOperation"]),"heatmap"!==this.layer.baseLayer.options.draw&&1!==n&&this.context.scale(n,n);else{var o={alpha:!0,preserveDrawingBuffer:!0,antialias:!1};this.gl=this.canvas.getContext("webgl",o)}this.onCanvasCreate(),this._bindToMapv(),this.layer.fire("canvascreate",{context:this.context,gl:this.gl})}}},{key:"_bindToMapv",value:function(){var e=this.layer.baseLayer,t=this.getMap();this.devicePixelRatio=t.getDevicePixelRatio?t.getDevicePixelRatio():maptalks.Browser.retina?2:1,e.canvasLayer=this,e._canvasUpdate=this._canvasUpdate.bind(this),e.getContext=function(){var e=self.getRenderer();return e.gl||e.context}}}]),t}(maptalks.renderer.CanvasRenderer);At.registerRenderer("canvas",Pt)}var It,Lt=At,Mt=function(e,t,n){if("undefined"!==typeof document){var r=document.createElement("canvas");return r.width=e,r.height=t,r}return new n(e,t)},Ot=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1],r=arguments[2];u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i.options=r,i.canvasLayer={canvas:null,devicePixelRatio:window.devicePixelRatio},i.layer_=null,i.initDataRange(r),i.initAnimator(),i.onEvents(),e.on("complete",(function(){this.init(e,r),this.argCheck(r)}),i),i}return p(t,e),c(t,[{key:"init",value:function(e,t){if(!e)throw new Error("not map object");this.map=e,this.context=this.options.context||"2d",this.getCanvasLayer()}},{key:"_canvasUpdate",value:function(e){this.render(this.canvasLayer.canvas,e)}},{key:"render",value:function(e,t){if(e){var n=this.map,i=e.getContext(this.context),s=this.options.animation;if(this.isEnabledTime()){if(void 0===t)return r(i),this;"2d"===this.context&&(i.save(),i.globalCompositeOperation="destination-out",i.fillStyle="rgba(0, 0, 0, .1)",i.fillRect(0,0,i.canvas.width,i.canvas.height),i.restore())}else r(i);if("2d"===this.context)for(var o in this.options)i[o]=this.options[o];else i.clear(i.COLOR_BUFFER_BIT);var a={transferCoordinate:function(e){var t=n.lngLatToContainer(new AMap.LngLat(e[0],e[1]));return[t["x"],t["y"]]}};void 0!==t&&(a.filter=function(e){var n=s.trails||10;return!!(t&&e.time>t-n&&e.time<t)});var l=this.dataSet.get(a);return this.processData(l),"m"===this.options.unit?(this.options.size&&(this.options._size=this.options.size/zoomUnit),this.options.width&&(this.options._width=this.options.width/zoomUnit),this.options.height&&(this.options._height=this.options.height/zoomUnit)):(this.options._size=this.options.size,this.options._height=this.options.height,this.options._width=this.options.width),this.drawContext(i,new f(l),this.options,{x:0,y:0}),this.options.updateCallback&&this.options.updateCallback(t),this}}},{key:"getCanvasLayer",value:function(){if(!this.canvasLayer.canvas&&!this.layer_){var e=this.canvasFunction(),t=this.map.getBounds();this.layer_=new AMap.CanvasLayer({canvas:e,bounds:this.options.bounds||t,zooms:this.options.zooms||[0,22]}),this.layer_.setMap(this.map),this.map.on("mapmove",this.canvasFunction,this),this.map.on("zoomchange",this.canvasFunction,this)}}},{key:"canvasFunction",value:function(){var e=[this.map.getSize().width,this.map.getSize().height],t=e[0],n=e[1];if(this.canvasLayer.canvas){this.canvasLayer.canvas.width=t,this.canvasLayer.canvas.height=n;var r=this.map.getBounds();this.layer_&&this.layer_.setBounds(this.options.bounds||r)}else this.canvasLayer.canvas=Mt(t,n);return this.render(this.canvasLayer.canvas),this.canvasLayer.canvas}},{key:"removeLayer",value:function(){this.map&&(this.unEvents(),this.map.removeLayer(this.layer_),delete this.map,delete this.layer_,delete this.canvasLayer.canvas)}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"clickEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,n,e)}},{key:"mousemoveEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"addAnimatorEvent",value:function(){this.map.on("movestart",this.animatorMovestartEvent,this),this.map.on("moveend",this.animatorMoveendEvent,this)}},{key:"onEvents",value:function(){var e=this.map;this.unEvents(),this.options.methods&&(this.options.methods.click&&e.on("click",this.clickEvent,this),this.options.methods.mousemove&&e.on("mousemove",this.mousemoveEvent,this))}},{key:"unEvents",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.off("click",this.clickEvent,this),this.options.methods.mousemove&&e.off("mousemove",this.mousemoveEvent,this))}}]),t}(gt),kt=function(e,t){if("undefined"!==typeof document){var n=document.createElement("canvas");return n.width=e,n.height=t,n}},Nt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments[1],r=arguments[2];u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i.options=r,i.canvasLayer={canvas:null,devicePixelRatio:window.devicePixelRatio},i.layer_=null,i.previousCursor_=void 0,i.init(e,r),i.argCheck(r),i}return p(t,e),c(t,[{key:"init",value:function(e,t){if(!(e&&e instanceof ol.Map))throw new Error("not map object");this.$Map=e,this.context=this.options.context||"2d",this.getCanvasLayer(),this.initDataRange(t),this.initAnimator(),this.onEvents()}},{key:"_canvasUpdate",value:function(e){this.render(this.canvasLayer.canvas,e)}},{key:"render",value:function(e,t){var n=this.$Map,i=e.getContext(this.context),s=this.options.animation,o=this.options.hasOwnProperty("projection")?this.options.projection:"EPSG:4326",a=this.$Map.getView().getProjection().getCode();if(this.isEnabledTime()){if(void 0===t)return r(i),this;"2d"===this.context&&(i.save(),i.globalCompositeOperation="destination-out",i.fillStyle="rgba(0, 0, 0, .1)",i.fillRect(0,0,i.canvas.width,i.canvas.height),i.restore())}else r(i);if("2d"===this.context)for(var l in this.options)i[l]=this.options[l];else i.clear(i.COLOR_BUFFER_BIT);var u={};u.transferCoordinate=o===a?function(e){return n.getPixelFromCoordinate(e)}:function(e){return n.getPixelFromCoordinate(ol.proj.transform(e,o,a))},void 0!==t&&(u.filter=function(e){var n=s.trails||10;return!!(t&&e.time>t-n&&e.time<t)});var c=this.dataSet.get(u);return this.processData(c),"m"===this.options.unit?(this.options.size&&(this.options._size=this.options.size/zoomUnit),this.options.width&&(this.options._width=this.options.width/zoomUnit),this.options.height&&(this.options._height=this.options.height/zoomUnit)):(this.options._size=this.options.size,this.options._height=this.options.height,this.options._width=this.options.width),this.drawContext(i,new f(c),this.options,{x:0,y:0}),this.options.updateCallback&&this.options.updateCallback(t),this}},{key:"getCanvasLayer",value:function(){if(!this.canvasLayer.canvas&&!this.layer_){var e=this.getMapExtent();this.layer_=new ol.layer.Image({layerName:this.options.layerName,minResolution:this.options.minResolution,maxResolution:this.options.maxResolution,zIndex:this.options.zIndex,extent:e,source:new ol.source.ImageCanvas({canvasFunction:this.canvasFunction.bind(this),projection:this.$Map.getView().getProjection().getCode(),ratio:this.options.hasOwnProperty("ratio")?this.options.ratio:1})}),this.$Map.addLayer(this.layer_),this.$Map.un("precompose",this.reRender,this),this.$Map.on("precompose",this.reRender,this)}}},{key:"reRender",value:function(){if(this.layer_){var e=this.getMapExtent();this.layer_.setExtent(e)}}},{key:"canvasFunction",value:function(e,t,n,r,i){return this.canvasLayer.canvas?(this.canvasLayer.canvas.width=r[0],this.canvasLayer.canvas.height=r[1]):this.canvasLayer.canvas=kt(r[0],r[1]),this.render(this.canvasLayer.canvas),this.canvasLayer.canvas}},{key:"getMapExtent",value:function(){var e=this.$Map.getSize();return this.$Map.getView().calculateExtent(e)}},{key:"addTo",value:function(e){this.init(e,this.options)}},{key:"removeLayer",value:function(){this.$Map&&(this.unEvents(),this.$Map.un("precompose",this.reRender,this),this.$Map.removeLayer(this.layer_),delete this.$Map,delete this.layer_,delete this.canvasLayer.canvas)}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"clickEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,{x:n[0],y:n[1]},e)}},{key:"mousemoveEvent",value:function(e){var n=e.pixel;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,{x:n[0],y:n[1]},e)}},{key:"addAnimatorEvent",value:function(){this.$Map.on("movestart",this.animatorMovestartEvent,this),this.$Map.on("moveend",this.animatorMoveendEvent,this)}},{key:"onEvents",value:function(){var e=this.$Map;this.unEvents(),this.options.methods&&(this.options.methods.click&&e.on("click",this.clickEvent,this),this.options.methods.mousemove&&e.on("pointermove",this.mousemoveEvent,this))}},{key:"unEvents",value:function(){var e=this.$Map;this.options.methods&&(this.options.methods.click&&e.un("click",this.clickEvent,this),this.options.methods.pointermove&&e.un("pointermove",this.mousemoveEvent,this))}},{key:"setDefaultCursor",value:function(e,t){if(this.$Map){var n=this.$Map.getTargetElement();t?n.style.cursor!==e&&(this.previousCursor_=n.style.cursor,n.style.cursor=e):void 0!==this.previousCursor_&&(n.style.cursor=this.previousCursor_,this.previousCursor_=void 0)}}},{key:"show",value:function(){this.$Map.addLayer(this.layer_)}},{key:"hide",value:function(){this.$Map.removeLayer(this.layer_)}}]),t}(gt),Rt=function(e){function t(e,n,r,i){u(this,t);var s=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,i));if(!gt)return d(s);var o=s;return i=i||{},o.init(i),o.argCheck(i),s.canvasLayer=n,s.clickEvent=s.clickEvent.bind(s),s.mousemoveEvent=s.mousemoveEvent.bind(s),s._moveStartEvent=s.moveStartEvent.bind(s),s._moveEndEvent=s.moveEndEvent.bind(s),s._zoomStartEvent=s.zoomStartEvent.bind(s),s.bindEvent(),s}return p(t,e),c(t,[{key:"clickEvent",value:function(e){var n=this.map.containerPointToLayerPoint([0,0]),r=this.devicePixelRatio=this.canvasLayer.devicePixelRatio=window.devicePixelRatio,i=e.layerPoint;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,L.point((i.x-n.x)/r,(i.y-n.y)/r),e)}},{key:"mousemoveEvent",value:function(e){var n=e.layerPoint;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"bindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.on("click",this.clickEvent),this.options.methods.mousemove&&e.on("mousemove",this.mousemoveEvent)),this.map.on("movestart",this._moveStartEvent),this.map.on("moveend",this._moveEndEvent),this.map.on("zoomstart",this._zoomStartEvent)}},{key:"destroy",value:function(){this.unbindEvent(),this.clearData(),this.animator&&this.animator.stop(),this.animator=null,this.canvasLayer=null}},{key:"unbindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.off("click",this.clickEvent),this.options.methods.mousemove&&e.off("mousemove",this.mousemoveEvent)),this.map.off("movestart",this._moveStartEvent),this.map.off("moveend",this._moveEndEvent),this.map.off("zoomstart",this._zoomStartEvent)}},{key:"getContext",value:function(){return this.canvasLayer.getCanvas().getContext(this.context)}},{key:"addData",value:function(e,t){var n=e;e&&e.get&&(n=e.get()),this.dataSet.add(n),this.update({options:t})}},{key:"update",value:function(e){var n=e||{},r=n.data;r&&r.get&&(r=r.get()),void 0!=r&&this.dataSet.set(r),h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,{options:n.options})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(e){if(this.dataSet){var t=this.dataSet.get({filter:function(t){return null==e||"function"!==typeof e||!e(t)}});this.dataSet.set(t),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"_canvasUpdate",value:function(e){if(this.canvasLayer){var t=this,n=t.options.animation,r=this.getContext(),i=this.map;if(t.isEnabledTime()){if(void 0===e)return void this.clear(r);"2d"===this.context&&(r.save(),r.globalCompositeOperation="destination-out",r.fillStyle="rgba(0, 0, 0, .1)",r.fillRect(0,0,r.canvas.width,r.canvas.height),r.restore())}else this.clear(r);if("2d"===this.context)for(var s in t.options)r[s]=t.options[s];else r.clear(r.COLOR_BUFFER_BIT);if(!(t.options.minZoom&&i.getZoom()<t.options.minZoom||t.options.maxZoom&&i.getZoom()>t.options.maxZoom)){var o=i.getBounds(),a=o.getEast()-o.getWest(),l=o.getNorth()-o.getSouth(),u=i.getSize(),c=a/u.x,h=l/u.y,p=this.canvasLayer.getTopLeft(),d=i.latLngToContainerPoint(p),f={transferCoordinate:function(e){var n;n="2d"===t.context?i.latLngToContainerPoint(L.latLng(e[1],e[0])):{x:(e[0]-p.lng)/c,y:(p.lat-e[1])/h};var r={x:n.x-d.x,y:n.y-d.y};return[r.x,r.y]}};void 0!==e&&(f.filter=function(t){var r=n.trails||10;return e&&t.time>e-r&&t.time<e});var m=t.dataSet.get(f);this.processData(m),t.options._size=t.options.size;var y=i.latLngToContainerPoint(L.latLng(0,0)),g={x:y.x-d.x,y:y.y-d.y};this.drawContext(r,m,t.options,g),t.options.updateCallback&&t.options.updateCallback(e)}}}},{key:"init",value:function(e){var t=this;t.options=e,this.initDataRange(e),this.context=t.options.context||"2d",t.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(t.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){}},{key:"moveStartEvent",value:function(){var e=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=e.stepsRange.start,this._hide())}},{key:"moveEndEvent",value:function(){this.canvasLayer.draw(),this._show()}},{key:"zoomStartEvent",value:function(){this._hide()}},{key:"clear",value:function(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)}},{key:"_hide",value:function(){this.canvasLayer.canvas.style.display="none"}},{key:"_show",value:function(){this.canvasLayer.canvas.style.display="block"}},{key:"draw",value:function(){this.canvasLayer.draw()}}]),t}(gt);if("undefined"!==typeof L){var Dt=L.Layer.extend({options:{attributionPrefix:null,attribution:""},initialize:function(e,t,n){n=n||{},this.dataSet=e||{},this.mapVOptions=t||{},this.render=this.render.bind(this),L.Util.setOptions(this,n),this.options.attributionPrefix&&(this.options.attribution=this.options.attributionPrefix+this.options.attribution),this.canvas=this._createCanvas(),L.stamp(this)},onAdd:function(e){this._map=e;var t=this.getPane(),n=this.container=L.DomUtil.create("div","leaflet-layer leaflet-zoom-animated",t);n.appendChild(this.canvas);var r=e.getSize();n.style.width=r.x+"px",n.style.height=r.y+"px",this.renderer=new Rt(e,this,this.dataSet,this.mapVOptions),this.draw(),this.fire("loaded")},onRemove:function(){L.DomUtil.remove(this.container),this.renderer.destroy()},addData:function(e,t){this.renderer.addData(e,t)},update:function(e){this.renderer.update(e)},getData:function(){return this.renderer&&(this.dataSet=this.renderer.getData()),this.dataSet},removeData:function(e){this.renderer&&this.renderer.removeData(e)},clearData:function(){this.renderer.clearData()},draw:function(){return this._reset()},setZIndex:function(e){this.canvas.style.zIndex=e},render:function(){this.renderer._canvasUpdate()},getCanvas:function(){return this.canvas},getContainer:function(){return this.container},getTopLeft:function(){var e,t=this._map;if(t){var n=t.getBounds();e=n.getNorthWest()}return e},_createCanvas:function(){var e=document.createElement("canvas");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=this.options.zIndex||600;var t="undefined"===typeof window?{}:window,n=this.devicePixelRatio=t.devicePixelRatio;return this.mapVOptions.context&&"2d"!==this.mapVOptions.context||e.getContext("2d").scale(n,n),e},_resize:function(){var e=this.canvas;if(e){var t=this._map,n=t.getSize();e.width=n.x,e.height=n.y,e.style.width=n.x+"px",e.style.height=n.y+"px";var r=t.getBounds(),i=t.latLngToLayerPoint(r.getNorthWest());L.DomUtil.setPosition(e,i)}},_reset:function(){this._resize(),this._render()},redraw:function(){this._resize(),this._render()},_render:function(){this.render()}});It=function(e,t,n){return new Dt(e,t,n)}}var Ft,Bt=It,qt=function(e){function t(e,n,r,i){u(this,t);var s=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return gt?(s.map=e,s.scene=e.scene,s.dataSet=n,r=r||{},s.init(r),s.argCheck(r),s.initDevicePixelRatio(),s.canvasLayer=i,s.stopAniamation=!1,s.animation=r.animation,s.clickEvent=s.clickEvent.bind(s),s.mousemoveEvent=s.mousemoveEvent.bind(s),s.bindEvent(),s):d(s)}return p(t,e),c(t,[{key:"initDevicePixelRatio",value:function(){this.devicePixelRatio=window.devicePixelRatio||1}},{key:"clickEvent",value:function(e){var n=e.point;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickEvent",this).call(this,n,e)}},{key:"mousemoveEvent",value:function(e){var n=e.point;h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mousemoveEvent",this).call(this,n,e)}},{key:"addAnimatorEvent",value:function(){}},{key:"animatorMovestartEvent",value:function(){var e=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=e.stepsRange.start)}},{key:"animatorMoveendEvent",value:function(){this.isEnabledTime()&&this.animator}},{key:"bindEvent",value:function(){this.map,this.options.methods&&(this.options.methods.click,this.options.methods.mousemove)}},{key:"unbindEvent",value:function(){var e=this.map;this.options.methods&&(this.options.methods.click&&e.off("click",this.clickEvent),this.options.methods.mousemove&&e.off("mousemove",this.mousemoveEvent))}},{key:"getContext",value:function(){return this.canvasLayer.canvas.getContext(this.context)}},{key:"init",value:function(e){this.options=e,this.initDataRange(e),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.initAnimator()}},{key:"_canvasUpdate",value:function(e){this.map;var t=this.scene;if(this.canvasLayer&&!this.stopAniamation){var n=this.options.animation,r=this.getContext();if(this.isEnabledTime()){if(void 0===e)return void this.clear(r);"2d"===this.context&&(r.save(),r.globalCompositeOperation="destination-out",r.fillStyle="rgba(0, 0, 0, .1)",r.fillRect(0,0,r.canvas.width,r.canvas.height),r.restore())}else this.clear(r);if("2d"===this.context)for(var i in this.options)r[i]=this.options[i];else r.clear(r.COLOR_BUFFER_BIT);var s={transferCoordinate:function(e){var n=Cesium.Cartesian3.fromDegrees(e[0],e[1]),r=Cesium.SceneTransforms.wgs84ToWindowCoordinates(t,n);return void 0==r?[-1,-1]:[r.x,r.y]}};void 0!==e&&(s.filter=function(t){var r=n.trails||10;return!!(e&&t.time>e-r&&t.time<e)});var o=this.dataSet.get(s);this.processData(o),"m"==this.options.unit&&this.options.size,this.options._size=this.options.size;var a=Cesium.SceneTransforms.wgs84ToWindowCoordinates(t,Cesium.Cartesian3.fromDegrees(0,0));this.drawContext(r,new f(o),this.options,a),this.options.updateCallback&&this.options.updateCallback(e)}}},{key:"updateData",value:function(e,n){var r=e;r&&r.get&&(r=r.get()),void 0!=r&&this.dataSet.set(r),h(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,{options:n})}},{key:"addData",value:function(e,t){var n=e;e&&e.get&&(n=e.get()),this.dataSet.add(n),this.update({options:t})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(e){if(this.dataSet){var t=this.dataSet.get({filter:function(t){return null==e||"function"!=typeof e||!e(t)}});this.dataSet.set(t),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"draw",value:function(){this.canvasLayer.draw()}},{key:"clear",value:function(e){e&&e.clearRect&&e.clearRect(0,0,e.canvas.width,e.canvas.height)}}]),t}(gt);if("undefined"!==typeof Cesium){var zt=0,Ut=(Cesium,function(){function e(t,n,r,i){if(u(this,e),this.map=t,this.scene=t.scene,this.mapvBaseLayer=new qt(t,n,r,this),this.mapVOptions=r,this.initDevicePixelRatio(),this.canvas=this._createCanvas(),this.render=this.render.bind(this),i)this.container=i;else{var s=t.container.querySelector(".cesium-viewer-cesiumWidgetContainer");this.container=s||t.container}this.addInnerContainer(),this.bindEvent(),this._reset()}return c(e,[{key:"initDevicePixelRatio",value:function(){this.devicePixelRatio=window.devicePixelRatio||1}},{key:"addInnerContainer",value:function(){this.container.appendChild(this.canvas)}},{key:"bindEvent",value:function(){var e=this;this.innerMoveStart=this.moveStartEvent.bind(this),this.innerMoveEnd=this.moveEndEvent.bind(this),this.scene.camera.moveStart.addEventListener(this.innerMoveStart,this),this.scene.camera.moveEnd.addEventListener(this.innerMoveEnd,this);var t=new Cesium.ScreenSpaceEventHandler(this.scene.canvas);t.setInputAction((function(t){e.innerMoveEnd()}),Cesium.ScreenSpaceEventType.LEFT_UP),t.setInputAction((function(t){e.innerMoveEnd()}),Cesium.ScreenSpaceEventType.MIDDLE_UP),this.handler=t}},{key:"unbindEvent",value:function(){this.scene.camera.moveStart.removeEventListener(this.innerMoveStart,this),this.scene.camera.moveEnd.removeEventListener(this.innerMoveEnd,this),this.scene.postRender.removeEventListener(this._reset,this),this.handler&&(this.handler.destroy(),this.handler=null)}},{key:"moveStartEvent",value:function(){this.mapvBaseLayer&&(this.mapvBaseLayer.animatorMovestartEvent(),this.scene.postRender.addEventListener(this._reset,this))}},{key:"moveEndEvent",value:function(){this.mapvBaseLayer&&(this.scene.postRender.removeEventListener(this._reset,this),this.mapvBaseLayer.animatorMoveendEvent(),this._reset())}},{key:"zoomStartEvent",value:function(){this._unvisiable()}},{key:"zoomEndEvent",value:function(){this._unvisiable()}},{key:"addData",value:function(e,t){void 0!=this.mapvBaseLayer&&this.mapvBaseLayer.addData(e,t)}},{key:"updateData",value:function(e,t){void 0!=this.mapvBaseLayer&&this.mapvBaseLayer.updateData(e,t)}},{key:"getData",value:function(){return this.mapvBaseLayer&&(this.dataSet=this.mapvBaseLayer.getData()),this.dataSet}},{key:"removeData",value:function(e){void 0!=this.mapvBaseLayer&&this.mapvBaseLayer&&this.mapvBaseLayer.removeData(e)}},{key:"removeAllData",value:function(){void 0!=this.mapvBaseLayer&&this.mapvBaseLayer.clearData()}},{key:"_visiable",value:function(){return this.canvas.style.display="block",this}},{key:"_unvisiable",value:function(){return this.canvas.style.display="none",this}},{key:"_createCanvas",value:function(){var e=document.createElement("canvas");e.id=this.mapVOptions.layerid||"mapv"+zt++,e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=this.mapVOptions.zIndex||0,e.width=parseInt(this.map.canvas.width),e.height=parseInt(this.map.canvas.height),e.style.width=this.map.canvas.style.width,e.style.height=this.map.canvas.style.height;var t=this.devicePixelRatio;return"2d"==this.mapVOptions.context&&e.getContext(this.mapVOptions.context).scale(t,t),e}},{key:"_reset",value:function(){this.resizeCanvas(),this.fixPosition(),this.onResize(),this.render()}},{key:"draw",value:function(){this._reset()}},{key:"show",value:function(){this._visiable()}},{key:"hide",value:function(){this._unvisiable()}},{key:"destroy",value:function(){this.remove()}},{key:"remove",value:function(){void 0!=this.mapvBaseLayer&&(this.removeAllData(),this.mapvBaseLayer.clear(this.mapvBaseLayer.getContext()),this.mapvBaseLayer=void 0,this.canvas.parentElement.removeChild(this.canvas))}},{key:"update",value:function(e){void 0!=e&&this.updateData(e.data,e.options)}},{key:"resizeCanvas",value:function(){if(void 0!=this.canvas&&null!=this.canvas){var e=this.canvas;e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.width=parseInt(this.map.canvas.width),e.height=parseInt(this.map.canvas.height),e.style.width=this.map.canvas.style.width,e.style.height=this.map.canvas.style.height}}},{key:"fixPosition",value:function(){}},{key:"onResize",value:function(){}},{key:"render",value:function(){void 0!=this.mapvBaseLayer&&this.mapvBaseLayer._canvasUpdate()}}]),e}());Ft=function(e,t,n,r){return new Ut(e,t,n,r)}}var Gt=Ft,jt={getDataSet:function(e){var t=[],n=e.features;if(n)for(var r=0;r<n.length;r++){var i=n[r],s=i.geometry,o=i.properties,a={};for(var l in o)a[l]=o[l];a.geometry=s,t.push(a)}return new f(t)}},Vt={CSVToArray:function(e,t){t=t||",";var n=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),r=[[]],i=null;while(i=n.exec(e)){var s,o=i[1];o.length&&o!==t&&r.push([]),s=i[2]?i[2].replace(new RegExp('""',"g"),'"'):i[3],r[r.length-1].push(s)}return r},getDataSet:function(e,t){for(var n=this.CSVToArray(e,t||","),r=[],i=n[0],s=1;s<n.length-1;s++){for(var o=n[s],a={},l=0;l<o.length;l++){var u=o[l];"geometry"==i[l]&&(u=JSON.parse(u)),a[i[l]]=u}r.push(a)}return new f(r)}};t.version=n,t.canvasClear=r,t.canvasResolutionScale=i,t.canvasDrawSimple=_,t.canvasDrawHeatmap=M,t.canvasDrawGrid=O,t.canvasDrawHoneycomb=N,t.webglDrawSimple=Ee,t.webglDrawPoint=W,t.webglDrawLine=U,t.webglDrawPolygon=Ce,t.utilCityCenter=l,t.utilCurve=Pe,t.utilForceEdgeBundling=Ie,t.utilDataRangeIntensity=b,t.utilDataRangeCategory=Le,t.utilDataRangeChoropleth=Me,t.Map=Oe,t.baiduMapCanvasLayer=ke,t.baiduMapAnimationLayer=bt,t.baiduMapLayer=St,t.googleMapCanvasLayer=Ct,t.googleMapLayer=Tt,t.MaptalksLayer=Lt,t.AMapLayer=Ot,t.OpenlayersLayer=Nt,t.leafletMapLayer=Bt,t.cesiumMapLayer=Gt,t.DataSet=f,t.geojson=jt,t.csv=Vt,Object.defineProperty(t,"__esModule",{value:!0})}))}).call(this,n("4362"))},fec4:function(e,t,n){(function(t){var n=9007199254740991,r="[object Arguments]",i="[object Function]",s="[object GeneratorFunction]",o="[object Map]",a="[object Object]",l="[object Promise]",u="[object Set]",c="[object WeakMap]",h="[object DataView]",p=/[\\^$.*+?()[\]{}|]/g,d=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,m="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,g=m||y||Function("return this")();function _(e,t){var n=-1,r=e?e.length:0,i=Array(r);while(++n<r)i[n]=t(e[n],n,e);return i}function v(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}function b(e,t){return _(t,(function(t){return[t,e[t]]}))}function x(e,t){return null==e?void 0:e[t]}function w(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function S(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function C(e,t){return function(n){return e(t(n))}}function E(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}var T=Function.prototype,A=Object.prototype,P=g["__core-js_shared__"],I=function(){var e=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),L=T.toString,M=A.hasOwnProperty,O=A.toString,k=RegExp("^"+L.call(M).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=A.propertyIsEnumerable,R=C(Object.keys,Object),D=K(g,"DataView"),F=K(g,"Map"),B=K(g,"Promise"),q=K(g,"Set"),z=K(g,"WeakMap"),U=ne(D),G=ne(F),j=ne(B),V=ne(q),W=ne(z);function H(e,t){var n=ie(e)||re(e)?v(e.length,String):[],r=n.length,i=!!r;for(var s in e)!t&&!M.call(e,s)||i&&("length"==s||$(s,r))||n.push(s);return n}function J(e){return O.call(e)}function X(e){if(!ue(e)||ee(e))return!1;var t=ae(e)||w(e)?k:d;return t.test(ne(e))}function Z(e){if(!te(e))return R(e);var t=[];for(var n in Object(e))M.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Y(e){return function(t){var n=Q(t);return n==o?S(t):n==u?E(t):b(t,e(t))}}function K(e,t){var n=x(e,t);return X(n)?n:void 0}var Q=J;function $(e,t){return t=null==t?n:t,!!t&&("number"==typeof e||f.test(e))&&e>-1&&e%1==0&&e<t}function ee(e){return!!I&&I in e}function te(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||A;return e===n}function ne(e){if(null!=e){try{return L.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function re(e){return oe(e)&&M.call(e,"callee")&&(!N.call(e,"callee")||O.call(e)==r)}(D&&Q(new D(new ArrayBuffer(1)))!=h||F&&Q(new F)!=o||B&&Q(B.resolve())!=l||q&&Q(new q)!=u||z&&Q(new z)!=c)&&(Q=function(e){var t=O.call(e),n=t==a?e.constructor:void 0,r=n?ne(n):void 0;if(r)switch(r){case U:return h;case G:return o;case j:return l;case V:return u;case W:return c}return t});var ie=Array.isArray;function se(e){return null!=e&&le(e.length)&&!ae(e)}function oe(e){return ce(e)&&se(e)}function ae(e){var t=ue(e)?O.call(e):"";return t==i||t==s}function le(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function ue(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ce(e){return!!e&&"object"==typeof e}function he(e){return se(e)?H(e):Z(e)}var pe=Y(he);e.exports=pe}).call(this,n("c8ba"))},ff05:function(e,t,n){var r={xhr:n("3ede"),jquery:n("d735"),angular:n("e539")},i=n("2ef0");i.each(r,(function(e,t){"function"!==typeof e&&delete r[t]})),r.xhr?r._default="xhr":r.angular?r._default="angular":r._default="jquery",e.exports=r},ffd6:function(e,t,n){var r=n("3729"),i=n("1310"),s="[object Symbol]";function o(e){return"symbol"==typeof e||i(e)&&r(e)==s}e.exports=o}}]);